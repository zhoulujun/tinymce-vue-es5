!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("RichTextEditor",[],n):"object"==typeof exports?exports.RichTextEditor=n():t.RichTextEditor=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=61)}([function(t,n,e){(function(n,e){!function(){"use strict";var r=function(t){if(null===t)return"null";if(void 0===t)return"undefined";var n=typeof t;return"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},o=function(t){return{eq:t}},i=o((function(t,n){return t===n})),a=function(t){return o((function(n,e){if(n.length!==e.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!t.eq(n[o],e[o]))return!1;return!0}))},u=function(t,n){return function(t,n){return o((function(e,r){return t.eq(n(e),n(r))}))}(a(t),(function(t){return function(t,n){return Array.prototype.slice.call(t).sort(n)}(t,n)}))},c=function(t){return o((function(n,e){var r=Object.keys(n),o=Object.keys(e);if(!u(i).eq(r,o))return!1;for(var a=r.length,c=0;c<a;c++){var s=r[c];if(!t.eq(n[s],e[s]))return!1}return!0}))},s=o((function(t,n){if(t===n)return!0;var e=r(t);return e===r(n)&&(function(t){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(t)}(e)?t===n:"array"===e?a(s).eq(t,n):"object"===e&&c(s).eq(t,n))})),l=function(){},f=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(n.apply(null,e))}},d=function(t){return function(){return t}},m=function(t){return t};function p(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.concat(e);return t.apply(null,o)}}var g=function(t){return function(n){return!t(n)}},h=function(t){return function(){throw new Error(t)}},v=function(t){return t()},b=function(t){t()},y=d(!1),x=d(!0),w=function(){return C},C=function(){var t=function(t){return t.isNone()},n=function(t){return t()},e=function(t){return t};return{fold:function(t,n){return t()},is:y,isSome:y,isNone:x,getOr:e,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:e,orThunk:n,map:w,each:l,bind:w,exists:y,forall:x,filter:w,equals:t,equals_:t,toArray:function(){return[]},toString:d("none()")}}(),_=function(t){var n=d(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:x,isNone:y,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return _(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:C},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(y,(function(n){return e(t,n)}))}};return o},k={some:_,none:w,from:function(t){return null==t?C:_(t)}},S=function(t){return function(n){return r=typeof(e=n),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===t;var e,r}},A=function(t){return function(n){return typeof n===t}},O=function(t){return function(n){return t===n}},T=S("string"),E=S("object"),D=S("array"),z=O(null),M=A("boolean"),N=O(void 0),R=function(t){return null==t},B=function(t){return!R(t)},P=A("function"),I=A("number"),L=Array.prototype.slice,H=Array.prototype.indexOf,F=Array.prototype.push,V=function(t,n){return H.call(t,n)},j=function(t,n){return V(t,n)>-1},U=function(t,n){for(var e=0,r=t.length;e<r;e++){if(n(t[e],e))return!0}return!1},W=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},$=function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}},q=function(t,n){for(var e=t.length-1;e>=0;e--){n(t[e],e)}},G=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},K=function(t,n,e){return q(t,(function(t){e=n(e,t)})),e},X=function(t,n,e){return $(t,(function(t){e=n(e,t)})),e},Y=function(t,n){return function(t,n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r))return k.some(i);if(e(i,r))break}return k.none()}(t,n,y)},J=function(t,n){for(var e=0,r=t.length;e<r;e++){if(n(t[e],e))return k.some(e)}return k.none()},Q=function(t,n){return function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!D(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);F.apply(n,t[e])}return n}(W(t,n))},Z=function(t,n){for(var e=0,r=t.length;e<r;++e){if(!0!==n(t[e],e))return!1}return!0},tt=function(t){var n=L.call(t,0);return n.reverse(),n},nt=function(t,n){return G(t,(function(t){return!j(n,t)}))},et=function(t,n){return n>=0&&n<t.length?k.some(t[n]):k.none()},rt=function(t){return et(t,0)},ot=function(t){return et(t,t.length-1)},it=P(Array.from)?Array.from:function(t){return L.call(t)},at=Object.keys,ut=Object.hasOwnProperty,ct=function(t,n){for(var e=at(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}},st=function(t,n){return lt(t,(function(t,e){return{k:e,v:n(t,e)}}))},lt=function(t,n){var e={};return ct(t,(function(t,r){var o=n(t,r);e[o.k]=o.v})),e},ft=function(t){return function(n,e){t[e]=n}},dt=function(t,n,e,r){return ct(t,(function(t,o){(n(t,o)?e:r)(t,o)})),{}},mt=function(t,n){var e={},r={};return dt(t,n,ft(e),ft(r)),{t:e,f:r}},pt=function(t,n){var e={};return dt(t,n,ft(e),l),e},gt=function(t){return function(t,n){var e=[];return ct(t,(function(t,r){e.push(n(t,r))})),e}(t,(function(t){return t}))},ht=function(t,n){return vt(t,n)?k.from(t[n]):k.none()},vt=function(t,n){return ut.call(t,n)},bt=function(t,n){return vt(t,n)&&void 0!==t[n]&&null!==t[n]},yt=Array.isArray,xt=function(t,n,e){var r,o;if(!t)return!1;if(e=e||t,void 0!==t.length){for(r=0,o=t.length;r<o;r++)if(!1===n.call(e,t[r],r,t))return!1}else for(r in t)if(t.hasOwnProperty(r)&&!1===n.call(e,t[r],r,t))return!1;return!0},wt=function(t,n){var e=[];return xt(t,(function(r,o){e.push(n(r,o,t))})),e},Ct=function(t,n){var e=[];return xt(t,(function(r,o){n&&!n(r,o,t)||e.push(r)})),e},_t=function(t,n){if(t)for(var e=0,r=t.length;e<r;e++)if(t[e]===n)return e;return-1},kt=function(t,n,e,r){for(var o=N(e)?t[0]:e,i=0;i<t.length;i++)o=n.call(r,o,t[i],i);return o},St=function(t,n,e){var r,o;for(r=0,o=t.length;r<o;r++)if(n.call(e,t[r],r,t))return r;return-1},At=function(t){return t[t.length-1]},Ot=function(){return(Ot=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function Tt(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var Et=function(){return Dt(0,0)},Dt=function(t,n){return{major:t,minor:n}},zt={nu:Dt,detect:function(t,n){var e=String(n).toLowerCase();return 0===t.length?Et():function(t,n){var e=function(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(r.test(n))return r}}(t,n);if(!e)return{major:0,minor:0};var r=function(t){return Number(n.replace(e,"$"+t))};return Dt(r(1),r(2))}(t,e)},unknown:Et},Mt=function(t,n){var e=String(n).toLowerCase();return Y(t,(function(t){return t.search(e)}))},Nt=function(t,n){return Mt(t,n).map((function(t){var e=zt.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},Rt=function(t,n){return Mt(t,n).map((function(t){var e=zt.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},Bt=function(t,n){return-1!==t.indexOf(n)},Pt=function(t,n){return function(t,n,e){return""===n||t.length>=n.length&&t.substr(e,e+n.length)===n}(t,n,0)},It=function(t){return function(n){return n.replace(t,"")}},Lt=It(/^\s+|\s+$/g),Ht=It(/^\s+/g),Ft=It(/\s+$/g),Vt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jt=function(t){return function(n){return Bt(n,t)}},Ut=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Bt(t,"edge/")&&Bt(t,"chrome")&&Bt(t,"safari")&&Bt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Vt],search:function(t){return Bt(t,"chrome")&&!Bt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Bt(t,"msie")||Bt(t,"trident")}},{name:"Opera",versionRegexes:[Vt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jt("firefox")},{name:"Safari",versionRegexes:[Vt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Bt(t,"safari")||Bt(t,"mobile/"))&&Bt(t,"applewebkit")}}],Wt=[{name:"Windows",search:jt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Bt(t,"iphone")||Bt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:jt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jt("linux"),versionRegexes:[]},{name:"Solaris",search:jt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:jt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$t={browsers:d(Ut),oses:d(Wt)},qt=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Gt={unknown:function(){return qt({current:void 0,version:zt.unknown()})},nu:qt,edge:d("Edge"),chrome:d("Chrome"),ie:d("IE"),opera:d("Opera"),firefox:d("Firefox"),safari:d("Safari")},Kt=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},Xt={unknown:function(){return Kt({current:void 0,version:zt.unknown()})},nu:Kt,windows:d("Windows"),ios:d("iOS"),android:d("Android"),linux:d("Linux"),osx:d("OSX"),solaris:d("Solaris"),freebsd:d("FreeBSD"),chromeos:d("ChromeOS")},Yt=function(t,n){var e=$t.browsers(),r=$t.oses(),o=Nt(e,t).fold(Gt.unknown,Gt.nu),i=Rt(r,t).fold(Xt.unknown,Xt.nu),a=function(t,n,e,r){var o=t.isiOS()&&!0===/ipad/i.test(e),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(e),f=!s&&!c&&!l;return{isiPad:d(o),isiPhone:d(i),isTablet:d(c),isPhone:d(s),isTouch:d(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:d(l),isDesktop:d(f)}}(i,o,t,n);return{browser:o,os:i,deviceType:a}},Jt=function(t){return window.matchMedia(t).matches},Qt=function(t){var n,e=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e||(e=!0,n=t.apply(null,r)),n}}((function(){return Yt(navigator.userAgent,Jt)})),Zt=function(){return Qt()},tn=navigator.userAgent,nn=Zt(),en=nn.browser,rn=nn.os,on=nn.deviceType,an=/WebKit/.test(tn)&&!en.isEdge(),un="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,cn=-1!==tn.indexOf("Windows Phone"),sn={opera:en.isOpera(),webkit:an,ie:!(!en.isIE()&&!en.isEdge())&&en.version.major,gecko:en.isFirefox(),mac:rn.isOSX()||rn.isiOS(),iOS:on.isiPad()||on.isiPhone(),android:rn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:en.isIE()?document.documentMode||7:10,fileApi:un,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!en.isIE(),desktop:on.isDesktop(),windowsPhone:cn,browser:{current:en.current,version:en.version,isChrome:en.isChrome,isEdge:en.isEdge,isFirefox:en.isFirefox,isIE:en.isIE,isOpera:en.isOpera,isSafari:en.isSafari},os:{current:rn.current,version:rn.version,isAndroid:rn.isAndroid,isChromeOS:rn.isChromeOS,isFreeBSD:rn.isFreeBSD,isiOS:rn.isiOS,isLinux:rn.isLinux,isOSX:rn.isOSX,isSolaris:rn.isSolaris,isWindows:rn.isWindows},deviceType:{isDesktop:on.isDesktop,isiPad:on.isiPad,isiPhone:on.isiPhone,isPhone:on.isPhone,isTablet:on.isTablet,isTouch:on.isTouch,isWebView:on.isWebView}},ln=/^\s*|\s*$/g,fn=function(t){return null==t?"":(""+t).replace(ln,"")},dn=function(t,n){return n?!("array"!==n||!yt(t))||typeof t===n:void 0!==t},mn=function(t,n,e,r){r=r||this,t&&(e&&(t=t[e]),xt(t,(function(t,o){if(!1===n.call(r,t,o,e))return!1;mn(t,n,e,r)})))},pn={trim:fn,isArray:yt,is:dn,toArray:function(t){if(yt(t))return t;for(var n=[],e=0,r=t.length;e<r;e++)n[e]=t[e];return n},makeMap:function(t,n,e){var r;for(n=n||",","string"==typeof(t=t||[])&&(t=t.split(n)),e=e||{},r=t.length;r--;)e[t[r]]={};return e},each:xt,map:wt,grep:Ct,inArray:_t,hasOwn:function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},extend:function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0;r<n.length;r++){var o=n[r];for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];void 0!==a&&(t[i]=a)}}return t},create:function(t,n,e){var r,o,i,a=0,u=(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t))[3].match(/(^|\.)(\w+)$/i)[2],c=this.createNS(t[3].replace(/\.\w+$/,""),e);if(!c[u]){if("static"===t[2])return c[u]=n,void(this.onCreate&&this.onCreate(t[2],t[3],c[u]));n[u]||(n[u]=l,a=1),c[u]=n[u],this.extend(c[u].prototype,n),t[5]&&(r=this.resolve(t[5]).prototype,o=t[5].match(/\.(\w+)$/i)[1],i=c[u],c[u]=a?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[u].prototype[u]=c[u],this.each(r,(function(t,n){c[u].prototype[n]=r[n]})),this.each(n,(function(t,n){r[n]?c[u].prototype[n]=function(){return this.parent=r[n],t.apply(this,arguments)}:n!==u&&(c[u].prototype[n]=t)}))),this.each(n.static,(function(t,n){c[u][n]=t}))}},walk:mn,createNS:function(t,n){var e,r;for(n=n||window,t=t.split("."),e=0;e<t.length;e++)n[r=t[e]]||(n[r]={}),n=n[r];return n},resolve:function(t,n){var e,r;for(n=n||window,e=0,r=(t=t.split(".")).length;e<r&&(n=n[t[e]]);e++);return n},explode:function(t,n){return!t||dn(t,"array")?t:wt(t.split(n||","),fn)},_addCacheSuffix:function(t){var n=sn.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}},gn=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},hn={fromHtml:function(t,n){var e=(n||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||e.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return gn(e.childNodes[0])},fromTag:function(t,n){var e=(n||document).createElement(t);return gn(e)},fromText:function(t,n){var e=(n||document).createTextNode(t);return gn(e)},fromDom:gn,fromPoint:function(t,n,e){return k.from(t.dom.elementFromPoint(n,e)).map(gn)}},vn=function(t,n){var e=[],r=function(t){return e.push(t),n(t)},o=n(t);do{o=o.bind(r)}while(o.isSome());return e},bn=function(t,n){var e=t.dom;if(1!==e.nodeType)return!1;var r=e;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},yn=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},xn=function(t,n){return t.dom===n.dom},wn=function(t,n){return e=t.dom,r=n.dom,function(t,n,e){return 0!=(t.compareDocumentPosition(n)&e)}(e,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var e,r},Cn=function(t,n){return Zt().browser.isIE()?wn(t,n):function(t,n){var e=t.dom,r=n.dom;return e!==r&&e.contains(r)}(t,n)},_n=("undefined"!=typeof window?window:Function("return this;")(),function(t){return t.dom.nodeName.toLowerCase()}),kn=function(t){return t.dom.nodeType},Sn=function(t){return function(n){return kn(n)===t}},An=Sn(1),On=Sn(3),Tn=Sn(9),En=Sn(11),Dn=function(t){return hn.fromDom(t.dom.ownerDocument)},zn=function(t){return Tn(t)?t:Dn(t)},Mn=function(t){return hn.fromDom(zn(t).dom.defaultView)},Nn=function(t){return k.from(t.dom.parentNode).map(hn.fromDom)},Rn=function(t){return k.from(t.dom.previousSibling).map(hn.fromDom)},Bn=function(t){return k.from(t.dom.nextSibling).map(hn.fromDom)},Pn=function(t){return tt(vn(t,Rn))},In=function(t){return vn(t,Bn)},Ln=function(t){return W(t.dom.childNodes,hn.fromDom)},Hn=function(t,n){var e=t.dom.childNodes;return k.from(e[n]).map(hn.fromDom)},Fn=function(t){return Hn(t,0)},Vn=function(t){return Hn(t,t.dom.childNodes.length-1)},jn=function(t){return En(t)&&B(t.dom.host)},Un=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),Wn=d(Un),$n=Un?function(t){return hn.fromDom(t.dom.getRootNode())}:zn,qn=function(t){return jn(t)?t:function(t){var n=t.dom.head;if(null==n)throw new Error("Head is not available yet");return hn.fromDom(n)}(zn(t))},Gn=function(t){return hn.fromDom(t.dom.host)},Kn=function(t){return B(t.dom.shadowRoot)},Xn=function(t,n){Nn(t).each((function(e){e.dom.insertBefore(n.dom,t.dom)}))},Yn=function(t,n){Bn(t).fold((function(){Nn(t).each((function(t){Qn(t,n)}))}),(function(t){Xn(t,n)}))},Jn=function(t,n){Fn(t).fold((function(){Qn(t,n)}),(function(e){t.dom.insertBefore(n.dom,e.dom)}))},Qn=function(t,n){t.dom.appendChild(n.dom)},Zn=function(t,n){$(n,(function(n){Qn(t,n)}))},te=function(t){t.dom.textContent="",$(Ln(t),(function(t){ne(t)}))},ne=function(t){var n=t.dom;null!==n.parentNode&&n.parentNode.removeChild(n)},ee=function(t){var n,e=Ln(t);e.length>0&&(n=t,$(e,(function(t){Xn(n,t)}))),ne(t)},re=function(t){var n=On(t)?t.dom.parentNode:t.dom;if(null==n||null===n.ownerDocument)return!1;var e,r,o=n.ownerDocument;return function(t){var n=$n(t);return jn(n)?k.some(n):k.none()}(hn.fromDom(n)).fold((function(){return o.body.contains(n)}),(e=re,r=Gn,function(t){return e(r(t))}))},oe=function(t,n){return{left:t,top:n,translate:function(e,r){return oe(t+e,n+r)}}},ie=oe,ae=function(t,n){return void 0!==t?t:void 0!==n?n:0},ue=function(t){var n=t.dom,e=n.ownerDocument.body;return e===n?ie(e.offsetLeft,e.offsetTop):re(t)?function(t){var n=t.getBoundingClientRect();return ie(n.left,n.top)}(n):ie(0,0)},ce=function(t){var n=void 0!==t?t.dom:document,e=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return ie(e,r)},se=function(t,n,e){var r=(void 0!==e?e.dom:document).defaultView;r&&r.scrollTo(t,n)},le=function(t,n){Zt().browser.isSafari()&&P(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(n)},fe=function(t,n,e,r){return{x:t,y:n,width:e,height:r,right:t+e,bottom:n+r}},de=function(t){var n=void 0===t?window:t,e=n.document,r=ce(hn.fromDom(e));return function(t){var n=void 0===t?window:t;return k.from(n.visualViewport)}(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,o=t.clientHeight;return fe(r.left,r.top,e,o)}),(function(t){return fe(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},me=function(t){return function(n){return!!n&&n.nodeType===t}},pe=function(t){return!!t&&!Object.getPrototypeOf(t)},ge=me(1),he=function(t){var n=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();return j(n,e)}return!1}},ve=function(t,n){var e=n.toLowerCase().split(" ");return function(n){var r;if(ge(n))for(r=0;r<e.length;r++){var o=n.ownerDocument.defaultView.getComputedStyle(n,null);if((o?o.getPropertyValue(t):null)===e[r])return!0}return!1}},be=function(t){return function(n){return ge(n)&&n.hasAttribute(t)}},ye=function(t){return ge(t)&&t.hasAttribute("data-mce-bogus")},xe=function(t){return ge(t)&&"TABLE"===t.tagName},we=function(t){return function(n){if(ge(n)){if(n.contentEditable===t)return!0;if(n.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Ce=he(["textarea","input"]),_e=me(3),ke=me(8),Se=me(9),Ae=me(11),Oe=he(["br"]),Te=he(["img"]),Ee=we("true"),De=we("false"),ze=he(["td","th"]),Me=he(["video","audio","object","embed"]),Ne=function(t){return void 0!==t.style&&P(t.style.getPropertyValue)},Re=function(t,n,e){if(!(T(e)||M(e)||I(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")},Be=function(t,n,e){Re(t.dom,n,e)},Pe=function(t,n){var e=t.dom;ct(n,(function(t,n){Re(e,n,t)}))},Ie=function(t,n){var e=t.dom.getAttribute(n);return null===e?void 0:e},Le=function(t,n){return k.from(Ie(t,n))},He=function(t,n){t.dom.removeAttribute(n)},Fe=function(t,n){var e=t.dom;ct(n,(function(t,n){!function(t,n,e){if(!T(e))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",e,":: Element ",t),new Error("CSS value must be a string: "+e);Ne(t)&&t.style.setProperty(n,e)}(e,n,t)}))},Ve=function(t,n){var e=t.dom,r=window.getComputedStyle(e).getPropertyValue(n);return""!==r||re(t)?r:je(e,n)},je=function(t,n){return Ne(t)?t.style.getPropertyValue(n):""},Ue=function(t,n){var e=t.dom,r=je(e,n);return k.from(r).filter((function(t){return t.length>0}))},We=function(t){var n={},e=t.dom;if(Ne(e))for(var r=0;r<e.style.length;r++){var o=e.style.item(r);n[o]=e.style[o]}return n},$e=Zt().browser,qe=function(t){return Y(t,An)},Ge=function(t,n){return t.children&&j(t.children,n)},Ke=function(t,n,e){var r,o,i=0,a=0,u=t.ownerDocument;if(e=e||t,n){if(e===t&&n.getBoundingClientRect&&"static"===Ve(hn.fromDom(t),"position"))return{x:i=(o=n.getBoundingClientRect()).left+(u.documentElement.scrollLeft||t.scrollLeft)-u.documentElement.clientLeft,y:a=o.top+(u.documentElement.scrollTop||t.scrollTop)-u.documentElement.clientTop};for(r=n;r&&r!==e&&r.nodeType&&!Ge(r,e);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=n.parentNode;r&&r!==e&&r.nodeType&&!Ge(r,e);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=function(t){return $e.isFirefox()&&"table"===_n(t)?qe(Ln(t)).filter((function(t){return"caption"===_n(t)})).bind((function(t){return qe(In(t)).map((function(n){var e=n.dom.offsetTop,r=t.dom.offsetTop,o=t.dom.offsetHeight;return e<=r?-o:0}))})).getOr(0):0}(hn.fromDom(n))}return{x:i,y:a}},Xe={},Ye={exports:Xe};!function(t,e,r,o){!function(o){if("object"==typeof e&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(n,e,r){function i(u,c){if(!e[u]){if(!n[u]){var s="function"==typeof o&&o;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=e[u]={exports:{}};n[u][0].call(f.exports,(function(t){return i(n[u][1][t]||t)}),f,f.exports,t,n,e,r)}return e[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n,e){var r,o,i=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(n){try{return r.call(null,t,0)}catch(n){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var s,l=[],f=!1,d=-1;function m(){f&&s&&(f=!1,s.length?l=s.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=c(m);f=!0;for(var n=l.length;n;){for(s=l,l=[];++d<n;)s&&s[d].run();d=-1,n=l.length}s=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(n){try{return o.call(null,t)}catch(n){return o.call(this,t)}}}(t)}}function g(t,n){this.fun=t,this.array=n}function h(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];l.push(new g(t,n)),1!==l.length||f||c(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,n,e){(function(t){!function(e){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void c(n.promise,t)}u(n.promise,r)}else(1===t._state?u:c)(n.promise,t._value)}))):t._deferreds.push(n)}function u(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof i)return t._state=3,t._value=n,void s(t);if("function"==typeof e)return void f((r=e,o=n,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=n,s(t)}catch(n){c(t,n)}var r,o}function c(t,n){t._state=2,t._value=n,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var n=0,e=t._deferreds.length;n<e;n++)a(t,t._deferreds[n]);t._deferreds=null}function l(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function f(t,n){var e=!1;try{t((function(t){e||(e=!0,u(n,t))}),(function(t){e||(e=!0,c(n,t))}))}catch(t){if(e)return;e=!0,c(n,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,n){var e=new this.constructor(o);return a(this,new l(t,n,e)),e},i.all=function(t){var n=Array.prototype.slice.call(t);return new i((function(t,e){if(0===n.length)return t([]);var r=n.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),e)}n[i]=a,0==--r&&t(n)}catch(t){e(t)}}for(var i=0;i<n.length;i++)o(i,n[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(n){n(t)}))},i.reject=function(t){return new i((function(n,e){e(t)}))},i.race=function(t){return new i((function(n,e){for(var r=0,o=t.length;r<o;r++)t[r].then(n,e)}))},i._immediateFn="function"==typeof t?function(n){t(n)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==n&&n.exports?n.exports=i:e.Promise||(e.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,n,e){(function(n,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function s(t,n){this._id=t,this._clearFn=n}e.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),n))},e.setImmediate="function"==typeof n?n:function(t){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o((function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))})),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,n,e){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();n.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,Xe,Ye,void 0);var Je=Ye.exports.boltExport,Qe=function(t){var n=k.none(),e=[],r=function(t){o()?a(t):e.push(t)},o=function(){return n.isSome()},i=function(t){$(t,a)},a=function(t){n.each((function(n){setTimeout((function(){t(n)}),0)}))};return t((function(t){o()||(n=k.some(t),i(e),e=[])})),{get:r,map:function(t){return Qe((function(n){r((function(e){n(t(e))}))}))},isReady:o}},Ze={nu:Qe,pure:function(t){return Qe((function(n){n(t)}))}},tr=function(t){setTimeout((function(){throw t}),0)},nr=function(t){var n=function(n){t().then(n,tr)};return{map:function(n){return nr((function(){return t().then(n)}))},bind:function(n){return nr((function(){return t().then((function(t){return n(t).toPromise()}))}))},anonBind:function(n){return nr((function(){return t().then((function(){return n.toPromise()}))}))},toLazy:function(){return Ze.nu(n)},toCached:function(){var n=null;return nr((function(){return null===n&&(n=t()),n}))},toPromise:t,get:n}},er=function(t){return nr((function(){return new Je(t)}))},rr=function(t,n){return n((function(n){var e=[],r=0;0===t.length?n([]):$(t,(function(o,i){o.get(function(o){return function(i){e[o]=i,++r>=t.length&&n(e)}}(i))}))}))},or=function(t){return{is:function(n){return t===n},isValue:x,isError:y,getOr:d(t),getOrThunk:d(t),getOrDie:d(t),or:function(n){return or(t)},orThunk:function(n){return or(t)},fold:function(n,e){return e(t)},map:function(n){return or(n(t))},mapError:function(n){return or(t)},each:function(n){n(t)},bind:function(n){return n(t)},exists:function(n){return n(t)},forall:function(n){return n(t)},toOptional:function(){return k.some(t)}}},ir=function(t){return{is:y,isValue:y,isError:x,getOr:m,getOrThunk:function(t){return t()},getOrDie:function(){return h(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(n,e){return n(t)},map:function(n){return ir(t)},mapError:function(n){return ir(n(t))},each:l,bind:function(n){return ir(t)},exists:y,forall:x,toOptional:k.none}},ar={value:or,error:ir,fromOption:function(t,n){return t.fold((function(){return ir(n)}),or)}},ur=function(t){if(!D(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],e={};return $(t,(function(r,o){var i=at(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==e[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!D(u))throw new Error("case arguments must be an array");n.push(a),e[a]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+i);var c=function(t){var r=at(t);if(n.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+r.join(","));if(!Z(n,(function(t){return j(r,t)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,e)};return{fold:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var i=n[o];return i.apply(null,e)},match:c,log:function(t){console.log(t,{constructors:n,constructor:a,params:e})}}}})),e},cr=(ur([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){return t.fold(m,m)});function sr(t,n,e,r,o){return t(e,r)?k.some(e):P(o)&&o(e)?k.none():n(e,r,o)}var lr,fr,dr,mr,pr,gr,hr,vr,br,yr,xr,wr,Cr,_r,kr,Sr,Ar,Or,Tr,Er,Dr=function(t,n,e){for(var r=t.dom,o=P(e)?e:y;r.parentNode;){r=r.parentNode;var i=hn.fromDom(r);if(n(i))return k.some(i);if(o(i))break}return k.none()},zr=function(t,n,e){return sr((function(t,n){return n(t)}),Dr,t,n,e)},Mr=function(t,n){return Y(t.dom.childNodes,(function(t){return n(hn.fromDom(t))})).map(hn.fromDom)},Nr=function(t,n,e){return Dr(t,(function(t){return bn(t,n)}),e)},Rr=function(t,n){return function(t,n){var e=void 0===n?document:n.dom;return yn(e)?k.none():k.from(e.querySelector(t)).map(hn.fromDom)}(n,t)},Br=function(t,n,e){return sr((function(t,n){return bn(t,n)}),Nr,t,n,e)},Pr=window.Promise?window.Promise:function(){var t=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.apply(n,e)}},n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(n,t(a,this),t(u,this))},o=r.immediateFn||"function"==typeof e&&e||function(t){return setTimeout(t,1)};function i(t){var n=this;null!==this._state?o((function(){var e=n._state?t.onFulfilled:t.onRejected;if(null!==e){var r;try{r=e(n._value)}catch(n){return void t.reject(n)}t.resolve(r)}else(n._state?t.resolve:t.reject)(n._value)})):this._deferreds.push(t)}function a(n){try{if(n===this)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if("function"==typeof e)return void l(t(e,n),t(a,this),t(u,this))}this._state=!0,this._value=n,c.call(this)}catch(t){u.call(this,t)}}function u(t){this._state=!1,this._value=t,c.call(this)}function c(){for(var t=0,n=this._deferreds.length;t<n;t++)i.call(this,this._deferreds[t]);this._deferreds=null}function s(t,n,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.resolve=e,this.reject=r}var l=function(t,n,e){var r=!1;try{t((function(t){r||(r=!0,n(t))}),(function(t){r||(r=!0,e(t))}))}catch(t){if(r)return;r=!0,e(t)}};return r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,n){var e=this;return new r((function(r,o){i.call(e,new s(t,n,r,o))}))},r.all=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=Array.prototype.slice.call(1===t.length&&n(t[0])?t[0]:t);return new r((function(t,n){if(0===o.length)return t([]);for(var e=o.length,r=function(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){r(i,t)}),n)}o[i]=a,0==--e&&t(o)}catch(t){n(t)}},i=0;i<o.length;i++)r(i,o[i])}))},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r((function(n){n(t)}))},r.reject=function(t){return new r((function(n,e){e(t)}))},r.race=function(t){return new r((function(n,e){for(var r=0,o=t.length;r<o;r++)t[r].then(n,e)}))},r}(),Ir=function(t,n){return"number"!=typeof n&&(n=0),setTimeout(t,n)},Lr=function(t,n){return"number"!=typeof n&&(n=1),setInterval(t,n)},Hr=function(t,n){var e,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(e),e=Ir((function(){t.apply(this,r)}),n)};return r.stop=function(){clearTimeout(e)},r},Fr={requestAnimationFrame:function(t,n){lr?lr.then(t):lr=new Pr((function(t){n||(n=document.body),function(t,n){for(var e=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!e;o++)e=window[r[o]+"RequestAnimationFrame"];e||(e=function(t){window.setTimeout(t,0)}),e(t,n)}(t,n)})).then(t)},setTimeout:Ir,setInterval:Lr,setEditorTimeout:function(t,n,e){return Ir((function(){t.removed||n()}),e)},setEditorInterval:function(t,n,e){var r=Lr((function(){t.removed?clearInterval(r):n()}),e);return r},debounce:Hr,throttle:Hr,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},Vr=function(t,n){void 0===n&&(n={});var e=0,r={},o=hn.fromDom(t),i=zn(o),a=n.maxLoadTime||5e3,u=function(u,c,s){var l,f=pn._addCacheSuffix(u),d=function(t){return ht(r,t).getOrThunk((function(){return{id:"mce-u"+e++,passed:[],failed:[],count:0}}))}(f);r[f]=d,d.count++;var m=function(t,n){for(var e=t.length;e--;)t[e]();d.status=n,d.passed=[],d.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},p=function(){return m(d.passed,2)},g=function(){return m(d.failed,3)},h=function(){var n;n=h,function(){for(var n=t.styleSheets,e=n.length;e--;){var r=n[e].ownerNode;if(r&&r.id===l.id)return p(),!0}return!1}()||(Date.now()-y<a?Fr.setTimeout(n):g())};if(c&&d.passed.push(c),s&&d.failed.push(s),1!==d.status)if(2!==d.status)if(3!==d.status){d.status=1;var v=hn.fromTag("link",i.dom);Pe(v,{rel:"stylesheet",type:"text/css",id:d.id});var b,y=Date.now();n.contentCssCors&&Be(v,"crossOrigin","anonymous"),n.referrerPolicy&&Be(v,"referrerpolicy",n.referrerPolicy),(l=v.dom).onload=h,l.onerror=g,b=v,Qn(qn(o),b),Be(v,"href",f)}else g();else p()},c=function(t){return er((function(n){u(t,f(n,d(ar.value(t))),f(n,d(ar.error(t))))}))},s=function(t){var n=pn._addCacheSuffix(t);ht(r,n).each((function(t){var e,i;0===--t.count&&(delete r[n],e=t.id,i=qn(o),Rr(i,"#"+e).each(ne))}))};return{load:u,loadAll:function(t,n,e){var r;(r=W(t,c),rr(r,er)).get((function(t){var r=function(t,n){for(var e=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(n(a,o)?e:r).push(a)}return{pass:e,fail:r}}(t,(function(t){return t.isValue()}));r.fail.length>0?e(r.fail.map(cr)):n(r.pass.map(cr))}))},unload:s,unloadAll:function(t){$(t,(function(t){s(t)}))},_setReferrerPolicy:function(t){n.referrerPolicy=t}}},jr=function(){var t=new WeakMap;return{forElement:function(n,e){var r=$n(n).dom;return k.from(t.get(r)).getOrThunk((function(){var n=Vr(r,e);return t.set(r,n),n}))}}}(),Ur=function(){function t(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,n,e,r){var o,i;if(t){if(!r&&t[n])return t[n];if(t!==this.rootNode){if(o=t[e])return o;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[e])return o}}},t.prototype.findPreviousNode=function(t,n,e,r){var o,i,a;if(t){if(o=t[e],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[n];a;a=a[n])if(!a[n])return a;return o}if((i=t.parentNode)&&i!==this.rootNode)return i}},t}(),Wr=function(t){var n;return function(e){return(n=n||function(t,n){for(var e={},r=0,o=t.length;r<o;r++){var i=t[r];e[String(i)]=n(i,r)}return e}(t,x)).hasOwnProperty(_n(e))}},$r=Wr(["h1","h2","h3","h4","h5","h6"]),qr=Wr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Gr=function(t){return An(t)&&!qr(t)},Kr=function(t){return An(t)&&"br"===_n(t)},Xr=Wr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Yr=Wr(["ul","ol","dl"]),Jr=Wr(["li","dd","dt"]),Qr=Wr(["thead","tbody","tfoot"]),Zr=Wr(["td","th"]),to=Wr(["pre","script","textarea","style"]),no=function(t){return"\ufeff"===t},eo=function(t){return t.replace(/\uFEFF/g,"")},ro=ge,oo=_e,io=function(t){return oo(t)&&(t=t.parentNode),ro(t)&&t.hasAttribute("data-mce-caret")},ao=function(t){return oo(t)&&no(t.data)},uo=function(t){return io(t)||ao(t)},co=function(t){return t.firstChild!==t.lastChild||!Oe(t.firstChild)},so=function(t){var n=t.container();return!!_e(n)&&("\ufeff"===n.data.charAt(t.offset())||t.isAtStart()&&ao(n.previousSibling))},lo=function(t){var n=t.container();return!!_e(n)&&("\ufeff"===n.data.charAt(t.offset()-1)||t.isAtEnd()&&ao(n.nextSibling))},fo=function(t,n,e){var r,o=n.ownerDocument.createElement(t);o.setAttribute("data-mce-caret",e?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(((r=document.createElement("br")).setAttribute("data-mce-bogus","1"),r));var i=n.parentNode;return e?i.insertBefore(o,n):n.nextSibling?i.insertBefore(o,n.nextSibling):i.appendChild(o),o},mo=function(t){return oo(t)&&"\ufeff"===t.data[0]},po=function(t){return oo(t)&&"\ufeff"===t.data[t.data.length-1]},go=function(t){return t&&t.hasAttribute("data-mce-caret")?(n=t.getElementsByTagName("br"),e=n[n.length-1],ye(e)&&e.parentNode.removeChild(e),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var n,e},ho=Ee,vo=De,bo=Oe,yo=_e,xo=he(["script","style","textarea"]),wo=he(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Co=he(["table"]),_o=uo,ko=function(t){return!_o(t)&&(yo(t)?!xo(t.parentNode):wo(t)||bo(t)||Co(t)||So(t))},So=function(t){return!1===function(t){return ge(t)&&"true"===t.getAttribute("unselectable")}(t)&&vo(t)},Ao=function(t,n){return ko(t)&&function(t,n){for(t=t.parentNode;t&&t!==n;t=t.parentNode){if(So(t))return!1;if(ho(t))return!0}return!0}(t,n)},Oo=/^[ \t\r\n]*$/,To=function(t){return Oo.test(t)},Eo=function(t,n){var e,r,o,i=hn.fromDom(n),a=hn.fromDom(t);return e=a,r="pre,code",o=p(xn,i),Nr(e,r,o).isSome()},Do=function(t,n){return ko(t)&&!1===function(t,n){return _e(t)&&To(t.data)&&!1===Eo(t,n)}(t,n)||function(t){return ge(t)&&"A"===t.nodeName&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id"))}(t)||zo(t)},zo=be("data-mce-bookmark"),Mo=be("data-mce-bogus"),No=(fr="data-mce-bogus",dr="all",function(t){return ge(t)&&t.getAttribute(fr)===dr}),Ro=function(t,n){return void 0===n&&(n=!0),function(t,n){var e,r=0;if(Do(t,t))return!1;if(!(e=t.firstChild))return!0;var o=new Ur(e,t);do{if(n){if(No(e)){e=o.next(!0);continue}if(Mo(e)){e=o.next();continue}}if(Oe(e))r++,e=o.next();else{if(Do(e,t))return!1;e=o.next()}}while(e);return r<=1}(t.dom,n)},Bo=function(t,n){return B(t)&&(Do(t,n)||Gr(hn.fromDom(t)))},Po=function(t){return function(t){return"span"===t.nodeName.toLowerCase()}(t)&&"bookmark"===t.getAttribute("data-mce-type")},Io=function(t,n){return _e(t)&&t.data.length>0&&function(t,n){var e=new Ur(t,n).prev(!1),r=new Ur(t,n).next(!1),o=N(e)||Bo(e,n),i=N(r)||Bo(r,n);return o&&i}(t,n)},Lo=function(t,n,e){var r=e||n;if(ge(n)&&Po(n))return n;for(var o=n.childNodes,i=o.length-1;i>=0;i--)Lo(t,o[i],r);if(ge(n)){var a=n.childNodes;1===a.length&&Po(a[0])&&n.parentNode.insertBefore(a[0],n)}return function(t){return Ae(t)||Se(t)}(n)||Do(n,r)||function(t){return!!ge(t)&&t.childNodes.length>0}(n)||Io(n,r)||t.remove(n),n},Ho=pn.makeMap,Fo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jo=/[<>&\"\']/g,Uo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Wo={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},$o={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},qo={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Go=function(t,n){var e,r,o,i={};if(t){for(t=t.split(","),n=n||10,e=0;e<t.length;e+=2)r=String.fromCharCode(parseInt(t[e],n)),$o[r]||(o="&"+t[e+1]+";",i[r]=o,i[o]=r);return i}},Ko=Go("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Xo=function(t,n){return t.replace(n?Fo:Vo,(function(t){return $o[t]||t}))},Yo=function(t,n){return t.replace(n?Fo:Vo,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":$o[t]||"&#"+t.charCodeAt(0)+";"}))},Jo=function(t,n,e){return e=e||Ko,t.replace(n?Fo:Vo,(function(t){return $o[t]||e[t]||t}))},Qo={encodeRaw:Xo,encodeAllRaw:function(t){return(""+t).replace(jo,(function(t){return $o[t]||t}))},encodeNumeric:Yo,encodeNamed:Jo,getEncodeFunc:function(t,n){var e=Go(n)||Ko,r=Ho(t.replace(/\+/g,","));return r.named&&r.numeric?function(t,n){return t.replace(n?Fo:Vo,(function(t){return void 0!==$o[t]?$o[t]:void 0!==e[t]?e[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:r.named?n?function(t,n){return Jo(t,n,e)}:Jo:r.numeric?Yo:Xo},decode:function(t){return t.replace(Uo,(function(t,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):Wo[n]||String.fromCharCode(n):qo[t]||Ko[t]||function(t){var n=hn.fromTag("div").dom;return n.innerHTML=t,n.textContent||n.innerText||t}(t)}))}},Zo={},ti={},ni=pn.makeMap,ei=pn.each,ri=pn.extend,oi=pn.explode,ii=pn.inArray,ai=function(t,n){return(t=pn.trim(t))?t.split(n||" "):[]},ui=function(t,n){var e;return t&&(e={},"string"==typeof t&&(t={"*":t}),ei(t,(function(t,r){e[r]=e[r.toUpperCase()]="map"===n?ni(t,/[, ]/):oi(t,/[, ]/)}))),e},ci=function(t){var n={},e={},r=[],o={},i={},a=function(n,e,r){var o=t[n];return o?o=ni(o,/[, ]/,ni(o.toUpperCase(),/[, ]/)):(o=Zo[n])||(o=ni(e," ",ni(e.toUpperCase()," ")),o=ri(o,r),Zo[n]=o),o},u=function(t){var n,e,r,o,i,a,u={},c=function(t,e,r){var o,i,a,c=function(t,n){var e,r,o={};for(e=0,r=t.length;e<r;e++)o[t[e]]=n||{};return o};e=e||"","string"==typeof(r=r||[])&&(r=ai(r));var s=ai(t);for(o=s.length;o--;)a={attributes:c(i=ai([n,e].join(" "))),attributesOrder:i,children:c(r,ti)},u[s[o]]=a},s=function(t,n){var e,r,o,i,a=ai(t);e=a.length;for(var c=ai(n);e--;)for(r=u[a[e]],o=0,i=c.length;o<i;o++)r.attributes[c[o]]={},r.attributesOrder.push(c[o])};return Zo[t]?Zo[t]:(n="id accesskey class dir lang style tabindex title role",e="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",e+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(n+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),ei(ai(a),(function(t){c(t,"",r)})),e=[e,i="center dir isindex noframes"].join(" "),o=[e,r].join(" "),ei(ai(i),(function(t){c(t,"",o)}))),o=o||[e,r].join(" "),c("html","manifest","head body"),c("head","","base command link meta noscript script style title"),c("title hr noscript br"),c("base","href target"),c("link","href rel media hreflang type sizes hreflang"),c("meta","name http-equiv content charset"),c("style","media type scoped"),c("script","src async defer type charset"),c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),c("address dt dd div caption","",o),c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),c("blockquote","cite",o),c("ol","reversed start type","li"),c("ul","","li"),c("li","value",o),c("dl","","dt dd"),c("a","href target rel media hreflang type",r),c("q","cite",r),c("ins del","cite datetime",o),c("img","src sizes srcset alt usemap ismap width height"),c("iframe","src name width height",o),c("embed","src type width height"),c("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),c("param","name value"),c("map","name",[o,"area"].join(" ")),c("area","alt coords shape href target rel media hreflang type"),c("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),c("colgroup","span","col"),c("col","span"),c("tbody thead tfoot","","tr"),c("tr","","td th"),c("td","colspan rowspan headers",o),c("th","colspan rowspan headers scope abbr",o),c("form","accept-charset action autocomplete enctype method name novalidate target",o),c("fieldset","disabled form name",[o,"legend"].join(" ")),c("label","form for",r),c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?o:r),c("select","disabled form multiple name required size","option optgroup"),c("optgroup","disabled label","option"),c("option","disabled label selected value"),c("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),c("menu","type label",[o,"li"].join(" ")),c("noscript","",o),"html4"!==t&&(c("wbr"),c("ruby","",[r,"rt rp"].join(" ")),c("figcaption","",o),c("mark rt rp summary bdi","",r),c("canvas","width height",o),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),c("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),c("picture","","img source"),c("source","src srcset type media sizes"),c("track","kind src srclang label default"),c("datalist","",[r,"option"].join(" ")),c("article section nav aside main header footer","",o),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure","",[o,"figcaption"].join(" ")),c("time","datetime",r),c("dialog","open",o),c("command","type label icon disabled checked radiogroup command"),c("output","for form name",r),c("progress","value max",r),c("meter","value min max low high optimum",r),c("details","open",[o,"summary"].join(" ")),c("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==t&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("img","loading"),s("iframe","sandbox seamless allowfullscreen loading")),ei(ai("a form meter progress dfn"),(function(t){u[t]&&delete u[t].children[t]})),delete u.caption.children.table,delete u.script,Zo[t]=u,u)}((t=t||{}).schema);!1===t.verify_html&&(t.valid_elements="*[*]");var c=ui(t.valid_styles),s=ui(t.invalid_styles,"map"),l=ui(t.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g=a("non_empty_elements","td th iframe video audio object script code pre",m),h=a("move_caret_before_on_enter_elements","td th iframe video audio object script code table",m),v=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),y=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");ei((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(t){i[t]=new RegExp("</"+t+"[^>]*>","gi")}));var x=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},w=function(t){var e,o,i,a,u,c,s,l,f,d,m,p,g,h,v,b,y,w,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(t){var S=ai(t,",");for(n["@"]&&(b=n["@"].attributes,y=n["@"].attributesOrder),e=0,o=S.length;e<o;e++)if(u=C.exec(S[e])){if(h=u[1],f=u[2],v=u[3],l=u[5],c={attributes:p={},attributesOrder:g=[]},"#"===h&&(c.paddEmpty=!0),"-"===h&&(c.removeEmpty=!0),"!"===u[4]&&(c.removeEmptyAttrs=!0),b&&(ct(b,(function(t,n){p[n]=t})),g.push.apply(g,y)),l)for(i=0,a=(l=ai(l,"|")).length;i<a;i++)if(u=_.exec(l[i])){if(s={},m=u[1],d=u[2].replace(/[\\:]:/g,":"),h=u[3],w=u[4],"!"===m&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(d),s.required=!0),"-"===m){delete p[d],g.splice(ii(g,d),1);continue}h&&("="===h&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:d,value:w}),s.defaultValue=w),":"===h&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:d,value:w}),s.forcedValue=w),"<"===h&&(s.validValues=ni(w,"?"))),k.test(d)?(c.attributePatterns=c.attributePatterns||[],s.pattern=x(d),c.attributePatterns.push(s)):(p[d]||g.push(d),p[d]=s)}b||"@"!==f||(b=p,y=g),v&&(c.outputName=f,n[v]=c),k.test(f)?(c.pattern=x(f),r.push(c)):n[f]=c}}},C=function(t){n={},r=[],w(t),ei(u,(function(t,n){e[n]=t.children}))},_=function(t){var r=/^(~)?(.+)$/;t&&(Zo.text_block_elements=Zo.block_elements=null,ei(ai(t,","),(function(t){var i=r.exec(t),a="~"===i[1],u=a?"span":"div",c=i[2];if(e[c]=e[u],o[c]=u,a||(b[c.toUpperCase()]={},b[c]={}),!n[c]){var s=n[u];delete(s=ri({},s)).removeEmptyAttrs,delete s.removeEmpty,n[c]=s}ei(e,(function(t,n){t[u]&&(e[n]=t=ri({},e[n]),t[c]=t[u])}))})))},k=function(n){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Zo[t.schema]=null,n&&ei(ai(n,","),(function(t){var n,o,i=r.exec(t);i&&(o=i[1],n=o?e[i[2]]:e[i[2]]={"#comment":{}},n=e[i[2]],ei(ai(i[3],"|"),(function(t){"-"===o?delete n[t]:n[t]={}})))}))},S=function(t){var e,o=n[t];if(o)return o;for(e=r.length;e--;)if((o=r[e]).pattern.test(t))return o};t.valid_elements?C(t.valid_elements):(ei(u,(function(t,r){n[r]={attributes:t.attributes,attributesOrder:t.attributesOrder},e[r]=t.children})),"html5"!==t.schema&&ei(ai("strong/b em/i"),(function(t){var e=ai(t,"/");n[e[1]].outputName=e[0]})),ei(ai("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(t){n[t]&&(n[t].removeEmpty=!0)})),ei(ai("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){n[t].paddEmpty=!0})),ei(ai("span"),(function(t){n[t].removeEmptyAttrs=!0}))),_(t.custom_elements),k(t.valid_children),w(t.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),ei({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){n[e]&&(n[e].parentsRequired=ai(t))})),t.invalid_elements&&ei(oi(t.invalid_elements),(function(t){n[t]&&delete n[t]})),S("span")||w("span[!data-mce-type|*]");return{children:e,elements:n,getValidStyles:function(){return c},getValidClasses:function(){return l},getBlockElements:function(){return b},getInvalidStyles:function(){return s},getShortEndedElements:function(){return m},getTextBlockElements:function(){return v},getTextInlineElements:function(){return y},getBoolAttrs:function(){return p},getElementRule:S,getSelfClosingElements:function(){return d},getNonEmptyElements:function(){return g},getMoveCaretBeforeOnEnterElements:function(){return h},getWhiteSpaceElements:function(){return f},getSpecialElements:function(){return i},isValidChild:function(t,n){var r=e[t.toLowerCase()];return!(!r||!r[n.toLowerCase()])},isValid:function(t,n){var e,r,o=S(t);if(o){if(!n)return!0;if(o.attributes[n])return!0;if(e=o.attributePatterns)for(r=e.length;r--;)if(e[r].pattern.test(t))return!0}return!1},getCustomElements:function(){return o},addValidElements:w,setValidElements:C,addCustomElements:_,addValidChildren:k}},si=function(t,n,e,r){var o=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+o(n)+o(e)+o(r)},li=function(t,n){var e,r,o,i=this,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,l={};t=t||{},n&&(r=n.getValidStyles(),o=n.getInvalidStyles());var f="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(e=0;e<f.length;e++)l[f[e]]="\ufeff"+e,l["\ufeff"+e]=f[e];return{toHex:function(t){return t.replace(a,si)},parse:function(n){var r,o,f,d,m,p,g,h,v={},b=t.url_converter,y=t.url_converter_scope||i,x=function(t,n,r){var o=v[t+"-top"+n];if(o){var i=v[t+"-right"+n];if(i){var a=v[t+"-bottom"+n];if(a){var u=v[t+"-left"+n];if(u){var c=[o,i,a,u];for(e=c.length-1;e--&&c[e]===c[e+1];);e>-1&&r||(v[t+n]=-1===e?c[0]:c.join(" "),delete v[t+"-top"+n],delete v[t+"-right"+n],delete v[t+"-bottom"+n],delete v[t+"-left"+n])}}}}},w=function(t){var n,e=v[t];if(e){for(n=(e=e.split(" ")).length;n--;)if(e[n]!==e[0])return!1;return v[t]=e[0],!0}},C=function(t){return d=!0,l[t]},_=function(t,n){return d&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return l[t]}))),n||(t=t.replace(/\\([\'\";:])/g,"$1")),t},k=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},S=function(t){return t.replace(/\\[0-9a-f]+/gi,k)},A=function(n,e,r,o,i,a){if(i=i||a)return"'"+(i=_(i)).replace(/\'/g,"\\'")+"'";if(e=_(e||r||o),!t.allow_script_urls){var u=e.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return b&&(e=b.call(y,e,"style")),"url('"+e.replace(/\'/g,"\\'")+"')"};if(n){for(n=(n=n.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,C).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,C)}));r=c.exec(n);)if(c.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),f=r[2].replace(s,""),o&&f){if(o=S(o),f=S(f),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(f)))continue;"font-weight"===o&&"700"===f?f="bold":"color"!==o&&"background-color"!==o||(f=f.toLowerCase()),f=(f=f.replace(a,si)).replace(u,A),v[o]=d?_(f,!0):f}x("border","",!0),x("border","-width"),x("border","-color"),x("border","-style"),x("padding",""),x("margin",""),m="border",g="border-style",h="border-color",w(p="border-width")&&w(g)&&w(h)&&(v[m]=v[p]+" "+v[g]+" "+v[h],delete v[p],delete v[g],delete v[h]),"medium none"===v.border&&delete v.border,"none"===v["border-image"]&&delete v["border-image"]}return v},serialize:function(t,n){var e="",i=function(n){var o,i=r[n];if(i)for(var a=0,u=i.length;a<u;a++)n=i[a],(o=t[n])&&(e+=(e.length>0?" ":"")+n+": "+o+";")};return n&&r?(i("*"),i(n)):ct(t,(function(t,r){!t||o&&!function(t,n){var e=o["*"];return(!e||!e[t])&&!((e=o[n])&&e[t])}(r,n)||(e+=(e.length>0?" ":"")+r+": "+t+";")})),e}}},fi=/^(?:mouse|contextmenu)|click/,di={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},mi=y,pi=x,gi=function(t,n,e,r){t.addEventListener?t.addEventListener(n,e,r||!1):t.attachEvent&&t.attachEvent("on"+n,e)},hi=function(t,n,e,r){t.removeEventListener?t.removeEventListener(n,e,r||!1):t.detachEvent&&t.detachEvent("on"+n,e)},vi=function(t,n){var e,r=n||{};for(e in t)di[e]||(r[e]=t[e]);if(r.target||(r.target=r.srcElement||document),r.composedPath&&(r.composedPath=function(){return t.composedPath()}),t&&function(t){return fi.test(t.type)}(t)&&void 0===t.pageX&&void 0!==t.clientX){var o=r.target.ownerDocument||document,i=o.documentElement,a=o.body;r.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),r.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}return r.preventDefault=function(){r.defaultPrevented=!0,r.isDefaultPrevented=pi,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},r.stopPropagation=function(){r.cancelBubble=!0,r.isPropagationStopped=pi,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=pi,r.stopPropagation()},!1===function(t){return t.isDefaultPrevented===pi||t.isDefaultPrevented===mi}(r)&&(r.isDefaultPrevented=!0===r.defaultPrevented?pi:mi,r.isPropagationStopped=!0===r.cancelBubble?pi:mi,r.isImmediatePropagationStopped=mi),void 0===r.metaKey&&(r.metaKey=!1),r},bi=function(t,n,e){var r=t.document,o={type:"ready"};if(e.domLoaded)n(o);else{var i=function(){hi(t,"DOMContentLoaded",i),hi(t,"load",i),e.domLoaded||(e.domLoaded=!0,n(o)),t=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():gi(t,"DOMContentLoaded",i),e.domLoaded||gi(t,"load",i)}},yi=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return t.prototype.bind=function(t,n,e,r){var o,i,a,u,c,s,l,f=this,d=window,m=function(t){f.executeHandlers(vi(t||d.event),o)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[f.expando]?o=t[f.expando]:(o=f.count++,t[f.expando]=o,f.events[o]={}),r=r||t;var p=n.split(" ");for(a=p.length;a--;)s=m,c=l=!1,"DOMContentLoaded"===(u=p[a])&&(u="ready"),f.domLoaded&&"ready"===u&&"complete"===t.readyState?e.call(r,vi({type:u})):(f.hasMouseEnterLeave||(c=f.mouseEnterLeave[u])&&(s=function(t){var n=t.currentTarget,e=t.relatedTarget;if(e&&n.contains)e=n.contains(e);else for(;e&&e!==n;)e=e.parentNode;e||((t=vi(t||d.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=n,f.executeHandlers(t,o))}),f.hasFocusIn||"focusin"!==u&&"focusout"!==u||(l=!0,c="focusin"===u?"focus":"blur",s=function(t){(t=vi(t||d.event)).type="focus"===t.type?"focusin":"focusout",f.executeHandlers(t,o)}),(i=f.events[o][u])?"ready"===u&&f.domLoaded?e(vi({type:u})):i.push({func:e,scope:r}):(f.events[o][u]=i=[{func:e,scope:r}],i.fakeName=c,i.capture=l,i.nativeHandler=s,"ready"===u?bi(t,s,f):gi(t,c||u,s,l)));return t=i=null,e}},t.prototype.unbind=function(t,n,e){var r,o,i,a,u;if(!t||3===t.nodeType||8===t.nodeType)return this;var c=t[this.expando];if(c){if(u=this.events[c],n){var s=n.split(" ");for(o=s.length;o--;)if(r=u[a=s[o]]){if(e)for(i=r.length;i--;)if(r[i].func===e){var l=r.nativeHandler,f=r.fakeName,d=r.capture;(r=r.slice(0,i).concat(r.slice(i+1))).nativeHandler=l,r.fakeName=f,r.capture=d,u[a]=r}e&&0!==r.length||(delete u[a],hi(t,r.fakeName||a,r.nativeHandler,r.capture))}}else ct(u,(function(n,e){hi(t,n.fakeName||e,n.nativeHandler,n.capture)})),u={};for(a in u)if(vt(u,a))return this;delete this.events[c];try{delete t[this.expando]}catch(n){t[this.expando]=null}}return this},t.prototype.fire=function(t,n,e){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;var o=vi(null,e);o.type=n,o.target=t;do{(r=t[this.expando])&&this.executeHandlers(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this},t.prototype.clean=function(t){var n,e;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),n=(e=t.getElementsByTagName("*")).length;n--;)(t=e[n])[this.expando]&&this.unbind(t);return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(t,n){var e=this.events[n],r=e&&e[t.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}},t.Event=new t,t}(),xi="sizzle"+-new Date,wi=window.document,Ci=0,_i=0,ki=na(),Si=na(),Ai=na(),Oi=function(t,n){return t===n&&(Cr=!0),0},Ti={}.hasOwnProperty,Ei=[],Di=Ei.pop,zi=Ei.push,Mi=Ei.push,Ni=Ei.slice,Ri=Ei.indexOf||function(t){for(var n=0,e=this.length;n<e;n++)if(this[n]===t)return n;return-1},Bi="[\\x20\\t\\r\\n\\f]",Pi="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ii="\\["+Bi+"*("+Pi+")(?:"+Bi+"*([*^$|!~]?=)"+Bi+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Pi+"))|)"+Bi+"*\\]",Li=":("+Pi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ii+")*)|.*)\\)|)",Hi=new RegExp("^"+Bi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Bi+"+$","g"),Fi=new RegExp("^"+Bi+"*,"+Bi+"*"),Vi=new RegExp("^"+Bi+"*([>+~]|"+Bi+")"+Bi+"*"),ji=new RegExp("="+Bi+"*([^\\]'\"]*?)"+Bi+"*\\]","g"),Ui=new RegExp(Li),Wi=new RegExp("^"+Pi+"$"),$i={ID:new RegExp("^#("+Pi+")"),CLASS:new RegExp("^\\.("+Pi+")"),TAG:new RegExp("^("+Pi+"|[*])"),ATTR:new RegExp("^"+Ii),PSEUDO:new RegExp("^"+Li),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Bi+"*(even|odd|(([+-]|)(\\d*)n|)"+Bi+"*(?:([+-]|)"+Bi+"*(\\d+)|))"+Bi+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Bi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Bi+"*((?:-\\d)?\\d*)"+Bi+"*\\)|)(?=[^-]|$)","i")},qi=/^(?:input|select|textarea|button)$/i,Gi=/^h\d$/i,Ki=/^[^{]+\{\s*\[native \w/,Xi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yi=/[+~]/,Ji=/'|\\/g,Qi=new RegExp("\\\\([\\da-f]{1,6}"+Bi+"?|("+Bi+")|.)","ig"),Zi=function(t,n,e){var r="0x"+n-65536;return r!=r||e?n:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Mi.apply(Ei=Ni.call(wi.childNodes),wi.childNodes),Ei[wi.childNodes.length].nodeType}catch(t){Mi={apply:Ei.length?function(t,n){zi.apply(t,Ni.call(n))}:function(t,n){for(var e=t.length,r=0;t[e++]=n[r++];);t.length=e-1}}}var ta=function(t,n,e,r){var o,i,a,u,c,s,l,f,d,m;if((n?n.ownerDocument||n:wi)!==kr&&_r(n),e=e||[],!t||"string"!=typeof t)return e;if(1!==(u=(n=n||kr).nodeType)&&9!==u)return[];if(Ar&&!r){if(o=Xi.exec(t))if(a=o[1]){if(9===u){if(!(i=n.getElementById(a))||!i.parentNode)return e;if(i.id===a)return e.push(i),e}else if(n.ownerDocument&&(i=n.ownerDocument.getElementById(a))&&Er(n,i)&&i.id===a)return e.push(i),e}else{if(o[2])return Mi.apply(e,n.getElementsByTagName(t)),e;if((a=o[3])&&mr.getElementsByClassName)return Mi.apply(e,n.getElementsByClassName(a)),e}if(mr.qsa&&(!Or||!Or.test(t))){if(f=l=xi,d=n,m=9===u&&t,1===u&&"object"!==n.nodeName.toLowerCase()){for(s=vr(t),(l=n.getAttribute("id"))?f=l.replace(Ji,"\\$&"):n.setAttribute("id",f),f="[id='"+f+"'] ",c=s.length;c--;)s[c]=f+ua(s[c]);d=Yi.test(t)&&ia(n.parentNode)||n,m=s.join(",")}if(m)try{return Mi.apply(e,d.querySelectorAll(m)),e}catch(t){}finally{l||n.removeAttribute("id")}}}return yr(t.replace(Hi,"$1"),n,e,r)};function na(){var t=[];return function n(e,r){return t.push(e+" ")>pr.cacheLength&&delete n[t.shift()],n[e+" "]=r}}function ea(t){return t[xi]=!0,t}function ra(t,n){var e=n&&t,r=e&&1===t.nodeType&&1===n.nodeType&&(~n.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(e)for(;e=e.nextSibling;)if(e===n)return-1;return t?1:-1}function oa(t){return ea((function(n){return n=+n,ea((function(e,r){for(var o,i=t([],e.length,n),a=i.length;a--;)e[o=i[a]]&&(e[o]=!(r[o]=e[o]))}))}))}function ia(t){return t&&void 0!==t.getElementsByTagName&&t}function aa(){}function ua(t){for(var n=0,e=t.length,r="";n<e;n++)r+=t[n].value;return r}function ca(t,n,e){var r=n.dir,o=e&&"parentNode"===r,i=_i++;return n.first?function(n,e,i){for(;n=n[r];)if(1===n.nodeType||o)return t(n,e,i)}:function(n,e,a){var u,c,s=[Ci,i];if(a){for(;n=n[r];)if((1===n.nodeType||o)&&t(n,e,a))return!0}else for(;n=n[r];)if(1===n.nodeType||o){if((u=(c=n[xi]||(n[xi]={}))[r])&&u[0]===Ci&&u[1]===i)return s[2]=u[2];if(c[r]=s,s[2]=t(n,e,a))return!0}}}function sa(t){return t.length>1?function(n,e,r){for(var o=t.length;o--;)if(!t[o](n,e,r))return!1;return!0}:t[0]}function la(t,n,e,r,o){for(var i,a=[],u=0,c=t.length,s=null!=n;u<c;u++)(i=t[u])&&(e&&!e(i,r,o)||(a.push(i),s&&n.push(u)));return a}function fa(t,n,e,r,o,i){return r&&!r[xi]&&(r=fa(r)),o&&!o[xi]&&(o=fa(o,i)),ea((function(i,a,u,c){var s,l,f,d=[],m=[],p=a.length,g=i||function(t,n,e){for(var r=0,o=n.length;r<o;r++)ta(t,n[r],e);return e}(n||"*",u.nodeType?[u]:u,[]),h=!t||!i&&n?g:la(g,d,t,u,c),v=e?o||(i?t:p||r)?[]:a:h;if(e&&e(h,v,u,c),r)for(s=la(v,m),r(s,[],u,c),l=s.length;l--;)(f=s[l])&&(v[m[l]]=!(h[m[l]]=f));if(i){if(o||t){if(o){for(s=[],l=v.length;l--;)(f=v[l])&&s.push(h[l]=f);o(null,v=[],s,c)}for(l=v.length;l--;)(f=v[l])&&(s=o?Ri.call(i,f):d[l])>-1&&(i[s]=!(a[s]=f))}}else v=la(v===a?v.splice(p,v.length):v),o?o(null,a,v,c):Mi.apply(a,v)}))}function da(t){for(var n,e,r,o=t.length,i=pr.relative[t[0].type],a=i||pr.relative[" "],u=i?1:0,c=ca((function(t){return t===n}),a,!0),s=ca((function(t){return Ri.call(n,t)>-1}),a,!0),l=[function(t,e,r){var o=!i&&(r||e!==xr)||((n=e).nodeType?c(t,e,r):s(t,e,r));return n=null,o}];u<o;u++)if(e=pr.relative[t[u].type])l=[ca(sa(l),e)];else{if((e=pr.filter[t[u].type].apply(null,t[u].matches))[xi]){for(r=++u;r<o&&!pr.relative[t[r].type];r++);return fa(u>1&&sa(l),u>1&&ua(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(Hi,"$1"),e,u<r&&da(t.slice(u,r)),r<o&&da(t=t.slice(r)),r<o&&ua(t))}l.push(e)}return sa(l)}mr=ta.support={},hr=ta.isXML=function(t){var n=t&&(t.ownerDocument||t).documentElement;return!!n&&"HTML"!==n.nodeName},_r=ta.setDocument=function(t){var n,e=t?t.ownerDocument||t:wi,r=e.defaultView;return e!==kr&&9===e.nodeType&&e.documentElement?(kr=e,Sr=e.documentElement,Ar=!hr(e),r&&r!==function(t){try{return t.top}catch(t){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){_r()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){_r()}))),mr.attributes=!0,mr.getElementsByTagName=!0,mr.getElementsByClassName=Ki.test(e.getElementsByClassName),mr.getById=!0,pr.find.ID=function(t,n){if(void 0!==n.getElementById&&Ar){var e=n.getElementById(t);return e&&e.parentNode?[e]:[]}},pr.filter.ID=function(t){var n=t.replace(Qi,Zi);return function(t){return t.getAttribute("id")===n}},pr.find.TAG=mr.getElementsByTagName?function(t,n){if(void 0!==n.getElementsByTagName)return n.getElementsByTagName(t)}:function(t,n){var e,r=[],o=0,i=n.getElementsByTagName(t);if("*"===t){for(;e=i[o++];)1===e.nodeType&&r.push(e);return r}return i},pr.find.CLASS=mr.getElementsByClassName&&function(t,n){if(Ar)return n.getElementsByClassName(t)},Tr=[],Or=[],mr.disconnectedMatch=!0,Or=Or.length&&new RegExp(Or.join("|")),Tr=Tr.length&&new RegExp(Tr.join("|")),n=Ki.test(Sr.compareDocumentPosition),Er=n||Ki.test(Sr.contains)?function(t,n){var e=9===t.nodeType?t.documentElement:t,r=n&&n.parentNode;return t===r||!(!r||1!==r.nodeType||!(e.contains?e.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,n){if(n)for(;n=n.parentNode;)if(n===t)return!0;return!1},Oi=n?function(t,n){if(t===n)return Cr=!0,0;var r=!t.compareDocumentPosition-!n.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(n.ownerDocument||n)?t.compareDocumentPosition(n):1)||!mr.sortDetached&&n.compareDocumentPosition(t)===r?t===e||t.ownerDocument===wi&&Er(wi,t)?-1:n===e||n.ownerDocument===wi&&Er(wi,n)?1:wr?Ri.call(wr,t)-Ri.call(wr,n):0:4&r?-1:1)}:function(t,n){if(t===n)return Cr=!0,0;var r,o=0,i=t.parentNode,a=n.parentNode,u=[t],c=[n];if(!i||!a)return t===e?-1:n===e?1:i?-1:a?1:wr?Ri.call(wr,t)-Ri.call(wr,n):0;if(i===a)return ra(t,n);for(r=t;r=r.parentNode;)u.unshift(r);for(r=n;r=r.parentNode;)c.unshift(r);for(;u[o]===c[o];)o++;return o?ra(u[o],c[o]):u[o]===wi?-1:c[o]===wi?1:0},e):kr},ta.matches=function(t,n){return ta(t,null,null,n)},ta.matchesSelector=function(t,n){if((t.ownerDocument||t)!==kr&&_r(t),n=n.replace(ji,"='$1']"),mr.matchesSelector&&Ar&&(!Tr||!Tr.test(n))&&(!Or||!Or.test(n)))try{var e=(void 0).call(t,n);if(e||mr.disconnectedMatch||t.document&&11!==t.document.nodeType)return e}catch(t){}return ta(n,kr,null,[t]).length>0},ta.contains=function(t,n){return(t.ownerDocument||t)!==kr&&_r(t),Er(t,n)},ta.attr=function(t,n){(t.ownerDocument||t)!==kr&&_r(t);var e=pr.attrHandle[n.toLowerCase()],r=e&&Ti.call(pr.attrHandle,n.toLowerCase())?e(t,n,!Ar):void 0;return void 0!==r?r:mr.attributes||!Ar?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null},ta.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ta.uniqueSort=function(t){var n,e=[],r=0,o=0;if(Cr=!mr.detectDuplicates,wr=!mr.sortStable&&t.slice(0),t.sort(Oi),Cr){for(;n=t[o++];)n===t[o]&&(r=e.push(o));for(;r--;)t.splice(e[r],1)}return wr=null,t},gr=ta.getText=function(t){var n,e="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)e+=gr(t)}else if(3===o||4===o)return t.nodeValue}else for(;n=t[r++];)e+=gr(n);return e},(pr=ta.selectors={cacheLength:50,createPseudo:ea,match:$i,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Qi,Zi),t[3]=(t[3]||t[4]||t[5]||"").replace(Qi,Zi),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ta.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ta.error(t[0]),t},PSEUDO:function(t){var n,e=!t[6]&&t[2];return $i.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":e&&Ui.test(e)&&(n=vr(e,!0))&&(n=e.indexOf(")",e.length-n)-e.length)&&(t[0]=t[0].slice(0,n),t[2]=e.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var n=t.replace(Qi,Zi).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===n}},CLASS:function(t){var n=ki[t+" "];return n||(n=new RegExp("(^|"+Bi+")"+t+"("+Bi+"|$)"))&&ki(t,(function(t){return n.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,n,e){return function(r){var o=ta.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===e:"!="===n?o!==e:"^="===n?e&&0===o.indexOf(e):"*="===n?e&&o.indexOf(e)>-1:"$="===n?e&&o.slice(-e.length)===e:"~="===n?(" "+o+" ").indexOf(e)>-1:"|="===n&&(o===e||o.slice(0,e.length+1)===e+"-"))}},CHILD:function(t,n,e,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===n;return 1===r&&0===o?function(t){return!!t.parentNode}:function(n,e,c){var s,l,f,d,m,p,g=i!==a?"nextSibling":"previousSibling",h=n.parentNode,v=u&&n.nodeName.toLowerCase(),b=!c&&!u;if(h){if(i){for(;g;){for(f=n;f=f[g];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?h.firstChild:h.lastChild],a&&b){for(m=(s=(l=h[xi]||(h[xi]={}))[t]||[])[0]===Ci&&s[1],d=s[0]===Ci&&s[2],f=m&&h.childNodes[m];f=++m&&f&&f[g]||(d=m=0)||p.pop();)if(1===f.nodeType&&++d&&f===n){l[t]=[Ci,m,d];break}}else if(b&&(s=(n[xi]||(n[xi]={}))[t])&&s[0]===Ci)d=s[1];else for(;(f=++m&&f&&f[g]||(d=m=0)||p.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[xi]||(f[xi]={}))[t]=[Ci,d]),f!==n)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(t,n){var e,r=pr.pseudos[t]||pr.setFilters[t.toLowerCase()]||ta.error("unsupported pseudo: "+t);return r[xi]?r(n):r.length>1?(e=[t,t,"",n],pr.setFilters.hasOwnProperty(t.toLowerCase())?ea((function(t,e){for(var o,i=r(t,n),a=i.length;a--;)t[o=Ri.call(t,i[a])]=!(e[o]=i[a])})):function(t){return r(t,0,e)}):r}},pseudos:{not:ea((function(t){var n=[],e=[],r=br(t.replace(Hi,"$1"));return r[xi]?ea((function(t,n,e,o){for(var i,a=r(t,null,o,[]),u=t.length;u--;)(i=a[u])&&(t[u]=!(n[u]=i))})):function(t,o,i){return n[0]=t,r(n,null,i,e),n[0]=null,!e.pop()}})),has:ea((function(t){return function(n){return ta(t,n).length>0}})),contains:ea((function(t){return t=t.replace(Qi,Zi),function(n){return(n.textContent||n.innerText||gr(n)).indexOf(t)>-1}})),lang:ea((function(t){return Wi.test(t||"")||ta.error("unsupported lang: "+t),t=t.replace(Qi,Zi).toLowerCase(),function(n){var e;do{if(e=Ar?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(e=e.toLowerCase())===t||0===e.indexOf(t+"-")}while((n=n.parentNode)&&1===n.nodeType);return!1}})),target:function(t){var n=window.location&&window.location.hash;return n&&n.slice(1)===t.id},root:function(t){return t===Sr},focus:function(t){return t===kr.activeElement&&(!kr.hasFocus||kr.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&!!t.checked||"option"===n&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!pr.pseudos.empty(t)},header:function(t){return Gi.test(t.nodeName)},input:function(t){return qi.test(t.nodeName)},button:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&"button"===t.type||"button"===n},text:function(t){var n;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(n=t.getAttribute("type"))||"text"===n.toLowerCase())},first:oa((function(){return[0]})),last:oa((function(t,n){return[n-1]})),eq:oa((function(t,n,e){return[e<0?e+n:e]})),even:oa((function(t,n){for(var e=0;e<n;e+=2)t.push(e);return t})),odd:oa((function(t,n){for(var e=1;e<n;e+=2)t.push(e);return t})),lt:oa((function(t,n,e){for(var r=e<0?e+n:e;--r>=0;)t.push(r);return t})),gt:oa((function(t,n,e){for(var r=e<0?e+n:e;++r<n;)t.push(r);return t}))}}).pseudos.nth=pr.pseudos.eq,$(["radio","checkbox","file","password","image"],(function(t){pr.pseudos[t]=function(t){return function(n){return"input"===n.nodeName.toLowerCase()&&n.type===t}}(t)})),$(["submit","reset"],(function(t){pr.pseudos[t]=function(t){return function(n){var e=n.nodeName.toLowerCase();return("input"===e||"button"===e)&&n.type===t}}(t)})),aa.prototype=pr.filters=pr.pseudos,pr.setFilters=new aa,vr=ta.tokenize=function(t,n){var e,r,o,i,a,u,c,s=Si[t+" "];if(s)return n?0:s.slice(0);for(a=t,u=[],c=pr.preFilter;a;){for(i in e&&!(r=Fi.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),e=!1,(r=Vi.exec(a))&&(e=r.shift(),o.push({value:e,type:r[0].replace(Hi," ")}),a=a.slice(e.length)),pr.filter)pr.filter.hasOwnProperty(i)&&(!(r=$i[i].exec(a))||c[i]&&!(r=c[i](r))||(e=r.shift(),o.push({value:e,type:i,matches:r}),a=a.slice(e.length)));if(!e)break}return n?a.length:a?ta.error(t):Si(t,u).slice(0)},br=ta.compile=function(t,n){var e,r=[],o=[],i=Ai[t+" "];if(!i){for(n||(n=vr(t)),e=n.length;e--;)(i=da(n[e]))[xi]?r.push(i):o.push(i);(i=Ai(t,function(t,n){var e=n.length>0,r=t.length>0,o=function(o,i,a,u,c){var s,l,f,d=0,m="0",p=o&&[],g=[],h=xr,v=o||r&&pr.find.TAG("*",c),b=Ci+=null==h?1:Math.random()||.1,y=v.length;for(c&&(xr=i!==kr&&i);m!==y&&null!=(s=v[m]);m++){if(r&&s){for(l=0;f=t[l++];)if(f(s,i,a)){u.push(s);break}c&&(Ci=b)}e&&((s=!f&&s)&&d--,o&&p.push(s))}if(d+=m,e&&m!==d){for(l=0;f=n[l++];)f(p,g,i,a);if(o){if(d>0)for(;m--;)p[m]||g[m]||(g[m]=Di.call(u));g=la(g)}Mi.apply(u,g),c&&!o&&g.length>0&&d+n.length>1&&ta.uniqueSort(u)}return c&&(Ci=b,xr=h),p};return e?ea(o):o}(o,r))).selector=t}return i},yr=ta.select=function(t,n,e,r){var o,i,a,u,c,s="function"==typeof t&&t,l=!r&&vr(t=s.selector||t);if(e=e||[],1===l.length){if((i=l[0]=l[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&mr.getById&&9===n.nodeType&&Ar&&pr.relative[i[1].type]){if(!(n=(pr.find.ID(a.matches[0].replace(Qi,Zi),n)||[])[0]))return e;s&&(n=n.parentNode),t=t.slice(i.shift().value.length)}for(o=$i.needsContext.test(t)?0:i.length;o--&&(a=i[o],!pr.relative[u=a.type]);)if((c=pr.find[u])&&(r=c(a.matches[0].replace(Qi,Zi),Yi.test(i[0].type)&&ia(n.parentNode)||n))){if(i.splice(o,1),!(t=r.length&&ua(i)))return Mi.apply(e,r),e;break}}return(s||br(t,l))(r,n,!Ar,e,Yi.test(t)&&ia(n.parentNode)||n),e},mr.sortStable=xi.split("").sort(Oi).join("")===xi,mr.detectDuplicates=!!Cr,_r(),mr.sortDetached=!0;var ma=document,pa=Array.prototype.push,ga=Array.prototype.slice,ha=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,va=yi.Event,ba=pn.makeMap("children,contents,next,prev"),ya=function(t){return void 0!==t},xa=function(t){return"string"==typeof t},wa=function(t,n){var e,r=(n=n||ma).createElement("div"),o=n.createDocumentFragment();for(r.innerHTML=t;e=r.firstChild;)o.appendChild(e);return o},Ca=function(t,n,e,r){var o;if(xa(n))n=wa(n,Pa(t[0]));else if(n.length&&!n.nodeType){if(n=Fa.makeArray(n),r)for(o=n.length-1;o>=0;o--)Ca(t,n[o],e,r);else for(o=0;o<n.length;o++)Ca(t,n[o],e,r);return t}if(n.nodeType)for(o=t.length;o--;)e.call(t[o],n);return t},_a=function(t,n){return t&&n&&-1!==(" "+t.className+" ").indexOf(" "+n+" ")},ka=function(t,n,e){var r,o;return n=Fa(n)[0],t.each((function(){e&&r===this.parentNode||(r=this.parentNode,o=n.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)})),t},Sa=pn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Aa=pn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Oa={for:"htmlFor",class:"className",readonly:"readOnly"},Ta={float:"cssFloat"},Ea={},Da={},za=function(t,n){return new Fa.fn.init(t,n)},Ma=/^\s*|\s*$/g,Na=function(t){return null==t?"":(""+t).replace(Ma,"")},Ra=function(t,n){var e,r,o,i;if(t)if(void 0===(e=t.length)){for(r in t)if(t.hasOwnProperty(r)&&(i=t[r],!1===n.call(i,r,i)))break}else for(o=0;o<e&&(i=t[o],!1!==n.call(i,o,i));o++);return t},Ba=function(t,n){var e=[];return Ra(t,(function(t,r){n(r,t)&&e.push(r)})),e},Pa=function(t){return t?9===t.nodeType?t:t.ownerDocument:ma};za.fn=za.prototype={constructor:za,selector:"",context:null,length:0,init:function(t,n){var e,r;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if(n&&n.nodeType)this.context=n;else{if(n)return Fa(t).attr(n);this.context=n=document}if(xa(t)){if(this.selector=t,!(e="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ha.exec(t)))return Fa(n).find(t);if(e[1])for(r=wa(t,Pa(n)).firstChild;r;)pa.call(this,r),r=r.nextSibling;else{if(!(r=Pa(n).getElementById(e[2])))return this;if(r.id!==e[2])return this.find(t);this.length=1,this[0]=r}}else this.add(t,!1);return this},toArray:function(){return pn.toArray(this)},add:function(t,n){var e,r;if(xa(t))return this.add(Fa(t));if(!1!==n)for(e=Fa.unique(this.toArray().concat(Fa.makeArray(t))),this.length=e.length,r=0;r<e.length;r++)this[r]=e[r];else pa.apply(this,Fa.makeArray(t));return this},attr:function(t,n){var e,r=this;if("object"==typeof t)Ra(t,(function(t,n){r.attr(t,n)}));else{if(!ya(n)){if(r[0]&&1===r[0].nodeType){if((e=Ea[t])&&e.get)return e.get(r[0],t);if(Aa[t])return r.prop(t)?t:void 0;null===(n=r[0].getAttribute(t,2))&&(n=void 0)}return n}this.each((function(){var e;if(1===this.nodeType){if((e=Ea[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}}))}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,n){var e=this;if("object"==typeof(t=Oa[t]||t))Ra(t,(function(t,n){e.prop(t,n)}));else{if(!ya(n))return e[0]&&e[0].nodeType&&t in e[0]?e[0][t]:n;this.each((function(){1===this.nodeType&&(this[t]=n)}))}return e},css:function(t,n){var e,r,o=this,i=function(t){return t.replace(/-(\D)/g,(function(t,n){return n.toUpperCase()}))},a=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))};if("object"==typeof t)Ra(t,(function(t,n){o.css(t,n)}));else if(ya(n))t=i(t),"number"!=typeof n||Sa[t]||(n=n.toString()+"px"),o.each((function(){var e=this.style;if((r=Da[t])&&r.set)r.set(this,n);else{try{this.style[Ta[t]||t]=n}catch(t){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(a(t)):e.removeAttribute(t))}}));else{if(e=o[0],(r=Da[t])&&r.get)return r.get(e);if(!e.ownerDocument.defaultView)return e.currentStyle?e.currentStyle[i(t)]:"";try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(a(t))}catch(t){return}}return o},remove:function(){for(var t,n=this.length;n--;)t=this[n],va.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,n=this.length;n--;)for(t=this[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var n;if(ya(t)){n=this.length;try{for(;n--;)this[n].innerHTML=t}catch(e){Fa(this[n]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var n;if(ya(t)){for(n=this.length;n--;)"innerText"in this[n]?this[n].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return Ca(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return Ca(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?Ca(t,arguments,(function(t){this.parentNode.insertBefore(t,this)})):t},after:function(){var t=this;return t[0]&&t[0].parentNode?Ca(t,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):t},appendTo:function(t){return Fa(t).append(this),this},prependTo:function(t){return Fa(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return ka(this,t)},wrapAll:function(t){return ka(this,t,!0)},wrapInner:function(t){return this.each((function(){Fa(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){Fa(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),Fa(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,n){var e=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?Ra(t.split(" "),(function(){e.toggleClass(this,n)})):e.each((function(e,r){var o=_a(r,t);if(o!==n){var i=r.className;o?r.className=Na((" "+i+" ").replace(" "+t+" "," ")):r.className+=i?" "+t:t}}))),e},hasClass:function(t){return _a(this[0],t)},each:function(t){return Ra(this,t)},on:function(t,n){return this.each((function(){va.bind(this,t,n)}))},off:function(t,n){return this.each((function(){va.unbind(this,t,n)}))},trigger:function(t){return this.each((function(){"object"==typeof t?va.fire(this,t.type,t):va.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Fa(ga.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var n,e,r=[];for(n=0,e=this.length;n<e;n++)Fa.find(t,this[n],r);return Fa(r)},filter:function(t){return Fa("function"==typeof t?Ba(this.toArray(),(function(n,e){return t(e,n)})):Fa.filter(t,this.toArray()))},closest:function(t){var n=[];return t instanceof Fa&&(t=t[0]),this.each((function(e,r){for(;r;){if("string"==typeof t&&Fa(r).is(t)){n.push(r);break}if(r===t){n.push(r);break}r=r.parentNode}})),Fa(n)},offset:function(t){var n,e,r,o,i=0,a=0;return t?this.css(t):((n=this[0])&&(r=(e=n.ownerDocument).documentElement,n.getBoundingClientRect&&(i=(o=n.getBoundingClientRect()).left+(r.scrollLeft||e.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||e.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:pa,sort:Array.prototype.sort,splice:Array.prototype.splice},pn.extend(za,{extend:pn.extend,makeArray:function(t){return(n=t)&&n===n.window||t.nodeType?[t]:pn.toArray(t);var n},inArray:function(t,n){var e;if(n.indexOf)return n.indexOf(t);for(e=n.length;e--;)if(n[e]===t)return e;return-1},isArray:pn.isArray,each:Ra,trim:Na,grep:Ba,find:ta,expr:ta.selectors,unique:ta.uniqueSort,text:ta.getText,contains:ta.contains,filter:function(t,n,e){var r=n.length;for(e&&(t=":not("+t+")");r--;)1!==n[r].nodeType&&n.splice(r,1);return n=1===n.length?Fa.find.matchesSelector(n[0],t)?[n[0]]:[]:Fa.find.matches(t,n)}});var Ia=function(t,n,e){var r=[],o=t[n];for("string"!=typeof e&&e instanceof Fa&&(e=e[0]);o&&9!==o.nodeType;){if(void 0!==e){if(o===e)break;if("string"==typeof e&&Fa(o).is(e))break}1===o.nodeType&&r.push(o),o=o[n]}return r},La=function(t,n,e,r){var o=[];for(r instanceof Fa&&(r=r[0]);t;t=t[n])if(!e||t.nodeType===e){if(void 0!==r){if(t===r)break;if("string"==typeof r&&Fa(t).is(r))break}o.push(t)}return o},Ha=function(t,n,e){for(t=t[n];t;t=t[n])if(t.nodeType===e)return t;return null};Ra({parent:function(t){var n=t.parentNode;return n&&11!==n.nodeType?n:null},parents:function(t){return Ia(t,"parentNode")},next:function(t){return Ha(t,"nextSibling",1)},prev:function(t){return Ha(t,"previousSibling",1)},children:function(t){return La(t.firstChild,"nextSibling",1)},contents:function(t){return pn.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,n){za.fn[t]=function(e){var r=[];this.each((function(){var t=n.call(r,this,e,r);t&&(Fa.isArray(t)?r.push.apply(r,t):r.push(t))})),this.length>1&&(ba[t]||(r=Fa.unique(r)),0===t.indexOf("parents")&&(r=r.reverse()));var o=Fa(r);return e?o.filter(e):o}})),Ra({parentsUntil:function(t,n){return Ia(t,"parentNode",n)},nextUntil:function(t,n){return La(t,"nextSibling",1,n).slice(1)},prevUntil:function(t,n){return La(t,"previousSibling",1,n).slice(1)}},(function(t,n){za.fn[t]=function(e,r){var o=[];this.each((function(){var t=n.call(o,this,e,o);t&&(Fa.isArray(t)?o.push.apply(o,t):o.push(t))})),this.length>1&&(o=Fa.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse()));var i=Fa(o);return r?i.filter(r):i}})),za.fn.is=function(t){return!!t&&this.filter(t).length>0},za.fn.init.prototype=za.fn,za.overrideDefaults=function(t){var n,e=function(r,o){return n=n||t(),0===arguments.length&&(r=n.element),o||(o=n.context),new e.fn.init(r,o)};return Fa.extend(e,this),e},za.attrHooks=Ea,za.cssHooks=Da;var Fa=za,Va=pn.each,ja=pn.grep,Ua=sn.ie,Wa=/^([a-z0-9],?)+$/i,$a=function(t,n){var e=n.attr("style"),r=t.serialize(t.parse(e),n[0].nodeName);r||(r=null),n.attr("data-mce-style",r)},qa=function(t,n){var e,r,o=0;if(t)for(e=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!n||3!==r||r!==e&&t.nodeValue.length)&&(o++,e=r);return o},Ga=function(t,n){void 0===n&&(n={});var e={},r=window,o={},i=0,a=jr.forElement(hn.fromDom(t),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),u=[],c=n.schema?n.schema:ci({}),s=li({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),f=n.ownEvents?new yi:yi.Event,d=c.getBlockElements(),m=Fa.overrideDefaults((function(){return{context:t,element:j.getRoot()}})),p=function(n){return n&&t&&T(n)?t.getElementById(n):n},g=function(t){return m("string"==typeof t?p(t):t)},h=function(t,n,e){var r,o,i=g(t);return i.length&&(o=(r=U[n])&&r.get?r.get(i,n):i.attr(n)),void 0===o&&(o=e||""),o},v=function(t){var n=p(t);return n?n.attributes:[]},b=function(t,e,r){""===r&&(r=null);var o=g(t),i=o.attr(e);if(o.length){var a=U[e];a&&a.set?a.set(o,r,e):o.attr(e,r),i!==r&&n.onSetAttrib&&n.onSetAttrib({attrElm:o,attrName:e,attrValue:r})}},y=function(){return n.root_element||t.body},x=function(n,e){return Ke(t.body,p(n),e)},w=function(t,n,e){var r=g(t);return e?r.css(n):("float"===(n=n.replace(/-(\D)/g,(function(t,n){return n.toUpperCase()})))&&(n=sn.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[n]:void 0)},C=function(t){var n,e;return t=p(t),n=w(t,"width"),e=w(t,"height"),-1===n.indexOf("px")&&(n=0),-1===e.indexOf("px")&&(e=0),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(e,10)||t.offsetHeight||t.clientHeight}},_=function(t,n){var e;if(!t)return!1;if(!Array.isArray(t)){if("*"===n)return 1===t.nodeType;if(Wa.test(n)){var r=n.toLowerCase().split(/,/),o=t.nodeName.toLowerCase();for(e=r.length-1;e>=0;e--)if(r[e]===o)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var i=Array.isArray(t)?t:[t];return ta(n,i[0].ownerDocument||i[0],null,i).length>0},k=function(t,n,e,r){var o,i=[],a=p(t);for(r=void 0===r,e=e||("BODY"!==y().nodeName?y().parentNode:null),pn.is(n,"string")&&(o=n,n="*"===n?function(t){return 1===t.nodeType}:function(t){return _(t,o)});a&&!(a===e||R(a.nodeType)||Se(a)||Ae(a));){if(!n||"function"==typeof n&&n(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},S=function(t,n,e){var r=n;if(t)for("string"==typeof n&&(r=function(t){return _(t,n)}),t=t[e];t;t=t[e])if("function"==typeof r&&r(t))return t;return null},A=function(t,n,e){var r,o="string"==typeof t?p(t):t;if(!o)return!1;if(pn.isArray(o)&&(o.length||0===o.length))return r=[],Va(o,(function(t,o){t&&r.push(n.call(e,"string"==typeof t?p(t):t,o))})),r;var i=e||this;return n.call(i,o)},O=function(t,n){g(t).each((function(t,e){Va(n,(function(t,n){b(e,n,t)}))}))},E=function(t,n){var e=g(t);Ua?e.each((function(t,e){if(!1!==e.canHaveHTML){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML="<br>"+n,e.removeChild(e.firstChild)}catch(t){Fa("<div></div>").html("<br>"+n).contents().slice(1).appendTo(e)}return n}})):e.html(n)},D=function(n,e,r,o,i){return A(n,(function(n){var a="string"==typeof e?t.createElement(e):e;return O(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&E(a,o)),i?a:n.appendChild(a)}))},z=function(n,e,r){return D(t.createElement(n),n,e,r,!0)},M=Qo.encodeAllRaw,N=function(t,n){var e=g(t);return n?e.each((function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():e.remove(),e.length>1?e.toArray():e[0]},B=function(t,n,e){g(t).toggleClass(n,e).each((function(){""===this.className&&Fa(this).attr("class",null)}))},P=function(t,n,e){return A(n,(function(n){return pn.is(n,"array")&&(t=t.cloneNode(!0)),e&&Va(ja(n.childNodes),(function(n){t.appendChild(n)})),n.parentNode.replaceChild(t,n)}))},I=function(t){if(ge(t)){var n="a"===t.nodeName.toLowerCase()&&!h(t,"href")&&h(t,"id");if(h(t,"name")||h(t,"data-mce-bookmark")||n)return!0}return!1},L=function(){return t.createRange()},H=function(e,o,i,a){if(pn.isArray(e)){for(var c=e.length,s=[];c--;)s[c]=H(e[c],o,i,a);return s}return!n.collect||e!==t&&e!==r||u.push([e,o,i,a]),f.bind(e,o,i,a||j)},F=function(n,e,o){if(pn.isArray(n)){for(var i=n.length,a=[];i--;)a[i]=F(n[i],e,o);return a}if(u.length>0&&(n===t||n===r))for(i=u.length;i--;){var c=u[i];n!==c[0]||e&&e!==c[1]||o&&o!==c[2]||f.unbind(c[0],c[1],c[2])}return f.unbind(n,e,o)},V=function(t){if(t&&ge(t)){var n=t.getAttribute("data-mce-contenteditable");return n&&"inherit"!==n?n:"inherit"!==t.contentEditable?t.contentEditable:null}return null},j={doc:t,settings:n,win:r,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:u,styles:s,schema:c,events:f,isBlock:function(t){if("string"==typeof t)return!!d[t];if(t){var n=t.nodeType;if(n)return!(1!==n||!d[t.nodeName])}return!1},$:m,$$:g,root:null,clone:function(n,e){if(!Ua||1!==n.nodeType||e)return n.cloneNode(e);var r=t.createElement(n.nodeName);return Va(v(n),(function(t){b(r,t.nodeName,h(n,t.nodeName))})),r},getRoot:y,getViewPort:function(t){var n=de(t);return{x:n.x,y:n.y,w:n.width,h:n.height}},getRect:function(t){t=p(t);var n=x(t),e=C(t);return{x:n.x,y:n.y,w:e.w,h:e.h}},getSize:C,getParent:function(t,n,e){var r=k(t,n,e,!1);return r&&r.length>0?r[0]:null},getParents:k,get:p,getNext:function(t,n){return S(t,n,"nextSibling")},getPrev:function(t,n){return S(t,n,"previousSibling")},select:function(e,r){return ta(e,p(r)||n.root_element||t,[])},is:_,add:D,create:z,createHTML:function(t,n,e){var r,o="";for(r in o+="<"+t,n)n.hasOwnProperty(r)&&null!==n[r]&&void 0!==n[r]&&(o+=" "+r+'="'+M(n[r])+'"');return void 0!==e?o+">"+e+"</"+t+">":o+" />"},createFragment:function(n){var e,r=t.createElement("div"),o=t.createDocumentFragment();for(o.appendChild(r),n&&(r.innerHTML=n);e=r.firstChild;)o.appendChild(e);return o.removeChild(r),o},remove:N,setStyle:function(t,e,r){var o=T(e)?g(t).css(e,r):g(t).css(e);n.update_styles&&$a(s,o)},getStyle:w,setStyles:function(t,e){var r=g(t).css(e);n.update_styles&&$a(s,r)},removeAllAttribs:function(t){return A(t,(function(t){var n,e=t.attributes;for(n=e.length-1;n>=0;n--)t.removeAttributeNode(e.item(n))}))},setAttrib:b,setAttribs:O,getAttrib:h,getPos:x,parseStyle:function(t){return s.parse(t)},serializeStyle:function(t,n){return s.serialize(t,n)},addStyle:function(n){var r,o;if(j!==Ga.DOM&&t===document){if(e[n])return;e[n]=!0}(o=t.getElementById("mceDefaultStyles"))||((o=t.createElement("style")).id="mceDefaultStyles",o.type="text/css",(r=t.getElementsByTagName("head")[0]).firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=n:o.appendChild(t.createTextNode(n))},loadCSS:function(t){t||(t=""),$(t.split(","),(function(t){o[t]=!0,a.load(t,l)}))},addClass:function(t,n){g(t).addClass(n)},removeClass:function(t,n){B(t,n,!1)},hasClass:function(t,n){return g(t).hasClass(n)},toggleClass:B,show:function(t){g(t).show()},hide:function(t){g(t).hide()},isHidden:function(t){return"none"===g(t).css("display")},uniqueId:function(t){return(t||"mce_")+i++},setHTML:E,getOuterHTML:function(t){var n="string"==typeof t?p(t):t;return ge(n)?n.outerHTML:Fa("<div></div>").append(Fa(n).clone()).html()},setOuterHTML:function(t,n){g(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=n)}catch(t){}N(Fa(this).html(n),!0)}))},decode:Qo.decode,encode:M,insertAfter:function(t,n){var e=p(n);return A(t,(function(t){var n=e.parentNode,r=e.nextSibling;return r?n.insertBefore(t,r):n.appendChild(t),t}))},replace:P,rename:function(t,n){var e;return t.nodeName!==n.toUpperCase()&&(e=z(n),Va(v(t),(function(n){b(e,n.nodeName,h(t,n.nodeName))})),P(e,t,!0)),e||t},findCommonAncestor:function(t,n){for(var e,r=t;r;){for(e=n;e&&r!==e;)e=e.parentNode;if(r===e)break;r=r.parentNode}return!r&&t.ownerDocument?t.ownerDocument.documentElement:r},toHex:function(t){return s.toHex(pn.trim(t))},run:A,getAttribs:v,isEmpty:function(t,n){var e,r,o=0;if(I(t))return!1;if(t=t.firstChild){var i=new Ur(t,t.parentNode),a=c?c.getWhiteSpaceElements():{};n=n||(c?c.getNonEmptyElements():null);do{if(e=t.nodeType,ge(t)){var u=t.getAttribute("data-mce-bogus");if(u){t=i.next("all"===u);continue}if(r=t.nodeName.toLowerCase(),n&&n[r]){if("br"===r){o++,t=i.next();continue}return!1}if(I(t))return!1}if(8===e)return!1;if(3===e&&!To(t.nodeValue))return!1;if(3===e&&t.parentNode&&a[t.parentNode.nodeName]&&To(t.nodeValue))return!1;t=i.next()}while(t)}return o<=1},createRng:L,nodeIndex:qa,split:function(t,n,e){var r,o,i,a=L();if(t&&n)return a.setStart(t.parentNode,qa(t)),a.setEnd(n.parentNode,qa(n)),r=a.extractContents(),(a=L()).setStart(n.parentNode,qa(n)+1),a.setEnd(t.parentNode,qa(t)+1),o=a.extractContents(),(i=t.parentNode).insertBefore(Lo(j,r),t),e?i.insertBefore(e,t):i.insertBefore(n,t),i.insertBefore(Lo(j,o),t),N(t),e||n},bind:H,unbind:F,fire:function(t,n,e){return f.fire(t,n,e)},getContentEditable:V,getContentEditableParent:function(t){for(var n=y(),e=null;t&&t!==n&&null===(e=V(t));t=t.parentNode);return e},destroy:function(){if(u.length>0)for(var t=u.length;t--;){var n=u[t];f.unbind(n[0],n[1],n[2])}ct(o,(function(t,n){a.unload(n),delete o[n]})),ta.setDocument&&ta.setDocument()},isChildOf:function(t,n){for(;t;){if(n===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}},U=function(t,n,e){var r=n.keep_values,o={set:function(t,r,o){n.url_converter&&(r=n.url_converter.call(n.url_converter_scope||e(),r,o,t[0])),t.attr("data-mce-"+o,r).attr(o,r)},get:function(t,n){return t.attr("data-mce-"+n)||t.attr(n)}},i={style:{set:function(n,e){null===e||"object"!=typeof e?(r&&n.attr("data-mce-style",e),null!==e&&"string"==typeof e?(n.removeAttr("style"),n.css(t.parse(e))):n.attr("style",e)):n.css(e)},get:function(n){var e=n.attr("data-mce-style")||n.attr("style");return e=t.serialize(t.parse(e),n[0].nodeName)}}};return r&&(i.href=i.src=o),i}(s,n,(function(){return j}));return j};Ga.DOM=Ga(document),Ga.nodeIndex=qa;var Ka=Ga.DOM,Xa=pn.each,Ya=pn.grep,Ja=function(){function t(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return t.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},t.prototype.loadScript=function(t,n,e){var r,o=Ka,i=function(){o.remove(a),r&&(r.onerror=r.onload=r=null)},a=o.uniqueId();(r=document.createElement("script")).id=a,r.type="text/javascript",r.src=pn._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=function(){i(),n()},r.onerror=function(){i(),P(e)?e():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)},t.prototype.isDone=function(t){return 2===this.states[t]},t.prototype.markDone=function(t){this.states[t]=2},t.prototype.add=function(t,n,e,r){var o=this.states[t];this.queue.push(t),void 0===o&&(this.states[t]=0),n&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:n,failure:r,scope:e||this}))},t.prototype.load=function(t,n,e,r){return this.add(t,n,e,r)},t.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},t.prototype.loadQueue=function(t,n,e){this.loadScripts(this.queue,t,n,e)},t.prototype.loadScripts=function(t,n,e,r){var o=this,i=[],a=function(t,n){Xa(o.scriptLoadedCallbacks[n],(function(n){P(n[t])&&n[t].call(n.scope)})),o.scriptLoadedCallbacks[n]=void 0};o.queueLoadedCallbacks.push({success:n,failure:r,scope:e||this});var u=function(){var n=Ya(t);if(t.length=0,Xa(n,(function(t){2!==o.states[t]?3!==o.states[t]?1!==o.states[t]&&(o.states[t]=1,o.loading++,o.loadScript(t,(function(){o.states[t]=2,o.loading--,a("success",t),u()}),(function(){o.states[t]=3,o.loading--,i.push(t),a("failure",t),u()}))):a("failure",t):a("success",t)})),!o.loading){var e=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,Xa(e,(function(t){0===i.length?P(t.success)&&t.success.call(t.scope):P(t.failure)&&t.failure.call(t.scope,i)}))}};u()},t.ScriptLoader=new t,t}(),Qa=function(t){var n=t;return{get:function(){return n},set:function(t){n=t}}},Za={},tu=Qa("en"),nu=function(){return ht(Za,tu.get())},eu={getData:function(){return st(Za,(function(t){return Ot({},t)}))},setCode:function(t){t&&tu.set(t)},getCode:function(){return tu.get()},add:function(t,n){var e=Za[t];e||(Za[t]=e={}),ct(n,(function(t,n){e[n.toLowerCase()]=t}))},translate:function(t){var n,e=nu().getOr({}),r=function(t){return P(t)?Object.prototype.toString.call(t):o(t)?"":""+t},o=function(t){return""===t||null==t},i=function(t){var n=r(t);return ht(e,n.toLowerCase()).map(r).getOr(n)},a=function(t){return t.replace(/{context:\w+}$/,"")};if(o(t))return"";if(E(n=t)&&vt(n,"raw"))return r(t.raw);if(function(t){return D(t)&&t.length>1}(t)){var u=t.slice(1);return a(i(t[0]).replace(/\{([0-9]+)\}/g,(function(t,n){return vt(u,n)?r(u[n]):t})))}return a(i(t))},isRtl:function(){return nu().bind((function(t){return ht(t,"_dir")})).exists((function(t){return"rtl"===t}))},hasCode:function(t){return vt(Za,t)}},ru=function(){var t=[],n={},e={},r=[],o=function(t,n){var e=G(r,(function(e){return e.name===t&&e.state===n}));$(e,(function(t){return t.callback()}))},i=function(t){var n;return e[t]&&(n=e[t].dependencies),n||[]},a=function(t,n){return"object"==typeof n?n:"string"==typeof t?{prefix:"",resource:n,suffix:""}:{prefix:t.prefix,resource:n,suffix:t.suffix}},u=function(t,r,c,s,l){if(!n[t]){var f="string"==typeof r?r:r.prefix+r.resource+r.suffix;0!==f.indexOf("/")&&-1===f.indexOf("://")&&(f=ru.baseURL+"/"+f),n[t]=f.substring(0,f.lastIndexOf("/"));var d=function(){o(t,"loaded"),function(t,n,e,r){var o=i(t);$(o,(function(t){var e=a(n,t);u(e.resource,e,void 0,void 0)})),e&&(r?e.call(r):e.call(Ja))}(t,r,c,s)};e[t]?d():Ja.ScriptLoader.add(f,d,s,l)}},c=function(t,o,i){void 0===i&&(i="added"),vt(e,t)&&"added"===i||vt(n,t)&&"loaded"===i?o():r.push({name:t,state:i,callback:o})};return{items:t,urls:n,lookup:e,_listeners:r,get:function(t){if(e[t])return e[t].instance},dependencies:i,requireLangPack:function(t,e){!1!==ru.languageLoad&&c(t,(function(){var r=eu.getCode();!r||e&&-1===(","+(e||"")+",").indexOf(","+r+",")||Ja.ScriptLoader.add(n[t]+"/langs/"+r+".js")}),"loaded")},add:function(n,r,i){var a=r;return t.push(a),e[n]={instance:a,dependencies:i},o(n,"added"),a},remove:function(t){delete n[t],delete e[t]},createUrl:a,addComponents:function(t,e){var r=n[t];$(e,(function(t){Ja.ScriptLoader.add(r+"/"+t)}))},load:u,waitFor:c}};ru.languageLoad=!0,ru.baseURL="",ru.PluginManager=ru(),ru.ThemeManager=ru();var ou=function(t,n){var e=null;return{cancel:function(){null!==e&&(clearTimeout(e),e=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===e&&(e=setTimeout((function(){t.apply(null,r),e=null}),n))}}},iu=function(t,n){var e=null;return{cancel:function(){null!==e&&(clearTimeout(e),e=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==e&&clearTimeout(e),e=setTimeout((function(){t.apply(null,r),e=null}),n)}}},au=function(t,n){var e=Ie(t,n);return void 0===e||""===e?[]:e.split(" ")},uu=function(t){return void 0!==t.dom.classList},cu=function(t,n){return function(t,n,e){var r=au(t,n).concat([e]);return Be(t,n,r.join(" ")),!0}(t,"class",n)},su=function(t,n){return function(t,n,e){var r=G(au(t,n),(function(t){return t!==e}));return r.length>0?Be(t,n,r.join(" ")):He(t,n),!1}(t,"class",n)},lu=function(t,n){uu(t)?t.dom.classList.add(n):cu(t,n)},fu=function(t){0===(uu(t)?t.dom.classList:function(t){return au(t,"class")}(t)).length&&He(t,"class")},du=function(t,n){return uu(t)&&t.dom.classList.contains(n)},mu=function(t,n){var e=[];return $(Ln(t),(function(t){n(t)&&(e=e.concat([t])),e=e.concat(mu(t,n))})),e},pu=function(t,n){return function(t,n){var e=void 0===n?document:n.dom;return yn(e)?[]:W(e.querySelectorAll(t),hn.fromDom)}(n,t)},gu=d("mce-annotation"),hu=d("data-mce-annotation"),vu=d("data-mce-annotation-uid"),bu=function(t,n){var e=t.selection.getRng(),r=hn.fromDom(e.startContainer),o=hn.fromDom(t.getBody()),i=n.fold((function(){return"."+gu()}),(function(t){return"["+hu()+'="'+t+'"]'})),a=Hn(r,e.startOffset).getOr(r),u=Br(a,i,(function(t){return xn(t,o)})),c=function(t,n){return function(t,n){var e=t.dom;return!(!e||!e.hasAttribute)&&e.hasAttribute(n)}(t,n)?k.some(Ie(t,n)):k.none()};return u.bind((function(n){return c(n,""+vu()).bind((function(e){return c(n,""+hu()).map((function(n){var r=yu(t,e);return{uid:e,name:n,elements:r}}))}))}))},yu=function(t,n){var e=hn.fromDom(t.getBody());return pu(e,"["+vu()+'="'+n+'"]')},xu=function(t,n){var e=Qa({}),r=function(t,n){o(t,(function(t){return n(t),t}))},o=function(t,n){var r=e.get(),o=n(r.hasOwnProperty(t)?r[t]:{listeners:[],previous:Qa(k.none())});r[t]=o,e.set(r)},i=iu((function(){var n,i,a,u=e.get(),c=(n=at(u),(a=L.call(n,0)).sort(i),a);$(c,(function(n){o(n,(function(e){var o=e.previous.get();return bu(t,k.some(n)).fold((function(){o.isSome()&&(!function(t){r(t,(function(n){$(n.listeners,(function(n){return n(!1,t)}))}))}(n),e.previous.set(k.none()))}),(function(t){var n=t.uid,i=t.name,a=t.elements;o.is(n)||(!function(t,n,e){r(t,(function(r){$(r.listeners,(function(r){return r(!0,t,{uid:n,nodes:W(e,(function(t){return t.dom}))})}))}))}(i,n,a),e.previous.set(k.some(n)))})),{previous:e.previous,listeners:e.listeners}}))}))}),30);t.on("remove",(function(){i.cancel()})),t.on("NodeChange",(function(){i.throttle()}));return{addListener:function(t,n){o(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([n])}}))}}},wu=function(t,n){t.on("init",(function(){t.serializer.addNodeFilter("span",(function(t){$(t,(function(t){(function(t){return k.from(t.attr(hu())).bind(n.lookup)})(t).each((function(n){!1===n.persistent&&t.unwrap()}))}))}))}))},Cu=0,_u=function(t){var n=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++Cu+String(n)},ku=function(t,n){var e,r,o=Dn(t).dom,i=hn.fromDom(o.createDocumentFragment()),a=(e=n,(r=(o||document).createElement("div")).innerHTML=e,Ln(hn.fromDom(r)));Zn(i,a),te(t),Qn(t,i)},Su=function(t,n){return hn.fromDom(t.dom.cloneNode(n))},Au=function(t){return Su(t,!1)},Ou=function(t){return Su(t,!0)},Tu=function(t,n,e){void 0===e&&(e=y);var r=new Ur(t,n),o=function(t){var n;do{n=r[t]()}while(n&&!_e(n)&&!e(n));return k.from(n).filter(_e)};return{current:function(){return k.from(r.current()).filter(_e)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},Eu=function(t,n){var e=n||function(n){return t.isBlock(n)||Oe(n)||De(n)},r=function(t,n,e,o){if(_e(t)){var i=o(t,n,t.data);if(-1!==i)return k.some({container:t,offset:i})}return e().bind((function(t){return r(t.container,t.offset,e,o)}))};return{backwards:function(t,n,o,i){var a=Tu(t,i,e);return r(t,n,(function(){return a.prev().map((function(t){return{container:t,offset:t.length}}))}),o).getOrNull()},forwards:function(t,n,o,i){var a=Tu(t,i,e);return r(t,n,(function(){return a.next().map((function(t){return{container:t,offset:0}}))}),o).getOrNull()}}},Du=function(t,n,e){return t.isSome()&&n.isSome()?k.some(e(t.getOrDie(),n.getOrDie())):k.none()},zu=Math.round,Mu=function(t){return t?{left:zu(t.left),top:zu(t.top),bottom:zu(t.bottom),right:zu(t.right),width:zu(t.width),height:zu(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Nu=function(t,n){return t=Mu(t),n||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},Ru=function(t,n,e){return t>=0&&t<=Math.min(n.height,e.height)/2},Bu=function(t,n){var e=Math.min(n.height/2,t.height/2);return t.bottom-e<n.top||!(t.top>n.bottom)&&Ru(n.top-t.bottom,t,n)},Pu=function(t,n){return t.top>n.bottom||!(t.bottom<n.top)&&Ru(n.bottom-t.top,t,n)},Iu=function(t,n,e){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom},Lu=function(t){var n=t.startContainer,e=t.startOffset;return n.hasChildNodes()&&t.endOffset===e+1?n.childNodes[e]:null},Hu=function(t,n){return 1===t.nodeType&&t.hasChildNodes()&&(n>=t.childNodes.length&&(n=t.childNodes.length-1),t=t.childNodes[n]),t},Fu=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Vu=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&Fu.test(t)},ju=ge,Uu=ko,Wu=ve("display","block table"),$u=ve("float","left right"),qu=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){for(var e=0;e<t.length;e++)if(!t[e](n))return!1;return!0}}(ju,Uu,g($u)),Gu=g(ve("white-space","pre pre-line pre-wrap")),Ku=_e,Xu=Oe,Yu=Ga.nodeIndex,Ju=Hu,Qu=function(t){return"createRange"in t?t.createRange():Ga.DOM.createRng()},Zu=function(t){return t&&/[\r\n\t ]/.test(t)},tc=function(t){return!!t.setStart&&!!t.setEnd},nc=function(t){var n,e=t.startContainer,r=t.startOffset;return!!(Zu(t.toString())&&Gu(e.parentNode)&&_e(e)&&(n=e.data,Zu(n[r-1])||Zu(n[r+1])))},ec=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},rc=function(t){var n,e=t.getClientRects();return n=e.length>0?Mu(e[0]):Mu(t.getBoundingClientRect()),!tc(t)&&Xu(t)&&ec(n)?function(t){var n=t.ownerDocument,e=Qu(n),r=n.createTextNode(" "),o=t.parentNode;o.insertBefore(r,t),e.setStart(r,0),e.setEnd(r,1);var i=Mu(e.getBoundingClientRect());return o.removeChild(r),i}(t):ec(n)&&tc(t)?function(t){var n=t.startContainer,e=t.endContainer,r=t.startOffset,o=t.endOffset;if(n===e&&_e(e)&&0===r&&1===o){var i=t.cloneRange();return i.setEndAfter(e),rc(i)}return null}(t):n},oc=function(t,n){var e=Nu(t,n);return e.width=1,e.right=e.left+1,e},ic=function(t){var n,e,r=[],o=function(t){var n,e;0!==t.height&&(r.length>0&&(n=t,e=r[r.length-1],n.left===e.left&&n.top===e.top&&n.bottom===e.bottom&&n.right===e.right)||r.push(t))},i=function(t,n){var e=Qu(t.ownerDocument);if(n<t.data.length){if(Vu(t.data[n]))return r;if(Vu(t.data[n-1])&&(e.setStart(t,n),e.setEnd(t,n+1),!nc(e)))return o(oc(rc(e),!1)),r}n>0&&(e.setStart(t,n-1),e.setEnd(t,n),nc(e)||o(oc(rc(e),!1))),n<t.data.length&&(e.setStart(t,n),e.setEnd(t,n+1),nc(e)||o(oc(rc(e),!0)))};if(Ku(t.container()))return i(t.container(),t.offset()),r;if(ju(t.container()))if(t.isAtEnd())e=Ju(t.container(),t.offset()),Ku(e)&&i(e,e.data.length),qu(e)&&!Xu(e)&&o(oc(rc(e),!1));else{if(e=Ju(t.container(),t.offset()),Ku(e)&&i(e,0),qu(e)&&t.isAtEnd())return o(oc(rc(e),!1)),r;n=Ju(t.container(),t.offset()-1),qu(n)&&!Xu(n)&&(Wu(n)||Wu(e)||!qu(e))&&o(oc(rc(n),!1)),qu(e)&&o(oc(rc(e),!0))}return r},ac=function(t,n,e){var r=function(){return e||(e=ic(ac(t,n))),e};return{container:d(t),offset:d(n),toRange:function(){var e=Qu(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return Ku(t),0===n},isAtEnd:function(){return Ku(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return Ju(t,e?n-1:n)}}};ac.fromRangeStart=function(t){return ac(t.startContainer,t.startOffset)},ac.fromRangeEnd=function(t){return ac(t.endContainer,t.endOffset)},ac.after=function(t){return ac(t.parentNode,Yu(t)+1)},ac.before=function(t){return ac(t.parentNode,Yu(t))},ac.isAbove=function(t,n){return Du(rt(n.getClientRects()),ot(t.getClientRects()),Bu).getOr(!1)},ac.isBelow=function(t,n){return Du(ot(n.getClientRects()),rt(t.getClientRects()),Pu).getOr(!1)},ac.isAtStart=function(t){return!!t&&t.isAtStart()},ac.isAtEnd=function(t){return!!t&&t.isAtEnd()},ac.isTextPosition=function(t){return!!t&&_e(t.container())},ac.isElementPosition=function(t){return!1===ac.isTextPosition(t)};var uc,cc=function(t,n){_e(n)&&0===n.data.length&&t.remove(n)},sc=function(t,n,e){Ae(e)?function(t,n,e){var r=k.from(e.firstChild),o=k.from(e.lastChild);n.insertNode(e),r.each((function(n){return cc(t,n.previousSibling)})),o.each((function(n){return cc(t,n.nextSibling)}))}(t,n,e):function(t,n,e){n.insertNode(e),cc(t,e.previousSibling),cc(t,e.nextSibling)}(t,n,e)},lc=_e,fc=ye,dc=Ga.nodeIndex,mc=function(t){var n=t.parentNode;return fc(n)?mc(n):n},pc=function(t){return t?kt(t.childNodes,(function(t,n){return fc(n)&&"BR"!==n.nodeName?t=t.concat(pc(n)):t.push(n),t}),[]):[]},gc=function(t){return function(n){return t===n}},hc=function(t){return(lc(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var n,e;n=pc(mc(t)),e=St(n,gc(t),t),n=n.slice(0,e+1);var r=kt(n,(function(t,e,r){return lc(e)&&lc(n[r-1])&&t++,t}),0);return n=Ct(n,he([t.nodeName])),(e=St(n,gc(t),t))-r}(t)+"]"},vc=function(t,n){var e,r,o,i,a,u=[];return e=n.container(),r=n.offset(),lc(e)?o=function(t,n){for(;(t=t.previousSibling)&&lc(t);)n+=t.data.length;return n}(e,r):(r>=(i=e.childNodes).length?(o="after",r=i.length-1):o="before",e=i[r]),u.push(hc(e)),a=function(t,n,e){var r=[];for(n=n.parentNode;n!==t&&(!e||!e(n));n=n.parentNode)r.push(n);return r}(t,e),a=Ct(a,g(ye)),(u=u.concat(wt(a,(function(t){return hc(t)})))).reverse().join("/")+","+o},bc=function(t,n){var e;if(!n)return null;var r=n.split(","),o=r[0].split("/");e=r.length>1?r[1]:"before";var i=kt(o,(function(t,n){var e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(n);return e?("text()"===e[1]&&(e[1]="#text"),function(t,n,e){var r=pc(t);return r=Ct(r,(function(t,n){return!lc(t)||!lc(r[n-1])})),(r=Ct(r,he([n])))[e]}(t,e[1],parseInt(e[2],10))):null}),t);return i?lc(i)?function(t,n){for(var e,r=t,o=0;lc(r);){if(e=r.data.length,n>=o&&n<=o+e){t=r,n-=o;break}if(!lc(r.nextSibling)){t=r,n=e;break}o+=e,r=r.nextSibling}return lc(t)&&n>t.data.length&&(n=t.data.length),ac(t,n)}(i,parseInt(e,10)):(e="after"===e?dc(i)+1:dc(i),ac(i.parentNode,e)):null},yc=De,xc=function(t,n,e,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],c=[],s=0,l=t.getRoot();for(_e(a)?c.push(e?function(t,n,e){var r,o;for(o=t(n.data.slice(0,e)).length,r=n.previousSibling;r&&_e(r);r=r.previousSibling)o+=t(r.data).length;return o}(n,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(s=1,u=Math.max(0,i.length-1)),c.push(t.nodeIndex(i[u],e)+s));a&&a!==l;a=a.parentNode)c.push(t.nodeIndex(a,e));return c},wc=function(t,n,e){var r=0;return pn.each(t.select(n),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==e&&void r++})),r},Cc=function(t,n){var e,r,o,i=n?"start":"end";e=t[i+"Container"],r=t[i+"Offset"],ge(e)&&"TR"===e.nodeName&&(e=(o=e.childNodes)[Math.min(n?r:r-1,o.length-1)])&&(r=n?0:e.childNodes.length,t["set"+(n?"Start":"End")](e,r))},_c=function(t){return Cc(t,!0),Cc(t,!1),t},kc=function(t,n){var e;if(ge(t)&&(t=Hu(t,n),yc(t)))return t;if(uo(t)){if(_e(t)&&io(t)&&(t=t.parentNode),e=t.previousSibling,yc(e))return e;if(e=t.nextSibling,yc(e))return e}},Sc=function(t,n,e){var r=e.getNode(),o=r?r.nodeName:null,i=e.getRng();if(yc(r)||"IMG"===o)return{name:o,index:wc(e.dom,o,r)};var a=function(t){return kc(t.startContainer,t.startOffset)||kc(t.endContainer,t.endOffset)}(i);return a?{name:o=a.tagName,index:wc(e.dom,o,a)}:function(t,n,e,r){var o=n.dom,i={};return i.start=xc(o,t,e,r,!0),n.isCollapsed()||(i.end=xc(o,t,e,r,!1)),i}(t,e,n,i)},Ac=function(t,n,e){var r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return e?t.create("span",r,"&#xFEFF;"):t.create("span",r)},Oc=function(t,n){var e=t.dom,r=t.getRng(),o=e.uniqueId(),i=t.isCollapsed(),a=t.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:wc(e,u,a)};var c=_c(r.cloneRange());if(!i){c.collapse(!1);var s=Ac(e,o+"_end",n);sc(e,c,s)}(r=_c(r)).collapse(!0);var l=Ac(e,o+"_start",n);return sc(e,r,l),t.moveToBookmark({id:o,keep:!0}),{id:o}},Tc=function(t,n,e){return 2===n?Sc(eo,e,t):3===n?function(t){var n=t.getRng();return{start:vc(t.dom.getRoot(),ac.fromRangeStart(n)),end:vc(t.dom.getRoot(),ac.fromRangeEnd(n))}}(t):n?function(t){return{rng:t.getRng()}}(t):Oc(t,!1)},Ec=p(Sc,m,!0),Dc=Ga.DOM,zc=function(t,n,e){var r=t.getParam(n,e);if(-1!==r.indexOf("=")){var o=t.getParam(n,"","hash");return o.hasOwnProperty(t.id)?o[t.id]:e}return r},Mc=function(t){return t.getParam("content_security_policy","")},Nc=function(t){if(t.getParam("force_p_newlines",!1))return"p";var n=t.getParam("forced_root_block","p");return!1===n?"":!0===n?"p":n},Rc=function(t){return t.getParam("forced_root_block_attrs",{})},Bc=function(t){return t.getParam("automatic_uploads",!0,"boolean")},Pc=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},Ic=function(t){return t.getParam("icons","","string")},Lc=function(t){return t.getParam("images_upload_url","","string")},Hc=function(t){return t.getParam("images_upload_base_path","","string")},Fc=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},Vc=function(t){return t.getParam("images_upload_handler",null,"function")},jc=function(t){return t.getParam("content_css_cors",!1,"boolean")},Uc=function(t){return t.getParam("referrer_policy","","string")},Wc=function(t){return t.getParam("language","en","string")},$c=function(t){return t.getParam("indent_use_margin",!1)},qc=function(t){var n=t.getParam("font_css",[]);return D(n)?n:W(n.split(","),Lt)},Gc=function(t){var n=t.getParam("object_resizing");return!1!==n&&!sn.iOS&&(T(n)?n:"table,img,figure.image,div,video,iframe")},Kc=function(t){return t.getParam("event_root")},Xc=function(t){return t.getParam("theme")},Yc=function(t){return t.getParam("validate")},Jc=function(t){return!1!==t.getParam("inline_boundaries")},Qc=function(t){return t.getParam("content_css_cors")},Zc=function(t){return t.getParam("plugins","","string")},ts=ge,ns=_e,es=function(t){var n=t.parentNode;n&&n.removeChild(t)},rs=function(t){var n=eo(t);return{count:t.length-n.length,text:n}},os=function(t){for(var n;-1!==(n=t.data.lastIndexOf("\ufeff"));)t.deleteData(n,1)},is=function(t,n){return ss(t),n},as=function(t,n){var e=n.container(),r=function(t,n){var e=V(t,n);return-1===e?k.none():k.some(e)}(it(e.childNodes),t).map((function(t){return t<n.offset()?ac(e,n.offset()-1):n})).getOr(n);return ss(t),r},us=function(t,n){return ns(t)&&n.container()===t?function(t,n){var e=rs(t.data.substr(0,n.offset())),r=rs(t.data.substr(n.offset()));return(e.text+r.text).length>0?(os(t),ac(t,n.offset()-e.count)):n}(t,n):is(t,n)},cs=function(t,n){return ac.isTextPosition(n)?us(t,n):function(t,n){return n.container()===t.parentNode?as(t,n):is(t,n)}(t,n)},ss=function(t){ts(t)&&uo(t)&&(co(t)?t.removeAttribute("data-mce-caret"):es(t)),ns(t)&&(os(t),0===t.data.length&&es(t))},ls=Zt().browser,fs=De,ds=Me,ms=ze,ps=function(t,n,e){var r,o,i,a,u,c=Nu(n.getBoundingClientRect(),e);return"BODY"===t.tagName?(r=t.ownerDocument.documentElement,o=t.scrollLeft||r.scrollLeft,i=t.scrollTop||r.scrollTop):(u=t.getBoundingClientRect(),o=t.scrollLeft-u.left,i=t.scrollTop-u.top),c.left+=o,c.right+=o,c.top+=i,c.bottom+=i,c.width=1,(a=n.offsetWidth-n.clientWidth)>0&&(e&&(a*=-1),c.left+=a,c.right+=a),c},gs=function(t,n,e,r){var o,i,a=Qa(k.none()),u=Nc(t),c=u.length>0?u:"p",s=function(){!function(t){for(var n=pu(hn.fromDom(t),"*[contentEditable=false],video,audio,embed,object"),e=0;e<n.length;e++){var r,o=n[e].dom,i=o.previousSibling;if(po(i))1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1);if(i=o.nextSibling,mo(i))1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1)}}(n),i&&(ss(i),i=null),a.get().each((function(t){Fa(t.caret).remove(),a.set(k.none())})),o&&(Fr.clearInterval(o),o=null)},l=function(){o=Fr.setInterval((function(){r()?Fa("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Fa("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")}),500)};return{show:function(t,r){var o,u;if(s(),ms(r))return null;if(!e(r))return i=function(t,n){var e,r=t.ownerDocument.createTextNode("\ufeff"),o=t.parentNode;if(n){if(e=t.previousSibling,oo(e)){if(uo(e))return e;if(po(e))return e.splitText(e.data.length-1)}o.insertBefore(r,t)}else{if(e=t.nextSibling,oo(e)){if(uo(e))return e;if(mo(e))return e.splitText(1),e}t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r)}return r}(r,t),u=r.ownerDocument.createRange(),vs(i.nextSibling)?(u.setStart(i,0),u.setEnd(i,0)):(u.setStart(i,1),u.setEnd(i,1)),u;i=fo(c,r,t),o=ps(n,r,t),Fa(i).css("top",o.top);var f=Fa('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(n)[0];return a.set(k.some({caret:f,element:r,before:t})),a.get().each((function(n){t&&Fa(n.caret).addClass("mce-visual-caret-before")})),l(),(u=r.ownerDocument.createRange()).setStart(i,0),u.setEnd(i,0),u},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each((function(t){var e=ps(n,t.element,t.before);Fa(t.caret).css(Ot({},e))}))},destroy:function(){return Fr.clearInterval(o)}}},hs=function(){return ls.isIE()||ls.isEdge()||ls.isFirefox()},vs=function(t){return fs(t)||ds(t)},bs=function(t){return vs(t)||xe(t)&&hs()},ys=De,xs=Me,ws=ve("display","block table table-cell table-caption list-item"),Cs=uo,_s=io,ks=ge,Ss=ko,As=function(t){return t>0},Os=function(t){return t<0},Ts=function(t,n){for(var e;e=t(n);)if(!_s(e))return e;return null},Es=function(t,n,e,r,o){var i=new Ur(t,r),a=ys(t)||_s(t);if(Os(n)){if(a&&e(t=Ts(i.prev.bind(i),!0)))return t;for(;t=Ts(i.prev.bind(i),o);)if(e(t))return t}if(As(n)){if(a&&e(t=Ts(i.next.bind(i),!0)))return t;for(;t=Ts(i.next.bind(i),o);)if(e(t))return t}return null},Ds=function(t,n){for(;t&&t!==n;){if(ws(t))return t;t=t.parentNode}return null},zs=function(t,n,e){return Ds(t.container(),e)===Ds(n.container(),e)},Ms=function(t,n){if(!n)return null;var e=n.container(),r=n.offset();return ks(e)?e.childNodes[r+t]:null},Ns=function(t,n){var e=n.ownerDocument.createRange();return t?(e.setStartBefore(n),e.setEndBefore(n)):(e.setStartAfter(n),e.setEndAfter(n)),e},Rs=function(t,n,e){return Ds(n,t)===Ds(e,t)},Bs=function(t,n,e){var r,o;for(o=t?"previousSibling":"nextSibling";e&&e!==n;){if(r=e[o],Cs(r)&&(r=r[o]),ys(r)||xs(r)){if(Rs(n,r,e))return r;break}if(Ss(r))break;e=e.parentNode}return null},Ps=p(Ns,!0),Is=p(Ns,!1),Ls=function(t,n,e){var r,o,i,a=p(Bs,!0,n),u=p(Bs,!1,n);o=e.startContainer;var c=e.startOffset;if(io(o)){if(ks(o)||(o=o.parentNode),"before"===(i=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,bs(r)))return Ps(r);if("after"===i&&(r=o.previousSibling,bs(r)))return Is(r)}if(!e.collapsed)return e;if(_e(o)){if(Cs(o)){if(1===t){if(r=u(o))return Ps(r);if(r=a(o))return Is(r)}if(-1===t){if(r=a(o))return Is(r);if(r=u(o))return Ps(r)}return e}if(po(o)&&c>=o.data.length-1)return 1===t&&(r=u(o))?Ps(r):e;if(mo(o)&&c<=1)return-1===t&&(r=a(o))?Is(r):e;if(c===o.data.length)return(r=u(o))?Ps(r):e;if(0===c)return(r=a(o))?Is(r):e}return e},Hs=function(t,n){return k.from(Ms(t?0:-1,n)).filter(ys)},Fs=function(t,n,e){var r=Ls(t,n,e);return-1===t?ac.fromRangeStart(r):ac.fromRangeEnd(r)},Vs=function(t){return k.from(t.getNode()).map(hn.fromDom)},js=function(t,n){for(;n=t(n);)if(n.isVisible())return n;return n},Us=function(t,n){var e=zs(t,n);return!(e||!Oe(t.getNode()))||e};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(uc||(uc={}));var Ws,$s=De,qs=_e,Gs=ge,Ks=Oe,Xs=ko,Ys=function(t){return wo(t)||function(t){return!!So(t)&&!0!==X(it(t.getElementsByTagName("*")),(function(t,n){return t||ho(n)}),!1)}(t)},Js=Ao,Qs=function(t,n){return t.hasChildNodes()&&n<t.childNodes.length?t.childNodes[n]:null},Zs=function(t,n){if(As(t)){if(Xs(n.previousSibling)&&!qs(n.previousSibling))return ac.before(n);if(qs(n))return ac(n,0)}if(Os(t)){if(Xs(n.nextSibling)&&!qs(n.nextSibling))return ac.after(n);if(qs(n))return ac(n,n.data.length)}return Os(t)?Ks(n)?ac.before(n):ac.after(n):ac.before(n)},tl=function(t,n,e){var r,o,i,a;if(!Gs(e)||!n)return null;if(n.isEqual(ac.after(e))&&e.lastChild){if(a=ac.after(e.lastChild),Os(t)&&Xs(e.lastChild)&&Gs(e.lastChild))return Ks(e.lastChild)?ac.before(e.lastChild):a}else a=n;var u=a.container(),c=a.offset();if(qs(u)){if(Os(t)&&c>0)return ac(u,--c);if(As(t)&&c<u.length)return ac(u,++c);r=u}else{if(Os(t)&&c>0&&(o=Qs(u,c-1),Xs(o)))return!Ys(o)&&(i=Es(o,t,Js,o))?qs(i)?ac(i,i.data.length):ac.after(i):qs(o)?ac(o,o.data.length):ac.before(o);if(As(t)&&c<u.childNodes.length&&(o=Qs(u,c),Xs(o)))return Ks(o)?function(t,n){var e=n.nextSibling;return e&&Xs(e)?qs(e)?ac(e,0):ac.before(e):tl(uc.Forwards,ac.after(n),t)}(e,o):!Ys(o)&&(i=Es(o,t,Js,o))?qs(i)?ac(i,0):ac.before(i):qs(o)?ac(o,0):ac.after(o);r=o||a.getNode()}if((As(t)&&a.isAtEnd()||Os(t)&&a.isAtStart())&&(r=Es(r,t,x,e,!0),Js(r,e)))return Zs(t,r);o=Es(r,t,Js,e);var s=At(G(function(t,n){for(var e=[];t&&t!==n;)e.push(t),t=t.parentNode;return e}(u,e),$s));return!s||o&&s.contains(o)?o?Zs(t,o):null:a=As(t)?ac.after(s):ac.before(s)},nl=function(t){return{next:function(n){return tl(uc.Forwards,n,t)},prev:function(n){return tl(uc.Backwards,n,t)}}},el=function(t){return ac.isTextPosition(t)?0===t.offset():ko(t.getNode())},rl=function(t){if(ac.isTextPosition(t)){var n=t.container();return t.offset()===n.data.length}return ko(t.getNode(!0))},ol=function(t,n){return!ac.isTextPosition(t)&&!ac.isTextPosition(n)&&t.getNode()===n.getNode(!0)},il=function(t,n,e){return t?!ol(n,e)&&(r=n,!(!ac.isTextPosition(r)&&Oe(r.getNode())))&&rl(n)&&el(e):!ol(e,n)&&el(n)&&rl(e);var r},al=function(t,n,e){var r=nl(n);return k.from(t?r.next(e):r.prev(e))},ul=function(t,n,e){return al(t,n,e).bind((function(r){return zs(e,r,n)&&il(t,e,r)?al(t,n,r):k.some(r)}))},cl=function(t,n,e,r){return ul(t,n,e).bind((function(e){return r(e)?cl(t,n,e,r):k.some(e)}))},sl=function(t,n){var e,r=t?n.firstChild:n.lastChild;return _e(r)?k.some(ac(r,t?0:r.data.length)):r?ko(r)?k.some(t?ac.before(r):Oe(e=r)?ac.before(e):ac.after(e)):function(t,n,e){var r=t?ac.before(e):ac.after(e);return al(t,n,r)}(t,n,r):k.none()},ll=p(al,!0),fl=p(al,!1),dl=p(sl,!0),ml=p(sl,!1),pl=function(t){return ge(t)&&"_mce_caret"===t.id},gl=function(t,n){for(;n&&n!==t;){if("_mce_caret"===n.id)return n;n=n.parentNode}return null},hl=function(t,n){return ge(n)&&t.isBlock(n)&&!n.innerHTML&&!sn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},vl=function(t,n){return ml(t).fold(y,(function(t){return n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),!0}))},bl=function(t,n,e){return!(!function(t){return!1===t.hasChildNodes()}(n)||!gl(t,n))&&(function(t,n){var e=t.ownerDocument.createTextNode("\ufeff");t.appendChild(e),n.setStart(e,0),n.setEnd(e,0)}(n,e),!0)},yl=function(t,n,e,r){var o,i,a,u,c=e[n?"start":"end"],s=t.getRoot();if(c){for(a=c[0],i=s,o=c.length-1;o>=1;o--){if(u=i.childNodes,bl(s,i,r))return!0;if(c[o]>u.length-1)return!!bl(s,i,r)||vl(i,r);i=u[c[o]]}3===i.nodeType&&(a=Math.min(c[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(c[0],i.childNodes.length)),n?r.setStart(i,a):r.setEnd(i,a)}return!0},xl=function(t){return _e(t)&&t.data.length>0},wl=function(t,n,e){var r,o,i,a,u,c,s=t.get(e.id+"_"+n),l=e.keep;if(s){if(r=s.parentNode,"start"===n?(l?s.hasChildNodes()?(r=s.firstChild,o=1):xl(s.nextSibling)?(r=s.nextSibling,o=0):xl(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=t.nodeIndex(s)+1):o=t.nodeIndex(s),u=r,c=o):(l?s.hasChildNodes()?(r=s.firstChild,o=1):xl(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=t.nodeIndex(s)):o=t.nodeIndex(s),u=r,c=o),!l){for(a=s.previousSibling,i=s.nextSibling,pn.each(pn.grep(s.childNodes),(function(t){_e(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));s=t.get(e.id+"_"+n);)t.remove(s,!0);a&&i&&a.nodeType===i.nodeType&&_e(a)&&!sn.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),t.remove(i),u=a,c=o)}return k.some(ac(u,c))}return k.none()},Cl=function(t,n){var e=t.dom;if(n){if(function(t){return pn.isArray(t.start)}(n))return function(t,n){var e=t.createRng();return yl(t,!0,n,e)&&yl(t,!1,n,e)?k.some(e):k.none()}(e,n);if(function(t){return T(t.start)}(n))return k.some(function(t,n){var e,r=t.createRng();return e=bc(t.getRoot(),n.start),r.setStart(e.container(),e.offset()),e=bc(t.getRoot(),n.end),r.setEnd(e.container(),e.offset()),r}(e,n));if(function(t){return t.hasOwnProperty("id")}(n))return function(t,n){var e=wl(t,"start",n),r=wl(t,"end",n);return Du(e,r.or(e),(function(n,e){var r=t.createRng();return r.setStart(hl(t,n.container()),n.offset()),r.setEnd(hl(t,e.container()),e.offset()),r}))}(e,n);if(function(t){return t.hasOwnProperty("name")}(n))return function(t,n){return k.from(t.select(n.name)[n.index]).map((function(n){var e=t.createRng();return e.selectNode(n),e}))}(e,n);if(function(t){return t.hasOwnProperty("rng")}(n))return k.some(n.rng)}return k.none()},_l=function(t,n,e){return Tc(t,n,e)},kl=function(t,n){Cl(t,n).each((function(n){t.setRng(n)}))},Sl=function(t){return ge(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Al=(Ws=" ",function(t){return Ws===t}),Ol=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},Tl=function(t){return!Ol(t)&&!Al(t)},El=function(t){return!!t.nodeType},Dl=function(t,n,e){var r,o,i,a=e.startOffset,u=e.startContainer;if((e.startContainer!==e.endContainer||!function(t){return t&&/^(IMG)$/.test(t.nodeName)}(e.startContainer.childNodes[e.startOffset]))&&1===u.nodeType)for(a<(i=u.childNodes).length?(u=i[a],r=new Ur(u,t.getParent(u,t.isBlock))):(u=i[i.length-1],(r=new Ur(u,t.getParent(u,t.isBlock))).next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!Rl(o))return e.setStart(o,0),void n.setRng(e)},zl=function(t,n,e){if(t){var r=n?"nextSibling":"previousSibling";for(t=e?t:t[r];t;t=t[r])if(1===t.nodeType||!Rl(t))return t}},Ml=function(t,n){return El(n)&&(n=n.nodeName),!!t.schema.getTextBlockElements()[n.toLowerCase()]},Nl=function(t,n,e){return t.schema.isValidChild(n,e)},Rl=function(t,n){if(void 0===n&&(n=!1),B(t)&&_e(t)){var e=n?t.data.replace(/ /g," "):t.data;return To(e)}return!1},Bl=function(t,n){return"string"!=typeof t?t=t(n):n&&(t=t.replace(/%(\w+)/g,(function(t,e){return n[e]||t}))),t},Pl=function(t,n){return n=n||"",t=""+((t=t||"").nodeName||t),n=""+(n.nodeName||n),t.toLowerCase()===n.toLowerCase()},Il=function(t,n,e){return"color"!==e&&"backgroundColor"!==e||(n=t.toHex(n)),"fontWeight"===e&&700===n&&(n="bold"),"fontFamily"===e&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},Ll=function(t,n,e){return Il(t,t.getStyle(n,e),e)},Hl=function(t,n){var e;return t.getParent(n,(function(n){return(e=t.getStyle(n,"text-decoration"))&&"none"!==e})),e},Fl=function(t,n,e){return t.getParents(n,e,t.getRoot())},Vl=function(t,n,e){var r=["inline","block","selector","attributes","styles","classes"],o=function(t){return pt(t,(function(t,n){return U(r,(function(t){return t===n}))}))};return U(t.formatter.get(n),(function(n){var r=o(n);return U(t.formatter.get(e),(function(t){var n=o(t);return function(t,n,e){return void 0===e&&(e=s),c(e).eq(t,n)}(r,n)}))}))},jl=function(t){return bt(t,"block")},Ul=function(t){return bt(t,"selector")},Wl=function(t){return bt(t,"inline")},$l=Sl,ql=Fl,Gl=Rl,Kl=Ml,Xl=function(t,n){for(var e=n;e;){if(ge(e)&&t.getContentEditable(e))return"false"===t.getContentEditable(e)?e:n;e=e.parentNode}return n},Yl=function(t,n,e,r){for(var o=n.data,i=e;t?i>=0:i<o.length;t?i--:i++)if(r(o.charAt(i)))return t?i+1:i;return-1},Jl=function(t,n,e){return Yl(t,n,e,(function(t){return Al(t)||Ol(t)}))},Ql=function(t,n,e){return Yl(t,n,e,Tl)},Zl=function(t,n,e,r,o,i){var a,u=t.getParent(e,t.isBlock)||n,c=function(n,e,r){var i=Eu(t),c=o?i.backwards:i.forwards;return k.from(c(n,e,(function(t,n){return $l(t.parentNode)?-1:(a=t,r(o,t,n))}),u))};return c(e,r,Jl).bind((function(t){return i?c(t.container,t.offset+(o?-1:0),Ql):k.some(t)})).orThunk((function(){return a?k.some({container:a,offset:o?0:a.length}):k.none()}))},tf=function(t,n,e,r,o){_e(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=ql(t,r),a=0;a<i.length;a++)for(var u=0;u<n.length;u++){var c=n[u];if((!("collapsed"in c)||c.collapsed===e.collapsed)&&t.is(i[a],c.selector))return i[a]}return r},nf=function(t,n,e,r){var o,i=t.dom,a=i.getRoot();if(n[0].wrapper||(o=i.getParent(e,n[0].block,a)),!o){var u=i.getParent(e,"LI,TD,TH");o=i.getParent(_e(e)?e.parentNode:e,(function(n){return n!==a&&Kl(t,n)}),u)}if(o&&n[0].wrapper&&(o=ql(i,o,"ul,ol").reverse()[0]||o),!o)for(o=e;o[r]&&!i.isBlock(o[r])&&(o=o[r],!Pl(o,"br")););return o||e},ef=function(t,n,e,r){var o=e.parentNode;return!B(e[r])&&(!(o!==n&&!R(o)&&!t.isBlock(o))||ef(t,n,o,r))},rf=function(t,n,e,r,o){var i,a,u=e,c=o?"previousSibling":"nextSibling",s=t.getRoot();if(_e(e)&&!Gl(e)&&(o?r>0:r<e.data.length))return e;for(;;){if(!n[0].block_expand&&t.isBlock(u))return u;for(i=u[c];i;i=i[c]){var l=_e(i)&&!ef(t,s,i,c);if(!$l(i)&&(!Oe(a=i)||!a.getAttribute("data-mce-bogus")||a.nextSibling)&&!Gl(i,l))return u}if(u===s||u.parentNode===s){e=u;break}u=u.parentNode}return e},of=function(t){return $l(t.parentNode)||$l(t)},af=function(t,n,e,r){void 0===r&&(r=!1);var o=n.startContainer,i=n.startOffset,a=n.endContainer,u=n.endOffset,c=t.dom;(ge(o)&&o.hasChildNodes()&&(o=Hu(o,i),_e(o)&&(i=0)),ge(a)&&a.hasChildNodes()&&(a=Hu(a,n.collapsed?u:u-1),_e(a)&&(u=a.nodeValue.length)),o=Xl(c,o),a=Xl(c,a),of(o)&&(o=$l(o)?o:o.parentNode,o=n.collapsed?o.previousSibling||o:o.nextSibling||o,_e(o)&&(i=n.collapsed?o.length:0)),of(a)&&(a=$l(a)?a:a.parentNode,a=n.collapsed?a.nextSibling||a:a.previousSibling||a,_e(a)&&(u=n.collapsed?0:a.length)),n.collapsed)&&(Zl(c,t.getBody(),o,i,!0,r).each((function(t){var n=t.container,e=t.offset;o=n,i=e})),Zl(c,t.getBody(),a,u,!1,r).each((function(t){var n=t.container,e=t.offset;a=n,u=e})));return(e[0].inline||e[0].block_expand)&&(e[0].inline&&_e(o)&&0!==i||(o=rf(c,e,o,i,!0)),e[0].inline&&_e(a)&&u!==a.nodeValue.length||(a=rf(c,e,a,u,!1))),e[0].selector&&!1!==e[0].expand&&!e[0].inline&&(o=tf(c,e,n,o,"previousSibling"),a=tf(c,e,n,a,"nextSibling")),(e[0].block||e[0].selector)&&(o=nf(t,e,o,"previousSibling"),a=nf(t,e,a,"nextSibling"),e[0].block&&(c.isBlock(o)||(o=rf(c,e,o,i,!0)),c.isBlock(a)||(a=rf(c,e,a,u,!1)))),ge(o)&&(i=c.nodeIndex(o),o=o.parentNode),ge(a)&&(u=c.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},uf=function(t,n){var e=t.childNodes;return n>=e.length?n=e.length-1:n<0&&(n=0),e[n]||t},cf=function(t,n,e){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset,u=function(t){var n;return 3===(n=t[0]).nodeType&&n===r&&o>=n.nodeValue.length&&t.splice(0,1),n=t[t.length-1],0===a&&t.length>0&&n===i&&3===n.nodeType&&t.splice(t.length-1,1),t},c=function(t,n,e){for(var r=[];t&&t!==e;t=t[n])r.push(t);return r},s=function(t,n){do{if(t.parentNode===n)return t;t=t.parentNode}while(t)},l=function(t,n,r){for(var o=r?"nextSibling":"previousSibling",i=t,a=i.parentNode;i&&i!==n;i=a){a=i.parentNode;var s=c(i===t?i:i[o],o);s.length&&(r||s.reverse(),e(u(s)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=uf(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=uf(i,a-1)),r===i)return e(u([r]));for(var f=t.findCommonAncestor(r,i),d=r;d;d=d.parentNode){if(d===i)return l(r,f,!0);if(d===f)break}for(d=i;d;d=d.parentNode){if(d===r)return l(i,f);if(d===f)break}var m=s(r,f)||r,p=s(i,f)||i;l(r,m,!0);var g=c(m===r?m:m.nextSibling,"nextSibling",p===i?p.nextSibling:p);g.length&&e(u(g)),l(i,p)},sf=function(t){var n=[];if(t)for(var e=0;e<t.rangeCount;e++)n.push(t.getRangeAt(e));return n},lf=function(t){return G(function(t){return Q(t,(function(t){var n=Lu(t);return n?[hn.fromDom(n)]:[]}))}(t),Zr)},ff=function(t,n){var e=pu(n,"td[data-mce-selected],th[data-mce-selected]");return e.length>0?e:lf(t)},df=function(t){return ff(sf(t.selection.getSel()),hn.fromDom(t.getBody()))},mf=function(t){return Fn(t).fold(d([t]),(function(n){return[t].concat(mf(n))}))},pf=function(t){return Vn(t).fold(d([t]),(function(n){return"br"===_n(n)?Rn(n).map((function(n){return[t].concat(pf(n))})).getOr([]):[t].concat(pf(n))}))},gf=function(t,n){return Du(function(t){var n=t.startContainer,e=t.startOffset;return _e(n)?0===e?k.some(hn.fromDom(n)):k.none():k.from(n.childNodes[e]).map(hn.fromDom)}(n),function(t){var n=t.endContainer,e=t.endOffset;return _e(n)?e===n.data.length?k.some(hn.fromDom(n)):k.none():k.from(n.childNodes[e-1]).map(hn.fromDom)}(n),(function(n,e){var r=Y(mf(t),p(xn,n)),o=Y(pf(t),p(xn,e));return r.isSome()&&o.isSome()})).getOr(!1)},hf=function(t,n,e,r){var o=e,i=new Ur(e,o),a=pt(t.schema.getMoveCaretBeforeOnEnterElements(),(function(t,n){return!j(["td","th","table"],n.toLowerCase())}));do{if(_e(e)&&0!==pn.trim(e.nodeValue).length)return void(r?n.setStart(e,0):n.setEnd(e,e.nodeValue.length));if(a[e.nodeName])return void(r?n.setStartBefore(e):"BR"===e.nodeName?n.setEndBefore(e):n.setEndAfter(e))}while(e=r?i.next():i.prev());"BODY"===o.nodeName&&(r?n.setStart(o,0):n.setEnd(o,o.childNodes.length))},vf=function(t){var n=t.selection.getSel();return n&&n.rangeCount>0},bf=function(t,n){var e=df(t);e.length>0?$(e,(function(e){var r=e.dom,o=t.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),n(o,!0)})):n(t.selection.getRng(),!1)},yf=function(t,n,e){var r=Oc(t,n);e(r),t.moveToBookmark(r)},xf=function(t,n){var e=function(n){return t(n)?k.from(n.dom.nodeValue):k.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+n+" value of a "+n+" node");return e(r).getOr("")},getOption:e,set:function(e,r){if(!t(e))throw new Error("Can only set raw "+n+" value of a "+n+" node");e.dom.nodeValue=r}}}(On,"text"),wf=function(t){return xf.get(t)},Cf=function(t,n,e,r){return Nn(n).fold((function(){return"skipping"}),(function(o){return"br"===r||function(t){return On(t)&&"\ufeff"===wf(t)}(n)?"valid":function(t){return An(t)&&du(t,gu())}(n)?"existing":pl(n.dom)?"caret":Nl(t,e,r)&&Nl(t,_n(o),e)?"valid":"invalid-child"}))},_f=function(t,n,e,r){var o=n.uid,i=void 0===o?_u("mce-annotation"):o,a=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}(n,["uid"]),u=hn.fromTag("span",t);lu(u,gu()),Be(u,""+vu(),i),Be(u,""+hu(),e);var c=r(i,a),s=c.attributes,l=void 0===s?{}:s,f=c.classes,d=void 0===f?[]:f;return Pe(u,l),function(t,n){$(n,(function(n){lu(t,n)}))}(u,d),u},kf=function(t,n,e,r,o){var i=[],a=_f(t.getDoc(),o,e,r),u=Qa(k.none()),c=function(){u.set(k.none())},s=function(t){$(t,l)},l=function(n){switch(Cf(t,n,"span",_n(n))){case"invalid-child":c();var e=Ln(n);s(e),c();break;case"valid":!function(t,n){Xn(t,n),Qn(n,t)}(n,u.get().getOrThunk((function(){var t=Au(a);return i.push(t),u.set(k.some(t)),t})))}};return cf(t.dom,n,(function(t){c(),function(t){var n=W(t,hn.fromDom);s(n)}(t)})),i},Sf=function(t,n,e,r){t.undoManager.transact((function(){var o=t.selection,i=o.getRng(),a=df(t).length>0;if(i.collapsed&&!a&&function(t,n){var e=af(t,n,[{inline:!0}]);n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset),t.selection.setRng(n)}(t,i),o.getRng().collapsed&&!a){var u=_f(t.getDoc(),r,n,e.decorate);ku(u," "),o.getRng().insertNode(u.dom),o.select(u.dom)}else yf(o,!1,(function(){bf(t,(function(o){kf(t,o,n,e.decorate,r)}))}))}))},Af=function(t){var n,e=(n={},{register:function(t,e){n[t]={name:t,settings:e}},lookup:function(t){return n.hasOwnProperty(t)?k.from(n[t]).map((function(t){return t.settings})):k.none()}});wu(t,e);var r=xu(t);return{register:function(t,n){e.register(t,n)},annotate:function(n,r){e.lookup(n).each((function(e){Sf(t,n,e,r)}))},annotationChanged:function(t,n){r.addListener(t,n)},remove:function(n){bu(t,k.some(n)).each((function(t){var n=t.elements;$(n,ee)}))},getAll:function(n){var e=function(t,n){var e=hn.fromDom(t.getBody()),r=pu(e,"["+hu()+'="'+n+'"]'),o={};return $(r,(function(t){var n=Ie(t,vu()),e=o.hasOwnProperty(n)?o[n]:[];o[n]=e.concat([t])})),o}(t,n);return st(e,(function(t){return W(t,(function(t){return t.dom}))}))}}},Of=function(t){return{getBookmark:p(_l,t),moveToBookmark:p(kl,t)}};Of.isBookmarkNode=Sl;var Tf=function(t,n){for(;n&&n!==t;){if(Ee(n)||De(n))return n;n=n.parentNode}return null},Ef=function(t,n,e){if(e.collapsed)return!1;if(sn.browser.isIE()&&e.startOffset===e.endOffset-1&&e.startContainer===e.endContainer){var r=e.startContainer.childNodes[e.startOffset];if(ge(r))return U(r.getClientRects(),(function(e){return Iu(e,t,n)}))}return U(e.getClientRects(),(function(e){return Iu(e,t,n)}))},Df=function(t,n,e){return t.fire(n,e)},zf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||zf.metaKeyPressed(t)},metaKeyPressed:function(t){return sn.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Mf=De,Nf=function(t,n){var e,r,o,i,a,u,c,s,l,f,d,m,p,g,h,v=n.dom,b=pn.each,y=n.getDoc(),x=document,w=Math.abs,C=Math.round,_=n.getBody(),k={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},S=function(t){return t&&("IMG"===t.nodeName||n.dom.is(t,"figure.image"))},A=function(t){return Me(t)||v.hasClass(t,"mce-preview-object")},O=function(t){var e=t.target;(function(t,n){if("longpress"===t.type||0===t.type.indexOf("touch")){var e=t.touches[0];return S(t.target)&&!Ef(e.clientX,e.clientY,n)}return S(t.target)&&!Ef(t.clientX,t.clientY,n)})(t,n.selection.getRng())&&!t.isDefaultPrevented()&&n.selection.select(e)},T=function(t){return v.is(t,"figure.image")?[t.querySelector("img")]:v.hasClass(t,"mce-preview-object")&&B(t.firstElementChild)?[t,t.firstElementChild]:[t]},E=function(t){var e=Gc(n);return!!e&&("false"!==t.getAttribute("data-mce-resize")&&(t!==n.getBody()&&(v.hasClass(t,"mce-preview-object")?bn(hn.fromDom(t.firstElementChild),e):bn(hn.fromDom(t),e))))},D=function(t,e,r){if(B(r)){var o=T(t);$(o,(function(t){t.style[e]||!n.schema.isValid(t.nodeName.toLowerCase(),e)?v.setStyle(t,e,r):v.setAttrib(t,e,""+r)}))}},z=function(t,n,e){D(t,"width",n),D(t,"height",e)},M=function(t){var a,b,y,x;a=t.screenX-u,b=t.screenY-c,m=a*i[2]+s,p=b*i[3]+l,m=m<5?5:m,p=p<5?5:p,((S(e)||A(e))&&!1!==function(t){return t.getParam("resize_img_proportional",!0,"boolean")}(n)?!zf.modifierPressed(t):zf.modifierPressed(t))&&(w(a)>w(b)?(p=C(m*f),m=C(p/f)):(m=C(p/f),p=C(m*f))),z(r,m,p),y=(y=i.startPos.x+a)>0?y:0,x=(x=i.startPos.y+b)>0?x:0,v.setStyles(o,{left:y,top:x,display:"block"}),o.innerHTML=m+" &times; "+p,i[2]<0&&r.clientWidth<=m&&v.setStyle(r,"left",void 0+(s-m)),i[3]<0&&r.clientHeight<=p&&v.setStyle(r,"top",void 0+(l-p)),(a=_.scrollWidth-g)+(b=_.scrollHeight-h)!==0&&v.setStyles(o,{left:y-a,top:x-b}),d||(!function(t,n,e,r,o){t.fire("ObjectResizeStart",{target:n,width:e,height:r,origin:o})}(n,e,s,l,"corner-"+i.name),d=!0)},N=function(){var t=d;d=!1,t&&(D(e,"width",m),D(e,"height",p)),v.unbind(y,"mousemove",M),v.unbind(y,"mouseup",N),x!==y&&(v.unbind(x,"mousemove",M),v.unbind(x,"mouseup",N)),v.remove(r),v.remove(o),v.remove(a),R(e),t&&(!function(t,n,e,r,o){t.fire("ObjectResized",{target:n,width:e,height:r,origin:o})}(n,e,m,p,"corner-"+i.name),v.setAttrib(e,"style",v.getAttrib(e,"style"))),n.nodeChanged()},R=function(t){H();var d=v.getPos(t,_),w=d.x,C=d.y,S=t.getBoundingClientRect(),O=S.width||S.right-S.left,D=S.height||S.bottom-S.top;e!==t&&(P(),e=t,m=p=0);var R=n.fire("ObjectSelected",{target:t}),B=v.getAttrib(e,"data-mce-selected","1");E(t)&&!R.isDefaultPrevented()?b(k,(function(t,n){var d,m=function(d){var m,p=T(e)[0];u=d.screenX,c=d.screenY,s=p.clientWidth,l=p.clientHeight,f=l/s,(i=t).name=n,i.startPos={x:O*t[0]+w,y:D*t[1]+C},g=_.scrollWidth,h=_.scrollHeight,a=v.add(_,"div",{class:"mce-resize-backdrop"}),v.setStyles(a,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=A(m=e)?v.create("img",{src:sn.transparentSrc}):m.cloneNode(!0),v.addClass(r,"mce-clonedresizable"),v.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",v.setStyles(r,{left:w,top:C,margin:0}),z(r,O,D),r.removeAttribute("data-mce-selected"),_.appendChild(r),v.bind(y,"mousemove",M),v.bind(y,"mouseup",N),x!==y&&(v.bind(x,"mousemove",M),v.bind(x,"mouseup",N)),o=v.add(_,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},s+" &times; "+l)};(d=v.get("mceResizeHandle"+n))&&v.remove(d),d=v.add(_,"div",{id:"mceResizeHandle"+n,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+n+"-resize; margin:0; padding:0"}),11===sn.ie&&(d.contentEditable=!1),v.bind(d,"mousedown",(function(t){t.stopImmediatePropagation(),t.preventDefault(),m(t)})),t.elm=d,v.setStyles(d,{left:O*t[0]+w-d.offsetWidth/2,top:D*t[1]+C-d.offsetHeight/2})})):P(),v.getAttrib(e,"data-mce-selected")||e.setAttribute("data-mce-selected",B)},P=function(){H(),e&&e.removeAttribute("data-mce-selected"),ct(k,(function(t,n){var e=v.get("mceResizeHandle"+n);e&&(v.unbind(e),v.remove(e))}))},I=function(e){var r,o=function(t,n){if(t)do{if(t===n)return!0}while(t=t.parentNode)};d||n.removed||(b(v.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),r="mousedown"===e.type?e.target:t.getNode(),o(r=v.$(r).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],_)&&(F(),o(t.getStart(!0),r)&&o(t.getEnd(!0),r))?R(r):P())},L=function(t){return Mf(Tf(n.getBody(),t))},H=function(){ct(k,(function(t){t.elm&&(v.unbind(t.elm),delete t.elm)}))},F=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(t){}};n.on("init",(function(){if(F(),sn.browser.isIE()||sn.browser.isEdge()){n.on("mousedown click",(function(t){var e=t.target,r=e.nodeName;d||!/^(TABLE|IMG|HR)$/.test(r)||L(e)||(2!==t.button&&n.selection.select(e,"TABLE"===r),"mousedown"===t.type&&n.nodeChanged())}));var t=function(t){var e=function(t){Fr.setEditorTimeout(n,(function(){return n.selection.select(t)}))};if(L(t.target)||Me(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&e(t.target))};v.bind(_,"mscontrolselect",t),n.on("remove",(function(){return v.unbind(_,"mscontrolselect",t)}))}var r=Fr.throttle((function(t){n.composing||I(t)}));n.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),n.on("keyup compositionend",(function(t){e&&"TABLE"===e.nodeName&&r(t)})),n.on("hide blur",P),n.on("contextmenu longpress",O,!0)})),n.on("remove",H);return{isResizable:E,showResizeRect:R,hideResizeRect:P,updateResizeRect:I,destroy:function(){e=r=a=null}}},Rf=function(t){return Ee(t)||De(t)},Bf=function(t,n,e){var r,o,i=e;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(t,n))&&((r=e.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(e.caretRangeFromPoint)r=e.caretRangeFromPoint(t,n);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(t,n),r.collapse(!0)}catch(o){r=function(t,n,e){var r,o=e.elementFromPoint(t,n),i=e.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=e.body),i.moveToElementText(o),(r=(r=pn.toArray(i.getClientRects())).sort((function(t,e){return(t=Math.abs(Math.max(t.top-n,t.bottom-n)))-(e=Math.abs(Math.max(e.top-n,e.bottom-n)))}))).length>0){n=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(t,n),i.collapse(!0),i}catch(t){}}return null}(t,n,e)}return function(t,n){var e=t&&t.parentElement?t.parentElement():null;return De(function(t,n,e){for(;t&&t!==n;){if(e(t))return t;t=t.parentNode}return null}(e,n,Rf))?null:t}(r,e.body)}return r},Pf=function(t,n){return t&&n&&t.startContainer===n.startContainer&&t.startOffset===n.startOffset&&t.endContainer===n.endContainer&&t.endOffset===n.endOffset},If=function(t,n,e){return null!==function(t,n,e){for(;t&&t!==n;){if(e(t))return t;t=t.parentNode}return null}(t,n,e)},Lf=function(t,n,e){return If(t,n,(function(t){return t.nodeName===e}))},Hf=function(t){return t&&"TABLE"===t.nodeName},Ff=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Vf=function(t,n){return uo(t)&&!1===If(t,n,pl)},jf=function(t,n,e){for(var r=new Ur(n,t.getParent(n.parentNode,t.isBlock)||t.getRoot());n=r[e?"prev":"next"]();)if(Oe(n))return!0},Uf=function(t,n,e,r,o){var i,a,u=t.getRoot(),c=t.schema.getNonEmptyElements(),s=t.getParent(o.parentNode,t.isBlock)||u;if(r&&Oe(o)&&n&&t.isEmpty(s))return k.some(ac(o.parentNode,t.nodeIndex(o)));for(var l=new Ur(o,s);a=l[r?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||Vf(a,u))return k.none();if(_e(a)&&a.nodeValue.length>0)return!1===Lf(a,u,"A")?k.some(ac(a,r?a.nodeValue.length:0)):k.none();if(t.isBlock(a)||c[a.nodeName.toLowerCase()])return k.none();i=a}return e&&i?k.some(ac(i,0)):k.none()},Wf=function(t,n,e,r){var o,i,a,u,c=t.getRoot(),s=!1;o=r[(e?"start":"end")+"Container"],i=r[(e?"start":"end")+"Offset"];var l=ge(o)&&i===o.childNodes.length,f=t.schema.getNonEmptyElements();if(u=e,uo(o))return k.none();if(ge(o)&&i>o.childNodes.length-1&&(u=!1),Se(o)&&(o=c,i=0),o===c){if(u&&(a=o.childNodes[i>0?i-1:0])){if(uo(a))return k.none();if(f[a.nodeName]||Hf(a))return k.none()}if(o.hasChildNodes()){if(i=Math.min(!u&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=_e(o)&&l?o.data.length:0,!n&&o===c.lastChild&&Hf(o))return k.none();if(function(t,n){for(;n&&n!==t;){if(De(n))return!0;n=n.parentNode}return!1}(c,o)||uo(o))return k.none();if(o.hasChildNodes()&&!1===Hf(o)){a=o;var d=new Ur(o,c);do{if(De(a)||uo(a)){s=!1;break}if(_e(a)&&a.nodeValue.length>0){i=u?0:a.nodeValue.length,o=a,s=!0;break}if(f[a.nodeName.toLowerCase()]&&!Ff(a)){i=t.nodeIndex(a),o=a.parentNode,u||i++,s=!0;break}}while(a=u?d.next():d.prev())}}}return n&&(_e(o)&&0===i&&Uf(t,l,n,!0,o).each((function(t){o=t.container(),i=t.offset(),s=!0})),ge(o)&&((a=o.childNodes[i])||(a=o.childNodes[i-1]),!a||!Oe(a)||function(t,n){return t.previousSibling&&t.previousSibling.nodeName===n}(a,"A")||jf(t,a,!1)||jf(t,a,!0)||Uf(t,l,n,!0,a).each((function(t){o=t.container(),i=t.offset(),s=!0})))),u&&!n&&_e(o)&&i===o.nodeValue.length&&Uf(t,l,n,!1,o).each((function(t){o=t.container(),i=t.offset(),s=!0})),s?k.some(ac(o,i)):k.none()},$f=function(t,n){var e=n.collapsed,r=n.cloneRange(),o=ac.fromRangeStart(n);return Wf(t,e,!0,r).each((function(t){e&&ac.isAbove(o,t)||r.setStart(t.container(),t.offset())})),e||Wf(t,e,!1,r).each((function(t){r.setEnd(t.container(),t.offset())})),e&&r.collapse(!0),Pf(n,r)?k.none():k.some(r)},qf=function(t,n){return t.splitText(n)},Gf=function(t){var n=t.startContainer,e=t.startOffset,r=t.endContainer,o=t.endOffset;return n===r&&_e(n)?e>0&&e<n.nodeValue.length&&(n=(r=qf(n,e)).previousSibling,o>e?(n=r=qf(r,o-=e).previousSibling,o=r.nodeValue.length,e=0):o=0):(_e(n)&&e>0&&e<n.nodeValue.length&&(n=qf(n,e),e=0),_e(r)&&o>0&&o<r.nodeValue.length&&(o=(r=qf(r,o).previousSibling).nodeValue.length)),{startContainer:n,startOffset:e,endContainer:r,endOffset:o}},Kf=function(t){return{walk:function(n,e){return cf(t,n,e)},split:Gf,normalize:function(n){return $f(t,n).fold(y,(function(t){return n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),!0}))}}};Kf.compareRanges=Pf,Kf.getCaretRangeFromPoint=Bf,Kf.getSelectedNode=Lu,Kf.getNode=Hu;var Xf,Yf=function(t,n){var e=function(e){var r=n(e);if(r<=0||null===r){var o=Ve(e,t);return parseFloat(o)||0}return r},r=function(t,n){return X(n,(function(n,e){var r=Ve(t,e),o=void 0===r?0:parseInt(r,10);return isNaN(o)?n:n+o}),0)};return{set:function(n,e){if(!I(e)&&!e.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+e);var r=n.dom;Ne(r)&&(r.style[t]=e+"px")},get:e,getOuter:e,aggregate:r,max:function(t,n,e){var o=r(t,e);return n>o?n-o:0}}}("height",(function(t){var n=t.dom;return re(t)?n.getBoundingClientRect().height:n.offsetHeight})),Jf=function(t,n){return t.view(n).fold(d([]),(function(n){var e=t.owner(n),r=Jf(t,e);return[n].concat(r)}))},Qf=Object.freeze({__proto__:null,view:function(t){var n;return(t.dom===document?k.none():k.from(null===(n=t.dom.defaultView)||void 0===n?void 0:n.frameElement)).map(hn.fromDom)},owner:function(t){return zn(t)}}),Zf=function(t){var n=hn.fromDom(document),e=ce(n),r=function(t,n){var e=n.owner(t);return Jf(n,e)}(t,Qf),o=ue(t),i=K(r,(function(t,n){var e=ue(n);return{left:t.left+e.left,top:t.top+e.top}}),{left:0,top:0});return ie(i.left+o.left+e.left,i.top+o.top+e.top)},td=function(t){return"textarea"===_n(t)},nd=function(t,n){var e=function(t){var n=t.dom.ownerDocument,e=n.body,r=n.defaultView,o=n.documentElement;if(e===t.dom)return ie(e.offsetLeft,e.offsetTop);var i=ae(null==r?void 0:r.pageYOffset,o.scrollTop),a=ae(null==r?void 0:r.pageXOffset,o.scrollLeft),u=ae(o.clientTop,e.clientTop),c=ae(o.clientLeft,e.clientLeft);return ue(t).translate(a-c,i-u)}(t),r=function(t){return Yf.get(t)}(t);return{element:t,bottom:e.top+r,height:r,pos:e,cleanup:n}},ed=function(t,n){var e=function(t,n){var e=Ln(t);if(0===e.length||td(t))return{element:t,offset:n};if(n<e.length&&!td(e[n]))return{element:e[n],offset:0};var r=e[e.length-1];return td(r)?{element:t,offset:n}:"img"===_n(r)?{element:r,offset:1}:On(r)?{element:r,offset:wf(r).length}:{element:r,offset:Ln(r).length}}(t,n),r=hn.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return Xn(e.element,r),nd(r,(function(){return ne(r)}))},rd=function(t,n,e,r){ud(t,(function(o,i){return id(t,n,e,r)}),e)},od=function(t,n,e,r,o){var i={elm:r.element.dom,alignToTop:o};(function(t,n){return t.fire("ScrollIntoView",n).isDefaultPrevented()})(t,i)||(e(n,ce(n).top,r,o),function(t,n){t.fire("AfterScrollIntoView",n)}(t,i))},id=function(t,n,e,r){var o=hn.fromDom(t.getBody()),i=hn.fromDom(t.getDoc());o.dom.offsetWidth;var a=ed(hn.fromDom(e.startContainer),e.startOffset);od(t,i,n,a,r),a.cleanup()},ad=function(t,n,e,r){var o=hn.fromDom(t.getDoc());od(t,o,e,function(t){return nd(hn.fromDom(t),l)}(n),r)},ud=function(t,n,e){var r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset;n(hn.fromDom(r),hn.fromDom(i));var u=t.dom.createRng();u.setStart(r,o),u.setEnd(i,a),t.selection.setRng(e)},cd=function(t,n,e,r){var o=t.pos;if(e)se(o.left,o.top,r);else{var i=o.top-n+t.height;se(o.left,i,r)}},sd=function(t,n,e,r,o){var i=e+n,a=r.pos.top,u=r.bottom,c=u-a>=e;if(a<n)cd(r,e,!1!==o,t);else if(a>i){cd(r,e,c?!1!==o:!0===o,t)}else u>i&&!c&&cd(r,e,!0===o,t)},ld=function(t,n,e,r){var o=t.dom.defaultView.innerHeight;sd(t,n,o,e,r)},fd=function(t,n,e,r){var o=t.dom.defaultView.innerHeight;sd(t,n,o,e,r);var i=Zf(e.element),a=de(window);i.top<a.y?le(e.element,!1!==r):i.top>a.bottom&&le(e.element,!0===r)},dd=function(t,n,e){return rd(t,ld,n,e)},md=function(t,n,e){return ad(t,n,ld,e)},pd=function(t,n,e){return rd(t,fd,n,e)},gd=function(t,n,e){return ad(t,n,fd,e)},hd=function(t,n,e){(t.inline?dd:pd)(t,n,e)},vd=function(t){var n=$n(t).dom;return t.dom===n.activeElement},bd=function(t){return void 0===t&&(t=hn.fromDom(document)),k.from(t.dom.activeElement).map(hn.fromDom)},yd=function(t,n,e,r){return{start:t,soffset:n,finish:e,foffset:r}},xd=ur([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),wd=(xd.before,xd.on,xd.after,function(t){return t.fold(m,m,m)}),Cd=ur([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_d={domRange:Cd.domRange,relative:Cd.relative,exact:Cd.exact,exactFromRange:function(t){return Cd.exact(t.start,t.soffset,t.finish,t.foffset)},getWin:function(t){var n=function(t){return t.match({domRange:function(t){return hn.fromDom(t.startContainer)},relative:function(t,n){return wd(t)},exact:function(t,n,e,r){return t}})}(t);return Mn(n)},range:yd},kd=Zt().browser,Sd=function(t,n){var e=On(n)?wf(n).length:Ln(n).length+1;return t>e?e:t<0?0:t},Ad=function(t){return _d.range(t.start,Sd(t.soffset,t.start),t.finish,Sd(t.foffset,t.finish))},Od=function(t,n){return!pe(n.dom)&&(Cn(t,n)||xn(t,n))},Td=function(t){return function(n){return Od(t,n.start)&&Od(t,n.finish)}},Ed=function(t){return!0===t.inline||kd.isIE()},Dd=function(t){return _d.range(hn.fromDom(t.startContainer),t.startOffset,hn.fromDom(t.endContainer),t.endOffset)},zd=function(t){return function(t){var n=t.getSelection();return(n&&0!==n.rangeCount?k.from(n.getRangeAt(0)):k.none()).map(Dd)}(Mn(t).dom).filter(Td(t))},Md=function(t){var n=document.createRange();try{return n.setStart(t.start.dom,t.soffset),n.setEnd(t.finish.dom,t.foffset),k.some(n)}catch(t){return k.none()}},Nd=function(t){var n=Ed(t)?zd(hn.fromDom(t.getBody())):k.none();t.bookmark=n.isSome()?n:t.bookmark},Rd=function(t){return(t.bookmark?t.bookmark:k.none()).bind((function(n){return function(t,n){return k.from(n).filter(Td(t)).map(Ad)}(hn.fromDom(t.getBody()),n)})).bind(Md)},Bd={isEditorUIElement:function(t){var n=t.className.toString();return-1!==n.indexOf("tox-")||-1!==n.indexOf("mce-")}},Pd=function(t,n){Zt().browser.isIE()?function(t){t.on("focusout",(function(){Nd(t)}))}(t):function(t,n){t.on("mouseup touchend",(function(t){n.throttle()}))}(t,n),t.on("keyup NodeChange",(function(n){(function(t){return"nodechange"===t.type&&t.selectionChange})(n)||Nd(t)}))},Id=function(t){var n=ou((function(){Nd(t)}),0);t.on("init",(function(){t.inline&&function(t,n){var e=function(){n.throttle()};Ga.DOM.bind(document,"mouseup",e),t.on("remove",(function(){Ga.DOM.unbind(document,"mouseup",e)}))}(t,n),Pd(t,n)})),t.on("remove",(function(){n.cancel()}))},Ld=Ga.DOM,Hd=function(t,n){var e=function(t){return t.getParam("custom_ui_selector","","string")}(t);return null!==Ld.getParent(n,(function(n){return function(t){return Bd.isEditorUIElement(t)}(n)||!!e&&t.dom.is(n,e)}))},Fd=function(t,n){var e=n.editor;Id(e),e.on("focusin",(function(){var n=t.focusedEditor;n!==e&&(n&&n.fire("blur",{focusedEditor:e}),t.setActive(e),t.focusedEditor=e,e.fire("focus",{blurredEditor:n}),e.focus(!0))})),e.on("focusout",(function(){Fr.setEditorTimeout(e,(function(){var n=t.focusedEditor;Hd(e,function(t){try{var n=$n(hn.fromDom(t.getElement()));return bd(n).fold((function(){return document.body}),(function(t){return t.dom}))}catch(t){return document.body}}(e))||n!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),Xf||(Xf=function(n){var e=t.activeEditor;e&&function(t){if(Wn()&&B(t.target)){var n=hn.fromDom(t.target);if(An(n)&&Kn(n)&&t.composed&&t.composedPath){var e=t.composedPath();if(e)return rt(e)}}return k.from(t.target)}(n).each((function(n){n.ownerDocument===document&&(n===document.body||Hd(e,n)||t.focusedEditor!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null))}))},Ld.bind(document,"focusin",Xf))},Vd=function(t,n){t.focusedEditor===n.editor&&(t.focusedEditor=null),t.activeEditor||(Ld.unbind(document,"focusin",Xf),Xf=null)},jd=function(t,n){return function(t){return t.collapsed?k.from(Hu(t.startContainer,t.startOffset)).map(hn.fromDom):k.none()}(n).bind((function(n){return Qr(n)?k.some(n):!1===Cn(t,n)?k.some(t):k.none()}))},Ud=function(t,n){jd(hn.fromDom(t.getBody()),n).bind((function(t){return dl(t.dom)})).fold((function(){t.selection.normalize()}),(function(n){return t.selection.setRng(n.toRange())}))},Wd=function(t){if(t.setActive)try{t.setActive()}catch(n){t.focus()}else t.focus()},$d=function(t){return vd(t)||(n=t,bd($n(n)).filter((function(t){return n.dom.contains(t.dom)}))).isSome();var n},qd=function(t){return t.inline?function(t){var n=t.getBody();return n&&$d(hn.fromDom(n))}(t):function(t){return t.iframeElement&&vd(hn.fromDom(t.iframeElement))}(t)},Gd=function(t){return qd(t)||function(t){var n=$n(hn.fromDom(t.getElement()));return bd(n).filter((function(n){return e=n.dom,!(void 0!==(r=e.classList)&&(r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body")))&&Hd(t,n.dom);var e,r})).isSome()}(t)},Kd=function(t){return t.editorManager.setActive(t)},Xd=function(t,n){t.removed||(n?Kd(t):function(t){var n=t.selection,e=t.getBody(),r=n.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===qd(t)&&Rd(t).each((function(n){t.selection.setRng(n),r=n}));var o=function(t,n){return t.dom.getParent(n,(function(n){return"true"===t.dom.getContentEditable(n)}))}(t,n.getNode());if(t.$.contains(e,o))return Wd(o),Ud(t,r),void Kd(t);t.inline||(sn.opera||Wd(e),t.getWin().focus()),(sn.gecko||t.inline)&&(Wd(e),Ud(t,r)),Kd(t)}(t))},Yd=function(t,n,e,r,o){var i=e?n.startContainer:n.endContainer,a=e?n.startOffset:n.endOffset;return k.from(i).map(hn.fromDom).map((function(t){return r&&n.collapsed?t:Hn(t,o(t,a)).getOr(t)})).bind((function(t){return An(t)?k.some(t):Nn(t).filter(An)})).map((function(t){return t.dom})).getOr(t)},Jd=function(t,n,e){return Yd(t,n,!0,e,(function(t,n){return Math.min(t.dom.childNodes.length,n)}))},Qd=function(t,n,e){return Yd(t,n,!1,e,(function(t,n){return n>0?n-1:n}))},Zd=function(t,n){for(var e=t;t&&_e(t)&&0===t.length;)t=n?t.nextSibling:t.previousSibling;return t||e},tm=function(t,n){return W(n,(function(n){var e=t.fire("GetSelectionRange",{range:n});return e.range!==n?e.range:n}))},nm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},em=function(t,n,e){var r=e?"lastChild":"firstChild",o=e?"prev":"next";if(t[r])return t[r];if(t!==n){var i=t[o];if(i)return i;for(var a=t.parent;a&&a!==n;a=a.parent)if(i=a[o])return i}},rm=function(t){if(!To(t.value))return!1;var n=t.parent;return!n||"span"===n.name&&!n.attr("style")||!/^[ ]+$/.test(t.value)},om=function(t){var n="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||n},im=function(){function t(t,n){this.name=t,this.type=n,1===n&&(this.attributes=[],this.attributes.map={})}return t.create=function(n,e){var r=new t(n,nm[n]||1);return e&&ct(e,(function(t,n){r.attr(n,t)})),r},t.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},t.prototype.attr=function(t,n){var e,r=this;if("string"!=typeof t)return null!=t&&ct(t,(function(t,n){r.attr(n,t)})),r;if(e=r.attributes){if(void 0!==n){if(null===n){if(t in e.map){delete e.map[t];for(var o=e.length;o--;)if(e[o].name===t)return e.splice(o,1),r}return r}if(t in e.map){for(o=e.length;o--;)if(e[o].name===t){e[o].value=n;break}}else e.push({name:t,value:n});return e.map[t]=n,r}return e.map[t]}},t.prototype.clone=function(){var n,e=new t(this.name,this.type);if(n=this.attributes){var r=[];r.map={};for(var o=0,i=n.length;o<i;o++){var a=n[o];"id"!==a.name&&(r[r.length]={name:a.name,value:a.value},r.map[a.name]=a.value)}e.attributes=r}return e.value=this.value,e.shortEnded=this.shortEnded,e},t.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},t.prototype.unwrap=function(){for(var t=this.firstChild;t;){var n=t.next;this.insert(t,this,!0),t=n}this.remove()},t.prototype.remove=function(){var t=this.parent,n=this.next,e=this.prev;return t&&(t.firstChild===this?(t.firstChild=n,n&&(n.prev=null)):e.next=n,t.lastChild===this?(t.lastChild=e,e&&(e.next=null)):n.prev=e,this.parent=this.next=this.prev=null),this},t.prototype.append=function(t){t.parent&&t.remove();var n=this.lastChild;return n?(n.next=t,t.prev=n,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},t.prototype.insert=function(t,n,e){t.parent&&t.remove();var r=n.parent||this;return e?(n===r.firstChild?r.firstChild=t:n.prev.next=t,t.prev=n.prev,t.next=n,n.prev=t):(n===r.lastChild?r.lastChild=t:n.next.prev=t,t.next=n.next,t.prev=n,n.next=t),t.parent=r,t},t.prototype.getAll=function(t){for(var n=[],e=this.firstChild;e;e=em(e,this))e.name===t&&n.push(e);return n},t.prototype.empty=function(){if(this.firstChild){for(var t=[],n=this.firstChild;n;n=em(n,this))t.push(n);for(var e=t.length;e--;){(n=t[e]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return this.firstChild=this.lastChild=null,this},t.prototype.isEmpty=function(t,n,e){void 0===n&&(n={});var r=this.firstChild;if(om(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(t[r.name])return!1;if(om(r))return!1}if(8===r.type)return!1;if(3===r.type&&!rm(r))return!1;if(3===r.type&&r.parent&&n[r.parent.name]&&To(r.value))return!1;if(e&&e(r))return!1}while(r=em(r,this));return!0},t.prototype.walk=function(t){return em(this,null,t)},t}(),am=function(t,n){return t.replace(n.re,(function(t){return ht(n.uris,t).getOr(t)}))},um=["img","video"],cm=function(t,n,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(n)?function(t,n){return!(R(t)?j(um,n):t)}(t.allow_svg_data_urls,e)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n))},sm=function(t,n,e){var r,o,i=1,a=t.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(u.lastIndex=r=e;o=u.exec(n);){if(r=u.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r},lm=function(t,n){var e=t.exec(n);if(e){var r=e[1],o=e[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null},fm=function(t,n){void 0===n&&(n=ci()),!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var e=t.comment?t.comment:l,r=t.cdata?t.cdata:l,o=t.text?t.text:l,i=t.start?t.start:l,a=t.end?t.end:l,u=t.pi?t.pi:l,c=t.doctype?t.doctype:l,s=function(s,l){void 0===l&&(l="html");for(var f,d,m,p,g,h,v,b,y,x,w,C,_,k,S,A,O,T,E,D=s.html,z=0,M=[],N=0,R=Qo.decode,B=pn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),P=/((java|vb)script|mhtml):/i,I="html"===l?0:1,L=function(t){var n,e;for(n=M.length;n--&&M[n].name!==t;);if(n>=0){for(e=M.length-1;e>=n;e--)(t=M[e]).valid&&a(t.name);M.length=n}},H=function(t,n){return o(am(t,s),n)},F=function(n){""!==n&&(">"===n.charAt(0)&&(n=" "+n),t.allow_conditional_comments||"[if"!==n.substr(0,3).toLowerCase()||(n=" "+n),e(am(n,s)))},V=function(t,n){var e=t||"",r=!Pt(e,"--"),o=function(t,n,e){void 0===e&&(e=0);var r=t.toLowerCase();if(-1!==r.indexOf("[if ",e)&&function(t,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(n))}(r,e)){var o=r.indexOf("[endif]",e);return r.indexOf(">",o)}if(n){var i=r.indexOf(">",e);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=e;var u=a.exec(t);return u?u.index+u[0].length:r.length}(D,r,n);return t=D.substr(n,o-n),F(r?e+t:t),o+1},j=function(n,e,r,o,i){var a,u;if(r=function(t){return am(t,s)}((e=e.toLowerCase())in G?e:R(r||o||i||"")),K&&!b&&!1===function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")}(e)){if(!(a=k[e])&&S){for(u=S.length;u--&&!(a=S[u]).pattern.test(e););-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(B[e]&&!t.allow_script_urls){var c=r.replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch(t){c=unescape(c)}if(P.test(c))return;if(cm(t,c,n))return}b&&(e in B||0===e.indexOf("on"))||(p.map[e]=r,p.push({name:e,value:r}))},U=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,$=n.getShortEndedElements(),q=t.self_closing_elements||n.getSelfClosingElements(),G=n.getBoolAttrs(),K=t.validate,X=t.remove_internals,Y=t.fix_self_closing,J=n.getSpecialElements(),Q=D+">";f=U.exec(Q);){var Z=f[0];if(z<f.index&&H(R(D.substr(z,f.index-z))),d=f[7])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),L(d);else if(d=f[8]){if(f.index+Z.length>D.length){H(R(D.substr(f.index))),z=f.index+Z.length;continue}":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),y=d in $,Y&&q[d]&&M.length>0&&M[M.length-1].name===d&&L(d);var tt=lm(W,f[9]);if(null!==tt){if("all"===tt){z=sm(n,D,U.lastIndex),U.lastIndex=z;continue}w=!1}if(!K||(x=n.getElementRule(d))){if(w=!0,K&&(k=x.attributes,S=x.attributePatterns),(_=f[9])?((b=-1!==_.indexOf("data-mce-type"))&&X&&(w=!1),(p=[]).map={},_.replace(W,(function(t,n,e,r,o){return j(d,n,e,r,o),""}))):(p=[]).map={},K&&!b){if(A=x.attributesRequired,O=x.attributesDefault,T=x.attributesForced,x.removeEmptyAttrs&&!p.length&&(w=!1),T)for(g=T.length;g--;)v=(C=T[g]).name,"{$uid}"===(E=C.value)&&(E="mce_"+N++),p.map[v]=E,p.push({name:v,value:E});if(O)for(g=O.length;g--;)(v=(C=O[g]).name)in p.map||("{$uid}"===(E=C.value)&&(E="mce_"+N++),p.map[v]=E,p.push({name:v,value:E}));if(A){for(g=A.length;g--&&!(A[g]in p.map););-1===g&&(w=!1)}if(C=p.map["data-mce-bogus"]){if("all"===C){z=sm(n,D,U.lastIndex),U.lastIndex=z;continue}w=!1}}w&&i(d,p,y)}else w=!1;if(m=J[d]){m.lastIndex=z=f.index+Z.length,(f=m.exec(D))?(w&&(h=D.substr(z,f.index-z)),z=f.index+f[0].length):(h=D.substr(z),z=D.length),w&&(h.length>0&&H(h,!0),a(d)),U.lastIndex=z;continue}y||(_&&_.indexOf("/")===_.length-1?w&&a(d):M.push({name:d,valid:w}))}else if(d=f[1])F(d);else if(d=f[2]){if(!(1===I||t.preserve_cdata||M.length>0&&n.isValidChild(M[M.length-1].name,"#cdata"))){z=V("",f.index+2),U.lastIndex=z;continue}r(d)}else if(d=f[3])c(d);else{if((d=f[4])||"<!"===Z){z=V(d,f.index+Z.length),U.lastIndex=z;continue}if(d=f[5]){if(1!==I){z=V("?",f.index+2),U.lastIndex=z;continue}u(d,f[6])}}z=f.index+Z.length}for(z<D.length&&H(R(D.substr(z))),g=M.length-1;g>=0;g--)(d=M[g]).valid&&a(d.name)};return{parse:function(t,n){void 0===n&&(n="html"),s(function(t){for(var n,e=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=_u("img"),a=0,u=0;n=e.exec(t);){var c=n[0],s=i+"_"+u++;o[s]=c,a<n.index&&r.push(t.substr(a,n.index-a)),r.push(s),a=n.index+c.length}var l=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:t,re:l}:(a<t.length&&r.push(t.substr(a)),{prefix:i,uris:o,html:r.join(""),re:l})}(t),n)}}};fm.findEndTag=sm;var dm=function(t,n){var e,r,o,i,a=n,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=t.schema;a=function(t,n){var e=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(e,"")}(t.getTempAttrs(),a);for(var s=c.getShortEndedElements();i=u.exec(a);)r=u.lastIndex,o=i[0].length,e=s[i[1]]?r:fm.findEndTag(c,a,r),a=a.substring(0,r-o)+a.substring(e),u.lastIndex=r-o;return eo(a)},mm=dm,pm=function(t,n,e,r){var o;return n.format=e,n.get=!0,n.getInner=!0,n.no_events||t.fire("BeforeGetContent",n),o="raw"===n.format?pn.trim(mm(t.serializer,r.innerHTML)):"text"===n.format?t.dom.isEmpty(r)?"":eo(r.innerText||r.textContent):"tree"===n.format?t.serializer.serialize(r,n):function(t,n){var e=Nc(t),r=new RegExp("^(<"+e+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+e+">[\r\n]*|<br \\/>[\r\n]*)$");return n.replace(r,"")}(t,t.serializer.serialize(r,n)),j(["text","tree"],n.format)||to(hn.fromDom(r))?n.content=o:n.content=pn.trim(o),n.no_events||t.fire("GetContent",n),n.content},gm=pn.each,hm=function(t){return{compare:function(n,e){if(n.nodeName!==e.nodeName)return!1;var r=function(n){var e={};return gm(t.getAttribs(n),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(e[o]=t.getAttrib(n,o))})),e},o=function(t,n){var e,r;for(r in t)if(t.hasOwnProperty(r)){if(void 0===(e=n[r]))return!1;if(t[r]!==e)return!1;delete n[r]}for(r in n)if(n.hasOwnProperty(r))return!1;return!0};return!!o(r(n),r(e))&&(!!o(t.parseStyle(t.getAttrib(n,"style")),t.parseStyle(t.getAttrib(e,"style")))&&(!Sl(n)&&!Sl(e)))}}},vm=pn.makeMap,bm=function(t){var n=[],e=(t=t||{}).indent,r=vm(t.indent_before||""),o=vm(t.indent_after||""),i=Qo.getEncodeFunc(t.entity_encoding||"raw",t.entities),a="html"===t.element_format;return{start:function(t,u,c){var s,l,f,d;if(e&&r[t]&&n.length>0&&(d=n[n.length-1]).length>0&&"\n"!==d&&n.push("\n"),n.push("<",t),u)for(s=0,l=u.length;s<l;s++)f=u[s],n.push(" ",f.name,'="',i(f.value,!0),'"');n[n.length]=!c||a?">":" />",c&&e&&o[t]&&n.length>0&&(d=n[n.length-1]).length>0&&"\n"!==d&&n.push("\n")},end:function(t){var r;n.push("</",t,">"),e&&o[t]&&n.length>0&&(r=n[n.length-1]).length>0&&"\n"!==r&&n.push("\n")},text:function(t,e){t.length>0&&(n[n.length]=e?t:i(t))},cdata:function(t){n.push("<![CDATA[",t,"]]>")},comment:function(t){n.push("\x3c!--",t,"--\x3e")},pi:function(t,r){r?n.push("<?",t," ",i(r),"?>"):n.push("<?",t,"?>"),e&&n.push("\n")},doctype:function(t){n.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},ym=function(t,n){void 0===n&&(n=ci());var e=bm(t);(t=t||{}).validate=!("validate"in t)||t.validate;return{serialize:function(r){var o=t.validate,i={3:function(t){e.text(t.value,t.raw)},8:function(t){e.comment(t.value)},7:function(t){e.pi(t.name,t.value)},10:function(t){e.doctype(t.value)},4:function(t){e.cdata(t.value)},11:function(t){if(t=t.firstChild)do{a(t)}while(t=t.next)}};e.reset();var a=function(t){var r,u,c,s,l,f,d,m,p,g=i[t.type];if(g)g(t);else{if(r=t.name,u=t.shortEnded,c=t.attributes,o&&c&&c.length>1&&((f=[]).map={},p=n.getElementRule(t.name))){for(d=0,m=p.attributesOrder.length;d<m;d++)(s=p.attributesOrder[d])in c.map&&(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));for(d=0,m=c.length;d<m;d++)(s=c[d].name)in f.map||(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));c=f}if(e.start(t.name,c,u),!u){if(t=t.firstChild)do{a(t)}while(t=t.next);e.end(r)}}};return 1!==r.type||t.inner?i[11](r):a(r),e.getContent()}}},xm=function(t,n,e){return k.from(e.container()).filter(_e).exists((function(r){var o=t?0:-1;return n(r.data.charAt(e.offset()+o))}))},wm=p(xm,!0,Ol),Cm=p(xm,!1,Ol),_m=function(t){var n=t.container();return _e(n)&&(0===n.data.length||no(n.data)&&Of.isBookmarkNode(n.parentNode))},km=function(t,n){return function(e){return k.from(Ms(t?0:-1,e)).filter(n).isSome()}},Sm=function(t){return Te(t)&&"block"===Ve(hn.fromDom(t),"display")},Am=function(t){return De(t)&&!function(t){return ge(t)&&"all"===t.getAttribute("data-mce-bogus")}(t)},Om=km(!0,Sm),Tm=km(!1,Sm),Em=km(!0,Me),Dm=km(!1,Me),zm=km(!0,xe),Mm=km(!1,xe),Nm=km(!0,Am),Rm=km(!1,Am),Bm=function(t){var n=pu(t,"br"),e=G(function(t){for(var n=[],e=t.dom;e;)n.push(hn.fromDom(e)),e=e.lastChild;return n}(t).slice(-1),Kr);n.length===e.length&&$(e,ne)},Pm=function(t){te(t),Qn(t,hn.fromHtml('<br data-mce-bogus="1">'))},Im=function(t){Vn(t).each((function(n){Rn(n).each((function(e){qr(t)&&Kr(n)&&qr(e)&&ne(n)}))}))},Lm=function(t,n,e){return Cn(n,t)?function(t,n){for(var e=P(n)?n:y,r=t.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=hn.fromDom(i);if(o.push(a),!0===e(a))break;r=i}return o}(t,(function(t){return e(t)||xn(t,n)})).slice(0,-1):[]},Hm=function(t,n){return Lm(t,n,y)},Fm=function(t,n){return[t].concat(Hm(t,n))},Vm=function(t,n,e){return cl(t,n,e,_m)},jm=function(t,n){return Y(Fm(hn.fromDom(n.container()),t),qr)},Um=function(t,n,e){return Vm(t,n.dom,e).forall((function(t){return jm(n,e).fold((function(){return!1===zs(t,e,n.dom)}),(function(r){return!1===zs(t,e,n.dom)&&Cn(r,hn.fromDom(t.container()))}))}))},Wm=function(t,n,e){return jm(n,e).fold((function(){return Vm(t,n.dom,e).forall((function(t){return!1===zs(t,e,n.dom)}))}),(function(n){return Vm(t,n.dom,e).isNone()}))},$m=p(Wm,!1),qm=p(Wm,!0),Gm=p(Um,!1),Km=p(Um,!0),Xm=function(t){return Vs(t).exists(Kr)},Ym=function(t,n,e){var r=G(Fm(hn.fromDom(e.container()),n),qr),o=rt(r).getOr(n);return al(t,o.dom,e).filter(Xm)},Jm=function(t,n){return Vs(n).exists(Kr)||Ym(!0,t,n).isSome()},Qm=function(t,n){return function(t){return k.from(t.getNode(!0)).map(hn.fromDom)}(n).exists(Kr)||Ym(!1,t,n).isSome()},Zm=p(Ym,!1),tp=p(Ym,!0),np=function(t){return ac.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},ep=function(t,n){var e=G(Fm(hn.fromDom(n.container()),t),qr);return rt(e).getOr(t)},rp=function(t,n){return np(n)?Cm(n):Cm(n)||fl(ep(t,n).dom,n).exists(Cm)},op=function(t,n){return np(n)?wm(n):wm(n)||ll(ep(t,n).dom,n).exists(wm)},ip=function(t){return Vs(t).bind((function(t){return zr(t,An)})).exists((function(t){return function(t){return j(["pre","pre-wrap"],t)}(Ve(t,"white-space"))}))},ap=function(t,n){return function(t,n){return fl(t.dom,n).isNone()}(t,n)||function(t,n){return ll(t.dom,n).isNone()}(t,n)||$m(t,n)||qm(t,n)||Qm(t,n)||Jm(t,n)},up=function(t,n){return!ip(n)&&($m(t,n)||Gm(t,n)||Qm(t,n)||rp(t,n))},cp=function(t,n){return!ip(n)&&(qm(t,n)||Km(t,n)||Jm(t,n)||op(t,n))},sp=function(t,n){return up(t,n)||cp(t,function(t){var n=t.container(),e=t.offset();return _e(n)&&e<n.data.length?ac(n,e+1):t}(n))},lp=function(t,n){return Al(t.charAt(n))},fp=function(t){var n=t.container();return _e(n)&&Bt(n.data," ")},dp=function(t){var n=t.data,e=function(t){var n=t.split("");return W(n,(function(t,e){return Al(t)&&e>0&&e<n.length-1&&Tl(n[e-1])&&Tl(n[e+1])?" ":t})).join("")}(n);return e!==n&&(t.data=e,!0)},mp=function(t,n){return k.some(n).filter(fp).bind((function(n){var e=n.container();return function(t,n){var e=n.data,r=ac(n,0);return!(!lp(e,0)||sp(t,r))&&(n.data=" "+e.slice(1),!0)}(t,e)||dp(e)||function(t,n){var e=n.data,r=ac(n,e.length-1);return!(!lp(e,e.length-1)||sp(t,r))&&(n.data=e.slice(0,-1)+" ",!0)}(t,e)?k.some(n):k.none()}))},pp=function(t){var n=hn.fromDom(t.getBody());t.selection.isCollapsed()&&mp(n,ac.fromRangeStart(t.selection.getRng())).each((function(n){t.selection.setRng(n.toRange())}))},gp=function(t,n,e){if(0!==e){var r=hn.fromDom(t),o=Dr(r,qr).getOr(r),i=t.data.slice(n,n+e),a=n+e>=t.data.length&&cp(o,ac(t,t.data.length)),u=0===n&&up(o,ac(t,0));t.replaceData(n,e,function(t,n,e){return X(t,(function(r,o){return Ol(o)||Al(o)?r.previousCharIsSpace||""===r.str&&n||r.str.length===t.length-1&&e?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}}),{previousCharIsSpace:!1,str:""}).str}(i,u,a))}},hp=function(t,n){var e=t.data.slice(n),r=e.length-Ht(e).length;return gp(t,n,r)},vp=function(t,n){var e=t.data.slice(0,n),r=e.length-Ft(e).length;return gp(t,n-r,r)},bp=function(t,n,e,r){void 0===r&&(r=!0);var o=Ft(t.data).length,i=r?t:n,a=r?n:t;return r?i.appendData(a.data):i.insertData(0,a.data),ne(hn.fromDom(a)),e&&hp(i,o),i},yp=function(t,n){return function(t,n){var e=t.container(),r=t.offset();return!1===ac.isTextPosition(t)&&e===n.parentNode&&r>ac.before(n).offset()}(n,t)?ac(n.container(),n.offset()-1):n},xp=function(t){return ko(t.previousSibling)?k.some((n=t.previousSibling,_e(n)?ac(n,n.data.length):ac.after(n))):t.previousSibling?ml(t.previousSibling):k.none();var n},wp=function(t){return ko(t.nextSibling)?k.some((n=t.nextSibling,_e(n)?ac(n,0):ac.before(n))):t.nextSibling?dl(t.nextSibling):k.none();var n},Cp=function(t,n){return xp(n).orThunk((function(){return wp(n)})).orThunk((function(){return function(t,n){var e=ac.before(n.previousSibling?n.previousSibling:n.parentNode);return fl(t,e).fold((function(){return ll(t,ac.after(n))}),k.some)}(t,n)}))},_p=function(t,n){return wp(n).orThunk((function(){return xp(n)})).orThunk((function(){return function(t,n){return ll(t,ac.after(n)).fold((function(){return fl(t,ac.before(n))}),k.some)}(t,n)}))},kp=function(t,n,e){return function(t,n,e){return t?_p(n,e):Cp(n,e)}(t,n,e).map(p(yp,e))},Sp=function(t,n,e){e.fold((function(){t.focus()}),(function(e){t.selection.setRng(e.toRange(),n)}))},Ap=function(t,n){return n&&vt(t.schema.getBlockElements(),_n(n))},Op=function(t){if(Ro(t)){var n=hn.fromHtml('<br data-mce-bogus="1">');return te(t),Qn(t,n),k.some(ac.before(n.dom))}return k.none()},Tp=function(t,n,e){var r,o,i,a,u=Rn(t).filter(On),c=Bn(t).filter(On);return ne(t),(r=u,o=c,i=n,a=function(t,n,r){var o=t.dom,i=n.dom,a=o.data.length;return bp(o,i,e),r.container()===i?ac(o,a):r},r.isSome()&&o.isSome()&&i.isSome()?k.some(a(r.getOrDie(),o.getOrDie(),i.getOrDie())):k.none()).orThunk((function(){return e&&(u.each((function(t){return vp(t.dom,t.dom.length)})),c.each((function(t){return hp(t.dom,0)}))),n}))},Ep=function(t,n,e,r){void 0===r&&(r=!0);var o,i=kp(n,t.getBody(),e.dom),a=Dr(e,p(Ap,t),(o=t.getBody(),function(t){return t.dom===o})),u=Tp(e,i,function(t,n){return vt(t.schema.getTextInlineElements(),_n(n))}(t,e));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(Op).fold((function(){r&&Sp(t,n,u)}),(function(e){r&&Sp(t,n,k.some(e))}))},Dp=function(t,n){return{start:t,end:n}},zp=ur([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Mp=function(t,n){return Br(hn.fromDom(t),"td,th",n)},Np=function(t,n){return Nr(t,"table",n)},Rp=function(t){return!xn(t.start,t.end)},Bp=function(t,n){return Np(t.start,n).bind((function(e){return Np(t.end,n).bind((function(t){return n=xn(e,t),r=e,n?k.some(r):k.none();var n,r}))}))},Pp=function(t){return pu(t,"td,th")},Ip=function(t,n){var e=Mp(n.startContainer,t),r=Mp(n.endContainer,t);return n.collapsed?k.none():Du(e,r,Dp).fold((function(){return e.fold((function(){return r.bind((function(n){return Np(n,t).bind((function(t){return rt(Pp(t)).map((function(t){return Dp(t,n)}))}))}))}),(function(n){return Np(n,t).bind((function(t){return ot(Pp(t)).map((function(t){return Dp(n,t)}))}))}))}),(function(n){return Lp(t,n)?k.none():function(t,n){return Np(t.start,n).bind((function(n){return ot(Pp(n)).map((function(n){return Dp(t.start,n)}))}))}(n,t)}))},Lp=function(t,n){return Bp(n,t).isSome()},Hp=function(t,n,e){return t.filter((function(t){return Rp(t)&&Lp(e,t)})).orThunk((function(){return Ip(e,n)})).bind((function(t){return function(t,n){return Bp(t,n).map((function(n){return function(t,n,e){return{rng:t,table:n,cells:e}}(t,n,Pp(n))}))}(t,e)}))},Fp=function(t,n){return J(t,(function(t){return xn(t,n)}))},Vp=function(t,n,e){return t.filter((function(t){return function(t,n){return!Rp(t)&&Bp(t,n).exists((function(t){var n=t.dom.rows;return 1===n.length&&1===n[0].cells.length}))}(t,e)&&gf(t.start,n)})).map((function(t){return t.start}))},jp=function(t){return function(t){return Du(Fp(t.cells,t.rng.start),Fp(t.cells,t.rng.end),(function(n,e){return t.cells.slice(n,e+1)}))}(t).map((function(n){var e=t.cells;return n.length===e.length?zp.removeTable(t.table):zp.emptyCells(n)}))},Up=function(t,n){var e=function(t){return function(n){return xn(t,n)}}(t),r=function(t,n){var e=Mp(t.startContainer,n),r=Mp(t.endContainer,n);return Du(e,r,Dp)}(n,e);return Vp(r,n,e).map((function(t){return zp.deleteCellSelection(n,t)})).orThunk((function(){return Hp(r,n,e).bind(jp)}))},Wp=function(t){var n;return(8===kn(n=t)||"#comment"===_n(n)?Rn(t):Vn(t)).bind(Wp).orThunk((function(){return k.some(t)}))},$p=function(t,n){return $(n,Pm),t.selection.setCursorLocation(n[0].dom,0),!0},qp=function(t,n,e){n.deleteContents();var r,o=Wp(e).getOr(e),i=hn.fromDom(t.dom.getParent(o.dom,t.dom.isBlock));if(Ro(i)&&(Pm(i),t.selection.setCursorLocation(i.dom,0)),!xn(e,i)){var a=Nn(i).is(e)?[]:Nn(r=i).map(Ln).map((function(t){return G(t,(function(t){return!xn(r,t)}))})).getOr([]);$(a.concat(Ln(e)),(function(t){xn(t,i)||Cn(t,i)||ne(t)}))}return!0},Gp=function(t,n){return Ep(t,!1,n),!0},Kp=function(t,n,e,r){return Yp(n,r).fold((function(){return function(t,n,e){return Up(n,e).map((function(n){return n.fold(p(Gp,t),p($p,t),p(qp,t))}))}(t,n,e)}),(function(n){return function(t,n){return Jp(t,n)}(t,n)})).getOr(!1)},Xp=function(t,n){return Y(Fm(n,t),Zr)},Yp=function(t,n){return Y(Fm(n,t),(function(t){return"caption"===_n(t)}))},Jp=function(t,n){return Pm(n),t.selection.setCursorLocation(n.dom,0),k.some(!0)},Qp=function(t,n,e,r,o){return ul(e,t.getBody(),o).bind((function(i){return function(t,n,e,r){return dl(t.dom).bind((function(o){return ml(t.dom).map((function(t){return n?e.isEqual(o)&&r.isEqual(t):e.isEqual(t)&&r.isEqual(o)}))})).getOr(!0)}(r,e,o,i)?function(t,n){return Jp(t,n)}(t,r):function(t,n,e){return Yp(t,hn.fromDom(e.getNode())).map((function(t){return!1===xn(t,n)}))}(n,r,i)})).or(k.some(!0))},Zp=function(t,n,e,r){var o=ac.fromRangeStart(t.selection.getRng());return Xp(e,r).bind((function(r){return Ro(r)?Jp(t,r):function(t,n,e,r,o){return ul(e,t.getBody(),o).bind((function(t){return Xp(n,hn.fromDom(t.getNode())).map((function(t){return!1===xn(t,r)}))}))}(t,e,n,r,o)})).getOr(!1)},tg=function(t,n){return t?zm(n):Mm(n)},ng=function(t,n,e){var r=hn.fromDom(t.getBody());return Yp(r,e).fold((function(){return Zp(t,n,r,e)||function(t,n){var e=ac.fromRangeStart(t.selection.getRng());return tg(n,e)||al(n,t.getBody(),e).exists((function(t){return tg(n,t)}))}(t,n)}),(function(e){return function(t,n,e,r){var o=ac.fromRangeStart(t.selection.getRng());return Ro(r)?Jp(t,r):Qp(t,e,n,r,o)}(t,n,r,e).getOr(!1)}))},eg=function(t,n){var e=hn.fromDom(t.selection.getStart(!0)),r=df(t);return t.selection.isCollapsed()&&0===r.length?ng(t,n,e):function(t,n){var e=hn.fromDom(t.getBody()),r=t.selection.getRng(),o=df(t);return 0!==o.length?$p(t,o):Kp(t,e,r,n)}(t,e)},rg=function(t){var n=ac.fromRangeStart(t),e=ac.fromRangeEnd(t),r=t.commonAncestorContainer;return al(!1,r,e).map((function(o){return!zs(n,e,r)&&zs(n,o,r)?function(t,n,e,r){var o=document.createRange();return o.setStart(t,n),o.setEnd(e,r),o}(n.container(),n.offset(),o.container(),o.offset()):t})).getOr(t)},og=function(t){return t.collapsed?t:rg(t)},ig=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&function(t){return" "===t.data||Oe(t)}(t.firstChild)},ag=function(t){return t.length>0&&(!(n=t[t.length-1]).firstChild||ig(n))?t.slice(0,-1):t;var n},ug=function(t,n){var e=t.getParent(n,t.isBlock);return e&&"LI"===e.nodeName?e:null},cg=function(t,n){var e=ac.after(t),r=nl(n).prev(e);return r?r.toRange():null},sg=function(t,n,e){var r=t.parentNode;return pn.each(n,(function(n){r.insertBefore(n,t)})),function(t,n){var e=ac.before(t),r=nl(n).next(e);return r?r.toRange():null}(t,e)},lg=function(t,n,e,r){var o,i=function(t,n,e){var r=n.serialize(e);return function(t){var n=t.firstChild,e=t.lastChild;return n&&"META"===n.nodeName&&n.parentNode.removeChild(n),e&&"mce_marker"===e.id&&e.parentNode.removeChild(e),t}(t.createFragment(r))}(n,t,r),a=ug(n,e.startContainer),u=ag((o=i.firstChild,pn.grep(o.childNodes,(function(t){return"LI"===t.nodeName})))),c=n.getRoot(),s=function(t){var r=ac.fromRangeStart(e),o=nl(n.getRoot()),i=1===t?o.prev(r):o.next(r);return!i||ug(n,i.getNode())!==a};return s(1)?sg(a,u,c):s(2)?function(t,n,e,r){return r.insertAfter(n.reverse(),t),cg(n[0],e)}(a,u,c,n):function(t,n,e,r){var o=function(t,n){var e=n.cloneRange(),r=n.cloneRange();return e.setStartBefore(t),r.setEndAfter(t),[e.cloneContents(),r.cloneContents()]}(t,r),i=t.parentNode;return i.insertBefore(o[0],t),pn.each(n,(function(n){i.insertBefore(n,t)})),i.insertBefore(o[1],t),i.removeChild(t),cg(n[n.length-1],e)}(a,u,c,e)},fg=ze,dg=function(t){var n=t.dom,e=og(t.selection.getRng());t.selection.setRng(e);var r=n.getParent(e.startContainer,fg);!function(t,n,e){return null!==e&&(e===t.getParent(n.endContainer,fg)&&gf(hn.fromDom(e),n))}(n,e,r)?t.getDoc().execCommand("Delete",!1,null):qp(t,e,hn.fromDom(r))},mg=function(t,n,e){var r,o,i,a,u,c,s=t.selection,l=t.dom;/^ | $/.test(n)&&(n=function(t,n,e){var r=hn.fromDom(t.getRoot());return e=up(r,ac.fromRangeStart(n))?e.replace(/^ /,"&nbsp;"):e.replace(/^&nbsp;/," "),e=cp(r,ac.fromRangeEnd(n))?e.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):e.replace(/&nbsp;(<br( \/)?>)?$/," ")}(l,s.getRng(),n));var f=t.parser,d=e.merge,m=ym({validate:Yc(t)},t.schema),p='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(i={content:n,format:"html",selection:!0,paste:e.paste},(i=t.fire("BeforeSetContent",i)).isDefaultPrevented())t.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:e.paste});else{-1===(n=i.content).indexOf("{$caret}")&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,p);var g=(u=s.getRng()).startContainer||(u.parentElement?u.parentElement():null),h=t.getBody();g===h&&s.isCollapsed()&&l.isBlock(h.firstChild)&&function(t,n){return n&&!t.schema.getShortEndedElements()[n.nodeName]}(t,h.firstChild)&&l.isEmpty(h.firstChild)&&((u=l.createRng()).setStart(h.firstChild,0),u.setEnd(h.firstChild,0),s.setRng(u)),s.isCollapsed()||dg(t);var v,b={context:(r=s.getNode()).nodeName.toLowerCase(),data:e.data,insert:!0},y=f.parse(n,b);if(!0===e.paste&&function(t,n){var e=n.firstChild,r=n.lastChild;return e&&"meta"===e.name&&(e=e.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(t,n){var e=t.getNonEmptyElements();return n&&(n.isEmpty(e)||function(t,n){return t.getBlockElements()[n.name]&&function(t){return t.firstChild&&t.firstChild===t.lastChild}(n)&&function(t){return"br"===t.name||" "===t.value}(n.firstChild)}(t,n))}(t,r)&&(r=r.prev),!(!e||e!==r)&&("ul"===e.name||"ol"===e.name)}(t.schema,y)&&function(t,n){return!!ug(t,n)}(l,r))return u=lg(m,l,s.getRng(),y),s.setRng(u),void t.fire("SetContent",i);if(function(t){for(var n=t;n=n.walk();)1===n.type&&n.attr("data-mce-fragment","1")}(y),"mce_marker"===(c=y.lastChild).attr("id"))for(a=c,c=c.prev;c;c=c.walk(!0))if(3===c.type||!l.isBlock(c.name)){t.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(a,c,"br"===c.name);break}if(t._selectionOverrides.showBlockCaretContainer(r),b.invalid){for(t.selection.setContent(p),r=s.getNode(),o=t.getBody(),9===r.nodeType?r=c=o:c=r;c!==o;)r=c,c=c.parentNode;n=r===o?o.innerHTML:l.getOuterHTML(r),n=m.serialize(f.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return m.serialize(y)})))),r===o?l.setHTML(o,n):l.setOuterHTML(r,n)}else!function(t,n,e){if("all"===e.getAttribute("data-mce-bogus"))e.parentNode.insertBefore(t.dom.createFragment(n),e);else{var r=e.firstChild,o=e.lastChild;!r||r===o&&"BR"===r.nodeName?t.dom.setHTML(e,n):t.selection.setContent(n)}}(t,n=m.serialize(y),r);!function(t,n){var e=t.schema.getTextInlineElements(),r=t.dom;if(n){var o=t.getBody(),i=hm(r);pn.each(r.select("*[data-mce-fragment]"),(function(t){for(var n=t.parentNode;n&&n!==o;n=n.parentNode)e[t.nodeName.toLowerCase()]&&i.compare(n,t)&&r.remove(t,!0)}))}}(t,d),function(t,n){var e,r,o=t.dom,i=t.selection;if(n){i.scrollIntoView(n);var a=function(n){for(var e=t.getBody();n&&n!==e;n=n.parentNode)if("false"===o.getContentEditable(n))return n;return null}(n);if(a)return o.remove(n),void i.select(a);var u=o.createRng(),c=n.previousSibling;c&&3===c.nodeType?(u.setStart(c,c.nodeValue.length),sn.ie||(r=n.nextSibling)&&3===r.nodeType&&(c.appendData(r.data),r.parentNode.removeChild(r))):(u.setStartBefore(n),u.setEndBefore(n));var s=o.getParent(n,o.isBlock);o.remove(n),s&&o.isEmpty(s)&&(t.$(s).empty(),u.setStart(s,0),u.setEnd(s,0),fg(s)||function(t){return!!t.getAttribute("data-mce-fragment")}(s)||!(e=function(n){var e=ac.fromRangeStart(n);if(e=nl(t.getBody()).next(e))return e.toRange()}(u))?o.add(s,o.create("br",{"data-mce-bogus":"1"})):(u=e,o.remove(s))),i.setRng(u)}}(t,l.get("mce_marker")),v=t.getBody(),pn.each(v.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")})),function(t,n){k.from(t.getParent(n,"td,th")).map(hn.fromDom).each(Im)}(l,s.getStart()),t.fire("SetContent",i),t.addVisual()}},pg=function(t,n){n(t),t.firstChild&&pg(t.firstChild,n),t.next&&pg(t.next,n)},gg=function(t,n,e){var r=function(t,n,e){var r={},o={},i=[];for(var a in e.firstChild&&pg(e.firstChild,(function(e){$(t,(function(t){t.name===e.name&&(r[t.name]?r[t.name].nodes.push(e):r[t.name]={filter:t,nodes:[e]})})),$(n,(function(t){"string"==typeof e.attr(t.name)&&(o[t.name]?o[t.name].nodes.push(e):o[t.name]={filter:t,nodes:[e]})}))})),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var u in o)o.hasOwnProperty(u)&&i.push(o[u]);return i}(t,n,e);$(r,(function(t){$(t.filter.callbacks,(function(n){n(t.nodes,t.filter.name,{})}))}))},hg=function(t){return t instanceof im},vg=function(t,n){t.dom.setHTML(t.getBody(),n),function(t){qd(t)&&dl(t.getBody()).each((function(n){var e=n.getNode(),r=xe(e)?dl(e).getOr(n):n;t.selection.setRng(r.toRange())}))}(t)},bg=function(t,n,e){return e.format=e.format?e.format:"html",e.set=!0,e.content=hg(n)?"":n,e.no_events||t.fire("BeforeSetContent",e),hg(n)||(n=e.content),k.from(t.getBody()).fold(d(n),(function(r){return hg(n)?function(t,n,e,r){gg(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),e);var o=ym({validate:t.validate},t.schema).serialize(e);return r.content=to(hn.fromDom(n))?o:pn.trim(o),vg(t,r.content),r.no_events||t.fire("SetContent",r),e}(t,r,n,e):function(t,n,e,r){var o,i;return 0===e.length||/^\s+$/.test(e)?(i='<br data-mce-bogus="1">',"TABLE"===n.nodeName?e="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(e="<li>"+i+"</li>"),(o=Nc(t))&&t.schema.isValidChild(n.nodeName.toLowerCase(),o.toLowerCase())?(e=i,e=t.dom.createHTML(o,Rc(t),e)):e||(e='<br data-mce-bogus="1">'),vg(t,e),t.fire("SetContent",r)):("raw"!==r.format&&(e=ym({validate:t.validate},t.schema).serialize(t.parser.parse(e,{isRootContent:!0,insert:!0}))),r.content=to(hn.fromDom(n))?e:pn.trim(e),vg(t,r.content),r.no_events||t.fire("SetContent",r)),r.content}(t,r,n,e)}))},yg=function(t,n){return function(t,n){var e=t.dom;return e.parentNode?Mr(hn.fromDom(e.parentNode),(function(e){return!xn(t,e)&&n(e)})):k.none()}(t,n).isSome()},xg=function(t){return P(t)?t:y},wg=function(t,n,e){var r=n(t),o=xg(e);return r.orThunk((function(){return o(t)?k.none():function(t,n,e){for(var r=t.dom,o=xg(e);r.parentNode;){r=r.parentNode;var i=hn.fromDom(r),a=n(i);if(a.isSome())return a;if(o(i))break}return k.none()}(t,n,o)}))},Cg=Pl,_g=function(t,n,e){var r=t.formatter.get(e);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&t.dom.is(n,r[o].selector))return!0;return!1},kg=function(t,n,e,r){var o=t.dom.getRoot();return n!==o&&(n=t.dom.getParent(n,(function(n){return!!_g(t,n,e)||(n.parentNode===o||!!Og(t,n,e,r,!0))})),Og(t,n,e,r))},Sg=function(t,n,e){return!!Cg(n,e.inline)||(!!Cg(n,e.block)||(e.selector?1===n.nodeType&&t.is(n,e.selector):void 0))},Ag=function(t,n,e,r,o,i){var a,u,c,s=e[r];if(e.onmatch)return e.onmatch(n,e,r);if(s)if(void 0===s.length){for(a in s)if(s.hasOwnProperty(a)){if(u="attributes"===r?t.getAttrib(n,a):Ll(t,n,a),o&&!u&&!e.exact)return;if((!o||e.exact)&&!Cg(u,Il(t,Bl(s[a],i),a)))return}}else for(c=0;c<s.length;c++)if("attributes"===r?t.getAttrib(n,s[c]):Ll(t,n,s[c]))return e;return e},Og=function(t,n,e,r,o){var i,a,u,c,s=t.formatter.get(e),l=t.dom;if(s&&n)for(a=0;a<s.length;a++)if(i=s[a],Sg(t.dom,n,i)&&Ag(l,n,i,"attributes",o,r)&&Ag(l,n,i,"styles",o,r)){if(c=i.classes)for(u=0;u<c.length;u++)if(!t.dom.hasClass(n,c[u]))return;return i}},Tg=function(t,n,e,r){if(r)return kg(t,r,n,e);if(r=t.selection.getNode(),kg(t,r,n,e))return!0;var o=t.selection.getStart();return!(o===r||!kg(t,o,n,e))},Eg=function(t,n){var e=function(n){return xn(n,hn.fromDom(t.getBody()))};return k.from(t.selection.getStart(!0)).bind((function(r){return wg(hn.fromDom(r),(function(e){return function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return k.none()}(n,(function(n){return function(n,e){return Og(t,n.dom,e)?k.some(e):k.none()}(e,n)}))}),e)})).getOrNull()},Dg=function(t,n,e){return X(e,(function(e,r){var o=function(t,n){return U(t.formatter.get(n),(function(t){var n=function(t){return t.length>1&&"%"===t.charAt(0)};return U(["styles","attributes"],(function(e){return ht(t,e).exists((function(t){var e=D(t)?t:gt(t);return U(e,n)}))}))}))}(t,r);return t.formatter.matchNode(n,r,{},o)?e.concat([r]):e}),[])},zg=function(t){return function(t){for(var n=[];t;){if(3===t.nodeType&&"\ufeff"!==t.nodeValue||t.childNodes.length>1)return[];1===t.nodeType&&n.push(t),t=t.firstChild}return n}(t).length>0},Mg=function(t){if(t){var n=new Ur(t,t);for(t=n.current();t;t=n.next())if(_e(t))return t}return null},Ng=function(t){var n=hn.fromTag("span");return Pe(n,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Qn(n,hn.fromText("\ufeff")),n},Rg=function(t,n,e){void 0===e&&(e=!0);var r=t.dom,o=t.selection;if(zg(n))Ep(t,!1,hn.fromDom(n),e);else{var i=o.getRng(),a=r.getParent(n,r.isBlock),u=i.startContainer,c=i.startOffset,s=i.endContainer,l=i.endOffset,f=function(t){var n=Mg(t);return n&&"\ufeff"===n.nodeValue.charAt(0)&&n.deleteData(0,1),n}(n);r.remove(n,!0),u===f&&c>0&&i.setStart(f,c-1),s===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&Pm(hn.fromDom(a)),o.setRng(i)}},Bg=function(t,n,e){void 0===e&&(e=!0);var r=t.dom,o=t.selection;if(n)Rg(t,n,e);else if(!(n=gl(t.getBody(),o.getStart())))for(;n=r.get("_mce_caret");)Rg(t,n,!1)},Pg=function(t,n){return t.appendChild(n),n},Ig=function(t,n){var e=K(t,(function(t,n){return Pg(t,n.cloneNode(!1))}),n);return Pg(e,e.ownerDocument.createTextNode("\ufeff"))},Lg=function(t,n,e,r){var o,i,a,u=t.dom,c=t.selection,s=[],l=c.getRng(),f=l.startContainer,d=l.startOffset;for(i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);i;){if(Og(t,i,n,e,r)){a=i;break}i.nextSibling&&(o=!0),s.push(i),i=i.parentNode}if(a)if(o){var m=c.getBookmark();l.collapse(!0);var g=af(t,l,t.formatter.get(n),!0);g=Gf(g),t.formatter.remove(n,e,g,r),c.moveToBookmark(m)}else{var h=gl(t.getBody(),a),v=Ng(!1).dom;!function(t,n,e){var r=t.dom,o=r.getParent(e,p(Ml,t));o&&r.isEmpty(o)?e.parentNode.replaceChild(n,e):(Bm(hn.fromDom(e)),r.isEmpty(e)?e.parentNode.replaceChild(n,e):r.insertAfter(n,e))}(t,v,null!==h?h:a);var b=function(t,n,e,r,o,i){var a=t.formatter,u=t.dom,c=G(at(a.get()),(function(t){return t!==r&&!Bt(t,"removeformat")})),s=Dg(t,e,c);if(G(s,(function(n){return!Vl(t,n,r)})).length>0){var l=e.cloneNode(!1);return u.add(n,l),a.remove(r,o,l,i),u.remove(l),k.some(l)}return k.none()}(t,v,a,n,e,r),y=Ig(s.concat(b.toArray()),v);Rg(t,h,!1),c.setCursorLocation(y,1),u.isEmpty(a)&&u.remove(a)}},Hg=function(t){t.on("mouseup keydown",(function(n){!function(t,n){var e=t.selection,r=t.getBody();Bg(t,null,!1),8!==n&&46!==n||!e.isCollapsed()||"\ufeff"!==e.getStart().innerHTML||Bg(t,gl(r,e.getStart())),37!==n&&39!==n||Bg(t,gl(r,e.getStart()))}(t,n.keyCode)}))},Fg=function(t,n){return t.schema.getTextInlineElements().hasOwnProperty(_n(n))&&!pl(n.dom)&&!ye(n.dom)},Vg={},jg=Ct,Ug=xt;!function(t,n){Vg[t]||(Vg[t]=[]),Vg[t].push(n)}("pre",(function(t){var n,e=t.selection.getRng(),r=he(["pre"]);e.collapsed||(n=t.selection.getSelectedBlocks(),Ug(jg(jg(n,r),(function(t){return r(t.previousSibling)&&-1!==_t(n,t.previousSibling)})),(function(t){var n,e;n=t.previousSibling,Fa(e=t).remove(),Fa(n).append("<br><br>").append(e.childNodes)})))}));var Wg=pn.each,$g=function(t){return ge(t)&&!Sl(t)&&!pl(t)&&!ye(t)},qg=function(t,n){var e;for(e=t;e;e=e[n]){if(_e(e)&&0!==e.nodeValue.length)return t;if(ge(e)&&!Sl(e))return e}return t},Gg=function(t,n,e){var r,o,i=hm(t);if(n&&e&&(n=qg(n,"previousSibling"),e=qg(e,"nextSibling"),i.compare(n,e))){for(r=n.nextSibling;r&&r!==e;)o=r,r=r.nextSibling,n.appendChild(o);return t.remove(e),pn.each(pn.grep(e.childNodes),(function(t){n.appendChild(t)})),n}return e},Kg=function(t,n,e,r){if(r&&!1!==n.merge_siblings){var o=Gg(t,zl(r),r);Gg(t,o,zl(o,!0))}},Xg=function(t,n,e){Wg(t.childNodes,(function(t){$g(t)&&(n(t)&&e(t),t.hasChildNodes()&&Xg(t,n,e))}))},Yg=function(t,n){return function(e){return!(!e||!Ll(t,e,n))}},Jg=function(t,n,e){return function(r){t.setStyle(r,n,e),""===r.getAttribute("style")&&r.removeAttribute("style"),function(t,n){"SPAN"===n.nodeName&&0===t.getAttribs(n).length&&t.remove(n,!0)}(t,r)}},Qg=ur([{keep:[]},{rename:["name"]},{removed:[]}]),Zg=/^(src|href|style)$/,th=pn.each,nh=Pl,eh=function(t,n,e){return t.isChildOf(n,e)&&n!==e&&!t.isBlock(e)},rh=function(t,n,e){var r,o;if(r=n[e?"startContainer":"endContainer"],o=n[e?"startOffset":"endOffset"],ge(r)){var i=r.childNodes.length-1;!e&&o&&o--,r=r.childNodes[o>i?i:o]}return _e(r)&&e&&o>=r.nodeValue.length&&(r=new Ur(r,t.getBody()).next()||r),_e(r)&&!e&&0===o&&(r=new Ur(r,t.getBody()).prev()||r),r},oh=function(t,n){var e=n?"firstChild":"lastChild";if(function(t){return/^(TR|TH|TD)$/.test(t.nodeName)}(t)&&t[e]){var r=t[e];return"TR"===t.nodeName&&r[e]||r}return t},ih=function(t,n,e,r){var o=t.create(e,r);return n.parentNode.insertBefore(o,n),o.appendChild(n),o},ah=function(t,n,e,r,o){var i=hn.fromDom(n),a=hn.fromDom(t.create(r,o)),u=e?In(i):Pn(i);return Zn(a,u),e?(Xn(i,a),Jn(a,i)):(Yn(i,a),Qn(a,i)),a.dom},uh=function(t,n,e,r){return!(n=zl(n,e,r))||"BR"===n.nodeName||t.isBlock(n)},ch=function(t,n,e,r,o){var i,a=t.dom;if(!function(t,n,e){return!!nh(n,e.inline)||(!!nh(n,e.block)||(e.selector?ge(n)&&t.is(n,e.selector):void 0))}(a,r,n)&&!function(t,n){return n.links&&"A"===t.nodeName}(r,n))return Qg.keep();var u=r;if(n.inline&&"all"===n.remove&&D(n.preserve_attributes)){var c=G(a.getAttribs(u),(function(t){return j(n.preserve_attributes,t.name.toLowerCase())}));if(a.removeAllAttribs(u),$(c,(function(t){return a.setAttrib(u,t.name,t.value)})),c.length>0)return Qg.rename("span")}if("all"!==n.remove){th(n.styles,(function(t,r){t=Il(a,Bl(t,e),r+""),I(r)&&(r=t,o=null),(n.remove_similar||!o||nh(Ll(a,o,r),t))&&a.setStyle(u,r,""),i=!0})),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),th(n.attributes,(function(t,r){var i;if(t=Bl(t,e),I(r)&&(r=t,o=null),n.remove_similar||!o||nh(a.getAttrib(o,r),t)){if("class"===r&&(t=a.getAttrib(u,r))&&(i="",$(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(i+=(i?" ":"")+t)})),i))return void a.setAttrib(u,r,i);"class"===r&&u.removeAttribute("className"),Zg.test(r)&&u.removeAttribute("data-mce-"+r),u.removeAttribute(r)}})),th(n.classes,(function(t){t=Bl(t,e),o&&!a.hasClass(o,t)||a.removeClass(u,t)}));for(var s=a.getAttribs(u),l=0;l<s.length;l++){var f=s[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return Qg.keep()}}return"none"!==n.remove?(function(t,n,e){var r,o=n.parentNode,i=t.dom,a=Nc(t);e.block&&(a?o===i.getRoot()&&(e.list_block&&nh(n,e.list_block)||$(it(n.childNodes),(function(n){Nl(t,a,n.nodeName.toLowerCase())?r?r.appendChild(n):(r=ih(i,n,a),i.setAttribs(r,t.settings.forced_root_block_attrs)):r=0}))):i.isBlock(n)&&!i.isBlock(o)&&(uh(i,n,!1)||uh(i,n.firstChild,!0,!0)||n.insertBefore(i.create("br"),n.firstChild),uh(i,n,!0)||uh(i,n.lastChild,!1,!0)||n.appendChild(i.create("br")))),e.selector&&e.inline&&!nh(e.inline,n)||i.remove(n,!0)}(t,u,n),Qg.removed()):Qg.keep()},sh=function(t,n,e,r,o){return ch(t,n,e,r,o).fold(y,(function(n){return t.dom.rename(r,n),!0}),x)},lh=function(t,n,e,r){return ch(t,n,e,r,r).fold(d(r),(function(n){return t.dom.createFragment().appendChild(r),t.dom.rename(r,n)}),d(null))},fh=function(t,n,e,r,o){var i=t.formatter.get(n),a=i[0],u=!0,c=t.dom,s=t.selection,l=function(r){var u=function(t,n,e,r,o){var i;return $(Fl(t.dom,n.parentNode).reverse(),(function(n){if(!i&&"_start"!==n.id&&"_end"!==n.id){var a=Og(t,n,e,r,o);a&&!1!==a.split&&(i=n)}})),i}(t,r,n,e,o);return function(t,n,e,r,o,i,a,u){var c,s,l,f=t.dom;if(e){for(var d=e.parentNode,m=r.parentNode;m&&m!==d;m=m.parentNode){c=f.clone(m,!1);for(var p=0;p<n.length&&null!==(c=lh(t,n[p],u,c));p++);c&&(s&&c.appendChild(s),l||(l=c),s=c)}!i||a.mixed&&f.isBlock(e)||(r=f.split(e,r)),s&&(o.parentNode.insertBefore(s,o),l.appendChild(o),a.inline&&Kg(f,a,0,s))}return r}(t,i,u,r,r,!0,a,e)},f=function(n){var r,o;ge(n)&&c.getContentEditable(n)&&(r=u,u="true"===c.getContentEditable(n),o=!0);var s=it(n.childNodes);if(u&&!o)for(var l=0;l<i.length&&!sh(t,i[l],e,n,n);l++);if(a.deep&&s.length){for(l=0;l<s.length;l++)f(s[l]);o&&(u=r)}},d=function(t){var n=c.get(t?"_start":"_end"),e=n[t?"firstChild":"lastChild"];return function(t){return Sl(t)&&ge(t)&&("_start"===t.id||"_end"===t.id)}(e)&&(e=e[t?"firstChild":"lastChild"]),_e(e)&&0===e.data.length&&(e=t?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),c.remove(n,!0),e},m=function(n){var e,r,o=af(t,n,i,n.collapsed);if(a.split){if(o=Gf(o),(e=rh(t,o,!0))!==(r=rh(t,o))){if(e=oh(e,!0),r=oh(r,!1),eh(c,e,r)){var u=k.from(e.firstChild).getOr(e);return l(ah(c,u,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void d(!0)}if(eh(c,r,e)){u=k.from(r.lastChild).getOr(r);return l(ah(c,u,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void d(!1)}e=ih(c,e,"span",{id:"_start","data-mce-type":"bookmark"}),r=ih(c,r,"span",{id:"_end","data-mce-type":"bookmark"});var s=c.createRng();s.setStartAfter(e),s.setEndBefore(r),cf(c,s,(function(t){$(t,(function(t){Sl(t)||Sl(t.parentNode)||l(t)}))})),l(e),l(r),e=d(!0),r=d()}else e=r=l(e);o.startContainer=e.parentNode?e.parentNode:e,o.startOffset=c.nodeIndex(e),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=c.nodeIndex(r)+1}cf(c,o,(function(n){$(n,(function(n){f(n);$(["underline","line-through","overline"],(function(e){ge(n)&&t.dom.getStyle(n,"text-decoration")===e&&n.parentNode&&Hl(c,n.parentNode)===e&&sh(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:e}},null,n)}))}))}))};if(r)if(El(r)){var p=c.createRng();p.setStartBefore(r),p.setEndAfter(r),m(p)}else m(r);else if("false"!==c.getContentEditable(s.getNode()))s.isCollapsed()&&a.inline&&!df(t).length?Lg(t,n,e,o):(yf(s,!0,(function(){bf(t,m)})),a.inline&&Tg(t,n,e,s.getStart())&&Dl(c,s,s.getRng()),t.nodeChanged());else{r=s.getNode();for(var g=0;g<i.length&&(!i[g].ceFalseOverride||!sh(t,i[g],e,r,r));g++);}},dh=pn.each,mh=function(t,n,e,r){dh(n,(function(n){dh(t.dom.select(n.inline,r),(function(r){$g(r)&&sh(t,n,e,r,n.exact?r:null)})),function(t,n,e){if(n.clear_child_styles){var r=n.links?"*:not(a)":"*";Wg(t.select(r,e),(function(e){$g(e)&&Wg(n.styles,(function(n,r){t.setStyle(e,r,"")}))}))}}(t.dom,n,r)}))},ph=pn.each,gh=function(t,n){return bt(t,n)},hh=function(t,n,e,r){var o=t.formatter.get(n),i=o[0],a=!r&&t.selection.isCollapsed(),u=t.dom,c=t.selection,s=function(t,n){if(n=n||i,t){if(n.onformat&&n.onformat(t,n,e,r),ph(n.styles,(function(n,r){u.setStyle(t,r,Bl(n,e))})),n.styles){var o=u.getAttrib(t,"style");o&&u.setAttrib(t,"data-mce-style",o)}ph(n.attributes,(function(n,r){u.setAttrib(t,r,Bl(n,e))})),ph(n.classes,(function(n){n=Bl(n,e),u.hasClass(t,n)||u.addClass(t,n)}))}},l=function(t,n){var e=!1;return!!Ul(i)&&(ph(t,(function(t){if(!("collapsed"in t)||t.collapsed===a)return u.is(n,t.selector)&&!pl(n)?(s(n,t),e=!0,!1):void 0})),e)},f=function(r,a,u,c){var f=[],d=!0,m=i.inline||i.block,p=r.create(m);s(p),cf(r,a,(function(a){var u,g=function(a){var h=!1,v=d,b=a.nodeName.toLowerCase(),y=a.parentNode.nodeName.toLowerCase();if(ge(a)&&r.getContentEditable(a)&&(v=d,d="true"===r.getContentEditable(a),h=!0),Oe(a)&&!function(t,n,e,r){if(function(t){return t.getParam("format_empty_lines",!1,"boolean")}(t)&&Wl(n)){var o=Ot(Ot({},t.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=yg(hn.fromDom(e),(function(t){return pl(t.dom)}));return bt(o,r)&&Ro(hn.fromDom(e.parentNode),!1)&&!i}return!1}(t,i,a,y))return u=null,void(jl(i)&&r.remove(a));if(i.wrapper&&Og(t,a,n,e))u=null;else{if(d&&!h&&jl(i)&&!i.wrapper&&Ml(t,b)&&Nl(t,y,m)){var x=r.rename(a,m);return s(x),f.push(x),void(u=null)}if(Ul(i)){var w=l(o,a);if(!gh(i,"inline")||w)return void(u=null)}!d||h||!Nl(t,m,b)||!Nl(t,y,m)||!c&&3===a.nodeType&&1===a.nodeValue.length&&65279===a.nodeValue.charCodeAt(0)||pl(a)||gh(i,"inline")&&r.isBlock(a)?(u=null,ph(pn.grep(a.childNodes),g),h&&(d=v),u=null):(u||(u=r.clone(p,!1),a.parentNode.insertBefore(u,a),f.push(u)),u.appendChild(a))}};ph(a,g)})),!0===i.links&&ph(f,(function(t){var n=function(t){"A"===t.nodeName&&s(t,i),ph(pn.grep(t.childNodes),n)};n(t)})),ph(f,(function(a){var u=function(t){var n=!1;return ph(t.childNodes,(function(t){if(function(t){return t&&1===t.nodeType&&!Sl(t)&&!pl(t)&&!ye(t)}(t))return n=t,!1})),n},c=function(t){var n=0;return ph(t.childNodes,(function(t){(function(t){return B(t)&&_e(t)&&0===t.length})(t)||Sl(t)||n++})),n}(a);!(f.length>1)&&r.isBlock(a)||0!==c?(Wl(i)||i.wrapper)&&(i.exact||1!==c||(a=function(t){var n,e=u(t);return e&&!Sl(e)&&Sg(r,e,i)&&(n=r.clone(e,!1),s(n),r.replace(n,t,!0),r.remove(e,!0)),n||t}(a)),mh(t,o,e,a),function(t,n,e,r,o){Og(t,o.parentNode,e,r)&&sh(t,n,r,o)||n.merge_with_parents&&t.dom.getParent(o.parentNode,(function(i){if(Og(t,i,e,r))return sh(t,n,r,o),!0}))}(t,i,n,e,a),function(t,n,e,r){n.styles&&n.styles.backgroundColor&&Xg(r,Yg(t,"fontSize"),Jg(t,"backgroundColor",Bl(n.styles.backgroundColor,e)))}(r,i,e,a),function(t,n,e,r){var o=function(n){if(1===n.nodeType&&n.parentNode&&1===n.parentNode.nodeType){var e=Hl(t,n.parentNode);t.getStyle(n,"color")&&e?t.setStyle(n,"text-decoration",e):t.getStyle(n,"text-decoration")===e&&t.setStyle(n,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(pn.walk(r,o,"childNodes"),o(r))}(r,i,0,a),function(t,n,e,r){"sub"!==n.inline&&"sup"!==n.inline||(Xg(r,Yg(t,"fontSize"),Jg(t,"fontSize","")),t.remove(t.select("sup"===n.inline?"sub":"sup",r),!0))}(r,i,0,a),Kg(r,i,0,a)):r.remove(a,!0)}))};if("false"!==u.getContentEditable(c.getNode())){if(i){if(r)if(El(r)){if(!l(o,r)){var d=u.createRng();d.setStartBefore(r),d.setEndAfter(r),f(u,af(t,d,o),0,!0)}}else f(u,r,0,!0);else if(a&&Wl(i)&&!df(t).length)!function(t,n,e){var r,o,i=t.selection,a=i.getRng(),u=a.startOffset,c=a.startContainer.nodeValue;(r=gl(t.getBody(),i.getStart()))&&(o=Mg(r));var s,l,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&u>0&&u<c.length&&f.test(c.charAt(u))&&f.test(c.charAt(u-1))){var d=i.getBookmark();a.collapse(!0);var m=af(t,a,t.formatter.get(n));m=Gf(m),t.formatter.apply(n,e,m),i.moveToBookmark(d)}else r&&"\ufeff"===o.nodeValue||(s=t.getDoc(),l=Ng(!0).dom,o=(r=s.importNode(l,!0)).firstChild,a.insertNode(r),u=1),t.formatter.apply(n,e,r),i.setCursorLocation(o,u)}(t,n,e);else{var m=c.getNode(),p=o[0];t.settings.forced_root_block||!p.defaultBlock||u.getParent(m,u.isBlock)||hh(t,p.defaultBlock),c.setRng(og(c.getRng())),yf(c,!0,(function(n){bf(t,(function(n,e){var r=e?n:af(t,n,o);f(u,r)}))})),Dl(u,c,c.getRng()),t.nodeChanged()}!function(t,n){Ug(Vg[t],(function(t){t(n)}))}(n,t)}}else{r=c.getNode();for(var g=0,h=o.length;g<h;g++){var v=o[g];if(v.ceFalseOverride&&Ul(v)&&u.is(r,v.selector))return void s(r,v)}}},vh=function(t,n,e,r){var o=at(e.get()),i={},a={},u=G(Fl(t.dom,n),(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}));ct(r,(function(n,e){pn.each(u,(function(r){return t.formatter.matchNode(r,e,{},n.similar)?(-1===o.indexOf(e)&&($(n.callbacks,(function(t){t(!0,{node:r,format:e,parents:u})})),i[e]=n.callbacks),a[e]=n.callbacks,!1):!_g(t,r,e)&&void 0}))}));var c=bh(e.get(),a,n,u);e.set(Ot(Ot({},i),c))},bh=function(t,n,e,r){return mt(t,(function(t,o){return!!vt(n,o)||($(t,(function(t){t(!1,{node:e,format:o,parents:r})})),!1)})).t},yh=function(t,n,e,r,o){return null===n.get()&&function(t,n){var e=Qa({});t.set({}),n.on("NodeChange",(function(r){vh(n,r.element,e,t.get())}))}(n,t),function(t,n,e,r){var o=t.get();$(n.split(","),(function(t){o[t]||(o[t]={similar:r,callbacks:[]}),o[t].callbacks.push(e)})),t.set(o)}(n,e,r,o),{unbind:function(){return function(t,n,e){var r=t.get();$(n.split(","),(function(t){r[t].callbacks=G(r[t].callbacks,(function(t){return t!==e})),0===r[t].callbacks.length&&delete r[t]})),t.set(r)}(n,e,r)}}},xh=function(t,n){var e=(n||document).createDocumentFragment();return $(t,(function(t){e.appendChild(t.dom)})),hn.fromDom(e)},wh=function(t,n,e){return{element:t,width:n,rows:e}},Ch=function(t,n){return{element:t,cells:n}},_h=function(t,n){return{x:t,y:n}},kh=function(t,n){var e=parseInt(Ie(t,n),10);return isNaN(e)?1:e},Sh=function(t,n,e){var r=t.rows;return!!(r[e]?r[e].cells:[])[n]},Ah=function(t){return X(t,(function(t,n){return n.cells.length>t?n.cells.length:t}),0)},Oh=function(t,n){for(var e=t.rows,r=0;r<e.length;r++)for(var o=e[r].cells,i=0;i<o.length;i++)if(xn(o[i],n))return k.some(_h(i,r));return k.none()},Th=function(t,n,e,r,o){for(var i=[],a=t.rows,u=e;u<=o;u++){var c=a[u].cells,s=n<r?c.slice(n,r+1):c.slice(r,n+1);i.push(Ch(a[u].element,s))}return i},Eh=function(t){var n=wh(Au(t),0,[]);return $(pu(t,"tr"),(function(t,e){$(pu(t,"td,th"),(function(r,o){!function(t,n,e,r,o){for(var i=kh(o,"rowspan"),a=kh(o,"colspan"),u=t.rows,c=e;c<e+i;c++){u[c]||(u[c]=Ch(Ou(r),[]));for(var s=n;s<n+a;s++){u[c].cells[s]=c===e&&s===n?o:Au(o)}}}(n,function(t,n,e){for(;Sh(t,n,e);)n++;return n}(n,o,e),e,t,r)}))})),wh(n.element,Ah(n.rows),n.rows)},Dh=function(t){return function(t,n){var e=Au(t.element),r=hn.fromTag("tbody");return Zn(r,n),Qn(e,r),e}(t,function(t){return W(t.rows,(function(t){var n=W(t.cells,(function(t){var n=Ou(t);return He(n,"colspan"),He(n,"rowspan"),n})),e=Au(t.element);return Zn(e,n),e}))}(t))},zh=function(t,n,e){return Oh(t,n).bind((function(n){return Oh(t,e).map((function(e){return function(t,n,e){var r=n.x,o=n.y,i=e.x,a=e.y,u=o<a?Th(t,r,o,i,a):Th(t,r,a,i,o);return wh(t.element,Ah(u),u)}(t,n,e)}))}))},Mh=function(t,n){return Y(t,(function(t){return"li"===_n(t)&&gf(t,n)})).fold(d([]),(function(n){return function(t){return Y(t,(function(t){return"ul"===_n(t)||"ol"===_n(t)}))}(t).map((function(t){var n=hn.fromTag(_n(t)),e=pt(We(t),(function(t,n){return Pt(n,"list-style")}));return Fe(n,e),[hn.fromTag("li"),n]})).getOr([])}))},Nh=function(t,n){var e=hn.fromDom(n.commonAncestorContainer),r=Fm(e,t),o=G(r,(function(t){return Gr(t)||$r(t)})),i=Mh(r,n),a=o.concat(i.length?i:function(t){return Jr(t)?Nn(t).filter(Yr).fold(d([]),(function(n){return[t,n]})):Yr(t)?[t]:[]}(e));return W(a,Au)},Rh=function(){return xh([])},Bh=function(t,n){return e=hn.fromDom(n.cloneContents()),r=Nh(t,n),o=X(r,(function(t,n){return Qn(n,t),n}),e),r.length>0?xh([o]):o;var e,r,o},Ph=function(t,n){return(e=t,r=n[0],Nr(r,"table",p(xn,e))).bind((function(t){var e=n[0],r=n[n.length-1],o=Eh(t);return zh(o,e,r).map((function(t){return xh([Dh(t)])}))})).getOrThunk(Rh);var e,r},Ih=function(t,n){var e=ff(n,t);return e.length>0?Ph(t,e):function(t,n){return n.length>0&&n[0].collapsed?Rh():Bh(t,n[0])}(t,n)},Lh=function(t,n){return n>=0&&n<t.length&&Ol(t.charAt(n))},Hh=function(t,n){var e=eo(t.innerText);return n?function(t){return t.replace(/^[ \f\n\r\t\v]+/,"")}(e):e},Fh=function(t,n,e){if(void 0===e&&(e={}),e.get=!0,e.format=n,e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return function(t){return k.from(t.selection.getRng()).map((function(n){var e=k.from(t.dom.getParent(n.commonAncestorContainer,t.dom.isBlock)),r=t.getBody(),o=function(t){return t.map((function(t){return t.nodeName})).getOr("div").toLowerCase()}(e),i=sn.browser.isIE()&&"pre"!==o,a=t.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),u=Hh(a,i),c=eo(a.textContent);if(t.dom.remove(a),Lh(c,0)||Lh(c,c.length-1)){var s=e.getOr(r),l=Hh(s,i),f=l.indexOf(u);return-1===f?u:(Lh(l,f-1)?" ":"")+u+(Lh(l,f+u.length)?" ":"")}return u})).getOr("")}(t);e.getInner=!0;var r=function(t,n){var e=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),i=tm(t,sf(o)),a=n.contextual?Ih(hn.fromDom(t.getBody()),i).dom:e.cloneContents();return a&&r.appendChild(a),t.selection.serializer.serialize(r,n)}(t,e);return"tree"===e.format?r:(e.content=t.selection.isCollapsed()?"":r,t.fire("GetContent",e),e.content)},Vh=function(t){return ge(t)?t.outerHTML:_e(t)?Qo.encodeRaw(t.data,!1):ke(t)?"\x3c!--"+t.data+"--\x3e":""},jh=function(t,n,e){var r=function(t){var n,e=document.createElement("div"),r=document.createDocumentFragment();for(t&&(e.innerHTML=t);n=e.firstChild;)r.appendChild(n);return r}(n);if(t.hasChildNodes()&&e<t.childNodes.length){var o=t.childNodes[e];o.parentNode.insertBefore(r,o)}else t.appendChild(r)},Uh=function(t,n){var e,r,o,i,a,u,c,s,l,f=W(it(n.childNodes),Vh);return function(t,n){var e=0;$(t,(function(t){0===t[0]?e++:1===t[0]?(jh(n,t[1],e),e++):2===t[0]&&function(t,n){if(t.hasChildNodes()&&n<t.childNodes.length){var e=t.childNodes[n];e.parentNode.removeChild(e)}}(n,e)}))}((r=t,o=(e=f).length+r.length+2,i=new Array(o),a=new Array(o),u=function(t,n,o,i,a){var c=s(t,n,o,i);if(null===c||c.start===n&&c.diag===n-i||c.end===t&&c.diag===t-o)for(var l=t,f=o;l<n||f<i;)l<n&&f<i&&e[l]===r[f]?(a.push([0,e[l]]),++l,++f):n-t>i-o?(a.push([2,e[l]]),++l):(a.push([1,r[f]]),++f);else{u(t,c.start,o,c.start-c.diag,a);for(var d=c.start;d<c.end;++d)a.push([0,e[d]]);u(c.end,n,c.end-c.diag,i,a)}},c=function(t,n,o,i){for(var a=t;a-n<i&&a<o&&e[a]===r[a-n];)++a;return function(t,n,e){return{start:t,end:n,diag:e}}(t,a,n)},s=function(t,n,o,u){var s=n-t,l=u-o;if(0===s||0===l)return null;var f,d,m,p,g,h=s-l,v=l+s,b=(v%2==0?v:v+1)/2;for(i[1+b]=t,a[1+b]=n+1,f=0;f<=b;++f){for(d=-f;d<=f;d+=2){for(m=d+b,d===-f||d!==f&&i[m-1]<i[m+1]?i[m]=i[m+1]:i[m]=i[m-1]+1,g=(p=i[m])-t+o-d;p<n&&g<u&&e[p]===r[g];)i[m]=++p,++g;if(h%2!=0&&h-f<=d&&d<=h+f&&a[m-h]<=i[m])return c(a[m-h],d+t-o,n,u)}for(d=h-f;d<=h+f;d+=2){for(m=d+b-h,d===h-f||d!==h+f&&a[m+1]<=a[m-1]?a[m]=a[m+1]-1:a[m]=a[m-1],g=(p=a[m]-1)-t+o-d;p>=t&&g>=o&&e[p]===r[g];)a[m]=p--,g--;if(h%2==0&&-f<=d&&d<=f&&a[m]<=i[m+h])return c(a[m],d+t-o,n,u)}}},l=[],u(0,e.length,0,r.length,l),l),n),n},Wh=Qa(k.none()),$h=function(t){var n,e=(n=t.getBody(),G(W(it(n.childNodes),Vh),(function(t){return t.length>0}))),r=Q(e,(function(n){var e=dm(t.serializer,n);return e.length>0?[e]:[]})),o=r.join("");return-1!==o.indexOf("</iframe>")?function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}}(r):function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}}(o)},qh=function(t,n,e){"fragmented"===n.type?Uh(n.fragments,t.getBody()):t.setContent(n.content,{format:"raw"}),t.selection.moveToBookmark(e?n.beforeBookmark:n.bookmark)},Gh=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},Kh=function(t){var n=hn.fromTag("body",Wh.get().getOrThunk((function(){var t=document.implementation.createHTMLDocument("undo");return Wh.set(k.some(t)),t})));return ku(n,Gh(t)),$(pu(n,"*[data-mce-bogus]"),ee),n.dom.innerHTML},Xh=function(t,n){return!(!t||!n)&&(!!function(t,n){return Gh(t)===Gh(n)}(t,n)||function(t,n){return Kh(t)===Kh(n)}(t,n))},Yh=function(t){return 0===t.get()},Jh=function(t,n,e){Yh(e)&&(t.typing=n)},Qh=function(t,n){t.typing&&(Jh(t,!1,n),t.add())},Zh=function(t){return{undoManager:{beforeChange:function(n,e){return function(t,n,e){Yh(n)&&e.set(k.some(Ec(t.selection)))}(t,n,e)},addUndoLevel:function(n,e,r,o,i,a){return function(t,n,e,r,o,i,a){var u=$h(t);if(i=i||{},i=pn.extend(i,u),!1===Yh(r)||t.removed)return null;var c=n.data[e.get()];if(t.fire("BeforeAddUndo",{level:i,lastLevel:c,originalEvent:a}).isDefaultPrevented())return null;if(c&&Xh(c,i))return null;n.data[e.get()]&&o.get().each((function(t){n.data[e.get()].beforeBookmark=t}));var s=function(t){return t.getParam("custom_undo_redo_levels",0,"number")}(t);if(s&&n.data.length>s){for(var l=0;l<n.data.length-1;l++)n.data[l]=n.data[l+1];n.data.length--,e.set(n.data.length)}i.bookmark=Ec(t.selection),e.get()<n.data.length-1&&(n.data.length=e.get()+1),n.data.push(i),e.set(n.data.length-1);var f={level:i,lastLevel:c,originalEvent:a};return e.get()>0?(t.setDirty(!0),t.fire("AddUndo",f),t.fire("change",f)):t.fire("AddUndo",f),i}(t,n,e,r,o,i,a)},undo:function(n,e,r){return function(t,n,e,r){var o;return n.typing&&(n.add(),n.typing=!1,Jh(n,!1,e)),r.get()>0&&(r.set(r.get()-1),o=n.data[r.get()],qh(t,o,!0),t.setDirty(!0),t.fire("Undo",{level:o})),o}(t,n,e,r)},redo:function(n,e){return function(t,n,e){var r;return n.get()<e.length-1&&(n.set(n.get()+1),r=e[n.get()],qh(t,r,!1),t.setDirty(!0),t.fire("Redo",{level:r})),r}(t,n,e)},clear:function(n,e){return function(t,n,e){n.data=[],e.set(0),n.typing=!1,t.fire("ClearUndos")}(t,n,e)},reset:function(t){return function(t){t.clear(),t.add()}(t)},hasUndo:function(n,e){return function(t,n,e){return e.get()>0||n.typing&&n.data[0]&&!Xh($h(t),n.data[0])}(t,n,e)},hasRedo:function(t,n){return function(t,n){return n.get()<t.data.length-1&&!t.typing}(t,n)},transact:function(t,n,e){return function(t,n,e){return Qh(t,n),t.beforeChange(),t.ignore(e),t.add()}(t,n,e)},ignore:function(t,n){return function(t,n){try{t.set(t.get()+1),n()}finally{t.set(t.get()-1)}}(t,n)},extra:function(n,e,r,o){return function(t,n,e,r,o){if(n.transact(r)){var i=n.data[e.get()].bookmark,a=n.data[e.get()-1];qh(t,a,!0),n.transact(o)&&(n.data[e.get()-1].beforeBookmark=i)}}(t,n,e,r,o)}},formatter:{match:function(n,e,r){return Tg(t,n,e,r)},matchAll:function(n,e){return function(t,n,e){var r=[],o={},i=t.selection.getStart();return t.dom.getParent(i,(function(i){for(var a=0;a<n.length;a++){var u=n[a];!o[u]&&Og(t,i,u,e)&&(o[u]=!0,r.push(u))}}),t.dom.getRoot()),r}(t,n,e)},matchNode:function(n,e,r,o){return Og(t,n,e,r,o)},canApply:function(n){return function(t,n){var e,r,o,i,a,u=t.formatter.get(n),c=t.dom;if(u)for(e=t.selection.getStart(),r=Fl(c,e),i=u.length-1;i>=0;i--){if(!(a=u[i].selector)||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(c.is(r[o],a))return!0}return!1}(t,n)},closest:function(n){return Eg(t,n)},apply:function(n,e,r){return hh(t,n,e,r)},remove:function(n,e,r,o){return fh(t,n,e,r,o)},toggle:function(n,e,r){return function(t,n,e,r){var o=t.formatter.get(n);!Tg(t,n,e,r)||"toggle"in o[0]&&!o[0].toggle?hh(t,n,e,r):fh(t,n,e,r)}(t,n,e,r)},formatChanged:function(n,e,r,o){return yh(t,n,e,r,o)}},editor:{getContent:function(n,e){return function(t,n,e){return k.from(t.getBody()).fold(d("tree"===n.format?new im("body",11):""),(function(r){return pm(t,n,e,r)}))}(t,n,e)},setContent:function(n,e){return bg(t,n,e)},insertContent:function(n,e){return mg(t,n,e)},addVisual:function(n){return function(t,n){var e=t.dom,r=B(n)?n:t.getBody();N(t.hasVisual)&&(t.hasVisual=function(t){return t.getParam("visual",!0,"boolean")}(t)),$(e.select("table,a",r),(function(n){switch(n.nodeName){case"TABLE":var r=function(t){return t.getParam("visual_table_class","mce-item-table","string")}(t),o=e.getAttrib(n,"border");o&&"0"!==o||!t.hasVisual?e.removeClass(n,r):e.addClass(n,r);break;case"A":if(!e.getAttrib(n,"href")){var i=e.getAttrib(n,"name")||n.id,a=function(t){return t.getParam("visual_anchor_class","mce-item-anchor","string")}(t);i&&t.hasVisual?e.addClass(n,a):e.removeClass(n,a)}}})),t.fire("VisualAid",{element:n,hasVisual:t.hasVisual})}(t,n)}},selection:{getContent:function(n,e){return Fh(t,n,e)}},raw:{getModel:function(){return k.none()}}}},tv=function(t){return vt(t.plugins,"rtc")},nv=function(t){var n=t;return ht(t.plugins,"rtc").fold((function(){return n.rtcInstance=Zh(t),k.none()}),(function(t){return k.some(t.setup().then((function(t){return n.rtcInstance=function(t){var n=function(t){return E(t)?t:{}},e=h("Unimplemented feature for rtc"),r=t.undoManager,o=t.formatter,i=t.editor,a=t.selection,u=t.raw;return{undoManager:{beforeChange:l,addUndoLevel:e,undo:function(){return r.undo()},redo:function(){return r.redo()},clear:function(){return r.clear()},reset:function(){return r.reset()},hasUndo:function(){return r.hasUndo()},hasRedo:function(){return r.hasRedo()},transact:function(t,n,e){return r.transact(e)},ignore:function(t,n){return r.ignore(n)},extra:function(t,n,e,o){return r.extra(e,o)}},formatter:{match:function(t,e,r){return o.match(t,n(e))},matchAll:e,matchNode:e,canApply:function(t){return o.canApply(t)},closest:function(t){return o.closest(t)},apply:function(t,e,r){return o.apply(t,n(e))},remove:function(t,e,r,i){return o.remove(t,n(e))},toggle:function(t,e,r){return o.toggle(t,n(e))},formatChanged:function(t,n,e,r){return o.formatChanged(n,e,r)}},editor:{getContent:function(t,n){return i.getContent(t)},setContent:function(t,n){return i.setContent(t,n)},insertContent:function(t,n){return i.insertContent(t)},addVisual:l},selection:{getContent:function(t,n){return a.getContent(n)}},raw:{getModel:function(){return k.some(u.getRawModel())}}}}(t),t.rtc.isRemote}),(function(t){return n.rtcInstance=function(){var t=d(null),n=d("");return{undoManager:{beforeChange:l,addUndoLevel:t,undo:t,redo:t,clear:l,reset:l,hasUndo:y,hasRedo:y,transact:t,ignore:l,extra:l},formatter:{match:y,matchAll:d([]),matchNode:y,canApply:y,closest:n,apply:l,remove:l,toggle:l,formatChanged:d({unbind:l})},editor:{getContent:n,setContent:n,insertContent:l,addVisual:l},selection:{getContent:n},raw:{getModel:d(k.none())}}}(),Pr.reject(t)})))}))},ev=function(t){return t.rtcInstance?t.rtcInstance:Zh(t)},rv=function(t){var n=t.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},ov=function(t,n){return void 0===n&&(n={}),function(t,n,e){return rv(t).selection.getContent(n,e)}(t,n.format?n.format:"html",n)},iv=function(t){return 0===t.dom.length?(ne(t),k.none()):k.some(t)},av=function(t,n,e,r){t.bind((function(t){return(r?vp:hp)(t.dom,r?t.dom.length:0),n.filter(On).map((function(n){return function(t,n,e,r){var o=t.dom,i=n.dom,a=r?o.length:i.length;r?(bp(o,i,!1,!r),e.setStart(i,a)):(bp(i,o,!1,!r),e.setEnd(i,a))}(t,n,e,r)}))})).orThunk((function(){return function(t,n){return t.filter((function(t){return Of.isBookmarkNode(t.dom)})).bind(n?Bn:Rn)}(n,r).or(n).filter(On).map((function(t){return function(t,n){Nn(t).each((function(e){var r=t.dom;n&&up(e,ac(r,0))?hp(r,0):!n&&cp(e,ac(r,r.length))&&vp(r,r.length)}))}(t,r)}))}))},uv=function(t,n,e){void 0===e&&(e={});var r=function(t,n){return Ot(Ot({format:"html"},t),{set:!0,selection:!0,content:n})}(e,n);if(r.no_events||!(r=t.fire("BeforeSetContent",r)).isDefaultPrevented()){e.content=function(t,n){if("raw"!==n.format){var e=t.selection.getRng(),r=t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=t.parser.parse(n.content,Ot(Ot({isRootContent:!0,forced_root_block:!1},o),n));return ym({validate:t.validate},t.schema).serialize(i)}return n.content}(t,r);var o=t.selection.getRng();!function(t,n){var e=k.from(n.firstChild).map(hn.fromDom),r=k.from(n.lastChild).map(hn.fromDom);t.deleteContents(),t.insertNode(n);var o=e.bind(Rn).filter(On).bind(iv),i=r.bind(Bn).filter(On).bind(iv);av(o,e,t,!0),av(i,r,t,!1),t.collapse(!1)}(o,o.createContextualFragment(e.content)),t.selection.setRng(o),hd(t,o),r.no_events||t.fire("SetContent",r)}else t.fire("SetContent",r)},cv=function(t,n,e){if(t&&t.hasOwnProperty(n)){var r=G(t[n],(function(t){return t!==e}));0===r.length?delete t[n]:t[n]=r}};var sv,lv,fv=function(t){return!!t.select},dv=function(t){return!(!t||!t.ownerDocument)&&Cn(hn.fromDom(t.ownerDocument),hn.fromDom(t))},mv=function(t,n,e,r){var o,i,a=function(t,n){var e,r;return{selectorChangedWithUnbind:function(o,i){return e||(e={},r={},n.on("NodeChange",(function(n){var o=n.element,i=t.getParents(o,null,t.getRoot()),a={};pn.each(e,(function(n,e){pn.each(i,(function(o){if(t.is(o,e))return r[e]||(pn.each(n,(function(t){t(!0,{node:o,selector:e,parents:i})})),r[e]=n),a[e]=n,!1}))})),pn.each(r,(function(t,n){a[n]||(delete r[n],pn.each(t,(function(t){t(!1,{node:o,selector:n,parents:i})})))}))}))),e[o]||(e[o]=[]),e[o].push(i),{unbind:function(){cv(e,o,i),cv(r,o,i)}}}}}(t,r).selectorChangedWithUnbind,u=function(t,n){return uv(r,t,n)},c=function(t){var n=l();n.collapse(!!t),f(n)},s=function(){return n.getSelection?n.getSelection():n.document.selection},l=function(){var e,a,u,c=function(t,n,e){try{return n.compareBoundaryPoints(t,e)}catch(t){return-1}},l=n.document;if(void 0!==r.bookmark&&!1===qd(r)){var f=Rd(r);if(f.isSome())return f.map((function(t){return tm(r,[t])[0]})).getOr(l.createRange())}try{(e=s())&&!pe(e.anchorNode)&&(a=e.rangeCount>0?e.getRangeAt(0):e.createRange?e.createRange():l.createRange(),a=tm(r,[a])[0])}catch(t){}return a||(a=l.createRange?l.createRange():l.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(u=t.getRoot(),a.setStart(u,0),a.setEnd(u,0)),o&&i&&(0===c(a.START_TO_START,a,o)&&0===c(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},f=function(t,n){var e;if(function(t){return!!t&&(!!fv(t)||dv(t.startContainer)&&dv(t.endContainer))}(t)){var a=fv(t)?t:null;if(a){i=null;try{a.select()}catch(t){}}else{var u=s();if(t=r.fire("SetSelectionRange",{range:t,forward:n}).range,u){i=t;try{u.removeAllRanges(),u.addRange(t)}catch(t){}!1===n&&u.extend&&(u.collapse(t.endContainer,t.endOffset),u.extend(t.startContainer,t.startOffset)),o=u.rangeCount>0?u.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!u.setBaseAndExtent||sn.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(e=t.startContainer.childNodes[t.startOffset])&&"IMG"===e.tagName&&(u.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),u.anchorNode===t.startContainer&&u.focusNode===t.endContainer||u.setBaseAndExtent(e,0,e,1)),r.fire("AfterSetSelectionRange",{range:t,forward:n})}}},d=function(){var n=s(),e=null==n?void 0:n.anchorNode,r=null==n?void 0:n.focusNode;if(!n||!e||!r||pe(e)||pe(r))return!0;var o=t.createRng();o.setStart(e,n.anchorOffset),o.collapse(!0);var i=t.createRng();return i.setStart(r,n.focusOffset),i.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,i)<=0},m={bookmarkManager:null,controlSelection:null,dom:t,win:n,serializer:e,editor:r,collapse:c,setCursorLocation:function(n,e){var o=t.createRng();B(n)&&B(e)?(o.setStart(n,e),o.setEnd(n,e),f(o),c(!1)):(hf(t,o,r.getBody(),!0),f(o))},getContent:function(t){return ov(r,t)},setContent:u,getBookmark:function(t,n){return p.getBookmark(t,n)},moveToBookmark:function(t){return p.moveToBookmark(t)},select:function(n,e){return function(t,n,e){return k.from(n).map((function(n){var r=t.nodeIndex(n),o=t.createRng();return o.setStart(n.parentNode,r),o.setEnd(n.parentNode,r+1),e&&(hf(t,o,n,!0),hf(t,o,n,!1)),o}))}(t,n,e).each(f),n},isCollapsed:function(){var t=l(),n=s();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed)},isForward:d,setNode:function(n){return u(t.getOuterHTML(n)),n},getNode:function(){return function(t,n){var e,r,o;if(!n)return t;r=n.startContainer,o=n.endContainer;var i=n.startOffset,a=n.endOffset;return e=n.commonAncestorContainer,!n.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(e=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?Zd(r.nextSibling,!0):r.parentNode,o=0===a?Zd(o.previousSibling,!1):o.parentNode,r&&r===o))?r:e&&3===e.nodeType?e.parentNode:e}(r.getBody(),l())},getSel:s,setRng:f,getRng:l,getStart:function(t){return Jd(r.getBody(),l(),t)},getEnd:function(t){return Qd(r.getBody(),l(),t)},getSelectedBlocks:function(n,e){return function(t,n,e,r){var o,i=[],a=t.getRoot();if(e=t.getParent(e||Jd(a,n,n.collapsed),t.isBlock),r=t.getParent(r||Qd(a,n,n.collapsed),t.isBlock),e&&e!==a&&i.push(e),e&&r&&e!==r){o=e;for(var u=new Ur(e,a);(o=u.next())&&o!==r;)t.isBlock(o)&&i.push(o)}return r&&e!==r&&r!==a&&i.push(r),i}(t,l(),n,e)},normalize:function(){var n=l(),e=s();if(!(sf(e).length>1)&&vf(r)){var o=$f(t,n);return o.each((function(t){f(t,d())})),o.getOr(n)}return n},selectorChanged:function(t,n){return a(t,n),m},selectorChangedWithUnbind:a,getScrollContainer:function(){for(var n,e=t.getRoot();e&&"BODY"!==e.nodeName;){if(e.scrollHeight>e.clientHeight){n=e;break}e=e.parentNode}return n},scrollIntoView:function(t,n){return function(t,n,e){(t.inline?md:gd)(t,n,e)}(r,t,n)},placeCaretAt:function(t,n){return f(Bf(t,n,r.getDoc()))},getBoundingClientRect:function(){var t=l();return t.collapsed?ac.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){n=o=i=null,g.destroy()}},p=Of(m),g=Nf(m,r);return m.bookmarkManager=p,m.controlSelection=g,m},pv=function(t,n,e){t.addNodeFilter("font",(function(t){$(t,(function(t){var r=n.parse(t.attr("style")),o=t.attr("color"),i=t.attr("face"),a=t.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=e[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",n.serialize(r)),function(t,n){$(n,(function(n){t.attr(n,null)}))}(t,["color","face","size"])}))}))},gv=function(t,n){var e=li();n.convert_fonts_to_spans&&pv(t,e,pn.explode(n.font_size_legacy_values)),function(t,n){t.addNodeFilter("strike",(function(t){$(t,(function(t){var e=n.parse(t.attr("style"));e["text-decoration"]="line-through",t.name="span",t.attr("style",n.serialize(e))}))}))}(t,e)},hv=function(t){var n,e=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(e[0]);return r&&(n=r[1]),{type:n,data:e[1]}},vv=function(t,n){var e;try{e=atob(n)}catch(t){return k.none()}for(var r=new Uint8Array(e.length),o=0;o<r.length;o++)r[o]=e.charCodeAt(o);return k.some(new Blob([r],{type:t}))},bv=function(t){return 0===t.indexOf("blob:")?function(t){return new Pr((function(n,e){var r=function(){e("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200===o.status?n(o.response):r()},o.onerror=r,o.send()}catch(t){r()}}))}(t):0===t.indexOf("data:")?(n=t,new Pr((function(t){var e=hv(n),r=e.type,o=e.data;vv(r,o).fold((function(){return t(new Blob([]))}),t)}))):null;var n},yv=0,xv=function(t){return(t||"blobid")+yv++},wv=function(t,n,e,r){var o,i;if(0!==n.src.indexOf("blob:")){var a=hv(n.src),u=a.data,c=a.type;o=u,(i=t.getByData(o,c))?e({image:n,blobInfo:i}):bv(n.src).then((function(r){i=t.create(xv(),r,o),t.add(i),e({image:n,blobInfo:i})}),(function(t){r(t)}))}else(i=t.getByUri(n.src))?e({image:n,blobInfo:i}):bv(n.src).then((function(r){(function(t){return new Pr((function(n){var e=new FileReader;e.onloadend=function(){n(e.result)},e.readAsDataURL(t)}))})(r).then((function(a){o=hv(a).data,i=t.create(xv(),r,o),t.add(i),e({image:n,blobInfo:i})}))}),(function(t){r(t)}))},Cv=function(t,n){var e={};return{findAll:function(r,o){o||(o=x);var i=G(function(t){return t?it(t.getElementsByTagName("img")):[]}(r),(function(n){var e=n.src;return!!sn.fileApi&&(!n.hasAttribute("data-mce-bogus")&&(!n.hasAttribute("data-mce-placeholder")&&(!(!e||e===sn.transparentSrc)&&(0===e.indexOf("blob:")?!t.isUploaded(e)&&o(n):0===e.indexOf("data:")&&o(n)))))})),a=W(i,(function(t){if(void 0!==e[t.src])return new Pr((function(n){e[t.src].then((function(e){if("string"==typeof e)return e;n({image:t,blobInfo:e.blobInfo})}))}));var r=new Pr((function(e,r){wv(n,t,e,r)})).then((function(t){return delete e[t.image.src],t})).catch((function(n){return delete e[t.src],n}));return e[t.src]=r,r}));return Pr.all(a)}}},_v=function(t,n,e,r){(t.padd_empty_with_br||n.insert)&&e[r.name]?r.empty().append(new im("br",1)).shortEnded=!0:r.empty().append(new im("#text",3)).value=" "},kv=function(t,n){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===n},Sv=function(t,n,e,r){return r.isEmpty(n,e,(function(n){return function(t,n){var e=t.getElementRule(n.name);return e&&e.paddEmpty}(t,n)}))},Av=function(t,n){var e=n.blob_cache,r=function(t){var r=t.attr("src");(function(t){return t.attr("src")===sn.transparentSrc||t.attr("data-mce-placeholder")})(t)||function(t){return t.attr("data-mce-bogus")}(t)||function(t){var n=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t);return n?k.some({type:n[1],data:decodeURIComponent(n[2])}):k.none()}(r).filter((function(){return function(t,n){if(n.images_dataimg_filter){var e=new Image;return e.src=t.attr("src"),ct(t.attributes.map,(function(t,n){e.setAttribute(n,t)})),n.images_dataimg_filter(e)}return!0}(t,n)})).bind((function(t){var n=t.type,r=t.data;return k.from(e.getByData(r,n)).orThunk((function(){return vv(n,r).map((function(t){var n=e.create(xv(),t,r);return e.add(n),n}))}))})).each((function(n){t.attr("src",n.blobUri())}))};e&&t.addAttributeFilter("src",(function(t){return $(t,r)}))},Ov=pn.makeMap,Tv=pn.each,Ev=pn.explode,Dv=pn.extend,zv=function(t,n){void 0===n&&(n=ci());var e={},r=[],o={},i={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a=function(t){var n,a,u;(a=t.name)in e&&((u=o[a])?u.push(t):o[a]=[t]),n=r.length;for(;n--;)(a=r[n].name)in t.attributes.map&&((u=i[a])?u.push(t):i[a]=[t]);return t},u={schema:n,addAttributeFilter:function(t,n){Tv(Ev(t),(function(t){var e;for(e=0;e<r.length;e++)if(r[e].name===t)return void r[e].callbacks.push(n);r.push({name:t,callbacks:[n]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(t,n){Tv(Ev(t),(function(t){var r=e[t];r||(e[t]=r=[]),r.push(n)}))},getNodeFilters:function(){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({name:n,callbacks:e[n]});return t},filterNode:a,parse:function(u,c){var s,l,f,d,m,p,g,h,v,b=[];c=c||{},o={},i={};var y=Dv(Ov("script,style,head,html,body,title,meta,param"),n.getBlockElements()),x=n.getNonEmptyElements(),w=n.children,C=t.validate,_=function(t){return!1===t?"":!0===t?"p":t}("forced_root_block"in c?c.forced_root_block:t.forced_root_block),k=n.getWhiteSpaceElements(),S=/^[ \t\r\n]+/,A=/[ \t\r\n]+$/,O=/[ \t\r\n]+/g,T=/^[ \t\r\n]+$/;h=k.hasOwnProperty(c.context)||k.hasOwnProperty(t.root_name);var E=function(t,n){var r,i=new im(t,n);return t in e&&((r=o[t])?r.push(i):o[t]=[i]),i},D=function(t){var e,r,o,i,a=n.getBlockElements();for(e=t.prev;e&&3===e.type;){if((o=e.value.replace(A,"")).length>0)return void(e.value=o);if(r=e.next){if(3===r.type&&r.value.length){e=e.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){e=e.prev;continue}}i=e.prev,e.remove(),e=i}},z=fm({validate:C,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:function(t){var n,e={};for(n in t)"li"!==n&&"p"!==n&&(e[n]=t[n]);return e}(n.getSelfClosingElements()),cdata:function(t){v.append(E("#cdata",4)).value=t},text:function(t,n){var e;h||(t=t.replace(O," "),function(t,n){return t&&(n[t.name]||"br"===t.name)}(v.lastChild,y)&&(t=t.replace(S,""))),0!==t.length&&((e=E("#text",3)).raw=!!n,v.append(e).value=t)},comment:function(t){v.append(E("#comment",8)).value=t},pi:function(t,n){v.append(E(t,7)).value=n,D(v)},doctype:function(t){v.append(E("#doctype",10)).value=t,D(v)},start:function(t,e,o){var a,u,c,s,l=C?n.getElementRule(t):{};if(l){for((a=E(l.outputName||t,1)).attributes=e,a.shortEnded=o,v.append(a),(s=w[v.name])&&w[a.name]&&!s[a.name]&&b.push(a),u=r.length;u--;)(c=r[u].name)in e.map&&((p=i[c])?p.push(a):i[c]=[a]);y[t]&&D(a),o||(v=a),!h&&k[t]&&(h=!0)}},end:function(e){var r,o,i,a,u=C?n.getElementRule(e):{};if(u){if(y[e]&&!h){if((r=v.firstChild)&&3===r.type)if((o=r.value.replace(S,"")).length>0)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,(0===o.length||T.test(o))&&(r.remove(),r=i),r=i;if((r=v.lastChild)&&3===r.type)if((o=r.value.replace(A,"")).length>0)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,(0===o.length||T.test(o))&&(r.remove(),r=i),r=i}if(h&&k[e]&&(h=!1),u.removeEmpty&&Sv(n,x,k,v))return a=v.parent,y[v.name]?v.empty().remove():v.unwrap(),void(v=a);u.paddEmpty&&(function(t){return kv(t,"#text")&&" "===t.firstChild.value}(v)||Sv(n,x,k,v))&&_v(t,c,y,v),v=v.parent}}},n),M=v=new im(c.context||t.root_name,11);if(z.parse(u,c.format),C&&b.length&&(c.context?c.invalid=!0:function(t){var e,r,o,i,u,c,s,l,f,d,m,p=Ov("tr,td,th,tbody,thead,tfoot,table"),g=n.getNonEmptyElements(),h=n.getWhiteSpaceElements(),v=n.getTextBlockElements(),b=n.getSpecialElements();for(e=0;e<t.length;e++)if((r=t[e]).parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){for(d=r.next;d&&v[d.name];)d.name="li",d.fixed=!0,r.parent.insert(d,r.parent),d=d.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!n.isValidChild(o.name,r.name)&&!p[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),u=c=a(i[0].clone()),f=0;f<i.length-1;f++){for(n.isValidChild(c.name,i[f].name)?(s=a(i[f].clone()),c.append(s)):s=c,l=i[f].firstChild;l&&l!==i[f+1];)m=l.next,s.append(l),l=m;c=s}Sv(n,g,h,u)?o.insert(r,i[0],!0):(o.insert(u,i[0],!0),o.insert(r,u)),o=i[0],(Sv(n,g,h,o)||kv(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((d=r.prev)&&("ul"===d.name||"ol"===d.name)){d.append(r);continue}if((d=r.next)&&("ul"===d.name||"ol"===d.name)){d.insert(r,d.firstChild,!0);continue}r.wrap(a(new im("ul",1)));continue}n.isValidChild(r.parent.name,"div")&&n.isValidChild("div",r.name)?r.wrap(a(new im("div",1))):b[r.name]?r.empty().remove():r.unwrap()}}}(b)),_&&("body"===M.name||c.isRootContent)&&function(){var e,r,o=M.firstChild,i=function(t){t&&((o=t.firstChild)&&3===o.type&&(o.value=o.value.replace(S,"")),(o=t.lastChild)&&3===o.type&&(o.value=o.value.replace(A,"")))};if(n.isValidChild(M.name,_.toLowerCase())){for(;o;)e=o.next,3===o.type||1===o.type&&"p"!==o.name&&!y[o.name]&&!o.attr("data-mce-type")?(r||((r=E(_,1)).attr(t.forced_root_block_attrs),M.insert(r,o)),r.append(o)):(i(r),r=null),o=e;i(r)}}(),!c.invalid){for(g in o)if(o.hasOwnProperty(g)){for(p=e[g],d=(s=o[g]).length;d--;)s[d].parent||s.splice(d,1);for(l=0,f=p.length;l<f;l++)p[l](s,g,c)}for(l=0,f=r.length;l<f;l++)if((p=r[l]).name in i){for(d=(s=i[p.name]).length;d--;)s[d].parent||s.splice(d,1);for(d=0,m=p.callbacks.length;d<m;d++)p.callbacks[d](s,p.name,c)}}return M}};return function(t,n){var e=t.schema;n.remove_trailing_brs&&t.addNodeFilter("br",(function(t,r,o){var i,a,u,c,s,l,f,d,m=t.length,p=pn.extend({},e.getBlockElements()),g=e.getNonEmptyElements(),h=e.getWhiteSpaceElements();for(p.body=1,i=0;i<m;i++)if(u=(a=t[i]).parent,p[a.parent.name]&&a===u.lastChild){for(s=a.prev;s;){if("span"!==(l=s.name)||"bookmark"!==s.attr("data-mce-type")){"br"===l&&(a=null);break}s=s.prev}a&&(a.remove(),Sv(e,g,h,u)&&(f=e.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&_v(n,o,p,u)))}else{for(c=a;u&&u.firstChild===c&&u.lastChild===c&&(c=u,!p[u.name]);)u=u.parent;c===u&&!0!==n.padd_empty_with_br&&((d=new im("#text",3)).value=" ",a.replace(d))}})),t.addAttributeFilter("href",(function(t){var e,r,o=t.length;if(!n.allow_unsafe_link_target)for(;o--;){var i=t[o];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",(e=i.attr("rel"),r=void 0,r=e?pn.trim(e):"",/\b(noopener)\b/g.test(r)?r:function(t){return t.split(" ").filter((function(t){return t.length>0})).concat(["noopener"]).sort().join(" ")}(r)))}})),n.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var n,e,r,o,i=t.length;i--;)if("a"===(o=t[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,n=o.lastChild;do{e=n.prev,r.insert(n,o),n=e}while(n)}})),n.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var n,e,r=t.length;r--;)if("ul"===(e=(n=t[r]).parent).name||"ol"===e.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var o=new im("li",1);o.attr("style","list-style-type: none"),n.wrap(o)}})),n.validate&&e.getValidClasses()&&t.addAttributeFilter("class",(function(t){for(var n,r,o,i,a,u,c,s=t.length,l=e.getValidClasses();s--;){for(r=(n=t[s]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],c=!1,(u=l["*"])&&u[i]&&(c=!0),u=l[n.name],!c&&u&&u[i]&&(c=!0),c&&(a&&(a+=" "),a+=i);a.length||(a=null),n.attr("class",a)}})),Av(t,n)}(u,t),function(t,n){n.inline_styles&&gv(t,n)}(u,t),u},Mv=function(t,n,e){return function(t,n){return t&&t.hasEventListeners("PreProcess")&&!n.no_events}(t,e)?function(t,n,e){var r,o,i=t.dom;n=n.cloneNode(!0);var a=document.implementation;return a.createHTMLDocument&&(r=a.createHTMLDocument(""),pn.each("BODY"===n.nodeName?n.childNodes:[n],(function(t){r.body.appendChild(r.importNode(t,!0))})),n="BODY"!==n.nodeName?r.body.firstChild:r.body,o=i.doc,i.doc=r),function(t,n){t.fire("PreProcess",n)}(t,Ot(Ot({},e),{node:n})),o&&(i.doc=o),n}(t,n,e):n},Nv=function(t,n,e){-1===pn.inArray(n,e)&&(t.addAttributeFilter(e,(function(t,n){for(var e=t.length;e--;)t[e].attr(n,null)})),n.push(e))},Rv=function(t,n,e,r,o){return function(t,n,e){return!n.no_events&&t?function(t,n){return t.fire("PostProcess",n)}(t,Ot(Ot({},n),{content:e})).content:e}(t,o,function(t,n,e){return ym(t,n).serialize(e)}(n,e,r))},Bv=function(t,n){var e=["data-mce-selected"],r=n&&n.dom?n.dom:Ga.DOM,o=n&&n.schema?n.schema:ci(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i=zv(t,o);!function(t,n,e){t.addAttributeFilter("data-mce-tabindex",(function(t,n){for(var e,r=t.length;r--;)(e=t[r]).attr("tabindex",e.attr("data-mce-tabindex")),e.attr(n,null)})),t.addAttributeFilter("src,href,style",(function(t,r){for(var o,i,a=t.length,u="data-mce-"+r,c=n.url_converter,s=n.url_converter_scope;a--;)void 0!==(i=(o=t[a]).attr(u))?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attr(r),"style"===r?i=e.serializeStyle(e.parseStyle(i),o.name):c&&(i=c.call(s,i,r,o.name)),o.attr(r,i.length>0?i:null))})),t.addAttributeFilter("class",(function(t){for(var n,e,r=t.length;r--;)(e=(n=t[r]).attr("class"))&&(e=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",e.length>0?e:null))})),t.addAttributeFilter("data-mce-type",(function(t,n,e){for(var r,o=t.length;o--;){if("bookmark"===(r=t[o]).attr("data-mce-type")&&!e.cleanup)k.from(r.firstChild).exists((function(t){return!no(t.value)}))?r.unwrap():r.remove()}})),t.addNodeFilter("noscript",(function(t){for(var n,e=t.length;e--;)(n=t[e].firstChild)&&(n.value=Qo.decode(n.value))})),t.addNodeFilter("script,style",(function(t,e){for(var r,o,i,a=t.length,u=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)o=(r=t[a]).firstChild?r.firstChild.value:"","script"===e?((i=r.attr("type"))&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===n.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===n.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+u(o)+"\n--\x3e")})),t.addNodeFilter("#comment",(function(t){for(var r,o=t.length;o--;)r=t[o],n.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=e.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,n){for(var e,r=t.length;r--;)7===(e=t[r]).type?e.remove():1===e.type&&("input"!==n||e.attr("type")||e.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(n){$(n,(function(n){"format-caret"===n.attr("data-mce-type")&&(n.isEmpty(t.schema.getNonEmptyElements())?n.remove():n.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(t,n){for(var e=t.length;e--;)t[e].attr(n,null)}))}(i,t,r);return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(e,a){void 0===a&&(a={});var u=Ot({format:"html"},a),c=Mv(n,e,u),s=function(t,n,e){var r=eo(e.getInner?n.innerHTML:t.getOuterHTML(n));return e.selection||to(hn.fromDom(n))?r:pn.trim(r)}(r,c,u),l=function(t,n,e){var r=e.selection?Ot({forced_root_block:!1},e):e,o=t.parse(n,r);return function(t){var n=function(t){return t&&"br"===t.name},e=t.lastChild;if(n(e)){var r=e.prev;n(r)&&(e.remove(),r.remove())}}(o),o}(i,s,u);return"tree"===u.format?l:Rv(n,t,o,l,u)},addRules:function(t){o.addValidElements(t)},setRules:function(t){o.setValidElements(t)},addTempAttr:p(Nv,i,e),getTempAttrs:d(e),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},Pv=function(t,n){var e=Bv(t,n);return{schema:e.schema,addNodeFilter:e.addNodeFilter,addAttributeFilter:e.addAttributeFilter,serialize:e.serialize,addRules:e.addRules,setRules:e.setRules,addTempAttr:e.addTempAttr,getTempAttrs:e.getTempAttrs,getNodeFilters:e.getNodeFilters,getAttributeFilters:e.getAttributeFilters}},Iv=function(t,n){return void 0===n&&(n={}),function(t,n,e){return ev(t).editor.getContent(n,e)}(t,n,n.format?n.format:"html")},Lv=function(t,n,e){return void 0===e&&(e={}),function(t,n,e){return ev(t).editor.setContent(n,e)}(t,n,e)},Hv=Ga.DOM,Fv=function(t){return k.from(t).each((function(t){return t.destroy()}))},Vv=function(t){if(!t.removed){var n=t._selectionOverrides,e=t.editorUpload,r=t.getBody(),o=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&Hv.remove(o.nextSibling),function(t){t.fire("remove")}(t),t.editorManager.remove(t),!t.inline&&r&&function(t){Hv.setStyle(t.id,"display",t.orgDisplay)}(t),function(t){t.fire("detach")}(t),Hv.remove(t.getContainer()),Fv(n),Fv(e),t.destroy()}},jv=function(t,n){var e=t.selection,r=t.dom;t.destroyed||(n||t.removed?(n||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Fv(e),Fv(r)),function(t){var n=t.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Hv.unbind(n,"submit reset",t.formEventDelegate))}(t),function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)}(t),t.destroyed=!0):t.remove())},Uv=Object.prototype.hasOwnProperty,Wv=(sv=function(t,n){return E(t)&&E(n)?Wv(t,n):n},function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var e={},r=0;r<t.length;r++){var o=t[r];for(var i in o)Uv.call(o,i)&&(e[i]=sv(e[i],o[i]))}return e}),$v=Zt().deviceType,qv=$v.isTouch(),Gv=$v.isPhone(),Kv=$v.isTablet(),Xv=["lists","autolink","autosave"],Yv={table_grid:!1,object_resizing:!1,resize:!1},Jv=function(t){var n=D(t)?t.join(" "):t,e=W(T(n)?n.split(" "):[],Lt);return G(e,(function(t){return t.length>0}))},Qv=function(t,n){var e=mt(n,(function(n,e){return j(t,e)}));return function(t,n){return{sections:d(t),settings:d(n)}}(e.t,e.f)},Zv=function(t,n){return t.sections().hasOwnProperty(n)},tb=function(t,n){return ht(t,"toolbar_mode").orThunk((function(){return ht(t,"toolbar_drawer").map((function(t){return!1===t?"wrap":t}))})).getOr(n)},nb=function(t,n){var e={resize:!1,toolbar_mode:tb(t,"scrolling"),toolbar_sticky:!1};return Ot(Ot(Ot({},Yv),e),n?{menubar:!1}:{})},eb=function(t,n){var e=n.external_plugins?n.external_plugins:{};return t&&t.external_plugins?pn.extend({},t.external_plugins,e):e},rb=function(t,n,e,r){return t&&function(t,n,e){var r=t.sections();return Zv(t,n)&&r[n].theme===e}(n,"mobile","mobile")?G(r,p(j,Xv)):t&&Zv(n,"mobile")?r:e},ob=function(t,n,e,r){var o=Jv(e.forced_plugins),i=Jv(r.plugins),a=function(t,n){return Zv(t,n)?t.sections()[n]:{}}(n,"mobile"),u=a.plugins?Jv(a.plugins):i,c=function(t,n){return[].concat(Jv(t)).concat(Jv(n))}(o,rb(t,n,i,u));if(sn.browser.isIE()&&j(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return pn.extend(r,{plugins:c.join(" ")})},ib=function(t,n,e,r,o){var i=t?{mobile:nb(o.mobile||{},n)}:{},a=Qv(["mobile"],Wv(i,o)),u=pn.extend(e,r,a.settings(),function(t,n){return t&&Zv(n,"mobile")}(t,a)?function(t,n,e){void 0===e&&(e={});var r=t.sections(),o=r.hasOwnProperty(n)?r[n]:{};return pn.extend({},e,o)}(a,"mobile"):{},{validate:!0,external_plugins:eb(r,a.settings())});return ob(t,a,r,u)},ab=function(t,n,e,r,o){var i=function(t,n,e,r,o){var i={id:n,theme:"silver",toolbar_mode:tb(t,"floating"),plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Ot(Ot({},i),r?Yv:{})}(o,n,e,qv,t);return ib(Gv||Kv,Gv,i,r,o)},ub=function(t,n,e){return k.from(n.settings[e]).filter(t)},cb=function(t,n,e,r){var o,i=n in t.settings?t.settings[n]:e;return"hash"===r?function(t){var n={};return"string"==typeof t?$(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),(function(t){var e=t.split("=");e.length>1?n[pn.trim(e[0])]=pn.trim(e[1]):n[pn.trim(e[0])]=pn.trim(e[0])})):n=t,n}(i):"string"===r?ub(T,t,n).getOr(e):"number"===r?ub(I,t,n).getOr(e):"boolean"===r?ub(M,t,n).getOr(e):"object"===r?ub(E,t,n).getOr(e):"array"===r?ub(D,t,n).getOr(e):"string[]"===r?ub((o=T,function(t){return D(t)&&Z(t,o)}),t,n).getOr(e):"function"===r?ub(P,t,n).getOr(e):i},sb=(lv={},{add:function(t,n){lv[t]=n},get:function(t){return lv[t]?lv[t]:{icons:{}}},has:function(t){return vt(lv,t)}}),lb=function(t,n){return n.dom[t]},fb=function(t,n){return parseInt(Ve(n,t),10)},db=p(lb,"clientWidth"),mb=p(lb,"clientHeight"),pb=p(fb,"margin-top"),gb=p(fb,"margin-left"),hb=function(t,n,e){var r,o=hn.fromDom(t.getBody()),i=t.inline?o:(r=o,hn.fromDom(zn(r).dom.documentElement)),a=function(t,n,e,r){var o=function(t){return t.dom.getBoundingClientRect()}(n);return{x:e-(t?o.left+n.dom.clientLeft+gb(n):0),y:r-(t?o.top+n.dom.clientTop+pb(n):0)}}(t.inline,i,n,e);return function(t,n,e){var r=db(t),o=mb(t);return n>=0&&e>=0&&n<=r&&e<=o}(i,a.x,a.y)},vb=function(t){var n,e=t.inline?t.getBody():t.getContentAreaContainer();return(n=e,k.from(n).map(hn.fromDom)).map(re).getOr(!1)},bb=function(t){var n=[],e=function(){var n,e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():{open:n=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:n,reposition:n,getArgs:n}},r=function(){return k.from(n[0])},o=function(){n.length>0&&e().reposition(n)},i=function(t){J(n,(function(n){return n===t})).each((function(t){n.splice(t,1)}))},a=function(a,u){if(void 0===u&&(u=!0),!t.removed&&vb(t))return u&&t.fire("BeforeOpenNotification",{notification:a}),Y(n,(function(t){return n=e().getArgs(t),r=a,!(n.type!==r.type||n.text!==r.text||n.progressBar||n.timeout||r.progressBar||r.timeout);var n,r})).getOrThunk((function(){t.editorManager.setActive(t);var u=e().open(a,(function(){i(u),o(),r().fold((function(){return t.focus()}),(function(t){return hn.fromDom(t.getEl()).dom.focus()}))}));return function(t){n.push(t)}(u),o(),t.fire("OpenNotification",Ot({},u)),u}))};return function(t){t.on("SkinLoaded",(function(){var n=function(t){return t.getParam("service_message")}(t);n&&a({text:n,type:"warning",timeout:0},!1)})),t.on("ResizeEditor ResizeWindow NodeChange",(function(){Fr.requestAnimationFrame(o)})),t.on("remove",(function(){$(n.slice(),(function(t){e().close(t)}))}))}(t),{open:a,close:function(){r().each((function(t){e().close(t),i(t),o()}))},getNotifications:function(){return n}}},yb=ru.PluginManager,xb=ru.ThemeManager;var wb,Cb=function(t){var n=[],e=function(){var n,e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():{open:n=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:n,alert:n,confirm:n,close:n,getParams:n,setParams:n}},r=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n?n.apply(t,e):void 0}},o=function(e){n.push(e),function(n){t.fire("OpenWindow",{dialog:n})}(e)},i=function(e){!function(n){t.fire("CloseWindow",{dialog:n})}(e),0===(n=G(n,(function(t){return t!==e}))).length&&t.focus()},a=function(n){t.editorManager.setActive(t),Nd(t);var e=n();return o(e),e};return t.on("remove",(function(){$(n,(function(t){e().close(t)}))})),{open:function(t,n){return a((function(){return e().open(t,n,i)}))},openUrl:function(t){return a((function(){return e().openUrl(t,i)}))},alert:function(t,n,o){var i=e();i.alert(t,r(o||i,n))},confirm:function(t,n,o){var i=e();i.confirm(t,r(o||i,n))},close:function(){k.from(n[n.length-1]).each((function(t){e().close(t),i(t)}))}}},_b=function(t,n){t.notificationManager.open({type:"error",text:n})},kb=function(t,n){t._skinLoaded?_b(t,n):t.on("SkinLoaded",(function(){_b(t,n)}))},Sb=function(t,n,e){Df(t,n,{message:e}),console.error(e)},Ab=function(t,n,e){return e?"Failed to load "+t+": "+e+" from url "+n:"Failed to load "+t+" url: "+n},Ob=function(t,n,e){Sb(t,"PluginLoadError",Ab("plugin",n,e))},Tb=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=window.console;r&&(r.error?r.error.apply(r,Tt([t],n)):r.log.apply(r,Tt([t],n)))},Eb=function(t){return Db(t,function(t){var n=t.getParam("content_css");return T(n)?W(n.split(","),Lt):D(n)?n:!1===n||t.inline?[]:["default"]}(t))},Db=function(t,n){var e=t.editorManager.baseURL+"/skins/content",r="content"+t.editorManager.suffix+".css",o=!0===t.inline;return W(n,(function(n){return function(t){return/^[a-z0-9\-]+$/i.test(t)}(n)&&!o?e+"/"+n+"/"+r:t.documentBaseURI.toAbsolute(n)}))},zb=function(t){t.contentCSS=t.contentCSS.concat(Eb(t),function(t){return Db(t,qc(t))}(t))},Mb=function(){var t={},n=function(t,n){return{status:t,resultUri:n}},e=function(n){return n in t};return{hasBlobUri:e,getResultUri:function(n){var e=t[n];return e?e.resultUri:null},isPending:function(n){return!!e(n)&&1===t[n].status},isUploaded:function(n){return!!e(n)&&2===t[n].status},markPending:function(e){t[e]=n(1,null)},markUploaded:function(e,r){t[e]=n(2,r)},removeFailed:function(n){delete t[n]},destroy:function(){t={}}}},Nb=0,Rb=function(t){return t+Nb+++(n=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+n()+n()+n());var n},Bb=function(t,n){var e={},r=function(t,e,r,o){var i=new XMLHttpRequest;i.open("POST",n.url),i.withCredentials=n.credentials,i.upload.onprogress=function(t){o(t.loaded/t.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){if(i.status<200||i.status>=300)r("HTTP Error: "+i.status);else{var t,o,a=JSON.parse(i.responseText);if(a&&"string"==typeof a.location)e((t=n.basePath,o=a.location,t?t.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o));else r("Invalid JSON: "+i.responseText)}};var a=new FormData;a.append("file",t.blob(),t.filename()),i.send(a)},o=function(t,n){return{url:n,blobInfo:t,status:!0}},i=function(t,n,e){return{url:"",blobInfo:t,status:!1,error:{message:n,options:e}}},a=function(t,n){pn.each(e[t],(function(t){t(n)})),delete e[t]},u=function(r,u){return r=pn.grep(r,(function(n){return!t.isUploaded(n.blobUri())})),Pr.all(pn.map(r,(function(r){return t.isPending(r.blobUri())?function(t){var n=t.blobUri();return new Pr((function(t){e[n]=e[n]||[],e[n].push(t)}))}(r):function(n,e,r){return t.markPending(n.blobUri()),new Pr((function(u){var c;try{var s=function(){c&&(c.close(),l)};e(n,(function(e){s(),t.markUploaded(n.blobUri(),e),a(n.blobUri(),o(n,e)),u(o(n,e))}),(function(e,r){var o=r||{};s(),t.removeFailed(n.blobUri()),a(n.blobUri(),i(n,e,o)),u(i(n,e,o))}),(function(t){t<0||t>100||k.from(c).orThunk((function(){return k.from(r).map(v)})).each((function(n){c=n,n.progressBar.value(t)}))}))}catch(t){u(i(n,t.message,{}))}}))}(r,n.handler,u)})))};return!1===P(n.handler)&&(n.handler=r),{upload:function(t,e){return n.url||n.handler!==r?u(t,e):new Pr((function(t){t([])}))}}},Pb=function(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},Ib=function(t,n){return Bb(n,{url:Lc(t),basePath:Hc(t),credentials:Fc(t),handler:Vc(t)})},Lb=function(t){var n,e,r=function(){var t=[],n=function(t){if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var n,e=t.id||Rb("blobid"),r=t.name||e,o=t.blob;return{id:d(e),name:d(r),filename:d(t.filename||r+"."+(n=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[n.toLowerCase()]||"dat")),blob:d(o),base64:d(t.base64),blobUri:d(t.blobUri||URL.createObjectURL(o)),uri:d(t.uri)}},e=function(n){return Y(t,n).getOrUndefined()},r=function(t){return e((function(n){return n.id()===t}))};return{create:function(t,e,r,o,i){if(T(t))return n({id:t,name:o,filename:i,blob:e,base64:r});if(E(t))return n(t);throw new Error("Unknown input type")},add:function(n){r(n.id())||t.push(n)},get:r,getByUri:function(t){return e((function(n){return n.blobUri()===t}))},getByData:function(t,n){return e((function(e){return e.base64()===t&&e.blob().type===n}))},findFirst:e,removeByUri:function(n){t=G(t,(function(t){return t.blobUri()!==n||(URL.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){$(t,(function(t){URL.revokeObjectURL(t.blobUri())})),t=[]}}}(),o=Mb(),i=[],a=function(t){var n=Qa(null);t.on("change AddUndo",(function(t){n.set(Ot({},t.level))}));return{fireIfChanged:function(){var e=t.undoManager.data;ot(e).filter((function(t){return!Xh(n.get(),t)})).each((function(n){t.setDirty(!0),t.fire("change",{level:n,lastLevel:et(e,e.length-2).getOrNull()})}))}}}(t),u=function(n){return function(e){return t.selection?n(e):[]}},c=function(t,n,e){var r=0;do{-1!==(r=t.indexOf(n,r))&&(t=t.substring(0,r)+e+t.substr(r+n.length),r+=e.length-n.length+1)}while(-1!==r);return t},s=function(t,n,e){var r='src="'+e+'"'+(e===sn.transparentSrc?' data-mce-placeholder="1"':"");return t=c(t,'src="'+n+'"',r),t=c(t,'data-mce-src="'+n+'"','data-mce-src="'+e+'"')},l=function(n,e){$(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=W(t.fragments,(function(t){return s(t,n,e)})):t.content=s(t.content,n,e)}))},f=function(e){return n||(n=Ib(t,o)),g().then(u((function(o){var i=W(o,(function(t){return t.blobInfo}));return n.upload(i,Pb(t)).then(u((function(n){var i=[],u=W(n,(function(n,e){var a=o[e].blobInfo,u=o[e].image;return n.status&&function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")}(t)?(r.removeByUri(u.src),function(n,e){var r,o=t.convertURL(e,"src");l(n.src,e),t.$(n).attr({src:Pc(t)?(r=e,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):e,"data-mce-src":o})}(u,n.url)):n.error&&(n.error.options.remove&&(l(u.getAttribute("src"),sn.transparentSrc),i.push(u)),function(t,n){kb(t,eu.translate(["Failed to upload image: {0}",n]))}(t,n.error.message)),{element:u,status:n.status,uploadUri:n.url,blobInfo:a}}));return u.length>0&&a.fireIfChanged(),i.length>0&&(tv(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact((function(){$(i,(function(n){t.dom.remove(n),r.removeByUri(n.src)}))}))),e&&e(u),u})))})))},m=function(n){if(Bc(t))return f(n)},p=function(n){return!1!==Z(i,(function(t){return t(n)}))&&(0!==n.getAttribute("src").indexOf("data:")||function(t){return t.getParam("images_dataimg_filter",x,"function")}(t)(n))},g=function(){return e||(e=Cv(o,r)),e.findAll(t.getBody(),p).then(u((function(n){return n=G(n,(function(n){return"string"!=typeof n||(kb(t,n),!1)})),$(n,(function(t){l(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),n})))},h=function(n){return n.replace(/src="(blob:[^"]+)"/g,(function(n,e){var i=o.getResultUri(e);if(i)return'src="'+i+'"';var a=r.getByUri(e);return a||(a=X(t.editorManager.get(),(function(t,n){return t||n.editorUpload&&n.editorUpload.blobCache.getByUri(e)}),null)),a?'src="data:'+a.blob().type+";base64,"+a.base64()+'"':n}))};return t.on("SetContent",(function(){Bc(t)?m():g()})),t.on("RawSaveContent",(function(t){t.content=h(t.content)})),t.on("GetContent",(function(t){t.source_view||"raw"===t.format||"tree"===t.format||(t.content=h(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){$(t,(function(t){var n=t.attr("src");if(!r.getByUri(n)){var e=o.getResultUri(n);e&&t.attr("src",e)}}))}))})),{blobCache:r,addFilter:function(t){i.push(t)},uploadImages:f,uploadImagesAuto:m,scanForImages:g,destroy:function(){r.destroy(),o.destroy(),e=n=null}}},Hb=function(t){var n={},e=function(t,r){t&&("string"!=typeof t?pn.each(t,(function(t,n){e(n,t)})):(D(r)||(r=[r]),pn.each(r,(function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),n[t]=r))};return e(function(t){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(t,n,e){return ge(t)&&t.hasAttribute("href")},onformat:function(n,e,r){pn.each(r,(function(e,r){t.setAttrib(n,r,e)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return pn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){n[t]={block:t,remove:"all"}})),n}(t.dom)),e(function(t){return t.getParam("formats")}(t)),{get:function(t){return t?n[t]:n},has:function(t){return vt(n,t)},register:e,unregister:function(t){return t&&n[t]&&delete n[t],n}}},Fb=pn.each,Vb=Ga.DOM,jb=function(t,n){var e,r,o,i=n&&n.schema||ci({}),a=function(t){r="string"==typeof t?{name:t,classes:[],attrs:{}}:t;var n=Vb.create(r.name);return function(t,n){n.classes.length&&Vb.addClass(t,n.classes.join(" ")),Vb.setAttribs(t,n.attrs)}(n,r),n},u=function(t,n,e){var r,o,c=n.length>0&&n[0],s=c&&c.name,l=function(t,n){var e="string"!=typeof t?t.nodeName.toLowerCase():t,r=i.getElementRule(e),o=r&&r.parentsRequired;return!(!o||!o.length)&&(n&&-1!==pn.inArray(o,n)?n:o[0])}(t,s);if(l)s===l?(o=n[0],n=n.slice(1)):o=l;else if(c)o=n[0],n=n.slice(1);else if(!e)return t;return o&&(r=a(o)).appendChild(t),e&&(r||(r=Vb.create("div")).appendChild(t),pn.each(e,(function(n){var e=a(n);r.insertBefore(e,t)}))),u(r,n,o&&o.siblings)};return t&&t.length?(r=t[0],e=a(r),(o=Vb.create("div")).appendChild(u(e,t.slice(1),r.siblings)),o):""},Ub=function(t){var n,e={classes:[],attrs:{}};return"*"!==(t=e.selector=pn.trim(t))&&(n=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,n,r,o,i){switch(n){case"#":e.attrs.id=r;break;case".":e.classes.push(r);break;case":":-1!==pn.inArray("checked disabled enabled read-only required".split(" "),r)&&(e.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(e.attrs[a[1]]=a[2])}return""}))),e.name=n||"div",e},Wb=function(t,n){var e,r,o,i="",a=function(t){var n=t.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return T(n)?n:""}(t);if(""===a)return"";var u=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof n){if(!(n=t.formatter.get(n)))return;n=n[0]}if("preview"in n){var c=ht(n,"preview");if(c.is(!1))return"";a=c.getOr(a)}e=n.block||n.inline||"span";var s,l=(s=n.selector)&&"string"==typeof s?(s=(s=s.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),pn.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var n=pn.map(t.split(/(?:~\+|~|\+)/),Ub),e=n.pop();return n.length&&(e.siblings=n),e})).reverse()):[];l.length?(l[0].name||(l[0].name=e),e=n.selector,r=jb(l,t)):r=jb([e],t);var f=Vb.select(e,r)[0]||r.firstChild;return Fb(n.styles,(function(t,n){var e=u(t);e&&Vb.setStyle(f,n,e)})),Fb(n.attributes,(function(t,n){var e=u(t);e&&Vb.setAttrib(f,n,e)})),Fb(n.classes,(function(t){var n=u(t);Vb.hasClass(f,n)||Vb.addClass(f,n)})),t.fire("PreviewFormats"),Vb.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),o=Vb.getStyle(t.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,Fb(a.split(" "),(function(n){var e=Vb.getStyle(f,n,!0);if(!("background-color"===n&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=Vb.getStyle(t.getBody(),n,!0),"#ffffff"===Vb.toHex(e).toLowerCase())||"color"===n&&"#000000"===Vb.toHex(e).toLowerCase())){if("font-size"===n&&/em|%$/.test(e)){if(0===o)return;e=parseFloat(e)/(/%$/.test(e)?100:1)*o+"px"}"border"===n&&e&&(i+="padding:0 2px;"),i+=n+":"+e+";"}})),t.fire("AfterPreviewFormats"),Vb.remove(r),i},$b=function(t){var n=Hb(t),e=Qa(null);return function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)t.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}(t),Hg(t),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(n,e,r){!function(t,n,e,r){rv(t).formatter.apply(n,e,r)}(t,n,e,r)},remove:function(n,e,r,o){!function(t,n,e,r,o){rv(t).formatter.remove(n,e,r,o)}(t,n,e,r,o)},toggle:function(n,e,r){!function(t,n,e,r){rv(t).formatter.toggle(n,e,r)}(t,n,e,r)},match:function(n,e,r){return function(t,n,e,r){return rv(t).formatter.match(n,e,r)}(t,n,e,r)},closest:function(n){return function(t,n){return rv(t).formatter.closest(n)}(t,n)},matchAll:function(n,e){return function(t,n,e){return rv(t).formatter.matchAll(n,e)}(t,n,e)},matchNode:function(n,e,r,o){return function(t,n,e,r,o){return rv(t).formatter.matchNode(n,e,r,o)}(t,n,e,r,o)},canApply:function(n){return function(t,n){return rv(t).formatter.canApply(n)}(t,n)},formatChanged:function(n,r,o){return function(t,n,e,r,o){return void 0===o&&(o=!1),rv(t).formatter.formatChanged(n,e,r,o)}(t,e,n,r,o)},getCssText:p(Wb,t)}},qb=function(t){var n=Qa(k.none()),e=Qa(0),r=Qa(0),o={data:[],typing:!1,beforeChange:function(){!function(t,n,e){rv(t).undoManager.beforeChange(n,e)}(t,e,n)},add:function(i,a){return function(t,n,e,r,o,i,a){return rv(t).undoManager.addUndoLevel(n,e,r,o,i,a)}(t,o,r,e,n,i,a)},undo:function(){return function(t,n,e,r){return rv(t).undoManager.undo(n,e,r)}(t,o,e,r)},redo:function(){return function(t,n,e){return rv(t).undoManager.redo(n,e)}(t,r,o.data)},clear:function(){!function(t,n,e){rv(t).undoManager.clear(n,e)}(t,o,r)},reset:function(){!function(t,n){rv(t).undoManager.reset(n)}(t,o)},hasUndo:function(){return function(t,n,e){return rv(t).undoManager.hasUndo(n,e)}(t,o,r)},hasRedo:function(){return function(t,n,e){return rv(t).undoManager.hasRedo(n,e)}(t,o,r)},transact:function(n){return function(t,n,e,r){return rv(t).undoManager.transact(n,e,r)}(t,o,e,n)},ignore:function(n){!function(t,n,e){rv(t).undoManager.ignore(n,e)}(t,e,n)},extra:function(n,e){!function(t,n,e,r,o){rv(t).undoManager.extra(n,e,r,o)}(t,o,r,n,e)}};return tv(t)||function(t,n,e){var r=Qa(!1),o=function(t){Jh(n,!1,e),n.add({},t)};t.on("init",(function(){n.add()})),t.on("BeforeExecCommand",(function(t){var r=t.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(Qh(n,e),n.beforeChange())})),t.on("ExecCommand",(function(t){var n=t.command.toLowerCase();"undo"!==n&&"redo"!==n&&"mcerepaint"!==n&&o(t)})),t.on("ObjectResizeStart cut",(function(){n.beforeChange()})),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",(function(e){var i=e.keyCode;e.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||e.ctrlKey)&&(o(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),r.get()&&n.typing&&!1===Xh($h(t),n.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:n.data[0],lastLevel:null})),t.fire("TypingUndo"),r.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var i=t.keyCode;if(!t.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)n.typing&&o(t);else{var a=t.ctrlKey&&!t.altKey||t.metaKey;!(i<16||i>20)||224===i||91===i||n.typing||a||(n.beforeChange(),Jh(n,!0,e),n.add({},t),r.set(!0))}})),t.on("mousedown",(function(t){n.typing&&o(t)}));t.on("input",(function(t){t.inputType&&("insertReplacementText"===t.inputType||function(t){return"insertText"===t.inputType&&null===t.data}(t)||function(t){return"insertFromPaste"===t.inputType||"insertFromDrop"===t.inputType}(t))&&o(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(n){n.isDefaultPrevented()||t.nodeChanged()}))}(t,o,e),function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")}(t),o},Gb=[9,27,zf.HOME,zf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,zf.DOWN,zf.UP,zf.LEFT,zf.RIGHT].concat(sn.browser.isFirefox()?[224]:[]),Kb=function(t){return"keydown"===t.type||"keyup"===t.type},Xb=function(t){var n=t.keyCode;return n===zf.BACKSPACE||n===zf.DELETE},Yb=function(t){var n=t.dom,e=Nc(t),r=function(t){return t.getParam("placeholder",Dc.getAttrib(t.getElement(),"placeholder"),"string")}(t),o=function(i,a){if(!function(t){if(Kb(t)){var n=t.keyCode;return!Xb(t)&&(zf.metaKeyPressed(t)||t.altKey||n>=112&&n<=123||j(Gb,n))}return!1}(i)){var u=t.getBody(),c=!function(t){return Kb(t)&&!(Xb(t)||"keyup"===t.type&&229===t.keyCode)}(i)&&function(t,n,e){if(Ro(hn.fromDom(n),!1)){var r=""===e,o=n.firstElementChild;return!o||!t.getStyle(n.firstElementChild,"padding-left")&&!t.getStyle(n.firstElementChild,"padding-right")&&(r?!t.isBlock(o):e===o.nodeName.toLowerCase())}return!1}(n,u,e);(""!==n.getAttrib(u,"data-mce-placeholder")!==c||a)&&(n.setAttrib(u,"data-mce-placeholder",c?r:null),n.setAttrib(u,"aria-placeholder",c?r:null),function(t,n){t.fire("PlaceholderToggle",{state:n})}(t,c),t.on(c?"keydown":"keyup",o),t.off(c?"keyup":"keydown",o))}};r&&t.on("init",(function(n){o(n,!0),t.on("change SetContent ExecCommand",o),t.on("paste",(function(n){return Fr.setEditorTimeout(t,(function(){return o(n)}))}))}))},Jb=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Qb=function(t,n){return bn(hn.fromDom(n),function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(t))},Zb=function(t){return"rtl"===Ga.DOM.getStyle(t,"direction",!0)||(n=t.textContent,Jb.test(n));var n},ty=function(t,n,e){var r=function(t,n,e){return G(Ga.DOM.getParents(e.container(),"*",n),t)}(t,n,e);return k.from(r[r.length-1])},ny=function(t,n){if(!n)return n;var e=n.container(),r=n.offset();return t?ao(e)?_e(e.nextSibling)?ac(e.nextSibling,0):ac.after(e):so(n)?ac(e,r+1):n:ao(e)?_e(e.previousSibling)?ac(e.previousSibling,e.previousSibling.data.length):ac.before(e):lo(n)?ac(e,r-1):n},ey=p(ny,!0),ry=p(ny,!1),oy=function(t,n){return Cn(t,n)?zr(n,(function(t){return Xr(t)||Jr(t)}),function(t){return function(n){return xn(t,hn.fromDom(n.dom.parentNode))}}(t)):k.none()},iy=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),function(t){var n=t.getBody(),e=n.firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n;t.selection.setCursorLocation(e,0)}(t))},ay=function(t,n){return{from:t,to:n}},uy=function(t,n){var e=hn.fromDom(t),r=hn.fromDom(n.container());return oy(e,r).map((function(t){return function(t,n){return{block:t,position:n}}(t,n)}))},cy=function(t,n,e){var r=uy(t,ac.fromRangeStart(e)),o=r.bind((function(e){return al(n,t,e.position).bind((function(e){return uy(t,e).map((function(e){return function(t,n,e){return Oe(e.position.getNode())&&!1===Ro(e.block)?sl(!1,e.block.dom).bind((function(r){return r.isEqual(e.position)?al(n,t,r).bind((function(n){return uy(t,n)})):k.some(e)})).getOr(e):e}(t,n,e)}))}))}));return Du(r,o,ay).filter((function(t){return function(t){return!1===xn(t.from.block,t.to.block)}(t)&&function(t){return Nn(t.from.block).bind((function(n){return Nn(t.to.block).filter((function(t){return xn(n,t)}))})).isSome()}(t)&&function(t){return!1===De(t.from.block.dom)&&!1===De(t.to.block.dom)}(t)}))},sy=function(t){var n=Ln(t);return J(n,qr).fold((function(){return n}),(function(t){return n.slice(0,t)}))},ly=function(t){var n=sy(t);return $(n,ne),n},fy=function(t,n){var e=Fm(n,t);return Y(e.reverse(),(function(t){return Ro(t)})).each(ne)},dy=function(t,n,e,r){if(Ro(e))return Pm(e),dl(e.dom);0===G(Pn(r),(function(t){return!Ro(t)})).length&&Ro(n)&&Xn(r,hn.fromTag("br"));var o=fl(e.dom,ac.before(r.dom));return $(ly(n),(function(t){Xn(r,t)})),fy(t,n),o},my=function(t,n,e){if(Ro(e))return ne(e),Ro(n)&&Pm(n),dl(n.dom);var r=ml(e.dom);return $(ly(n),(function(t){Qn(e,t)})),fy(t,n),r},py=function(t,n){return Cn(n,t)?function(t,n){var e=Fm(n,t);return k.from(e[e.length-1])}(n,t):k.none()},gy=function(t,n){sl(t,n.dom).map((function(t){return t.getNode()})).map(hn.fromDom).filter(Kr).each(ne)},hy=function(t,n,e){return gy(!0,n),gy(!1,e),py(n,e).fold(p(my,t,n,e),p(dy,t,n,e))},vy=function(t,n,e,r){return n?hy(t,r,e):hy(t,e,r)},by=function(t,n){var e=hn.fromDom(t.getBody()),r=function(t,n,e){return e.collapsed?cy(t,n,e):k.none()}(e.dom,n,t.selection.getRng()).bind((function(t){return vy(e,n,t.from.block,t.to.block)}));return r.each((function(n){t.selection.setRng(n.toRange())})),r.isSome()},yy=function(t,n){var e=hn.fromDom(n),r=p(xn,t);return Dr(e,Zr,r).isSome()},xy=function(t,n){var e=fl(t.dom,ac.fromRangeStart(n)).isNone(),r=ll(t.dom,ac.fromRangeEnd(n)).isNone();return!function(t,n){return yy(t,n.startContainer)||yy(t,n.endContainer)}(t,n)&&e&&r},wy=function(t){var n=hn.fromDom(t.getBody()),e=t.selection.getRng();return xy(n,e)?function(t){return t.setContent(""),t.selection.setCursorLocation(),!0}(t):function(t,n){var e=n.getRng();return Du(oy(t,hn.fromDom(e.startContainer)),oy(t,hn.fromDom(e.endContainer)),(function(r,o){return!1===xn(r,o)&&(e.deleteContents(),vy(t,!0,r,o).each((function(t){n.setRng(t.toRange())})),!0)})).getOr(!1)}(n,t.selection)},Cy=function(t,n){return!t.selection.isCollapsed()&&wy(t)},_y=Ee,ky=De,Sy=function(t,n,e,r,o){return k.from(n._selectionOverrides.showCaret(t,e,r,o))},Ay=function(t,n){return t.fire("BeforeObjectSelected",{target:n}).isDefaultPrevented()?k.none():k.some(function(t){var n=t.ownerDocument.createRange();return n.selectNode(t),n}(n))},Oy=function(t,n,e){var r=Ls(1,t.getBody(),n),o=ac.fromRangeStart(r),i=o.getNode();if(vs(i))return Sy(1,t,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(vs(a))return Sy(1,t,a,!1,!1);var u=t.dom.getParent(o.getNode(),(function(t){return ky(t)||_y(t)}));return vs(u)?Sy(1,t,u,!1,e):k.none()},Ty=function(t,n,e){return n.collapsed?Oy(t,n,e).getOr(n):n},Ey=function(t){return Nm(t)||Em(t)},Dy=function(t){return Rm(t)||Dm(t)},zy=function(t,n,e,r,o,i){return Sy(r,t,i.getNode(!o),o,!0).each((function(e){if(n.collapsed){var r=n.cloneRange();o?r.setEnd(e.startContainer,e.startOffset):r.setStart(e.endContainer,e.endOffset),r.deleteContents()}else n.deleteContents();t.selection.setRng(e)})),function(t,n){_e(n)&&0===n.data.length&&t.remove(n)}(t.dom,e),!0},My=function(t,n){return function(t,n){var e=t.selection.getRng();if(!_e(e.commonAncestorContainer))return!1;var r=n?uc.Forwards:uc.Backwards,o=nl(t.getBody()),i=p(js,n?o.next:o.prev),a=n?Ey:Dy,u=Fs(r,t.getBody(),e),c=ny(n,i(u));if(!c||!Us(u,c))return!1;if(a(c))return zy(t,e,u.getNode(),r,n,c);var s=i(c);return!!(s&&a(s)&&Us(c,s))&&zy(t,e,u.getNode(),r,n,s)}(t,n)},Ny=ur([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Ry=function(t,n,e,r){var o=r.getNode(!1===n);return oy(hn.fromDom(t),hn.fromDom(e.getNode())).map((function(t){return Ro(t)?Ny.remove(t.dom):Ny.moveToElement(o)})).orThunk((function(){return k.some(Ny.moveToElement(o))}))},By=function(t,n,e){return al(n,t,e).bind((function(r){return o=r.getNode(),Zr(hn.fromDom(o))||Jr(hn.fromDom(o))||function(t,n,e,r){var o=function(n){return Gr(hn.fromDom(n))&&!zs(e,r,t)};return Hs(!n,e).fold((function(){return Hs(n,r).fold(y,o)}),o)}(t,n,e,r)?k.none():n&&De(r.getNode())||!1===n&&De(r.getNode(!0))?Ry(t,n,e,r):n&&Rm(e)||!1===n&&Nm(e)?k.some(Ny.moveToPosition(r)):k.none();var o}))},Py=function(t,n,e){return function(t,n){var e=n.getNode(!1===t),r=t?"after":"before";return ge(e)&&e.getAttribute("data-mce-caret")===r}(n,e)?function(t,n){return t&&De(n.nextSibling)?k.some(Ny.moveToElement(n.nextSibling)):!1===t&&De(n.previousSibling)?k.some(Ny.moveToElement(n.previousSibling)):k.none()}(n,e.getNode(!1===n)).fold((function(){return By(t,n,e)}),k.some):By(t,n,e).bind((function(n){return function(t,n,e){return e.fold((function(t){return k.some(Ny.remove(t))}),(function(t){return k.some(Ny.moveToElement(t))}),(function(e){return zs(n,e,t)?k.none():k.some(Ny.moveToPosition(e))}))}(t,e,n)}))},Iy=function(t,n){return k.from(Tf(t.getBody(),n))},Ly=function(t,n){var e=t.selection.getNode();return Iy(t,e).filter(De).fold((function(){return function(t,n,e){var r=Ls(n?1:-1,t,e),o=ac.fromRangeStart(r),i=hn.fromDom(t);return!1===n&&Rm(o)?k.some(Ny.remove(o.getNode(!0))):n&&Nm(o)?k.some(Ny.remove(o.getNode())):!1===n&&Nm(o)&&Qm(i,o)?Zm(i,o).map((function(t){return Ny.remove(t.getNode())})):n&&Rm(o)&&Jm(i,o)?tp(i,o).map((function(t){return Ny.remove(t.getNode())})):Py(t,n,o)}(t.getBody(),n,t.selection.getRng()).exists((function(e){return e.fold(function(t,n){return function(e){return t._selectionOverrides.hideFakeCaret(),Ep(t,n,hn.fromDom(e)),!0}}(t,n),function(t,n){return function(e){var r=n?ac.before(e):ac.after(e);return t.selection.setRng(r.toRange()),!0}}(t,n),function(t){return function(n){return t.selection.setRng(n.toRange()),!0}}(t))}))}),x)},Hy=function(t,n){var e=t.selection.getNode();return!!De(e)&&Iy(t,e.parentNode).filter(De).fold((function(){var e;return e=hn.fromDom(t.getBody()),$(pu(e,".mce-offscreen-selection"),ne),Ep(t,n,hn.fromDom(t.selection.getNode())),iy(t),!0}),x)},Fy=function(t){var n=t.dom,e=t.selection,r=Tf(t.getBody(),e.getNode());if(Ee(r)&&n.isBlock(r)&&n.isEmpty(r)){var o=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(o),e.setRng(ac.before(o).toRange())}return!0},Vy=function(t,n){return t.selection.isCollapsed()?Ly(t,n):Hy(t,n)},jy=function(t,n){return!!t.selection.isCollapsed()&&function(t,n){var e=ac.fromRangeStart(t.selection.getRng());return al(n,t.getBody(),e).filter((function(t){return n?Om(t):Tm(t)})).bind((function(t){return k.from(Ms(n?0:-1,t))})).exists((function(n){return t.selection.select(n),!0}))}(t,n)},Uy=_e,Wy=function(t){return Uy(t)&&"\ufeff"===t.data[0]},$y=function(t){return Uy(t)&&"\ufeff"===t.data[t.data.length-1]},qy=function(t){return t.ownerDocument.createTextNode("\ufeff")},Gy=function(t,n){return t?function(t){if(Uy(t.previousSibling))return $y(t.previousSibling)||t.previousSibling.appendData("\ufeff"),t.previousSibling;if(Uy(t))return Wy(t)||t.insertData(0,"\ufeff"),t;var n=qy(t);return t.parentNode.insertBefore(n,t),n}(n):function(t){if(Uy(t.nextSibling))return Wy(t.nextSibling)||t.nextSibling.insertData(0,"\ufeff"),t.nextSibling;if(Uy(t))return $y(t)||t.appendData("\ufeff"),t;var n=qy(t);return t.nextSibling?t.parentNode.insertBefore(n,t.nextSibling):t.parentNode.appendChild(n),n}(n)},Ky=p(Gy,!0),Xy=p(Gy,!1),Yy=function(t,n){return _e(t.container())?Gy(n,t.container()):Gy(n,t.getNode())},Jy=function(t,n){var e=n.get();return e&&t.container()===e&&ao(e)},Qy=function(t,n){return n.fold((function(n){ss(t.get());var e=Ky(n);return t.set(e),k.some(ac(e,e.length-1))}),(function(n){return dl(n).map((function(n){if(Jy(n,t))return ac(t.get(),1);ss(t.get());var e=Yy(n,!0);return t.set(e),ac(e,1)}))}),(function(n){return ml(n).map((function(n){if(Jy(n,t))return ac(t.get(),t.get().length-1);ss(t.get());var e=Yy(n,!1);return t.set(e),ac(e,e.length-1)}))}),(function(n){ss(t.get());var e=Xy(n);return t.set(e),k.some(ac(e,1))}))},Zy=function(t,n){for(var e=0;e<t.length;e++){var r=t[e].apply(null,n);if(r.isSome())return r}return k.none()},tx=ur([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),nx=function(t,n){var e=Ds(n,t);return e||t},ex=function(t,n,e){var r=ey(e),o=nx(n,r.container());return ty(t,o,r).fold((function(){return ll(o,r).bind(p(ty,t,o)).map((function(t){return tx.before(t)}))}),k.none)},rx=function(t,n){return null===gl(t,n)},ox=function(t,n,e){return ty(t,n,e).filter(p(rx,n))},ix=function(t,n,e){var r=ry(e);return ox(t,n,r).bind((function(t){return fl(t,r).isNone()?k.some(tx.start(t)):k.none()}))},ax=function(t,n,e){var r=ey(e);return ox(t,n,r).bind((function(t){return ll(t,r).isNone()?k.some(tx.end(t)):k.none()}))},ux=function(t,n,e){var r=ry(e),o=nx(n,r.container());return ty(t,o,r).fold((function(){return fl(o,r).bind(p(ty,t,o)).map((function(t){return tx.after(t)}))}),k.none)},cx=function(t){return!1===Zb(lx(t))},sx=function(t,n,e){return Zy([ex,ix,ax,ux],[t,n,e]).filter(cx)},lx=function(t){return t.fold(m,m,m,m)},fx=function(t){return t.fold(d("before"),d("start"),d("end"),d("after"))},dx=function(t){return t.fold(tx.before,tx.before,tx.after,tx.after)},mx=function(t){return t.fold(tx.start,tx.start,tx.end,tx.end)},px=function(t,n,e,r,o,i){return Du(ty(n,e,r),ty(n,e,o),(function(n,r){return n!==r&&function(t,n,e){var r=Ds(n,t),o=Ds(e,t);return r&&r===o}(e,n,r)?tx.after(t?n:r):i})).getOr(i)},gx=function(t,n){return t.fold(x,(function(t){return r=n,!(fx(e=t)===fx(r)&&lx(e)===lx(r));var e,r}))},hx=function(t,n){return t?n.fold(f(k.some,tx.start),k.none,f(k.some,tx.after),k.none):n.fold(k.none,f(k.some,tx.before),k.none,f(k.some,tx.end))},vx=function(t,n,e,r){var o=ny(t,r),i=sx(n,e,o);return sx(n,e,o).bind(p(hx,t)).orThunk((function(){return function(t,n,e,r,o){var i=ny(t,o);return al(t,e,i).map(p(ny,t)).fold((function(){return r.map(dx)}),(function(o){return sx(n,e,o).map(p(px,t,n,e,i,o)).filter(p(gx,r))})).filter(cx)}(t,n,e,i,r)}))},bx=(p(vx,!1),p(vx,!0),function(t,n,e){var r=t?1:-1;return n.setRng(ac(e.container(),e.offset()+r).toRange()),n.getSel().modify("move",t?"forward":"backward","word"),!0}),yx=function(t,n){var e=n.selection.getRng(),r=t?ac.fromRangeEnd(e):ac.fromRangeStart(e);return!!function(t){return P(t.selection.getSel().modify)}(n)&&(t&&so(r)?bx(!0,n.selection,r):!(t||!lo(r))&&bx(!1,n.selection,r))},xx=function(t,n){var e=t.dom.createRng();e.setStart(n.container(),n.offset()),e.setEnd(n.container(),n.offset()),t.selection.setRng(e)},wx=function(t,n){t?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},Cx=function(t,n,e){return Qy(n,e).map((function(n){return xx(t,n),e}))},_x=function(t,n){if(t.selection.isCollapsed()&&!0!==t.composing&&n.get()){var e=ac.fromRangeStart(t.selection.getRng());ac.isTextPosition(e)&&!1===function(t){return so(t)||lo(t)}(e)&&(xx(t,cs(n.get(),e)),n.set(null))}},kx=function(t,n,e){return!!Jc(t)&&function(t,n,e){var r=t.getBody(),o=ac.fromRangeStart(t.selection.getRng()),i=p(Qb,t);return vx(e,i,r,o).bind((function(e){return Cx(t,n,e)}))}(t,n,e).isSome()},Sx=function(t,n,e){return!!Jc(n)&&yx(t,n)},Ax=function(t){var n=Qa(null),e=p(Qb,t);return t.on("NodeChange",(function(r){!Jc(t)||sn.browser.isIE()&&r.initial||(function(t,n,e){var r=W(pu(hn.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(t){return t.dom})),o=G(r,t),i=G(e,t);$(nt(o,i),p(wx,!1)),$(nt(i,o),p(wx,!0))}(e,t.dom,r.parents),_x(t,n),function(t,n,e,r){if(n.selection.isCollapsed()){var o=G(r,t);$(o,(function(r){var o=ac.fromRangeStart(n.selection.getRng());sx(t,n.getBody(),o).bind((function(t){return Cx(n,e,t)}))}))}}(e,t,n,r.parents))})),n},Ox=p(Sx,!0),Tx=p(Sx,!1),Ex=function(t,n){return function(e){return Qy(n,e).exists((function(n){return xx(t,n),!0}))}},Dx=function(t,n,e,r){var o=t.getBody(),i=p(Qb,t);t.undoManager.ignore((function(){t.selection.setRng(function(t,n){var e=document.createRange();return e.setStart(t.container(),t.offset()),e.setEnd(n.container(),n.offset()),e}(e,r)),t.execCommand("Delete"),sx(i,o,ac.fromRangeStart(t.selection.getRng())).map(mx).map(Ex(t,n))})),t.nodeChanged()},zx=function(t,n,e,r){var o=function(t,n){var e=Ds(n,t);return e||t}(t.getBody(),r.container()),i=p(Qb,t),a=sx(i,o,r);return a.bind((function(t){return e?t.fold(d(k.some(mx(t))),k.none,d(k.some(dx(t))),k.none):t.fold(k.none,d(k.some(dx(t))),k.none,d(k.some(mx(t))))})).map(Ex(t,n)).getOrThunk((function(){var u=ul(e,o,r),c=u.bind((function(t){return sx(i,o,t)}));return Du(a,c,(function(){return ty(i,o,r).exists((function(n){return!!function(t){return Du(dl(t),ml(t),(function(n,e){var r=ny(!0,n),o=ny(!1,e);return ll(t,r).forall((function(t){return t.isEqual(o)}))})).getOr(!0)}(n)&&(Ep(t,e,hn.fromDom(n)),!0)}))})).orThunk((function(){return c.bind((function(o){return u.map((function(o){return e?Dx(t,n,r,o):Dx(t,n,o,r),!0}))}))})).getOr(!1)}))},Mx=function(t,n,e){if(t.selection.isCollapsed()&&Jc(t)){var r=ac.fromRangeStart(t.selection.getRng());return zx(t,n,e,r)}return!1},Nx=function(t){return 1===Ln(t).length},Rx=function(t,n,e,r){var o=p(Fg,n),i=W(G(r,o),(function(t){return t.dom}));if(0===i.length)Ep(n,t,e);else{var a=function(t,n){var e=Ng(!1),r=Ig(n,e.dom);return Xn(hn.fromDom(t),e),ne(hn.fromDom(t)),ac(r,0)}(e.dom,i);n.selection.setRng(a.toRange())}},Bx=function(t,n){var e=hn.fromDom(t.getBody()),r=hn.fromDom(t.selection.getStart()),o=G(function(t,n){var e=Fm(n,t);return J(e,qr).fold(d(e),(function(t){return e.slice(0,t)}))}(e,r),Nx);return ot(o).exists((function(e){var r,i=ac.fromRangeStart(t.selection.getRng());return!(!function(t,n,e){return Du(dl(e),ml(e),(function(r,o){var i=ny(!0,r),a=ny(!1,o),u=ny(!1,n);return t?ll(e,u).exists((function(t){return t.isEqual(a)&&n.isEqual(i)})):fl(e,u).exists((function(t){return t.isEqual(i)&&n.isEqual(a)}))})).getOr(!0)}(n,i,e.dom)||(r=e,pl(r.dom)&&zg(r.dom)))&&(Rx(n,t,e,o),!0)}))},Px=function(t,n){return!!t.selection.isCollapsed()&&Bx(t,n)},Ix=function(t,n,e){return t._selectionOverrides.hideFakeCaret(),Ep(t,n,hn.fromDom(e)),!0},Lx=function(t,n){return t.selection.isCollapsed()?function(t,n){var e=n?Em:Dm,r=n?uc.Forwards:uc.Backwards,o=Fs(r,t.getBody(),t.selection.getRng());return e(o)?Ix(t,n,o.getNode(!n)):k.from(ny(n,o)).filter((function(t){return e(t)&&Us(o,t)})).exists((function(e){return Ix(t,n,e.getNode(!n))}))}(t,n):function(t,n){var e=t.selection.getNode();return!!Me(e)&&Ix(t,n,e)}(t,n)},Hx=function(t){var n=parseInt(t,10);return isNaN(n)?0:n},Fx=function(t,n){return(t||"table"===_n(n)?"margin":"padding")+("rtl"===Ve(n,"direction")?"-right":"-left")},Vx=function(t){var n=Ux(t);return!t.mode.isReadOnly()&&(n.length>1||function(t,n){return Z(n,(function(n){var e=Fx($c(t),n),r=Ue(n,e).map(Hx).getOr(0);return"false"!==t.dom.getContentEditable(n.dom)&&r>0}))}(t,n))},jx=function(t){return Yr(t)||Jr(t)},Ux=function(t){return G(W(t.selection.getSelectedBlocks(),hn.fromDom),(function(t){return!jx(t)&&!function(t){return Nn(t).map(jx).getOr(!1)}(t)&&zr(t,(function(t){return Ee(t.dom)||De(t.dom)})).exists((function(t){return Ee(t.dom)}))}))},Wx=function(t,n){var e=t.dom,r=t.selection,o=t.formatter,i=function(t){return t.getParam("indentation","40px","string")}(t),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),c=$c(t),s=Nc(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==s||e.getParent(r.getNode(),e.isBlock)||o.apply("div"),$(Ux(t),(function(t){!function(t,n,e,r,o,i){var a=Fx(e,hn.fromDom(i));if("outdent"===n){var u=Math.max(0,Hx(i.style[a])-r);t.setStyle(i,a,u?u+o:"")}else{u=Hx(i.style[a])+r+o;t.setStyle(i,a,u)}}(e,n,c,u,a,t.dom)}))},$x=function(t,n){if(t.selection.isCollapsed()&&Vx(t)){var e=t.dom,r=t.selection.getRng(),o=ac.fromRangeStart(r),i=e.getParent(r.startContainer,e.isBlock);if(null!==i&&$m(hn.fromDom(i),o))return Wx(t,"outdent"),!0}return!1},qx=function(t,n){t.getDoc().execCommand(n,!1,null)},Gx=function(t,n){t.addCommand("delete",(function(){!function(t,n){$x(t)||Vy(t,!1)||My(t,!1)||Mx(t,n,!1)||by(t,!1)||eg(t)||jy(t,!1)||Lx(t,!1)||Cy(t)||Px(t,!1)||(qx(t,"Delete"),iy(t))}(t,n)})),t.addCommand("forwardDelete",(function(){!function(t,n){Vy(t,!0)||My(t,!0)||Mx(t,n,!0)||by(t,!0)||eg(t)||jy(t,!0)||Lx(t,!0)||Cy(t)||Px(t,!0)||qx(t,"ForwardDelete")}(t,n)}))},Kx=function(t){return void 0===t.touches||1!==t.touches.length?k.none():k.some(t.touches[0])},Xx=function(t){var n=Qa(k.none()),e=Qa(!1),r=iu((function(n){t.fire("longpress",Ot(Ot({},n),{type:"longpress"})),e.set(!0)}),400);t.on("touchstart",(function(t){Kx(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.throttle(t),e.set(!1),n.set(k.some(i))}))}),!0),t.on("touchmove",(function(o){r.cancel(),Kx(o).each((function(r){n.get().each((function(o){(function(t,n){var e=Math.abs(t.clientX-n.x),r=Math.abs(t.clientY-n.y);return e>5||r>5})(r,o)&&(n.set(k.none()),e.set(!1),t.fire("longpresscancel"))}))}))}),!0),t.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&n.get().filter((function(t){return t.target.isEqualNode(o.target)})).each((function(){e.get()?o.preventDefault():t.fire("tap",Ot(Ot({},o),{type:"tap"}))}))}),!0)},Yx=function(t,n){return t.hasOwnProperty(n.nodeName)},Jx=function(t,n){return!!_e(n)||!!ge(n)&&(!Yx(t,n)&&!Sl(n))},Qx=function(t,n){if(_e(n)){if(0===n.nodeValue.length)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||Yx(t,n.nextSibling)))return!0}return!1},Zx=function(t){var n,e,r,o=t.dom,i=t.selection,a=t.schema,u=a.getBlockElements(),c=i.getStart(),s=t.getBody(),l=Nc(t);if(c&&ge(c)&&l){var f=s.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!function(t,n,e){return U(Hm(hn.fromDom(e),hn.fromDom(n)),(function(n){return Yx(t,n.dom)}))}(u,s,c)){var d=i.getRng(),m=d.startContainer,p=d.startOffset,g=d.endContainer,h=d.endOffset,v=qd(t);for(c=s.firstChild;c;)if(Jx(u,c)){if(Qx(u,c)){e=c,c=c.nextSibling,o.remove(e);continue}n||(n=o.create(l,Rc(t)),c.parentNode.insertBefore(n,c),r=!0),e=c,c=c.nextSibling,n.appendChild(e)}else n=null,c=c.nextSibling;r&&v&&(d.setStart(m,p),d.setEnd(g,h),i.setRng(d),t.nodeChanged())}}},tw=function(t,n){n.hasAttribute("data-mce-caret")&&(go(n),function(t){t.selection.setRng(t.selection.getRng())}(t),t.selection.scrollIntoView(n))},nw=function(t,n){var e=function(t){return Rr(hn.fromDom(t.getBody()),"*[data-mce-caret]").fold(d(null),(function(t){return t.dom}))}(t);if(e)return"compositionstart"===n.type?(n.preventDefault(),n.stopPropagation(),void tw(t,e)):void(co(e)&&(tw(t,e),t.undoManager.add()))};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(wb||(wb={}));var ew,rw=function(t,n){return t===uc.Backwards?tt(n):n},ow=function(t,n,e){return t===uc.Forwards?n.next(e):n.prev(e)},iw=function(t,n,e,r){return Oe(r.getNode(n===uc.Forwards))?wb.Br:!1===zs(e,r)?wb.Block:wb.Wrap},aw=function(t,n,e,r){for(var o,i=nl(e),a=r,u=[];a&&(o=ow(n,i,a));){if(Oe(o.getNode(!1)))return n===uc.Forwards?{positions:rw(n,u).concat([o]),breakType:wb.Br,breakAt:k.some(o)}:{positions:rw(n,u),breakType:wb.Br,breakAt:k.some(o)};if(o.isVisible()){if(t(a,o)){var c=iw(0,n,a,o);return{positions:rw(n,u),breakType:c,breakAt:k.some(o)}}u.push(o),a=o}else a=o}return{positions:rw(n,u),breakType:wb.Eol,breakAt:k.none()}},uw=function(t,n,e,r){return n(e,r).breakAt.map((function(r){var o=n(e,r).positions;return t===uc.Backwards?o.concat(r):[r].concat(o)})).getOr([])},cw=function(t,n){return X(t,(function(t,e){return t.fold((function(){return k.some(e)}),(function(r){return Du(rt(r.getClientRects()),rt(e.getClientRects()),(function(t,o){var i=Math.abs(n-t.left);return Math.abs(n-o.left)<=i?e:r})).or(t)}))}),k.none())},sw=function(t,n){return rt(n.getClientRects()).bind((function(n){return cw(t,n.left)}))},lw=p(aw,ac.isAbove,-1),fw=p(aw,ac.isBelow,1),dw=p(uw,-1,lw),mw=p(uw,1,fw),pw=function(t){var n=function(n){return W(n,(function(n){return(n=Mu(n)).node=t,n}))};if(ge(t))return n(t.getClientRects());if(_e(t)){var e=t.ownerDocument.createRange();return e.setStart(t,0),e.setEnd(t,t.data.length),n(e.getClientRects())}},gw=function(t){return Q(t,pw)};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(ew||(ew={}));var hw,vw,bw=function(t,n,e,r,o,i){var a=0,u=[],c=function(r){var i,c,l;for(l=gw([r]),-1===t&&(l=l.reverse()),i=0;i<l.length;i++)if(c=l[i],!e(c,s)){if(u.length>0&&n(c,At(u))&&a++,c.line=a,o(c))return!0;u.push(c)}},s=At(i.getClientRects());if(!s)return u;var l=i.getNode();return c(l),function(t,n,e,r){for(;r=Es(r,t,Ao,n);)if(e(r))return}(t,r,c,l),u},yw=p(bw,ew.Up,Bu,Pu),xw=p(bw,ew.Down,Pu,Bu),ww=function(t){return function(n){return function(t,n){return n.line>t}(t,n)}},Cw=function(t){return function(n){return function(t,n){return n.line===t}(t,n)}},_w=De,kw=Es,Sw=function(t,n){return Math.abs(t.left-n)},Aw=function(t,n){return Math.abs(t.right-n)},Ow=function(t,n){return t>=n.left&&t<=n.right},Tw=function(t,n){return t>=n.top&&t<=n.bottom},Ew=function(t,n){return kt(t,(function(t,e){var r=Math.min(Sw(t,n),Aw(t,n)),o=Math.min(Sw(e,n),Aw(e,n));return Ow(n,e)?e:Ow(n,t)?t:o===r&&_w(e.node)||o<r?e:t}))},Dw=function(t,n,e,r,o){var i=kw(r,t,Ao,n,!o);do{if(!i||e(i))return}while(i=kw(i,t,Ao,n))},zw=function(t,n,e){var r=gw(function(t){return G(it(t.getElementsByTagName("*")),bs)}(t)),o=G(r,p(Tw,e)),i=Ew(o,n);if(i){var a=!xe(i.node)&&!Me(i.node);if((i=Ew(function(t,n,e){void 0===e&&(e=!0);var r=[],o=function(t,e){var o=G(gw([e]),(function(e){return!t(e,n)}));return r=r.concat(o),0===o.length};return r.push(n),Dw(ew.Up,t,p(o,Bu),n.node,e),Dw(ew.Down,t,p(o,Pu),n.node,e),r}(t,i,a),n))&&bs(i.node))return function(t,n){return{node:t.node,before:Sw(t,n)<Aw(t,n)}}(i,n)}return null},Mw=function(t,n){t.selection.setRng(n),hd(t,t.selection.getRng())},Nw=function(t,n,e){return k.some(Ty(t,n,e))},Rw=function(t,n,e,r,o,i){var a=n===uc.Forwards,u=nl(t.getBody()),c=p(js,a?u.next:u.prev),s=a?r:o;if(!e.collapsed){var l=Lu(e);if(i(l))return Sy(n,t,l,n===uc.Backwards,!1)}var f=Fs(n,t.getBody(),e);if(s(f))return Ay(t,f.getNode(!a));var d=ny(a,c(f)),m=function(t){return io(t.startContainer)}(e);if(!d)return m?k.some(e):k.none();if(s(d))return Sy(n,t,d.getNode(!a),a,!1);var g=c(d);return g&&s(g)&&Us(d,g)?Sy(n,t,g.getNode(!a),a,!1):m?Nw(t,d.toRange(),!1):k.none()},Bw=function(t,n,e,r,o,i){var a=Fs(n,t.getBody(),e),u=At(a.getClientRects()),c=n===ew.Down;if(!u)return k.none();var s,l=(c?xw:yw)(t.getBody(),ww(1),a),f=G(l,Cw(1)),d=u.left,m=Ew(f,d);if(m&&i(m.node)){var p=Math.abs(d-m.left),g=Math.abs(d-m.right);return Sy(n,t,m.node,p<g,!1)}if(s=r(a)?a.getNode():o(a)?a.getNode(!0):Lu(e)){var h=function(t,n,e,r){var o,i,a,u,c,s=nl(n),l=[],f=0,d=function(t){return At(t.getClientRects())};1===t?(o=s.next,i=Pu,a=Bu,u=ac.after(r)):(o=s.prev,i=Bu,a=Pu,u=ac.before(r));var m=d(u);do{if(u.isVisible()&&!a(c=d(u),m)){if(l.length>0&&i(c,At(l))&&f++,(c=Mu(c)).position=u,c.line=f,e(c))return l;l.push(c)}}while(u=o(u));return l}(n,t.getBody(),ww(1),s),v=Ew(G(h,Cw(1)),d);if(v)return Nw(t,v.position.toRange(),!1);if(v=At(G(h,Cw(0))))return Nw(t,v.position.toRange(),!1)}return 0===f.length?Pw(t,c).filter(c?o:r).map((function(n){return Ty(t,n.toRange(),!1)})):k.none()},Pw=function(t,n){var e=t.selection.getRng(),r=t.getBody();if(n){var o=ac.fromRangeEnd(e),i=fw(r,o);return ot(i.positions)}o=ac.fromRangeStart(e),i=lw(r,o);return rt(i.positions)},Iw=function(t,n,e){return Pw(t,n).filter(e).exists((function(n){return t.selection.setRng(n.toRange()),!0}))},Lw=De,Hw=function(t,n,e){var r=nl(t.getBody()),o=p(js,1===n?r.next:r.prev);if(e.collapsed&&function(t){return""!==Nc(t)}(t)){var i=t.dom.getParent(e.startContainer,"PRE");if(!i)return;if(!o(ac.fromRangeStart(e))){var a=function(t){var n=t.dom.create(Nc(t));return(!sn.ie||sn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n}(t);1===n?t.$(i).after(a):t.$(i).before(a),t.selection.select(a,!0),t.selection.collapse()}}},Fw=function(t,n){var e=n?uc.Forwards:uc.Backwards,r=t.selection.getRng();return function(t,n,e){return Rw(n,t,e,Nm,Rm,Lw)}(e,t,r).orThunk((function(){return Hw(t,e,r),k.none()}))},Vw=function(t,n){var e=n?1:-1,r=t.selection.getRng();return function(t,n,e){return Bw(n,t,e,(function(t){return Nm(t)||zm(t)}),(function(t){return Rm(t)||Mm(t)}),Lw)}(e,t,r).orThunk((function(){return Hw(t,e,r),k.none()}))},jw=function(t,n){return Fw(t,n).exists((function(n){return Mw(t,n),!0}))},Uw=function(t,n){return Vw(t,n).exists((function(n){return Mw(t,n),!0}))},Ww=function(t,n){return Iw(t,n,n?Rm:Nm)},$w=function(t){return j(["figcaption"],_n(t))},qw=function(t){var n=document.createRange();return n.setStartBefore(t.dom),n.setEndBefore(t.dom),n},Gw=function(t,n,e){e?Qn(t,n):Jn(t,n)},Kw=function(t,n,e,r){return""===n?function(t,n){var e=hn.fromTag("br");return Gw(t,e,n),qw(e)}(t,r):function(t,n,e,r){var o=hn.fromTag(e),i=hn.fromTag("br");return Pe(o,r),Qn(o,i),Gw(t,o,n),qw(i)}(t,r,n,e)},Xw=function(t,n,e){return n?function(t,n){return fw(t,n).breakAt.isNone()}(t.dom,e):function(t,n){return lw(t,n).breakAt.isNone()}(t.dom,e)},Yw=function(t,n){var e=hn.fromDom(t.getBody()),r=ac.fromRangeStart(t.selection.getRng()),o=Nc(t),i=Rc(t);return function(t,n){var e=p(xn,n);return zr(hn.fromDom(t.container()),qr,e).filter($w)}(r,e).exists((function(){if(Xw(e,n,r)){var a=Kw(e,o,i,n);return t.selection.setRng(a),!0}return!1}))},Jw=function(t,n){return!!t.selection.isCollapsed()&&Yw(t,n)},Qw=function(t,n){return Q(function(t){return W(t,(function(t){return Ot({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:l},t)}))}(t),(function(t){return function(t,n){return n.keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey}(t,n)?[t]:[]}))},Zw=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){return t.apply(null,n)}},tC=function(t,n){return Y(Qw(t,n),(function(t){return t.action()}))},nC=function(t,n){var e=n?uc.Forwards:uc.Backwards,r=t.selection.getRng();return Rw(t,e,r,Em,Dm,Me).exists((function(n){return Mw(t,n),!0}))},eC=function(t,n){var e=n?1:-1,r=t.selection.getRng();return Bw(t,e,r,Em,Dm,Me).exists((function(n){return Mw(t,n),!0}))},rC=function(t,n){return Iw(t,n,n?Dm:Em)},oC=function(t,n,e,r,o){var i=pu(hn.fromDom(e),"td,th,caption").map((function(t){return t.dom}));return function(t,n,e){return X(t,(function(t,r){return t.fold((function(){return k.some(r)}),(function(t){var o=Math.sqrt(Math.abs(t.x-n)+Math.abs(t.y-e)),i=Math.sqrt(Math.abs(r.x-n)+Math.abs(r.y-e));return k.some(i<o?r:t)}))}),k.none())}(G(function(t,n){return Q(n,(function(n){var e=function(t,n){return{left:t.left-n,top:t.top-n,right:t.right+2*n,bottom:t.bottom+2*n,width:t.width+n,height:t.height+n}}(Mu(n.getBoundingClientRect()),-1);return[{x:e.left,y:t(e),cell:n},{x:e.right,y:t(e),cell:n}]}))}(t,i),(function(t){return n(t,o)})),r,o).map((function(t){return t.cell}))},iC=p(oC,(function(t){return t.bottom}),(function(t,n){return t.y<n})),aC=p(oC,(function(t){return t.top}),(function(t,n){return t.y>n})),uC=function(t,n){return rt(n.getClientRects()).bind((function(n){return iC(t,n.left,n.top)})).bind((function(t){return sw(ml(e=t).map((function(t){return lw(e,t).positions.concat(t)})).getOr([]),n);var e}))},cC=function(t,n){return ot(n.getClientRects()).bind((function(n){return aC(t,n.left,n.top)})).bind((function(t){return sw(dl(e=t).map((function(t){return[t].concat(fw(e,t).positions)})).getOr([]),n);var e}))},sC=function(t,n,e){var r=t(n,e);return function(t){return t.breakType===wb.Wrap&&0===t.positions.length}(r)||!Oe(e.getNode())&&function(t){return t.breakType===wb.Br&&1===t.positions.length}(r)?!function(t,n,e){return e.breakAt.exists((function(e){return t(n,e).breakAt.isSome()}))}(t,n,r):r.breakAt.isNone()},lC=p(sC,lw),fC=p(sC,fw),dC=function(t,n,e,r){var o=t.selection.getRng(),i=n?1:-1;return!(!hs()||!function(t,n,e){var r=ac.fromRangeStart(n);return sl(!t,e).exists((function(t){return t.isEqual(r)}))}(n,o,e))&&(Sy(i,t,e,!n,!1).each((function(n){Mw(t,n)})),!0)},mC=function(t,n){var e=n.getNode(t);return ge(e)&&"TABLE"===e.nodeName?k.some(e):k.none()},pC=function(t,n,e){var r=mC(!!n,e),o=!1===n;r.fold((function(){return Mw(t,e.toRange())}),(function(r){return sl(o,t.getBody()).filter((function(t){return t.isEqual(e)})).fold((function(){return Mw(t,e.toRange())}),(function(o){return function(t,n,e,r){var o=Nc(n);o?n.undoManager.transact((function(){var r=hn.fromTag(o);Pe(r,Rc(n)),Qn(r,hn.fromTag("br")),t?Yn(hn.fromDom(e),r):Xn(hn.fromDom(e),r);var i=n.dom.createRng();i.setStart(r.dom,0),i.setEnd(r.dom,0),Mw(n,i)})):Mw(n,r.toRange())}(n,t,r,e)}))}))},gC=function(t,n,e,r){var o=t.selection.getRng(),i=ac.fromRangeStart(o),a=t.getBody();if(!n&&lC(r,i)){var u=function(t,n,e){return uC(n,e).orThunk((function(){return rt(e.getClientRects()).bind((function(e){return cw(dw(t,ac.before(n)),e.left)}))})).getOr(ac.before(n))}(a,e,i);return pC(t,n,u),!0}if(n&&fC(r,i)){u=function(t,n,e){return cC(n,e).orThunk((function(){return rt(e.getClientRects()).bind((function(e){return cw(mw(t,ac.after(n)),e.left)}))})).getOr(ac.after(n))}(a,e,i);return pC(t,n,u),!0}return!1},hC=function(t,n,e){return k.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(r){return k.from(t.dom.getParent(r,"table")).map((function(o){return e(t,n,o,r)}))})).getOr(!1)},vC=function(t,n){return hC(t,n,dC)},bC=function(t,n){return hC(t,n,gC)},yC=function(t,n){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,n,e){var r=Zt().os;tC([{keyCode:zf.RIGHT,action:Zw(jw,t,!0)},{keyCode:zf.LEFT,action:Zw(jw,t,!1)},{keyCode:zf.UP,action:Zw(Uw,t,!1)},{keyCode:zf.DOWN,action:Zw(Uw,t,!0)},{keyCode:zf.RIGHT,action:Zw(vC,t,!0)},{keyCode:zf.LEFT,action:Zw(vC,t,!1)},{keyCode:zf.UP,action:Zw(bC,t,!1)},{keyCode:zf.DOWN,action:Zw(bC,t,!0)},{keyCode:zf.RIGHT,action:Zw(nC,t,!0)},{keyCode:zf.LEFT,action:Zw(nC,t,!1)},{keyCode:zf.UP,action:Zw(eC,t,!1)},{keyCode:zf.DOWN,action:Zw(eC,t,!0)},{keyCode:zf.RIGHT,action:Zw(kx,t,n,!0)},{keyCode:zf.LEFT,action:Zw(kx,t,n,!1)},{keyCode:zf.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Zw(Ox,t,n)},{keyCode:zf.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Zw(Tx,t,n)},{keyCode:zf.UP,action:Zw(Jw,t,!1)},{keyCode:zf.DOWN,action:Zw(Jw,t,!0)}],e).each((function(t){e.preventDefault()}))}(t,n,e)}))},xC=function(t,n){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,n,e){tC([{keyCode:zf.BACKSPACE,action:Zw($x,t,!1)},{keyCode:zf.BACKSPACE,action:Zw(Vy,t,!1)},{keyCode:zf.DELETE,action:Zw(Vy,t,!0)},{keyCode:zf.BACKSPACE,action:Zw(My,t,!1)},{keyCode:zf.DELETE,action:Zw(My,t,!0)},{keyCode:zf.BACKSPACE,action:Zw(Mx,t,n,!1)},{keyCode:zf.DELETE,action:Zw(Mx,t,n,!0)},{keyCode:zf.BACKSPACE,action:Zw(eg,t,!1)},{keyCode:zf.DELETE,action:Zw(eg,t,!0)},{keyCode:zf.BACKSPACE,action:Zw(jy,t,!1)},{keyCode:zf.DELETE,action:Zw(jy,t,!0)},{keyCode:zf.BACKSPACE,action:Zw(Lx,t,!1)},{keyCode:zf.DELETE,action:Zw(Lx,t,!0)},{keyCode:zf.BACKSPACE,action:Zw(Cy,t,!1)},{keyCode:zf.DELETE,action:Zw(Cy,t,!0)},{keyCode:zf.BACKSPACE,action:Zw(by,t,!1)},{keyCode:zf.DELETE,action:Zw(by,t,!0)},{keyCode:zf.BACKSPACE,action:Zw(Px,t,!1)},{keyCode:zf.DELETE,action:Zw(Px,t,!0)}],e).each((function(t){e.preventDefault()}))}(t,n,e)})),t.on("keyup",(function(n){!1===n.isDefaultPrevented()&&function(t,n){tC([{keyCode:zf.BACKSPACE,action:Zw(Fy,t)},{keyCode:zf.DELETE,action:Zw(Fy,t)}],n)}(t,n)}))},wC=function(t,n){var e,r=n,o=t.dom,i=t.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var a=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(n.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&n.insertBefore(o.doc.createTextNode(" "),n.firstChild)}var u=o.createRng();if(n.normalize(),n.hasChildNodes()){for(var c=new Ur(n,n);e=c.current();){if(_e(e)){u.setStart(e,0),u.setEnd(e,0);break}if(i[e.nodeName.toLowerCase()]){u.setStartBefore(e),u.setEndBefore(e);break}r=e,e=c.next()}e||(u.setStart(r,0),u.setEnd(r,0))}else Oe(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(u.setStartBefore(n),u.setEndBefore(n)):(u.setStartAfter(n),u.setEndAfter(n)):(u.setStart(n,0),u.setEnd(n,0));t.selection.setRng(u),hd(t,u)}},CC=function(t){return k.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},_C=function(t,n){return t&&t.parentNode&&t.parentNode.nodeName===n},kC=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},SC=function(t){var n=t.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:t},AC=function(t,n,e){for(var r=t[e?"firstChild":"lastChild"];r&&!ge(r);)r=r[e?"nextSibling":"previousSibling"];return r===n},OC=function(t,n,e,r,o){var i=t.dom,a=t.selection.getRng();if(e!==t.getBody()){var u;kC(u=e)&&kC(u.parentNode)&&(o="LI");var c=o?n(o):i.create("BR");if(AC(e,r,!0)&&AC(e,r,!1))if(_C(e,"LI")){var s=SC(e);i.insertAfter(c,s),!function(t){var n;return(null===(n=t.parentNode)||void 0===n?void 0:n.firstChild)===t}(e)?i.remove(e):i.remove(s)}else i.replace(c,e);else if(AC(e,r,!0))_C(e,"LI")?(i.insertAfter(c,SC(e)),c.appendChild(i.doc.createTextNode(" ")),c.appendChild(e)):e.parentNode.insertBefore(c,e),i.remove(r);else if(AC(e,r,!1))i.insertAfter(c,SC(e)),i.remove(r);else{e=SC(e);var l=a.cloneRange();l.setStartAfter(r),l.setEndAfter(e);var f=l.extractContents();"LI"===o&&function(t,n){return t.firstChild&&t.firstChild.nodeName===n}(f,"LI")?(c=f.firstChild,i.insertAfter(f,e)):(i.insertAfter(f,e),i.insertAfter(c,e)),i.remove(r)}wC(t,c)}},TC=function(t,n){return n&&"A"===n.nodeName&&t.isEmpty(n)},EC=function(t){t.innerHTML='<br data-mce-bogus="1">'},DC=function(t,n){return t.nodeName===n||t.previousSibling&&t.previousSibling.nodeName===n},zC=function(t,n){return n&&t.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&"true"!==t.getContentEditable(n)},MC=function(t,n,e){return!1===_e(n)?e:t?1===e&&"\ufeff"===n.data.charAt(e-1)?0:e:e===n.data.length-1&&"\ufeff"===n.data.charAt(e)?n.data.length:e},NC=function(t,n){var e,r,o=t.getRoot();for(e=n;e!==o&&"false"!==t.getContentEditable(e);)"true"===t.getContentEditable(e)&&(r=e),e=e.parentNode;return e!==o?r:o},RC=function(t,n){var e=Nc(t);e&&e.toLowerCase()===n.tagName.toLowerCase()&&function(t,n,e){var r=t.dom;k.from(e.style).map(r.parseStyle).each((function(t){var e=We(hn.fromDom(n)),o=Ot(Ot({},e),t);r.setStyles(n,o)}));var o=k.from(e.class).map((function(t){return t.split(/\s+/)})),i=k.from(n.className).map((function(t){return G(t.split(/\s+/),(function(t){return""!==t}))}));Du(o,i,(function(t,e){var o=G(e,(function(n){return!j(t,n)})),i=Tt(t,o);r.setAttrib(n,"class",i.join(" "))}));var a=["style","class"],u=pt(e,(function(t,n){return!j(a,n)}));r.setAttribs(n,u)}(t,n,Rc(t))},BC=function(t,n){var e,r,o,i,a,u,c,s,l,f,d=t.dom,m=t.schema,p=m.getNonEmptyElements(),g=t.selection.getRng(),h=function(n){var e,o,a,u=r,c=m.getTextInlineElements();if(a=e=n||"TABLE"===s||"HR"===s?d.create(n||l):i.cloneNode(!1),!1===function(t){return t.getParam("keep_styles",!0)}(t))d.setAttrib(e,"style",null),d.setAttrib(e,"class",null);else do{if(c[u.nodeName]){if(pl(u)||Sl(u))continue;o=u.cloneNode(!1),d.setAttrib(o,"id",""),e.hasChildNodes()?(o.appendChild(e.firstChild),e.appendChild(o)):(a=o,e.appendChild(o))}}while((u=u.parentNode)&&u!==w);return RC(t,e),EC(a),e},v=function(t){var n,e,a=MC(t,r,o);if(_e(r)&&(t?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!t)return!0;if(t&&ge(r)&&r===i.firstChild)return!0;if(DC(r,"TABLE")||DC(r,"HR"))return f&&!t||!f&&t;var u=new Ur(r,i);for(_e(r)&&(t&&0===a?u.prev():t||a!==r.nodeValue.length||u.next());n=u.current();){if(ge(n)){if(!n.getAttribute("data-mce-bogus")&&(e=n.nodeName.toLowerCase(),p[e]&&"br"!==e))return!1}else if(_e(n)&&!To(n.nodeValue))return!1;t?u.prev():u.next()}return!0},b=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(s)&&"HGROUP"!==C?h(l):h(),function(t){return t.getParam("end_container_on_empty_block",!1)}(t)&&zC(d,c)&&d.isEmpty(i)?a=d.split(c,i):d.insertAfter(a,i),wC(t,a)};$f(d,g).each((function(t){g.setStart(t.startContainer,t.startOffset),g.setEnd(t.endContainer,t.endOffset)})),r=g.startContainer,o=g.startOffset,l=Nc(t);var y=!(!n||!n.shiftKey),x=!(!n||!n.ctrlKey);ge(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&_e(r)?r.nodeValue.length:0);var w=NC(d,r);if(w){(l&&!y||!l&&y)&&(r=function(t,n,e,r,o){var i,a,u,c,s,l,f=n||"P",d=t.dom,m=NC(d,r);if(!(a=d.getParent(r,d.isBlock))||!zC(d,a)){if(l=(a=a||m)===t.getBody()||function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),RC(t,i),a.appendChild(i),e.setStart(i,0),e.setEnd(i,0),i;for(c=r;c.parentNode!==a;)c=c.parentNode;for(;c&&!d.isBlock(c);)u=c,c=c.previousSibling;if(u&&t.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),RC(t,i),u.parentNode.insertBefore(i,u),c=u;c&&!d.isBlock(c);)s=c.nextSibling,i.appendChild(c),c=s;e.setStart(r,o),e.setEnd(r,o)}}return r}(t,l,g,r,o)),i=d.getParent(r,d.isBlock),c=i?d.getParent(i.parentNode,d.isBlock):null,s=i?i.nodeName.toUpperCase():"";var C=c?c.nodeName.toUpperCase():"";"LI"!==C||x||(i=c,c=c.parentNode,s=C),/^(LI|DT|DD)$/.test(s)&&d.isEmpty(i)?OC(t,h,c,i,l):l&&i===t.getBody()||(l=l||"P",io(i)?(a=go(i),d.isEmpty(i)&&EC(i),RC(t,a),wC(t,a)):v()?b():v(!0)?(a=i.parentNode.insertBefore(h(),i),wC(t,DC(i,"HR")?a:i)):((e=function(t){var n=t.cloneRange();return n.setStart(t.startContainer,MC(!0,t.startContainer,t.startOffset)),n.setEnd(t.endContainer,MC(!1,t.endContainer,t.endOffset)),n}(g).cloneRange()).setEndAfter(i),function(t){$(mu(hn.fromDom(t),On),(function(t){var n=t.dom;n.nodeValue=eo(n.nodeValue)}))}(u=e.extractContents()),function(t){do{_e(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)}(u),a=u.firstChild,d.insertAfter(u,i),function(t,n,e){var r,o=e,i=[];if(o){for(;o=o.firstChild;){if(t.isBlock(o))return;ge(o)&&!n[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)(!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||TC(t,o))&&t.remove(o)}}(d,p,a),function(t,n){n.normalize();var e=n.lastChild;e&&!/^(left|right)$/gi.test(t.getStyle(e,"float",!0))||t.add(n,"br")}(d,i),d.isEmpty(i)&&EC(i),a.normalize(),d.isEmpty(a)?(d.remove(a),b()):(RC(t,a),wC(t,a))),d.setAttrib(a,"id",""),t.fire("NewBlock",{newBlock:a}))}},PC=function(t,n,e){var r=t.dom.createRng();e?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),t.selection.setRng(r),hd(t,r)},IC=function(t,n){var e,r,o=t.selection,i=t.dom,a=o.getRng();$f(i,a).each((function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)}));var u=a.startOffset,c=a.startContainer;if(1===c.nodeType&&c.hasChildNodes()){var s=u>c.childNodes.length-1;c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c,u=s&&3===c.nodeType?c.nodeValue.length:0}var l=i.getParent(c,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",m=!(!n||!n.ctrlKey);"LI"!==d||m||(l=f),c&&3===c.nodeType&&u>=c.nodeValue.length&&(function(t,n,e){for(var r,o=new Ur(n,e),i=t.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0}(t.schema,c,l)||(e=i.create("br"),a.insertNode(e),a.setStartAfter(e),a.setEndAfter(e),r=!0)),e=i.create("br"),sc(i,a,e),PC(t,e,r),t.undoManager.add()},LC=function(t,n){var e=hn.fromTag("br");Xn(hn.fromDom(n),e),t.undoManager.add()},HC=function(t,n){FC(t.getBody(),n)||Yn(hn.fromDom(n),hn.fromTag("br"));var e=hn.fromTag("br");Yn(hn.fromDom(n),e),PC(t,e.dom,!1),t.undoManager.add()},FC=function(t,n){return e=ac.after(n),!!Oe(e.getNode())||ll(t,ac.after(n)).map((function(t){return Oe(t.getNode())})).getOr(!1);var e},VC=function(t){return t&&"A"===t.nodeName&&"href"in t},jC=function(t){return t.fold(y,VC,VC,y)},UC=function(t,n){n.fold(l,p(LC,t),p(HC,t),l)},WC=function(t,n){var e=function(t){var n=p(Qb,t),e=ac.fromRangeStart(t.selection.getRng());return sx(n,t.getBody(),e).filter(jC)}(t);e.isSome()?e.each(p(UC,t)):IC(t,n)},$C=function(t,n){return CC(t).filter((function(t){return n.length>0&&bn(hn.fromDom(t),n)})).isSome()},qC=ur([{br:[]},{block:[]},{none:[]}]),GC=function(t,n){return function(t){return $C(t,function(t){return t.getParam("no_newline_selector","")}(t))}(t)},KC=function(t){return function(n,e){return""===Nc(n)===t}},XC=function(t){return function(n,e){return function(t){return CC(t).filter((function(t){return Jr(hn.fromDom(t))})).isSome()}(n)===t}},YC=function(t,n){return function(e,r){return function(t){return CC(t).fold(d(""),(function(t){return t.nodeName.toUpperCase()}))}(e)===t.toUpperCase()===n}},JC=function(t){return YC("pre",t)},QC=function(t){return function(n,e){return function(t){return t.getParam("br_in_pre",!0)}(n)===t}},ZC=function(t,n){return function(t){return $C(t,function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(t))}(t)},t_=function(t,n){return n},n_=function(t){var n=Nc(t),e=function(t,n){var e,r,o=t.getRoot();for(e=n;e!==o&&"false"!==t.getContentEditable(e);)"true"===t.getContentEditable(e)&&(r=e),e=e.parentNode;return e!==o?r:o}(t.dom,t.selection.getStart());return e&&t.schema.isValidChild(e.nodeName,n||"P")},e_=function(t,n){return function(e,r){return X(t,(function(t,n){return t&&n(e,r)}),!0)?k.some(n):k.none()}},r_=function(t,n){(function(t,n){return Zy([e_([GC],qC.none()),e_([YC("summary",!0)],qC.br()),e_([JC(!0),QC(!1),t_],qC.br()),e_([JC(!0),QC(!1)],qC.block()),e_([JC(!0),QC(!0),t_],qC.block()),e_([JC(!0),QC(!0)],qC.br()),e_([XC(!0),t_],qC.br()),e_([XC(!0)],qC.block()),e_([KC(!0),t_,n_],qC.block()),e_([KC(!0)],qC.br()),e_([ZC],qC.br()),e_([KC(!1),t_],qC.br()),e_([n_],qC.block())],[t,!(!n||!n.shiftKey)]).getOr(qC.none())})(t,n).fold((function(){WC(t,n)}),(function(){BC(t,n)}),l)},o_=function(t){t.on("keydown",(function(n){n.keyCode===zf.ENTER&&function(t,n){var e;n.isDefaultPrevented()||(n.preventDefault(),(e=t.undoManager).typing&&(e.typing=!1,e.add()),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),r_(t,n)})))}(t,n)}))},i_=function(t){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,n){tC([{keyCode:zf.END,action:Zw(Ww,t,!0)},{keyCode:zf.HOME,action:Zw(Ww,t,!1)},{keyCode:zf.END,action:Zw(rC,t,!0)},{keyCode:zf.HOME,action:Zw(rC,t,!1)}],n).each((function(t){n.preventDefault()}))}(t,n)}))},a_=Zt().browser,u_=function(t){!function(t){var n=ou((function(){t.composing||pp(t)}),0);a_.isIE()&&(t.on("keypress",(function(t){n.throttle()})),t.on("remove",(function(t){n.cancel()})))}(t),t.on("input",(function(n){!1===n.isComposing&&pp(t)}))},c_=function(t,n){var e=n.container(),r=n.offset();return _e(e)?(e.insertData(r,t),k.some(ac(e,r+t.length))):Vs(n).map((function(e){var r=hn.fromText(t);return n.isAtEnd()?Yn(e,r):Xn(e,r),ac(r.dom,t.length)}))},s_=p(c_," "),l_=p(c_," "),f_=function(t,n){return function(e){return function(t,n){return!ip(n)&&(ap(t,n)||rp(t,n)||op(t,n))}(t,e)?s_(n):l_(n)}},d_=function(t){var n=ac.fromRangeStart(t.selection.getRng()),e=hn.fromDom(t.getBody());if(t.selection.isCollapsed()){var r=p(Qb,t),o=ac.fromRangeStart(t.selection.getRng());return sx(r,t.getBody(),o).bind(function(t){return function(n){return n.fold((function(n){return fl(t.dom,ac.before(n))}),(function(t){return dl(t)}),(function(t){return ml(t)}),(function(n){return ll(t.dom,ac.after(n))}))}}(e)).bind(f_(e,n)).exists(function(t){return function(n){return t.selection.setRng(n.toRange()),t.nodeChanged(),!0}}(t))}return!1},m_=function(t){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,n){tC([{keyCode:zf.SPACEBAR,action:Zw(d_,t)}],n).each((function(t){n.preventDefault()}))}(t,n)}))},p_=function(t){var n=Ax(t);return function(t){t.on("keyup compositionstart",p(nw,t))}(t),yC(t,n),xC(t,n),o_(t),m_(t),u_(t),i_(t),n},g_=function(){function t(t){var n;this.lastPath=[],this.editor=t;var e=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(e){var r=t.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==e.type&&Pf(o,n)||t.fire("SelectionChange"),n=o})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var n=t.selection.getStart(!0);!n||!sn.range&&t.selection.isCollapsed()||vf(t)&&!e.isSameElementPath(n)&&t.dom.isChildOf(n,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(n){!n.isDefaultPrevented()&&vf(t)&&("IMG"===t.selection.getNode().nodeName?Fr.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}return t.prototype.nodeChanged=function(t){var n,e,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(n=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,r)||(n=r),e=[],this.editor.dom.getParent(n,(function(t){if(t===r)return!0;e.push(t)})),(t=t||{}).element=n,t.parents=e,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var n,e=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(e.length===this.lastPath.length){for(n=e.length;n>=0&&e[n]===this.lastPath[n];n--);if(-1===n)return this.lastPath=e,!0}return this.lastPath=e,!1},t}(),h_=function(t){!function(t){t.on("click",(function(n){t.dom.getParent(n.target,"details")&&n.preventDefault()}))}(t),function(t){t.parser.addNodeFilter("details",(function(t){$(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){$(t,(function(t){var n=t.attr("data-mce-open");t.attr("open",T(n)?n:null),t.attr("data-mce-open",null)}))}))}(t)},v_=function(t){return ge(t)&&Xr(hn.fromDom(t))},b_=function(t){t.on("click",(function(n){n.detail>=3&&function(t){var n=t.selection.getRng(),e=ac.fromRangeStart(n),r=ac.fromRangeEnd(n);if(ac.isElementPosition(e)){var o=e.container();v_(o)&&dl(o).each((function(t){return n.setStart(t.container(),t.offset())}))}if(ac.isElementPosition(r)){o=e.container();v_(o)&&ml(o).each((function(t){return n.setEnd(t.container(),t.offset())}))}t.selection.setRng(og(n))}(t)}))},y_=function(t){var n=t.getBoundingClientRect(),e=t.ownerDocument,r=e.documentElement,o=e.defaultView;return{top:n.top+o.pageYOffset-r.clientTop,left:n.left+o.pageXOffset-r.clientLeft}},x_=function(t,n){return function(t,n,e){return{pageX:e.left-t.left+n.left,pageY:e.top-t.top+n.top}}(function(t){return t.inline?y_(t.getBody()):{left:0,top:0}}(t),function(t){var n=t.getBody();return t.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}}(t),function(t,n){if(n.target.ownerDocument!==t.getDoc()){var e=y_(t.getContentAreaContainer()),r=function(t){var n=t.getBody(),e=t.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},o={left:n.scrollLeft||e.scrollLeft,top:n.scrollTop||e.scrollTop};return t.inline?r:o}(t);return{left:n.pageX-e.left+r.left,top:n.pageY-e.top+r.top}}return{left:n.pageX,top:n.pageY}}(t,n))},w_=De,C_=Ee,__=function(t,n,e,r){var o=t.dom,i=n.cloneNode(!0);o.setStyles(i,{width:e,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:e,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},k_=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},S_=function(t,n){return function(e){if(function(t){return 0===t.button}(e)){var r=Y(n.dom.getParents(e.target),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){for(var e=0;e<t.length;e++)if(t[e](n))return!0;return!1}}(w_,C_)).getOr(null);if(u=n.getBody(),w_(c=r)&&c!==u){var o=n.dom.getPos(r),i=n.getBody(),a=n.getDoc().documentElement;t.set({element:r,dragging:!1,screenX:e.screenX,screenY:e.screenY,maxX:(n.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(n.inline?i.scrollHeight:a.offsetHeight)-2,relX:e.pageX-o.x,relY:e.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:__(n,r,r.offsetWidth,r.offsetHeight)})}}var u,c}},A_=function(t,n){return function(e){t.on((function(t){if(t.dragging&&function(t,n,e){return n!==e&&!t.dom.isChildOf(n,e)&&!w_(n)}(n,(a=n.selection,3===(u=a.getSel().getRangeAt(0).startContainer).nodeType?u.parentNode:u),t.element)){var r=(o=t.element,(i=o.cloneNode(!0)).removeAttribute("data-mce-selected"),i);n.fire("drop",{clientX:e.clientX,clientY:e.clientY}).isDefaultPrevented()||n.undoManager.transact((function(){k_(t.element),n.insertContent(n.dom.getOuterHTML(r)),n._selectionOverrides.hideFakeCaret()}))}var o,i,a,u})),O_(t)}},O_=function(t){t.on((function(t){k_(t.ghost)})),t.clear()},T_=function(t){var n,e=(n=Qa(k.none()),{clear:function(){return n.set(k.none())},set:function(t){return n.set(k.some(t))},isSet:function(){return n.get().isSome()},on:function(t){return n.get().each(t)}}),r=Ga.DOM,o=document,i=S_(e,t),a=function(t,n){var e=Fr.throttle((function(t,e){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(t,e)}),0);return n.on("remove",e.stop),function(r){return t.on((function(t){var o,i,a=Math.max(Math.abs(r.screenX-t.screenX),Math.abs(r.screenY-t.screenY));if(!t.dragging&&a>10){if(n.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,n.focus()}if(t.dragging){var u=function(t,n){return{pageX:n.pageX-t.relX,pageY:n.pageY+5}}(t,x_(n,r));o=t.ghost,i=n.getBody(),o.parentNode!==i&&i.appendChild(o),function(t,n,e,r,o,i){var a=0,u=0;t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+e>o&&(a=n.pageX+e-o),n.pageY+r>i&&(u=n.pageY+r-i),t.style.width=e-a+"px",t.style.height=r-u+"px"}(t.ghost,u,t.width,t.height,t.maxX,t.maxY),e(r.clientX,r.clientY)}}))}}(e,t),u=A_(e,t),c=function(t,n){return function(){t.on((function(t){t.dragging&&n.fire("dragend")})),O_(t)}}(e,t);t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",u),r.bind(o,"mousemove",a),r.bind(o,"mouseup",c),t.on("remove",(function(){r.unbind(o,"mousemove",a),r.unbind(o,"mouseup",c)}))},E_=function(t){T_(t),function(t){t.on("drop",(function(n){var e=void 0!==n.clientX?t.getDoc().elementFromPoint(n.clientX,n.clientY):null;(w_(e)||"false"===t.dom.getContentEditableParent(e))&&n.preventDefault()}))}(t),function(t){return t.getParam("block_unsupported_drop",!0,"boolean")}(t)&&function(t){var n=function(n){if(!n.isDefaultPrevented()){var e=n.dataTransfer;e&&(j(e.types,"Files")||e.files.length>0)&&(n.preventDefault(),"drop"===n.type&&kb(t,"Dropped file type is not supported"))}},e=function(e){Hd(t,e.target)&&n(e)},r=function(){var r=Ga.DOM,o=t.dom,i=document,a=t.inline?t.getBody():t.getDoc(),u=["drop","dragover"];$(u,(function(t){r.bind(i,t,e),o.bind(a,t,n)})),t.on("remove",(function(){$(u,(function(t){r.unbind(i,t,e),o.unbind(a,t,n)}))}))};t.on("init",(function(){Fr.setEditorTimeout(t,r,0)}))}(t)},D_=Ee,z_=De,M_=function(t,n){return Tf(t.getBody(),n)},N_=function(t){var n,e=t.selection,r=t.dom,o=r.isBlock,i=t.getBody(),a=gs(t,i,o,(function(){return qd(t)})),u="sel-"+r.uniqueId(),c=function(t){return t!==i&&(z_(t)||Me(t))&&r.isChildOf(t,i)},s=function(t){t&&e.setRng(t)},l=e.getRng,f=function(n,r,o,i){return void 0===i&&(i=!0),t.fire("ShowCaret",{target:r,direction:n,before:o}).isDefaultPrevented()?null:(i&&e.scrollIntoView(r,-1===n),a.show(o,r))},d=function(t){return uo(t)||mo(t)||po(t)},m=function(t){return d(t.startContainer)||d(t.endContainer)},p=function(n){var e=t.schema.getShortEndedElements(),o=r.createRng(),i=n.startContainer,a=n.startOffset,u=n.endContainer,c=n.endOffset;return vt(e,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),vt(e,u.nodeName.toLowerCase())?0===c?o.setEndBefore(u):o.setEndAfter(u):o.setEnd(u,c),o},g=function(o){var i=o.cloneNode(!0),a=t.fire("ObjectSelected",{target:o,targetClone:i});if(a.isDefaultPrevented())return null;var c=function(n,o,i){var a=t.$,c=Rr(hn.fromDom(t.getBody()),"#"+u).fold((function(){return a([])}),(function(t){return a([t.dom])}));0===c.length&&(c=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",u)).appendTo(t.getBody());var s=r.createRng();o===i&&sn.ie?(c.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(o),s.setStartAfter(c[0].firstChild.firstChild),s.setEndAfter(o)):(c.empty().append(" ").append(o).append(" "),s.setStart(c[0].firstChild,1),s.setEnd(c[0].lastChild,0)),c.css({top:r.getPos(n,t.getBody()).y}),c[0].focus();var l=e.getSel();return l.removeAllRanges(),l.addRange(s),s}(o,a.targetClone,i),s=hn.fromDom(o);return $(pu(hn.fromDom(t.getBody()),"*[data-mce-selected]"),(function(t){xn(s,t)||He(t,"data-mce-selected")})),r.getAttrib(o,"data-mce-selected")||o.setAttribute("data-mce-selected","1"),n=o,b(),c},h=function(t,n){if(!t)return null;if(t.collapsed){if(!m(t)){var e=n?1:-1,o=Fs(e,i,t),a=o.getNode(!n);if(bs(a))return f(e,a,!!n&&!o.isAtEnd(),!1);var u=o.getNode(n);if(bs(u))return f(e,u,!n&&!o.isAtEnd(),!1)}return null}var s=t.startContainer,l=t.startOffset,d=t.endOffset;if(3===s.nodeType&&0===l&&z_(s.parentNode)&&(s=s.parentNode,l=r.nodeIndex(s),s=s.parentNode),1!==s.nodeType)return null;if(d===l+1&&s===t.endContainer){var p=s.childNodes[l];if(c(p))return g(p)}return null},v=function(){n&&n.removeAttribute("data-mce-selected"),Rr(hn.fromDom(t.getBody()),"#"+u).each(ne),n=null},b=function(){a.hide()};return sn.ceFalse&&function(){t.on("mouseup",(function(n){var e=l();e.collapsed&&hb(t,n.clientX,n.clientY)&&Oy(t,e,!1).each(s)})),t.on("click",(function(n){var o=M_(t,n.target);o&&(z_(o)&&(n.preventDefault(),t.focus()),D_(o)&&r.isChildOf(o,e.getNode())&&v())})),t.on("blur NewBlock",v),t.on("ResizeWindow FullscreenStateChanged",a.reposition);var d=function(t){var n=nl(t);if(!t.firstChild)return!1;var e,r=ac.before(t.firstChild),o=n.next(r);return o&&!(Nm(e=o)||Rm(e)||Em(e)||Dm(e))},g=function(n,e){var i,a,u=r.getParent(n,o),c=r.getParent(e,o);return!(!u||n===c||!r.isChildOf(u,c)||!1!==z_(M_(t,u)))||u&&(i=u,a=c,!(r.getParent(i,o)===r.getParent(a,o)))&&d(u)};t.on("tap",(function(n){var e=n.target,r=M_(t,e);z_(r)?(n.preventDefault(),Ay(t,r).each(h)):c(e)&&Ay(t,e).each(h)}),!0),t.on("mousedown",(function(n){var o=n.target;if((o===i||"HTML"===o.nodeName||r.isChildOf(o,i))&&!1!==hb(t,n.clientX,n.clientY)){var a=M_(t,o);if(a)z_(a)?(n.preventDefault(),Ay(t,a).each(h)):(v(),D_(a)&&n.shiftKey||Ef(n.clientX,n.clientY,e.getRng())||(b(),e.placeCaretAt(n.clientX,n.clientY)));else if(c(o))Ay(t,o).each(h);else if(!1===bs(o)){v(),b();var u=zw(i,n.clientX,n.clientY);if(u&&!g(o,u.node)){n.preventDefault();var l=f(1,u.node,u.before,!1);t.getBody().focus(),s(l)}}}})),t.on("keypress",(function(t){zf.modifierPressed(t)||z_(e.getNode())&&t.preventDefault()})),t.on("GetSelectionRange",(function(t){var e=t.range;if(n){if(!n.parentNode)return void(n=null);(e=e.cloneRange()).selectNode(n),t.range=e}})),t.on("SetSelectionRange",(function(t){t.range=p(t.range);var n=h(t.range,t.forward);n&&(t.range=n)}));t.on("AfterSetSelectionRange",(function(t){var n=t.range,e=n.startContainer.parentNode;m(n)||"mcepastebin"===e.id||b(),function(t){return r.hasClass(t,"mce-offscreen-selection")}(e)||v()})),t.on("copy",(function(t){var n,e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!sn.ie){var o=(n=r.get(u))?n.getElementsByTagName("*")[0]:n;o&&(t.preventDefault(),e.clearData(),e.setData("text/html",o.outerHTML),e.setData("text/plain",o.outerText||o.innerText))}})),E_(t),function(t){var n=ou((function(){if(!t.removed&&t.getBody().contains(document.activeElement)){var n=t.selection.getRng();if(n.collapsed){var e=Ty(t,n,!1);t.selection.setRng(e)}}}),0);t.on("focus",(function(){n.throttle()})),t.on("blur",(function(){n.cancel()}))}(t),function(t){t.on("init",(function(){t.on("focusin",(function(n){var e=n.target;if(Me(e)){var r=Tf(t.getBody(),e),o=De(r)?r:e;t.selection.getNode()!==o&&Ay(t,o).each((function(n){return t.selection.setRng(n)}))}}))}))}(t)}(),{showCaret:f,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(go(t),s(l()),e.scrollIntoView(t))},hideFakeCaret:b,destroy:function(){a.destroy(),n=null}}},R_=function(t){var n,e,r,o=pn.each,i=zf.BACKSPACE,a=zf.DELETE,u=t.dom,c=t.selection,s=t.parser,f=sn.gecko,d=sn.ie,m=sn.webkit,p=d?"Text":"URL",g=function(n,e){try{t.getDoc().execCommand(n,!1,e)}catch(t){}},h=function(t){return t.isDefaultPrevented()},v=function(){t.shortcuts.add("meta+a",null,"SelectAll")},b=function(){t.on("keydown",(function(t){if(!h(t)&&t.keyCode===i&&c.isCollapsed()&&0===c.getRng().startOffset){var n=c.getNode().previousSibling;if(n&&n.nodeName&&"table"===n.nodeName.toLowerCase())return t.preventDefault(),!1}}))},y=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(n){var e;if("HTML"===n.target.nodeName){if(sn.ie>11)return void t.getBody().focus();e=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(e),t.selection.normalize(),t.nodeChanged()}})))},x=l;return t.on("keydown",(function(n){var e,r;if(!h(n)&&n.keyCode===zf.BACKSPACE){var o=(e=c.getRng()).startContainer,i=e.startOffset,a=u.getRoot();if(r=o,e.collapsed&&0===i){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==a;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(t.formatter.toggle("blockquote",null,r),(e=u.createRng()).setStart(o,0),e.setEnd(o,0),c.setRng(e))}}})),n=function(t){var n=u.create("body"),e=t.cloneContents();return n.appendChild(e),c.serializer.serialize(n,{format:"html"})},t.on("keydown",(function(e){var r,o,c=e.keyCode;if(!h(e)&&(c===a||c===i)){if(r=t.selection.isCollapsed(),o=t.getBody(),r&&!u.isEmpty(o))return;if(!r&&!function(e){var r=n(e),o=u.createRng();return o.selectNode(t.getBody()),r===n(o)}(t.selection.getRng()))return;e.preventDefault(),t.setContent(""),o.firstChild&&u.isBlock(o.firstChild)?t.selection.setCursorLocation(o.firstChild,0):t.selection.setCursorLocation(o,0),t.nodeChanged()}})),sn.windowsPhone||t.on("keyup focusin mouseup",(function(t){zf.modifierPressed(t)||c.normalize()}),!0),m&&(t.inline||u.bind(t.getDoc(),"mousedown mouseup",(function(n){var e;if(n.target===t.getDoc().documentElement)if(e=c.getRng(),t.getBody().focus(),"mousedown"===n.type){if(uo(e.startContainer))return;c.placeCaretAt(n.clientX,n.clientY)}else c.setRng(e)})),t.on("click",(function(n){var e=n.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==u.getContentEditableParent(e)&&(n.preventDefault(),t.selection.select(e),t.nodeChanged()),"A"===e.nodeName&&u.hasClass(e,"mce-item-anchor")&&(n.preventDefault(),c.select(e))})),Nc(t)&&t.on("init",(function(){g("DefaultParagraphSeparator",Nc(t))})),t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(t){t.preventDefault()}))})),b(),s.addNodeFilter("br",(function(t){for(var n=t.length;n--;)"Apple-interchange-newline"===t[n].attr("class")&&t[n].remove()})),sn.iOS?(t.inline||t.on("keydown",(function(){document.activeElement===document.body&&t.getWin().focus()})),y(),t.on("click",(function(t){var n=t.target;do{if("A"===n.tagName)return void t.preventDefault()}while(n=n.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):v()),sn.ie>=11&&(y(),b()),sn.ie&&(v(),g("AutoUrlDetect",!1),t.on("dragstart",(function(n){!function(n){var e,r;n.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===n.target.tagName&&c.select(n.target),(e=t.selection.getContent()).length>0&&(r="data:text/mce-internal,"+escape(t.id)+","+escape(e),n.dataTransfer.setData(p,r)))}(n)})),t.on("drop",(function(n){if(!h(n)){var e=function(t){var n;return t.dataTransfer&&(n=t.dataTransfer.getData(p))&&n.indexOf("data:text/mce-internal,")>=0?(n=n.substr("data:text/mce-internal,".length).split(","),{id:unescape(n[0]),html:unescape(n[1])}):null}(n);if(e&&e.id!==t.id){n.preventDefault();var r=Bf(n.x,n.y,t.getDoc());c.setRng(r),o=e.html,i=!0,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:o,internal:i}):t.execCommand("mceInsertContent",!1,o)}}var o,i}))),f&&(t.on("keydown",(function(n){if(!h(n)&&n.keyCode===i){if(!t.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&0===c.getRng().startOffset){var e=c.getNode(),r=e.previousSibling;if("HR"===e.nodeName)return u.remove(e),void n.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(u.remove(r),n.preventDefault())}}})),Range.prototype.getClientRects||t.on("mousedown",(function(n){if(!h(n)&&"HTML"===n.target.nodeName){var e=t.getBody();e.blur(),Fr.setEditorTimeout(t,(function(){e.focus()}))}})),e=function(){var n=u.getAttribs(c.getStart().cloneNode(!1));return function(){var e=c.getStart();e!==t.getBody()&&(u.setAttrib(e,"style",null),o(n,(function(t){e.setAttributeNode(t.cloneNode(!0))})))}},r=function(){return!c.isCollapsed()&&u.getParent(c.getStart(),u.isBlock)!==u.getParent(c.getEnd(),u.isBlock)},t.on("keypress",(function(n){var o;if(!h(n)&&(8===n.keyCode||46===n.keyCode)&&r())return o=e(),t.getDoc().execCommand("delete",!1,null),o(),n.preventDefault(),!1})),u.bind(t.getDoc(),"cut",(function(n){var o;!h(n)&&r()&&(o=e(),Fr.setEditorTimeout(t,(function(){o()})))})),function(t){return t.getParam("readonly")}(t)||t.on("BeforeExecCommand mousedown",(function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),Gc(t)||g("enableObjectResizing",!1)})),t.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||o(u.select("a"),(function(t){var n=t.parentNode,e=u.getRoot();if(n.lastChild===t){for(;n&&!u.isBlock(n);){if(n.parentNode.lastChild!==n||n===e)return;n=n.parentNode}u.add(n,"br",{"data-mce-bogus":1})}}))})),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),sn.mac&&t.on("keydown",(function(n){!zf.metaKeyPressed(n)||n.shiftKey||37!==n.keyCode&&39!==n.keyCode||(n.preventDefault(),t.selection.getSel().modify("move",37===n.keyCode?"backward":"forward","lineboundary"))})),b()),{refreshContentEditable:x,isHidden:function(){if(!f||t.removed)return!1;var n=t.selection.getSel();return!n||!n.rangeCount||0===n.rangeCount}}},B_=Ga.DOM,P_=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},I_=function(t){return pt(t,(function(t){return!1===N(t)}))},L_=function(t){var n=t.settings,e=t.editorUpload.blobCache;return I_({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:P_(t),validate:!0,blob_cache:e,images_dataimg_filter:n.images_dataimg_filter})},H_=function(t){var n=t.dom.getRoot();t.inline||vf(t)&&t.selection.getStart(!0)!==n||dl(n).each((function(n){var e=n.getNode(),r=xe(e)?dl(e).getOr(n):n;sn.browser.isIE()?function(t,n){var e=hn.fromDom(t.getBody()),r=(Ed(t)?k.from(n):k.none()).map(Dd).filter(Td(e));t.bookmark=r.isSome()?r:t.bookmark}(t,r.toRange()):t.selection.setRng(r.toRange())}))},F_=function(t){t.bindPendingEventDelegates(),t.initialized=!0,function(t){t.fire("Init")}(t),t.focus(!0),H_(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),function(t){t.settings.auto_focus&&Fr.setEditorTimeout(t,(function(){var n;(n=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||n.focus()}),100)}(t)},V_=function(t){return t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader},j_=function(t,n){var e=V_(t),r=qc(t),o=function(){e.unloadAll(n),t.inline||t.ui.styleSheetLoader.unloadAll(r)},i=function(){t.removed?o():(t.on("remove",o),F_(t))};Pr.all(function(t,n,e){var r=[new Pr((function(e,r){return V_(t).loadAll(n,e,r)}))];return t.inline?r:r.concat([new Pr((function(n,r){return t.ui.styleSheetLoader.loadAll(e,n,r)}))])}(t,n,r)).then(i).catch(i)},U_=function(t,n){var e=t.settings,r=t.getDoc(),o=t.getBody();e.browser_spellcheck||e.gecko_spellcheck||(r.body.spellcheck=!1,B_.setAttrib(o,"spellcheck","false")),t.quirks=R_(t),function(t){t.fire("PostRender")}(t);var i=function(t){return t.getParam("directionality",eu.isRtl()?"rtl":void 0)}(t);if(void 0!==i&&(o.dir=i),e.protect&&t.on("BeforeSetContent",(function(t){pn.each(e.protect,(function(n){t.content=t.content.replace(n,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),!1===n&&t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",(function(n){t.composing="compositionstart"===n.type})),t.contentStyles.length>0){var a="";pn.each(t.contentStyles,(function(t){a+=t+"\r\n"})),t.dom.addStyle(a)}j_(t,t.contentCSS),e.content_style&&function(t,n){var e=hn.fromDom(t.getBody()),r=qn($n(e)),o=hn.fromTag("style");Be(o,"type","text/css"),Qn(o,hn.fromText(n)),Qn(r,o),t.on("remove",(function(){ne(o)}))}(t,e.content_style)},W_=function(t,n){var e=t.settings,r=t.getElement(),o=t.getDoc();e.inline||(t.getElement().style.visibility=t.orgVisibility),n||t.inline||(o.open(),o.write(t.iframeHTML),o.close()),t.inline&&(B_.addClass(r,"mce-content-body"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);var i=t.getBody();i.disabled=!0,t.readonly=!!e.readonly,t.readonly||(t.inline&&"static"===B_.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=t.getParam("content_editable_state",!0)),i.disabled=!1,t.editorUpload=Lb(t),t.schema=ci(e),t.dom=Ga(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:e.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:jc(t),referrerPolicy:Uc(t),onSetAttrib:function(n){t.fire("SetAttrib",n)}}),t.parser=function(t){var n=zv(L_(t),t.schema);return n.addAttributeFilter("src,href,style,tabindex",(function(n,e){for(var r,o,i=n.length,a=t.dom,u="data-mce-"+e;i--;)if((o=(r=n[i]).attr(e))&&!r.attr(u)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===e?((o=a.serializeStyle(a.parseStyle(o),r.name)).length||(o=null),r.attr(u,o),r.attr(e,o)):"tabindex"===e?(r.attr(u,o),r.attr(e,null)):r.attr(u,t.convertURL(o,e,r.name))}})),n.addNodeFilter("script",(function(t){for(var n=t.length;n--;){var e=t[n],r=e.attr("type")||"no/type";0!==r.indexOf("mce-")&&e.attr("type","mce-"+r)}})),t.settings.preserve_cdata&&n.addNodeFilter("#cdata",(function(n){for(var e=n.length;e--;){var r=n[e];r.type=8,r.name="#comment",r.value="[CDATA["+t.dom.encode(r.value)+"]]"}})),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(n){for(var e=n.length,r=t.schema.getNonEmptyElements();e--;){var o=n[e];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new im("br",1)).shortEnded=!0)}})),n}(t),t.serializer=Pv(function(t){var n=t.settings;return Ot(Ot({},L_(t)),I_({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before,block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements}))}(t),t),t.selection=mv(t.dom,t.getWin(),t.serializer,t),t.annotator=Af(t),t.formatter=$b(t),t.undoManager=qb(t),t._nodeChangeDispatcher=new g_(t),t._selectionOverrides=N_(t),Xx(t),h_(t),tv(t)||b_(t);var a=function(t){return tv(t)?Qa(null):p_(t)}(t);Gx(t,a),function(t){Nc(t)&&t.on("NodeChange",p(Zx,t))}(t),Yb(t),function(t){t.fire("PreInit")}(t),nv(t).fold((function(){U_(t,!1)}),(function(n){t.setProgressState(!0),n.then((function(n){t.setProgressState(!1),U_(t,n)}),(function(n){t.notificationManager.open({type:"error",text:String(n)}),U_(t,!0)}))}))},$_=Ga.DOM,q_=function(t){var n=function(t){return t.getParam("doctype","<!DOCTYPE html>")}(t)+"<html><head>";(function(t){return t.getParam("document_base_url","")})(t)!==t.documentBaseUrl&&(n+='<base href="'+t.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var e=function(t){return zc(t,"body_id","tinymce")}(t),r=function(t){return zc(t,"body_class","")}(t);return Mc(t)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+Mc(t)+'" />'),n+='</head><body id="'+e+'" class="mce-content-body '+r+'" data-id="'+t.id+'"><br></body></html>'},G_=function(t,n){var e=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=function(t,n,e,r){var o=hn.fromTag("iframe");return Pe(o,r),Pe(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),lu(o,"tox-edit-area__iframe"),o}(t.id,e,n.height,function(t){return t.getParam("iframe_attrs",{})}(t)).dom;r.onload=function(){r.onload=null,t.fire("load")};var o=function(t,n){if(document.domain!==window.location.hostname&&sn.browser.isIE()){var e=Rb("mce");t[e]=function(){W_(t)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+e+"(true);})()";return $_.setAttrib(n,"src",r),!0}return!1}(t,r);return t.contentAreaContainer=n.iframeContainer,t.iframeElement=r,t.iframeHTML=q_(t),$_.add(n.iframeContainer,r),o},K_=Ga.DOM,X_=function(t,n,e){var r=yb.get(e),o=yb.urls[e]||t.documentBaseUrl.replace(/\/$/,"");if(e=pn.trim(e),r&&-1===pn.inArray(n,e)){if(pn.each(yb.dependencies(e),(function(e){X_(t,n,e)})),t.plugins[e])return;try{var i=new r(t,o,t.$);t.plugins[e]=i,i.init&&(i.init(t,o),n.push(e))}catch(n){!function(t,n,e){var r=eu.translate(["Failed to initialize plugin: {0}",n]);Df(t,"PluginLoadError",{message:r}),Tb(r,e),kb(t,r)}(t,e,n)}}},Y_=function(t){return t.replace(/^\-/,"")},J_=function(t){return{editorContainer:t,iframeContainer:t,api:{}}},Q_=function(t){var n=t.getElement();return t.inline?J_(null):function(t){var n=K_.create("div");return K_.insertAfter(n,t),J_(n)}(n)},Z_=function(t){var n=t.getElement();return t.orgDisplay=n.style.display,T(Xc(t))?function(t){return t.theme.renderUI()}(t):P(Xc(t))?function(t){var n=t.getElement(),e=Xc(t)(t,n);return e.editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||t.id+"_parent"),e.iframeContainer&&e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||t.id+"_iframecontainer"),e.height=e.iframeHeight?e.iframeHeight:n.offsetHeight,e}(t):Q_(t)},tk=function(t){t.fire("ScriptsLoaded"),function(t){var n=pn.trim(Ic(t)),e=t.ui.registry.getAll().icons,r=Ot(Ot({},sb.get("default").icons),sb.get(n).icons);ct(r,(function(n,r){vt(e,r)||t.ui.registry.addIcon(r,n)}))}(t),function(t){var n=Xc(t);if(T(n)){t.settings.theme=Y_(n);var e=xb.get(n);t.theme=new e(t,xb.urls[n]),t.theme.init&&t.theme.init(t,xb.urls[n]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}}(t),function(t){var n=[];pn.each(Zc(t).split(/[ ,]/),(function(e){X_(t,n,Y_(e))}))}(t);var n=Z_(t);!function(t,n){var e={show:k.from(n.show).getOr(l),hide:k.from(n.hide).getOr(l),disable:k.from(n.disable).getOr(l),isDisabled:k.from(n.isDisabled).getOr(y),enable:function(){t.mode.isReadOnly()||k.from(n.enable).map(b)}};t.ui=Ot(Ot({},t.ui),e)}(t,k.from(n.api).getOr({}));var e={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return t.editorContainer=e.editorContainer?e.editorContainer:null,zb(t),t.inline?W_(t):function(t,n){var e=G_(t,n);n.editorContainer&&($_.get(n.editorContainer).style.display=t.orgDisplay,t.hidden=$_.isHidden(n.editorContainer)),t.getElement().style.display="none",$_.setAttrib(t.id,"aria-hidden","true"),e||W_(t)}(t,e)},nk=Ga.DOM,ek=function(t){return"-"===t.charAt(0)},rk=function(t,n){var e=Wc(n),r=function(t){return t.getParam("language_url","","string")}(n);if(!1===eu.hasCode(e)&&"en"!==e){var o=""!==r?r:n.editorManager.baseURL+"/langs/"+e+".js";t.add(o,l,void 0,(function(){!function(t,n,e){Sb(t,"LanguageLoadError",Ab("language",n,e))}(n,o,e)}))}},ok=function(t,n,e){return k.from(n).filter((function(t){return t.length>0&&!sb.has(t)})).map((function(n){return{url:t.editorManager.baseURL+"/icons/"+n+"/icons"+e+".js",name:k.some(n)}}))},ik=function(t,n,e){var r=ok(n,"default",e),o=function(t){return k.from(function(t){return t.getParam("icons_url","","string")}(t)).filter((function(t){return t.length>0})).map((function(t){return{url:t,name:k.none()}}))}(n).orThunk((function(){return ok(n,Ic(n),"")}));$(function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n}([r,o]),(function(e){t.add(e.url,l,void 0,(function(){!function(t,n,e){Sb(t,"IconsLoadError",Ab("icons",n,e))}(n,e.url,e.name.getOrUndefined())}))}))},ak=function(t,n){var e=Ja.ScriptLoader;!function(t,n,e,r){var o=Xc(n);if(T(o)){if(!ek(o)&&!xb.urls.hasOwnProperty(o)){var i=function(t){return t.getParam("theme_url")}(n);i?xb.load(o,n.documentBaseURI.toAbsolute(i)):xb.load(o,"themes/"+o+"/theme"+e+".js")}t.loadQueue((function(){xb.waitFor(o,r)}))}else r()}(e,t,n,(function(){rk(e,t),ik(e,t,n),function(t,n){pn.each(function(t){return t.getParam("external_plugins")}(t),(function(n,e){yb.load(e,n,l,void 0,(function(){Ob(t,n,e)})),t.settings.plugins+=" "+e})),pn.each(Zc(t).split(/[ ,]/),(function(e){if((e=pn.trim(e))&&!yb.urls[e])if(ek(e)){e=e.substr(1,e.length);var r=yb.dependencies(e);pn.each(r,(function(e){var r={prefix:"plugins/",resource:e,suffix:"/plugin"+n+".js"},o=yb.createUrl(r,e);yb.load(o.resource,o,l,void 0,(function(){Ob(t,o.prefix+o.resource+o.suffix,o.resource)}))}))}else{var o={prefix:"plugins/",resource:e,suffix:"/plugin"+n+".js"};yb.load(e,o,l,void 0,(function(){Ob(t,o.prefix+o.resource+o.suffix,e)}))}}))}(t,n),e.loadQueue((function(){t.removed||tk(t)}),t,(function(){t.removed||tk(t)}))}))},uk=function(t){var n=t.id;eu.setCode(Wc(t));var e=function(){nk.unbind(window,"ready",e),t.render()};if(yi.Event.domLoaded){if(t.getElement()&&sn.contentEditable){var r=hn.fromDom(t.getElement()),o=function(t){return X(t.dom.attributes,(function(t,n){return t[n.name]=n.value,t}),{})}(r);t.on("remove",(function(){q(r.dom.attributes,(function(t){return He(r,t.name)})),Pe(r,o)})),t.ui.styleSheetLoader=function(t,n){return jr.forElement(t,{contentCssCors:Qc(n),referrerPolicy:Uc(n)})}(r,t),!function(t){return t.getParam("inline")}(t)?(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"):t.inline=!0;var i=t.getElement().form||nk.getParent(n,"form");i&&(t.formElement=i,function(t){return t.getParam("hidden_input")}(t)&&!Ce(t.getElement())&&(nk.insertAfter(nk.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(n){t.fire(n.type,n)},nk.bind(i,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.resetContent()})),!function(t){return t.getParam("submit_patch")}(t)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=Cb(t),t.notificationManager=bb(t),function(t){return"xml"===t.getParam("encoding")}(t)&&t.on("GetContent",(function(t){t.save&&(t.content=nk.encode(t.content))})),function(t){return t.getParam("add_form_submit_trigger")}(t)&&t.on("submit",(function(){t.initialized&&t.save()})),function(t){return t.getParam("add_unload_trigger")}(t)&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),ak(t,t.suffix)}}else nk.bind(window,"ready",e)},ck=function(t,n){return function(t,n){return rv(t).editor.addVisual(n)}(t,n)},sk={"font-size":"size","font-family":"face"},lk=function(t,n,e){return wg(hn.fromDom(e),(function(n){return function(n){return Ue(n,t).orThunk((function(){return"font"===_n(n)?ht(sk,t).bind((function(t){return Le(n,t)})):k.none()}))}(n)}),(function(t){return xn(hn.fromDom(n),t)}))},fk=function(t){return function(n,e){return k.from(e).map(hn.fromDom).filter(An).bind((function(e){return lk(t,n,e.dom).or(function(t,n){return k.from(Ga.DOM.getStyle(n,t,!0))}(t,e.dom))})).getOr("")}},dk=fk("font-size"),mk=f((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),fk("font-family")),pk=function(t){return dl(t.getBody()).map((function(t){var n=t.container();return _e(n)?n.parentNode:n}))},gk=function(t,n){return function(t){return k.from(t.selection.getRng()).bind((function(n){var e=t.getBody();return n.startContainer===e&&0===n.startOffset?k.none():k.from(t.selection.getStart(!0))}))}(t).orThunk(p(pk,t)).map(hn.fromDom).filter(An).map(n)},hk=function(t,n){if(/^[0-9.]+$/.test(n)){var e=parseInt(n,10);if(e>=1&&e<=7){var r=function(t){return pn.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}(t),o=function(t){return pn.explode(t.getParam("font_size_classes",""))}(t);return o?o[e-1]||n:r[e-1]||n}return n}return n},vk=function(t){var n=t.split(/\s*,\s*/);return W(n,(function(t){return-1===t.indexOf(" ")||Pt(t,'"')||Pt(t,"'")?t:"'"+t+"'"})).join(",")},bk=function(t,n){var e=function(t){var n;return"string"!=typeof t?(n=pn.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:n}):{content:t,details:{}}}(n);!function(t,n,e){ev(t).editor.insertContent(n,e)}(t,e.content,e.details)},yk=pn.each,xk=pn.map,wk=pn.inArray,Ck=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,n,e,r){var o,i=!1,a=this;if(!a.editor.removed){var u;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?(u=a.editor,Rd(u).each((function(t){return u.selection.setRng(t)}))):a.editor.focus(),(r=a.editor.fire("BeforeExecCommand",{command:t,ui:n,value:e})).isDefaultPrevented())return!1;var c=t.toLowerCase();if(o=a.commands.exec[c])return o(c,n,e),a.editor.fire("ExecCommand",{command:t,ui:n,value:e}),!0;if(yk(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(t,n,e))return a.editor.fire("ExecCommand",{command:t,ui:n,value:e}),i=!0,!1})),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(t,n,e))return a.editor.fire("ExecCommand",{command:t,ui:n,value:e}),!0;try{i=a.editor.getDoc().execCommand(t,n,e)}catch(t){}return!!i&&(a.editor.fire("ExecCommand",{command:t,ui:n,value:e}),!0)}},t.prototype.queryCommandState=function(t){var n;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),n=this.commands.state[t])return n(t);try{return this.editor.getDoc().queryCommandState(t)}catch(t){}return!1}},t.prototype.queryCommandValue=function(t){var n;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),n=this.commands.value[t])return n(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(t){}}},t.prototype.addCommands=function(t,n){void 0===n&&(n="exec");var e=this;yk(t,(function(t,r){yk(r.toLowerCase().split(","),(function(r){e.commands[n][r]=t}))}))},t.prototype.addCommand=function(t,n,e){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,o,i,a){return n.call(e||r.editor,o,i,a)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(t){}return!1},t.prototype.addQueryStateHandler=function(t,n,e){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return n.call(e||r.editor)}},t.prototype.addQueryValueHandler=function(t,n,e){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return n.call(e||r.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,n,e){return void 0===n&&(n=!1),void 0===e&&(e=null),this.editor.getDoc().execCommand(t,n,e)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,n){this.editor.formatter.toggle(t,n?{value:n}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var n=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":l,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(e){var r,o=t.getDoc();try{n.execNativeCommand(e)}catch(t){r=!0}if("paste"!==e||o.queryCommandEnabled(e)||(r=!0),r||!o.queryCommandSupported(e)){var i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");sn.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),t.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var n=t.dom.getParent(t.selection.getStart(),"a");n&&t.dom.remove(n,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var r=e.substring(7);"full"===r&&(r="justify"),yk("left,center,right,justify".split(","),(function(n){r!==n&&t.formatter.remove("align"+n)})),"none"!==r&&n.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(e){var r;n.execNativeCommand(e);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(n.storeSelection(),t.dom.split(r,o),n.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){n.toggleFormat(t)},"ForeColor,HiliteColor":function(t,e,r){n.toggleFormat(t,r)},FontName:function(n,e,r){!function(t,n){var e=hk(t,n);t.formatter.toggle("fontname",{value:vk(e)}),t.nodeChanged()}(t,r)},FontSize:function(n,e,r){!function(t,n){t.formatter.toggle("fontsize",{value:hk(t,n)}),t.nodeChanged()}(t,r)},LineHeight:function(n,e,r){!function(t,n){t.undoManager.transact((function(){t.formatter.toggle("lineheight",{value:String(n)}),t.nodeChanged()}))}(t,r)},RemoveFormat:function(n){t.formatter.remove(n)},mceBlockQuote:function(){n.toggleFormat("blockquote")},FormatBlock:function(t,e,r){return n.toggleFormat(r||"p")},mceCleanup:function(){var n=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(n)},mceRemoveNode:function(e,r,o){var i=o||t.selection.getNode();i!==t.getBody()&&(n.storeSelection(),t.dom.remove(i,!0),n.restoreSelection())},mceSelectNodeDepth:function(n,e,r){var o=0;t.dom.getParent(t.selection.getNode(),(function(n){if(1===n.nodeType&&o++===r)return t.selection.select(n),!1}),t.getBody())},mceSelectNode:function(n,e,r){t.selection.select(r)},mceInsertContent:function(n,e,r){bk(t,r)},mceInsertRawHTML:function(n,e,r){t.selection.setContent("tiny_mce_marker");var o=t.getContent();t.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(n,e,r){r_(t,r)},mceToggleFormat:function(t,e,r){n.toggleFormat(r)},mceSetContent:function(n,e,r){t.setContent(r)},"Indent,Outdent":function(n){Wx(t,n)},mceRepaint:l,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(n,e,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(n,e,r){"string"==typeof r&&(r={href:r});var o=t.dom.getParent(t.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||t.formatter.remove("link"),r.href&&t.formatter.apply("link",r,o)},selectAll:function(){var n=t.dom.getParent(t.selection.getStart(),Ee);if(n){var e=t.dom.createRng();e.selectNodeContents(n),t.selection.setRng(e)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(n,e,r){return WC(t,r),!0}});var e=function(n){return function(){var e=t.selection,r=e.isCollapsed()?[t.dom.getParent(e.getNode(),t.dom.isBlock)]:e.getSelectedBlocks(),o=xk(r,(function(e){return!!t.formatter.matchNode(e,n)}));return-1!==wk(o,!0)}};n.addCommands({JustifyLeft:e("alignleft"),JustifyCenter:e("aligncenter"),JustifyRight:e("alignright"),JustifyFull:e("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return n.isFormatMatch(t)},mceBlockQuote:function(){return n.isFormatMatch("blockquote")},Outdent:function(){return Vx(t)},"InsertUnorderedList,InsertOrderedList":function(n){var e=t.dom.getParent(t.selection.getNode(),"ul,ol");return e&&("insertunorderedlist"===n&&"UL"===e.tagName||"insertorderedlist"===n&&"OL"===e.tagName)}},"state"),n.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),n.addQueryValueHandler("FontName",(function(){return function(t){return gk(t,(function(n){return mk(t.getBody(),n.dom)})).getOr("")}(t)}),this),n.addQueryValueHandler("FontSize",(function(){return function(t){return gk(t,(function(n){return dk(t.getBody(),n.dom)})).getOr("")}(t)}),this),n.addQueryValueHandler("LineHeight",(function(){return function(t){return gk(t,(function(n){var e=hn.fromDom(t.getBody());return wg(n,(function(t){return Ue(t,"line-height")}),p(xn,e)).getOrThunk((function(){var t=parseFloat(Ve(n,"line-height")),e=parseFloat(Ve(n,"font-size"));return String(t/e)}))})).getOr("")}(t)}),this)},t}(),_k=function(t,n,e){du(t,n)&&!1===e?function(t,n){uu(t)?t.dom.classList.remove(n):su(t,n);fu(t)}(t,n):e&&lu(t,n)},kk=function(t,n,e){try{t.getDoc().execCommand(n,!1,String(e))}catch(t){}},Sk=function(t,n){t.dom.contentEditable=n?"true":"false"},Ak=function(t,n){var e=hn.fromDom(t.getBody());_k(e,"mce-content-readonly",n),n?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),function(t){k.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))}(t),t.readonly=!0,Sk(e,!1),$(pu(e,'*[contenteditable="true"]'),(function(t){Be(t,"data-mce-contenteditable","true"),Sk(t,!1)}))):(t.readonly=!1,Sk(e,!0),function(t){$(pu(t,'*[data-mce-contenteditable="true"]'),(function(t){He(t,"data-mce-contenteditable"),Sk(t,!0)}))}(e),kk(t,"StyleWithCSS",!1),kk(t,"enableInlineTableEditing",!1),kk(t,"enableObjectResizing",!1),Gd(t)&&t.focus(),function(t){t.selection.setRng(t.selection.getRng())}(t),t.nodeChanged())},Ok=function(t){return t.readonly},Tk=function(t){t.parser.addAttributeFilter("contenteditable",(function(n){Ok(t)&&$(n,(function(t){t.attr("data-mce-contenteditable",t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter("data-mce-contenteditable",(function(n){Ok(t)&&$(n,(function(t){t.attr("contenteditable",t.attr("data-mce-contenteditable"))}))})),t.serializer.addTempAttr("data-mce-contenteditable")},Ek=function(t,n){if(function(t){return"click"===t.type}(n)&&!zf.metaKeyPressed(n)){var e=hn.fromDom(n.target);(function(t,n){return Br(n,"a",(function(n){return xn(n,hn.fromDom(t.getBody()))})).bind((function(t){return Le(t,"href")}))})(t,e).each((function(e){if(n.preventDefault(),/^#/.test(e)){var r=t.dom.select(e+',[name="'+((Pt(o=e,i="#")?function(t,n){return t.substring(n)}(o,i.length):o)+'"]'));r.length&&t.selection.scrollIntoView(r[0],!0)}else window.open(e,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");var o,i}))}},Dk=pn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),zk=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||y}return t.isNative=function(t){return!!Dk[t.toLowerCase()]},t.prototype.fire=function(t,n){var e=t.toLowerCase(),r=n||{};r.type=e,r.target||(r.target=this.scope),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=x},r.stopPropagation=function(){r.isPropagationStopped=x},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=x},r.isDefaultPrevented=y,r.isPropagationStopped=y,r.isImmediatePropagationStopped=y),this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[e];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(u.once&&this.off(e,u.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}return r},t.prototype.on=function(t,n,e,r){if(!1===n&&(n=y),n){var o={func:n};r&&pn.extend(o,r);for(var i=t.toLowerCase().split(" "),a=i.length;a--;){var u=i[a],c=this.bindings[u];c||(c=this.bindings[u]=[],this.toggleEvent(u,!0)),e?c.unshift(o):c.push(o)}}return this},t.prototype.off=function(t,n){var e=this;if(t)for(var r=t.toLowerCase().split(" "),o=r.length;o--;){var i=r[o],a=this.bindings[i];if(!i)return ct(this.bindings,(function(t,n){e.toggleEvent(n,!1),delete e.bindings[n]})),this;if(a){if(n)for(var u=a.length;u--;)a[u].func===n&&(a=a.slice(0,u).concat(a.slice(u+1)),this.bindings[i]=a);else a.length=0;a.length||(this.toggleEvent(t,!1),delete this.bindings[i])}}else ct(this.bindings,(function(t,n){e.toggleEvent(n,!1)})),this.bindings={};return this},t.prototype.once=function(t,n,e){return this.on(t,n,e,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),Mk=function(t){return t._eventDispatcher||(t._eventDispatcher=new zk({scope:t,toggleEvent:function(n,e){zk.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,e)}})),t._eventDispatcher},Nk={fire:function(t,n,e){if(this.removed&&"remove"!==t&&"detach"!==t)return n;var r=Mk(this).fire(t,n);if(!1!==e&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(t,r,!1),o=o.parent();return r},on:function(t,n,e){return Mk(this).on(t,n,e)},off:function(t,n){return Mk(this).off(t,n)},once:function(t,n){return Mk(this).once(t,n)},hasEventListeners:function(t){return Mk(this).has(t)}},Rk=Ga.DOM,Bk=function(t,n){if("selectionchange"===n)return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return t.getDoc().documentElement;var e=Kc(t);return e?(t.eventRoot||(t.eventRoot=Rk.select(e)[0]),t.eventRoot):t.getBody()},Pk=function(t,n,e){!function(t){return!t.hidden&&!Ok(t)}(t)?Ok(t)&&Ek(t,e):t.fire(n,e)},Ik=function(t,n){var e;if(t.delegates||(t.delegates={}),!t.delegates[n]&&!t.removed){var r=Bk(t,n);if(Kc(t)){if(hw||(hw={},t.editorManager.on("removeEditor",(function(){t.editorManager.activeEditor||hw&&(ct(hw,(function(n,e){t.dom.unbind(Bk(t,e))})),hw=null)}))),hw[n])return;e=function(e){for(var r=e.target,o=t.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||Rk.isChildOf(r,a))&&Pk(o[i],n,e)}},hw[n]=e,Rk.bind(r,n,e)}else e=function(e){Pk(t,n,e)},Rk.bind(r,n,e),t.delegates[n]=e}},Lk=Ot(Ot({},Nk),{bindPendingEventDelegates:function(){var t=this;pn.each(t._pendingNativeEvents,(function(n){Ik(t,n)}))},toggleNativeEvent:function(t,n){"focus"!==t&&"blur"!==t&&(n?this.initialized?Ik(this,t):this._pendingNativeEvents?this._pendingNativeEvents.push(t):this._pendingNativeEvents=[t]:this.initialized&&(this.dom.unbind(Bk(this,t),t,this.delegates[t]),delete this.delegates[t]))},unbindAllNativeEvents:function(){var t=this,n=t.getBody(),e=t.dom;t.delegates&&(ct(t.delegates,(function(n,e){t.dom.unbind(Bk(t,e),e,n)})),delete t.delegates),!t.inline&&n&&e&&(n.onload=null,e.unbind(t.getWin()),e.unbind(t.getDoc())),e&&(e.unbind(n),e.unbind(t.getContainer()))}}),Hk=["design","readonly"],Fk=function(t,n,e,r){var o=e[n.get()],i=e[r];try{i.activate()}catch(t){return void console.error("problem while activating editor mode "+r+":",t)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&Ak(t,i.editorReadOnly),n.set(r),function(t,n){t.fire("SwitchMode",{mode:n})}(t,r)},Vk=function(t){var n=Qa("design"),e=Qa({design:{activate:l,deactivate:l,editorReadOnly:!1},readonly:{activate:l,deactivate:l,editorReadOnly:!0}});return function(t){t.serializer?Tk(t):t.on("PreInit",(function(){Tk(t)}))}(t),function(t){t.on("ShowCaret",(function(n){Ok(t)&&n.preventDefault()})),t.on("ObjectSelected",(function(n){Ok(t)&&n.preventDefault()}))}(t),{isReadOnly:function(){return Ok(t)},set:function(r){return function(t,n,e,r){if(r!==e.get()){if(!vt(n,r))throw new Error("Editor mode '"+r+"' is invalid");t.initialized?Fk(t,e,n,r):t.on("init",(function(){return Fk(t,e,n,r)}))}}(t,e.get(),n,r)},get:function(){return n.get()},register:function(t,n){e.set(function(t,n,e){var r;if(j(Hk,n))throw new Error("Cannot override default mode "+n);return Ot(Ot({},t),((r={})[n]=Ot(Ot({},e),{deactivate:function(){try{e.deactivate()}catch(t){console.error("problem while deactivating editor mode "+n+":",t)}}}),r))}(e.get(),t,n))}}},jk=pn.each,Uk=pn.explode,Wk={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},$k=pn.makeMap("alt,ctrl,shift,meta,access"),qk=function(t){var n,e={};jk(Uk(t.toLowerCase(),"+"),(function(t){t in $k?e[t]=!0:/^[0-9]{2,}$/.test(t)?e.keyCode=parseInt(t,10):(e.charCode=t.charCodeAt(0),e.keyCode=Wk[t]||t.toUpperCase().charCodeAt(0))}));var r=[e.keyCode];for(n in $k)e[n]?r.push(n):e[n]=!1;return e.id=r.join(","),e.access&&(e.alt=!0,sn.mac?e.ctrl=!0:e.shift=!0),e.meta&&(sn.mac?e.meta=!0:(e.ctrl=!0,e.meta=!1)),e},Gk=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",(function(t){!n.hasModifier(t)&&!n.isFunctionKey(t)||t.isDefaultPrevented()||(jk(n.shortcuts,(function(e){if(n.matchShortcut(t,e))return n.pendingPatterns=e.subpatterns.slice(0),"keydown"===t.type&&n.executeShortcutAction(e),!0})),n.matchShortcut(t,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===t.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))}))}return t.prototype.add=function(t,n,e,r){var o=this,i=o.normalizeCommandFunc(e);return jk(Uk(pn.trim(t)),(function(t){var e=o.createShortcut(t,n,i,r);o.shortcuts[e.id]=e})),!0},t.prototype.remove=function(t){var n=this.createShortcut(t);return!!this.shortcuts[n.id]&&(delete this.shortcuts[n.id],!0)},t.prototype.normalizeCommandFunc=function(t){var n=this,e=t;return"string"==typeof e?function(){n.editor.execCommand(e,!1,null)}:pn.isArray(e)?function(){n.editor.execCommand(e[0],e[1],e[2])}:e},t.prototype.createShortcut=function(t,n,e,r){var o=pn.map(Uk(t,">"),qk);return o[o.length-1]=pn.extend(o[o.length-1],{func:e,scope:r||this.editor}),pn.extend(o[0],{desc:this.editor.translate(n),subpatterns:o.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},t.prototype.matchShortcut=function(t,n){return!!n&&(n.ctrl===t.ctrlKey&&n.meta===t.metaKey&&(n.alt===t.altKey&&n.shift===t.shiftKey&&(!!(t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode)&&(t.preventDefault(),!0))))},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),Kk=function(){var t=function(){var t={},n={},e={},r={},o={},i={},a={},u=function(t,n){return function(e,r){return t[e.toLowerCase()]=Ot(Ot({},r),{type:n})}};return{addButton:u(t,"button"),addGroupToolbarButton:u(t,"grouptoolbarbutton"),addToggleButton:u(t,"togglebutton"),addMenuButton:u(t,"menubutton"),addSplitButton:u(t,"splitbutton"),addMenuItem:u(n,"menuitem"),addNestedMenuItem:u(n,"nestedmenuitem"),addToggleMenuItem:u(n,"togglemenuitem"),addAutocompleter:u(e,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:function(t,n){return r[t.toLowerCase()]=n},getAll:function(){return{buttons:t,menuItems:n,icons:r,popups:e,contextMenus:o,contextToolbars:i,sidebars:a}}}}();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},Xk=pn.each,Yk=pn.trim,Jk="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Qk={ftp:21,http:80,https:443,mailto:25},Zk=function(){function t(n,e){n=Yk(n),this.settings=e||{};var r=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n))o.source=n;else{var i=0===n.indexOf("//");if(0!==n.indexOf("/")||i||(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var a=this.settings.base_uri?this.settings.base_uri.path:new t(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)n="//mce_host"+o.toAbsPath(a,n);else{var u=/([^#?]*)([#?]?.*)/.exec(n);n=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(a,u[1])+u[2]}}n=n.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);Xk(Jk,(function(t,n){var e=c[n];e&&(e=e.replace(/\(mce_at\)/g,"@@")),o[t]=e})),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return t.parseDataUri=function(t){var n,e=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(e[0]);return r&&(n=r[1]),{type:n,data:e[1]}},t.getDocumentBaseUrl=function(t){var n;return n=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n},t.prototype.setPath=function(t){var n=/^(.*?)\/?(\w+)?$/.exec(t);this.path=n[0],this.directory=n[1],this.file=n[2],this.source="",this.getURI()},t.prototype.toRelative=function(n){var e;if("./"===n)return n;var r=new t(n,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(e=this.toRelPath(this.path,r.path),r.query&&(e+="?"+r.query),r.anchor&&(e+="#"+r.anchor),e)},t.prototype.toAbsolute=function(n,e){var r=new t(n,{base_uri:this});return r.getURI(e&&this.isSameOrigin(r))},t.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var n=Qk[this.protocol];if(n&&(this.port||n)==(t.port||n))return!0}return!1},t.prototype.toRelPath=function(t,n){var e,r,o=0,i="",a=t.substring(0,t.lastIndexOf("/")).split("/"),u=n.split("/");if(a.length>=u.length)for(e=0,r=a.length;e<r;e++)if(e>=u.length||a[e]!==u[e]){o=e+1;break}if(a.length<u.length)for(e=0,r=u.length;e<r;e++)if(e>=a.length||a[e]!==u[e]){o=e+1;break}if(1===o)return n;for(e=0,r=a.length-(o-1);e<r;e++)i+="../";for(e=o-1,r=u.length;e<r;e++)i+=e!==o-1?"/"+u[e]:u[e];return i},t.prototype.toAbsPath=function(t,n){var e,r,o=0,i=[],a=/\/$/.test(n)?"/":"",u=t.split("/"),c=n.split("/");for(Xk(u,(function(t){t&&i.push(t)})),u=i,e=c.length-1,i=[];e>=0;e--)0!==c[e].length&&"."!==c[e]&&(".."!==c[e]?o>0?o--:i.push(c[e]):o++);return 0!==(r=(e=u.length-o)<=0?tt(i).join("/"):u.slice(0,e).join("/")+"/"+tt(i).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},t.prototype.getURI=function(t){var n;return void 0===t&&(t=!1),this.source&&!t||(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source},t}(),tS=Ga.DOM,nS=pn.extend,eS=pn.each,rS=pn.resolve,oS=sn.ie,iS=function(){function t(t,n,e){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=e,this.documentBaseUrl=e.documentBaseURL,nS(this,Lk),this.settings=ab(this,t,this.documentBaseUrl,e.defaultSettings,n),this.settings.suffix&&(e.suffix=this.settings.suffix),this.suffix=e.suffix,this.settings.base_url&&e._setBaseUrl(this.settings.base_url),this.baseUri=e.baseURI,this.settings.referrer_policy&&(Ja.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ga.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ru.languageLoad=this.settings.language_load,ru.baseURL=e.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new Zk(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Gk(this),this.editorCommands=new Ck(this),this.settings.cache_suffix&&(sn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:Kk(),styleSheetLoader:void 0,show:l,hide:l,enable:l,disable:l,isDisabled:y};var o=Vk(this);this.mode=o,this.setMode=o.set,e.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Fa.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return t.prototype.render=function(){uk(this)},t.prototype.focus=function(t){Xd(this,t)},t.prototype.hasFocus=function(){return qd(this)},t.prototype.execCallback=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r,o=this,i=o.settings[t];if(i)return o.callbackLookup&&(r=o.callbackLookup[t])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=(r=i.replace(/\.\w+$/,""))?rS(r):0,i=rS(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[t]={func:i,scope:r}),i.apply(r||o,n)},t.prototype.translate=function(t){return eu.translate(t)},t.prototype.getParam=function(t,n,e){return cb(this,t,n,e)},t.prototype.hasPlugin=function(t,n){return!!j(Zc(this).split(/[ ,]/),t)&&(!n||void 0!==yb.get(t))},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,n,e){this.editorCommands.addCommand(t,n,e)},t.prototype.addQueryStateHandler=function(t,n,e){this.editorCommands.addQueryStateHandler(t,n,e)},t.prototype.addQueryValueHandler=function(t,n,e){this.editorCommands.addQueryValueHandler(t,n,e)},t.prototype.addShortcut=function(t,n,e,r){this.shortcuts.add(t,n,e,r)},t.prototype.execCommand=function(t,n,e,r){return this.editorCommands.execCommand(t,n,e,r)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(tS.show(this.getContainer()),tS.hide(this.id)),this.load(),this.fire("show"))},t.prototype.hide=function(){var t=this.getDoc();this.hidden||(oS&&t&&!this.inline&&t.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable="false",this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(tS.hide(this.getContainer()),tS.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,n){this.fire("ProgressState",{state:t,time:n})},t.prototype.load=function(t){var n,e=this.getElement();if(this.removed)return"";if(e){(t=t||{}).load=!0;var r=Ce(e)?e.value:e.innerHTML;return n=this.setContent(r,t),t.element=e,t.no_events||this.fire("LoadContent",t),t.element=e=null,n}},t.prototype.save=function(t){var n,e,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(t=t||{}).save=!0,t.element=o,t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),n=t.content,Ce(o)?o.value=n:(!t.is_removing&&r.inline||(o.innerHTML=n),(e=tS.getParent(r.id,"form"))&&eS(e.elements,(function(t){if(t.name===r.id)return t.value=n,!1}))),t.element=o=null,!1!==t.set_dirty&&r.setDirty(!1),n},t.prototype.setContent=function(t,n){return Lv(this,t,n)},t.prototype.getContent=function(t){return Iv(this,t)},t.prototype.insertContent=function(t,n){n&&(t=nS({content:t},n)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){void 0===t?Lv(this,this.startContent,{format:"raw"}):Lv(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.fire("dirty")},t.prototype.getContainer=function(){return this.container||(this.container=tS.get(this.editorContainer||this.id+"_parent")),this.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=tS.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},t.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,n,e){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",t,e,!0,n):!r.convert_urls||e&&"LINK"===e.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,r.remove_script_host)},t.prototype.addVisual=function(t){ck(this,t)},t.prototype.remove=function(){Vv(this)},t.prototype.destroy=function(t){jv(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),aS=Ga.DOM,uS=pn.explode,cS=pn.each,sS=pn.extend,lS=0,fS=!1,dS=[],mS=[],pS=function(t){var n=t.type;cS(bS.get(),(function(e){switch(n){case"scroll":e.fire("ScrollWindow",t);break;case"resize":e.fire("ResizeWindow",t)}}))},gS=function(t){t!==fS&&(t?Fa(window).on("resize scroll",pS):Fa(window).off("resize scroll",pS),fS=t)},hS=function(t){var n=mS;delete dS[t.id];for(var e=0;e<dS.length;e++)if(dS[e]===t){dS.splice(e,1);break}return mS=G(mS,(function(n){return t!==n})),bS.activeEditor===t&&(bS.activeEditor=mS.length>0?mS[0]:null),bS.focusedEditor===t&&(bS.focusedEditor=null),n.length!==mS.length},vS="CSS1Compat"!==document.compatMode,bS=Ot(Ot({},Nk),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Fa,majorVersion:"5",minorVersion:"7.1",releaseDate:"2021-03-17",editors:dS,i18n:eu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,n,e="";n=Zk.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r,o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,e=o.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var u;if(""!==(u=i[a].src||"")){var c=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==c.indexOf(".min")&&(e=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript)-1!==(u=document.currentScript.src).indexOf(".min")&&(e=".min"),t=u.substring(0,u.lastIndexOf("/"))}this.baseURL=new Zk(n).toAbsolute(t),this.documentBaseURL=n,this.baseURI=new Zk(this.baseURL),this.suffix=e,(r=this).on("AddEditor",p(Fd,r)),r.on("RemoveEditor",p(Vd,r))},overrideDefaults:function(t){var n=t.base_url;n&&this._setBaseUrl(n);var e=t.suffix;t.suffix&&(this.suffix=e),this.defaultSettings=t;var r=t.plugin_base_urls;void 0!==r&&ct(r,(function(t,n){ru.PluginManager.urls[n]=t}))},init:function(t){var n,e=this,r=pn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(t){var n=t.id;return n||(n=ht(t,"name").filter((function(t){return!aS.get(t)})).getOrThunk(aS.uniqueId),t.setAttribute("id",n)),n},i=function(t,n){return n.constructor===RegExp?n.test(t.className):aS.hasClass(t,n)},a=function(t){n=t},u=function(){var n,c=0,s=[],l=function(t,r,o){var i=new iS(t,r,e);s.push(i),i.on("init",(function(){++c===n.length&&a(s)})),i.targetElm=i.targetElm||o,i.render()};aS.unbind(window,"ready",u),function(n){var r=t[n];if(r)r.apply(e,[])}("onpageload"),n=Fa.unique(function(t){var n=[];if(sn.browser.isIE()&&sn.browser.version.major<11)return Tb("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(vS)return Tb("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return cS(t.types,(function(t){n=n.concat(aS.select(t.selector))})),n;if(t.selector)return aS.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var e=t.elements||"";e.length>0&&cS(uS(e),(function(t){var e=aS.get(t);e?n.push(e):cS(document.forms,(function(e){cS(e.elements,(function(e){e.name===t&&(t="mce_editor_"+lS++,aS.setAttrib(e,"id",t),n.push(e))}))}))}));break;case"textareas":case"specific_textareas":cS(aS.select("textarea"),(function(e){t.editor_deselector&&i(e,t.editor_deselector)||t.editor_selector&&!i(e,t.editor_selector)||n.push(e)}))}return n}(t)),t.types?cS(t.types,(function(e){pn.each(n,(function(n){return!aS.is(n,e.selector)||(l(o(n),sS({},t,e),n),!1)}))})):(pn.each(n,(function(t){var n;(n=e.get(t.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(hS(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0,n=null)})),0===(n=pn.grep(n,(function(t){return!e.get(t.id)}))).length?a([]):cS(n,(function(n){!function(t,n){return t.inline&&n.tagName.toLowerCase()in r}(t,n)?l(o(n),t,n):Tb("Could not initialize inline editor on invalid inline target element",n)})))};return e.settings=t,aS.bind(window,"ready",u),new Pr((function(t){n?t(n):a=function(n){t(n)}}))},get:function(t){return 0===arguments.length?mS.slice(0):T(t)?Y(mS,(function(n){return n.id===t})).getOr(null):I(t)&&mS[t]?mS[t]:null},add:function(t){var n=this;return dS[t.id]===t||(null===n.get(t.id)&&("length"!==t.id&&(dS[t.id]=t),dS.push(t),mS.push(t)),gS(!0),n.activeEditor=t,n.fire("AddEditor",{editor:t}),vw||(vw=function(t){var e=n.fire("BeforeUnload");if(e.returnValue)return t.preventDefault(),t.returnValue=e.returnValue,e.returnValue},window.addEventListener("beforeunload",vw))),t},createEditor:function(t,n){return this.add(new iS(t,n,this))},remove:function(t){var n,e,r=this;if(t){if(!T(t))return e=t,z(r.get(e.id))?null:(hS(e)&&r.fire("RemoveEditor",{editor:e}),0===mS.length&&window.removeEventListener("beforeunload",vw),e.remove(),gS(mS.length>0),e);cS(aS.select(t),(function(t){(e=r.get(t.id))&&r.remove(e)}))}else for(n=mS.length-1;n>=0;n--)r.remove(mS[n])},execCommand:function(t,n,e){var r=this.get(e);switch(t){case"mceAddEditor":return this.get(e)||new iS(e,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",!1,e),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(t,n,e)},triggerSave:function(){cS(mS,(function(t){t.save()}))},addI18n:function(t,n){eu.add(t,n)},translate:function(t){return eu.translate(t)},setActive:function(t){var n=this.activeEditor;this.activeEditor!==t&&(n&&n.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:n})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new Zk(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Zk(this.baseURL)}});bS.setup();var yS,xS,wS,CS,_S=Math.min,kS=Math.max,SS=Math.round,AS=function(t,n,e){var r=n.x,o=n.y,i=t.w,a=t.h,u=n.w,c=n.h,s=(e||"").split("");return"b"===s[0]&&(o+=c),"r"===s[1]&&(r+=u),"c"===s[0]&&(o+=SS(c/2)),"c"===s[1]&&(r+=SS(u/2)),"b"===s[3]&&(o-=a),"r"===s[4]&&(r-=i),"c"===s[3]&&(o-=SS(a/2)),"c"===s[4]&&(r-=SS(i/2)),OS(r,o,i,a)},OS=function(t,n,e,r){return{x:t,y:n,w:e,h:r}},TS={inflate:function(t,n,e){return OS(t.x-n,t.y-e,t.w+2*n,t.h+2*e)},relativePosition:AS,findBestRelativePosition:function(t,n,e,r){var o,i;for(i=0;i<r.length;i++)if((o=AS(t,n,r[i])).x>=e.x&&o.x+o.w<=e.w+e.x&&o.y>=e.y&&o.y+o.h<=e.h+e.y)return r[i];return null},intersect:function(t,n){var e=kS(t.x,n.x),r=kS(t.y,n.y),o=_S(t.x+t.w,n.x+n.w),i=_S(t.y+t.h,n.y+n.h);return o-e<0||i-r<0?null:OS(e,r,o-e,i-r)},clamp:function(t,n,e){var r=t.x,o=t.y,i=t.x+t.w,a=t.y+t.h,u=n.x+n.w,c=n.y+n.h,s=kS(0,n.x-r),l=kS(0,n.y-o),f=kS(0,i-u),d=kS(0,a-c);return r+=s,o+=l,e&&(i+=s,a+=l,r-=f,o-=d),OS(r,o,(i-=f)-r,(a-=d)-o)},create:OS,fromClientRect:function(t){return OS(t.left,t.top,t.width,t.height)}},ES=(yS={},xS={},{load:function(t,n){var e='Script at URL "'+n+'" failed to load',r='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+t+"', data)` within 1 second";if(void 0!==yS[t])return yS[t];var o=new Pr((function(o,i){var a=function(t,n,e){void 0===e&&(e=1e3);var r=!1,o=null,i=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];r||(r=!0,null!==o&&(clearTimeout(o),o=null),t.apply(null,n))}},a=i(t),u=i(n);return{start:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||null!==o||(o=setTimeout((function(){return u.apply(null,t)}),e))},resolve:a,reject:u}}(o,i);xS[t]=a.resolve,Ja.ScriptLoader.loadScript(n,(function(){return a.start(r)}),(function(){return a.reject(e)}))}));return yS[t]=o,o},add:function(t,n){void 0!==xS[t]&&(xS[t](n),delete xS[t]),yS[t]=Pr.resolve(n)}}),DS=pn.each,zS=pn.extend,MS=function(){};MS.extend=wS=function(t){var n=this.prototype,e=function(){var t,n,e,r=this;if(!CS&&(r.init&&r.init.apply(r,arguments),n=r.Mixins))for(t=n.length;t--;)(e=n[t]).init&&e.init.apply(r,arguments)},r=function(){return this};CS=!0;var o=new this;return CS=!1,t.Mixins&&(DS(t.Mixins,(function(n){for(var e in n)"init"!==e&&(t[e]=n[e])})),n.Mixins&&(t.Mixins=n.Mixins.concat(t.Mixins))),t.Methods&&DS(t.Methods.split(","),(function(n){t[n]=r})),t.Properties&&DS(t.Properties.split(","),(function(n){var e="_"+n;t[n]=function(t){return void 0!==t?(this[e]=t,this):this[e]}})),t.Statics&&DS(t.Statics,(function(t,n){e[n]=t})),t.Defaults&&n.Defaults&&(t.Defaults=zS({},n.Defaults,t.Defaults)),ct(t,(function(t,e){"function"==typeof t&&n[e]?o[e]=function(t,e){return function(){var r=this,o=r._super;r._super=n[t];var i=e.apply(r,arguments);return r._super=o,i}}(e,t):o[e]=t})),e.prototype=o,e.constructor=e,e.extend=wS,e};var NS,RS=Math.min,BS=Math.max,PS=Math.round,IS={serialize:function(t){var n=JSON.stringify(t);return T(n)?n.replace(/[\u0080-\uFFFF]/g,(function(t){var n=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(n.length)+n})):n},parse:function(t){try{return JSON.parse(t)}catch(t){}}},LS={callbacks:{},count:0,send:function(t){var n=this,e=Ga.DOM,r=void 0!==t.count?t.count:n.count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(i){e.remove(o),delete n.callbacks[r],t.callback(i)},e.add(e.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}},HS=Ot(Ot({},Nk),{send:function(t){var n,e=0,r=function(){!t.async||4===n.readyState||e++>1e4?(t.success&&e<1e4&&200===n.status?t.success.call(t.success_scope,""+n.responseText,n,t):t.error&&t.error.call(t.error_scope,e>1e4?"TIMED_OUT":"GENERAL",n,t),n=null):Fr.setTimeout(r,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",HS.fire("beforeInitialize",{settings:t}),(n=new XMLHttpRequest).overrideMimeType&&n.overrideMimeType(t.content_type),n.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(n.withCredentials=!0),t.content_type&&n.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&pn.each(t.requestheaders,(function(t){n.setRequestHeader(t.key,t.value)})),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=HS.fire("beforeSend",{xhr:n,settings:t}).xhr).send(t.data),!t.async)return r();Fr.setTimeout(r,10)}}),FS=pn.extend,VS=function(){function t(t){this.settings=FS({},t),this.count=0}return t.sendRPC=function(n){return(new t).send(n)},t.prototype.send=function(t){var n=t.error,e=t.success,r=FS(this.settings,t);r.success=function(t,o){void 0===(t=IS.parse(t))&&(t={error:"JSON Parse error."}),t.error?n.call(r.error_scope||r.scope,t.error,o):e.call(r.success_scope||r.scope,t.result)},r.error=function(t,e){n&&n.call(r.error_scope||r.scope,t,e)},r.data=IS.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",HS.send(r)},t}();try{var jS="__storage_test__";(NS=window.localStorage).setItem(jS,jS),NS.removeItem(jS)}catch(t){NS=function(){var t={},n=[],e={getItem:function(n){var e=t[n];return e||null},setItem:function(e,r){n.push(e),t[e]=String(r)},key:function(t){return n[t]},removeItem:function(e){n=n.filter((function(t){return t===e})),delete t[e]},clear:function(){n=[],t={}},length:0};return Object.defineProperty(e,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),e}()}var US={geom:{Rect:TS},util:{Promise:Pr,Delay:Fr,Tools:pn,VK:zf,URI:Zk,Class:MS,EventDispatcher:zk,Observable:Nk,I18n:eu,XHR:HS,JSON:IS,JSONRequest:VS,JSONP:LS,LocalStorage:NS,Color:function(t){var n={},e=0,r=0,o=0,i=function(t){var i;return"object"==typeof t?"r"in t?(e=t.r,r=t.g,o=t.b):"v"in t&&function(t,n,i){if(t=(parseInt(t,10)||0)%360,n=parseInt(n,10)/100,i=parseInt(i,10)/100,n=BS(0,RS(n,1)),i=BS(0,RS(i,1)),0!==n){var a=t/60,u=i*n,c=u*(1-Math.abs(a%2-1)),s=i-u;switch(Math.floor(a)){case 0:e=u,r=c,o=0;break;case 1:e=c,r=u,o=0;break;case 2:e=0,r=u,o=c;break;case 3:e=0,r=c,o=u;break;case 4:e=c,r=0,o=u;break;case 5:e=u,r=0,o=c;break;default:e=r=o=0}e=PS(255*(e+s)),r=PS(255*(r+s)),o=PS(255*(o+s))}else e=r=o=PS(255*i)}(t.h,t.s,t.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(e=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(e=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(e=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),e=e<0?0:e>255?255:e,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,n};return t&&i(t),n.toRgb=function(){return{r:e,g:r,b:o}},n.toHsv=function(){return function(t,n,e){var r,o;o=0;var i=RS(t/=255,RS(n/=255,e/=255)),a=BS(t,BS(n,e));return i===a?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,o=a,{h:PS(60*((t===i?3:e===i?1:5)-(t===i?n-e:e===i?t-n:e-t)/(a-i))),s:PS(100*r),v:PS(100*o)})}(e,r,o)},n.toHex=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(e)+t(r)+t(o)},n.parse=i,n},ImageUploader:function(t){var n=Mb(),e=Ib(t,n);return{upload:function(n,r){return void 0===r&&(r=!0),e.upload(n,r?Pb(t):void 0)}}}},dom:{EventUtils:yi,Sizzle:ta,DomQuery:Fa,TreeWalker:Ur,TextSeeker:Eu,DOMUtils:Ga,ScriptLoader:Ja,RangeUtils:Kf,Serializer:Pv,StyleSheetLoader:Vr,ControlSelection:Nf,BookmarkManager:Of,Selection:mv,Event:yi.Event},html:{Styles:li,Entities:Qo,Node:im,Schema:ci,SaxParser:fm,DomParser:zv,Writer:bm,Serializer:ym},Env:sn,AddOnManager:ru,Annotator:Af,Formatter:$b,UndoManager:qb,EditorCommands:Ck,WindowManager:Cb,NotificationManager:bb,EditorObservable:Lk,Shortcuts:Gk,Editor:iS,FocusManager:Bd,EditorManager:bS,DOM:Ga.DOM,ScriptLoader:Ja.ScriptLoader,PluginManager:yb,ThemeManager:xb,IconManager:sb,Resource:ES,trim:pn.trim,isArray:pn.isArray,is:pn.is,toArray:pn.toArray,makeMap:pn.makeMap,each:pn.each,map:pn.map,grep:pn.grep,inArray:pn.inArray,extend:pn.extend,create:pn.create,walk:pn.walk,createNS:pn.createNS,resolve:pn.resolve,explode:pn.explode,_addCacheSuffix:pn._addCacheSuffix,isOpera:sn.opera,isWebKit:sn.webkit,isIE:sn.ie,isGecko:sn.gecko,isMac:sn.mac},WS=pn.extend(bS,US);!function(t){window.tinymce=t,window.tinyMCE=t}(WS),function(n){try{t.exports=n}catch(t){}}(WS)}()}).call(this,e(1),e(8).setImmediate)},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[e].concat(i).concat([o]).join("\n")}var a;return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e})).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&r[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),n.push(a))}},n}},function(t,n,e){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),u=function(t,n){return n?n.querySelector(t):document.querySelector(t)},c=function(t){var n={};return function(t,e){if("function"==typeof t)return t();if(void 0===n[t]){var r=u.call(this,t,e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}n[t]=r}return n[t]}}(),s=null,l=0,f=[],d=e(18);function m(t,n){for(var e=0;e<t.length;e++){var r=t[e],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(y(r.parts[a],n))}else{var u=[];for(a=0;a<r.parts.length;a++)u.push(y(r.parts[a],n));i[r.id]={id:r.id,refs:1,parts:u}}}}function p(t,n){for(var e=[],r={},o=0;o<t.length;o++){var i=t[o],a=n.base?i[0]+n.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):e.push(r[a]={id:a,parts:[u]})}return e}function g(t,n){var e=c(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===t.insertAt)r?r.nextSibling?e.insertBefore(n,r.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),f.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(t.insertAt.before,e);e.insertBefore(n,o)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=f.indexOf(t);n>=0&&f.splice(n,1)}function v(t){var n=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return e.nc}();r&&(t.attrs.nonce=r)}return b(n,t.attrs),g(t,n),n}function b(t,n){Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])}))}function y(t,n){var e,r,o,i;if(n.transform&&t.css){if(!(i="function"==typeof n.transform?n.transform(t.css):n.transform.default(t.css)))return function(){};t.css=i}if(n.singleton){var a=l++;e=s||(s=v(n)),r=C.bind(null,e,a,!1),o=C.bind(null,e,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(n,t.attrs),g(t,n),n}(n),r=k.bind(null,e,n),o=function(){h(e),e.href&&URL.revokeObjectURL(e.href)}):(e=v(n),r=_.bind(null,e),o=function(){h(e)});return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else o()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=a()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=p(t,n);return m(e,n),function(t){for(var r=[],o=0;o<e.length;o++){var a=e[o];(u=i[a.id]).refs--,r.push(u)}t&&m(p(t,n),n);for(o=0;o<r.length;o++){var u;if(0===(u=r[o]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete i[u.id]}}}};var x,w=(x=[],function(t,n){return x[t]=n,x.filter(Boolean).join("\n")});function C(t,n,e,r){var o=e?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(n,o);else{var i=document.createTextNode(o),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(i,a[n]):t.appendChild(i)}}function _(t,n){var e=n.css,r=n.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}function k(t,n,e){var r=e.css,o=e.sourceMap,i=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},function(t,n,e){"use strict";function r(t,n){for(var e=[],r={},o=0;o<n.length;o++){var i=n[o],a=i[0],u={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):e.push(r[a]={id:a,parts:[u]})}return e}e.r(n),e.d(n,"default",(function(){return m}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),u=null,c=0,s=!1,l=function(){},f=null,d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,n,e,o){s=e,f=o||{};var a=r(t,n);return p(a),function(n){for(var e=[],o=0;o<a.length;o++){var u=a[o];(c=i[u.id]).refs--,e.push(c)}n?p(a=r(t,n)):a=[];for(o=0;o<e.length;o++){var c;if(0===(c=e[o]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete i[c.id]}}}}function p(t){for(var n=0;n<t.length;n++){var e=t[n],r=i[e.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](e.parts[o]);for(;o<e.parts.length;o++)r.parts.push(h(e.parts[o]));r.parts.length>e.parts.length&&(r.parts.length=e.parts.length)}else{var a=[];for(o=0;o<e.parts.length;o++)a.push(h(e.parts[o]));i[e.id]={id:e.id,refs:1,parts:a}}}}function g(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function h(t){var n,e,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(s)return l;r.parentNode.removeChild(r)}if(d){var o=c++;r=u||(u=g()),n=y.bind(null,r,o,!1),e=y.bind(null,r,o,!0)}else r=g(),n=x.bind(null,r),e=function(){r.parentNode.removeChild(r)};return n(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;n(t=r)}else e()}}var v,b=(v=[],function(t,n){return v[t]=n,v.filter(Boolean).join("\n")});function y(t,n,e,r){var o=e?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(n,o);else{var i=document.createTextNode(o),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(i,a[n]):t.appendChild(i)}}function x(t,n){var e=n.css,r=n.media,o=n.sourceMap;if(r&&t.setAttribute("media",r),f.ssrId&&t.setAttribute("data-vue-ssr-id",n.id),o&&(e+="\n/*# sourceURL="+o.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},function(t,n,e){"use strict";function r(t,n,e,r,o,i,a,u){var c,s="function"==typeof t?t.options:t;if(n&&(s.render=n,s.staticRenderFns=e,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=c):o&&(c=u?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(s.functional){s._injectStyles=c;var l=s.render;s.render=function(t,n){return c.call(n),l(t,n)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:s}}e.d(n,"a",(function(){return r}))},function(t,n,e){"use strict";var r=function(){var t=this.$createElement;return(this._self._c||t)("textarea",{staticClass:"fulltext-wrapper",attrs:{id:this.domId}})};r._withStripped=!0;var o=e(0),i=e.n(o),a=(e(11),e(13),e(15),e(19),e(22),e(24),e(26),e(28),e(30),e(32),e(34),e(36),e(38),e(40),e(42),e(44),e(46),e(48),e(50),e(52),e(54),{name:"RichTextEditor",model:{event:"change"},props:{value:{type:String,default:"",required:!0},options:{type:Object,default:()=>({})}},data:()=>({domId:Math.random().toString(16).substr(3,10),editorContent:"",hasInit:!1}),mounted(){this.$nextTick(()=>{this.initTinyMCE()})},destroyed(){this.destroyTinymce()},methods:{initTinyMCE(){const t={selector:"#"+this.domId,branding:!1,height:300,menubar:!0,plugins:["advlist autolink lists link image charmap","searchreplace visualblocks code fullscreen","preview anchor insertdatetime media","paste code wordcount table"],toolbar:"undo redo |fontformats|fontsizeselect| formatselect | forecolor fontsize | bold italic underline strikethrough subscript superscript | alignleft aligncenter alignright | bullist numlist outdent indent | h1 h2 h3 |",menu:{edit:{title:"Edit",items:"undo redo | cut copy paste | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | code wordcount"},table:{title:"Table",items:"inserttable | cell row column | tableprops deletetable"}},content_style:"p{margin-block-start: initial;margin-block-end: initial;}",setup:t=>{t.on("FullscreenStateChanged",t=>{this.$emit("FullscreenStateChanged",t.state)}),t.on("NodeChange",()=>{const n=t.getContent();this.$emit("change",n),this.editorContent=n})},init_instance_callback:t=>{this.value&&t.setContent(this.value),this.hasInit=!0},language:"zh_CN",language_url:"https://cdn.zhoulujun.cn/src/js/tinymce/zh_CN.js",content_css:"https://www.zhoulujun.cn/statics/css/frontend/reset.css",paste_data_images:!0,toolbar_mode:"sliding",font_formats:"微软雅黑=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun,serif;黑体=SimHei,STHeiti;仿宋=FangSong,STFangsong;楷体=KaiTi,STKaiti;隶书=LiSu;幼圆=YouYuan;Andale Mono=andale mono,times; Arial=arial,helvetica,sans-serif; Arial Black=arial black,avant garde; Book Antiqua=book antiqua,palatino; Comic Sans MS=comic sans ms,sans-serif; Courier New=courier new,courier; Georgia=georgia,palatino; Helvetica=helvetica; Impact=impact,chicago; Symbol=symbol; Tahoma=tahoma,arial,helvetica,sans-serif; Terminal=terminal,monaco; Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva; Webdings=webdings; Wingdings=wingdings,zapf dingbats",images_upload_handler:(t,n,e)=>{n("data:image/jpeg;base64,"+t.base64())}};Object.assign(t,this.options),i.a.init(t)},destroyTinymce(){i.a.get(this.domId)&&i.a.get(this.domId).destroy()},setContent(t){i.a.get(this.domId).setContent(t)},getContent(){i.a.get(this.domId).getContent()}}}),u=(e(56),e(5)),c=Object(u.a)(a,r,[],!1,null,null,null);c.options.__file="src/components/RichTextEditor/RichTextEditor.vue";var s=c.exports;s.install=function(t){t.component(s.name,s)};n.a=s},function(t,n,e){var r=e(57);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,e(4).default)("508c804a",r,!1,{})},function(t,n,e){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,n){this._id=t,this._clearFn=n}n.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},n.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),n))},e(9),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,e(1))},function(t,n,e){(function(t,n){!function(t,e){"use strict";if(!t.setImmediate){var r,o,i,a,u,c=1,s={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){n.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var n=!0,e=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=e,n}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var n=f.createElement("script");n.onreadystatechange=function(){p(t),n.onreadystatechange=null,o.removeChild(n),n=null},o.appendChild(n)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(a)&&p(+n.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(n){t.postMessage(a+n,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];var o={callback:t,args:n};return s[c]=o,r(c),c++},d.clearImmediate=m}function m(t){delete s[t]}function p(t){if(l)setTimeout(p,0,t);else{var n=s[t];if(n){l=!0;try{!function(t){var n=t.callback,e=t.args;switch(e.length){case 0:n();break;case 1:n(e[0]);break;case 2:n(e[0],e[1]);break;case 3:n(e[0],e[1],e[2]);break;default:n.apply(void 0,e)}}(n)}finally{m(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,e(1),e(10))},function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&m())}function m(){if(!l){var t=u(d);l=!0;for(var n=s.length;n;){for(c=s,s=[];++f<n;)c&&c[f].run();f=-1,n=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function p(t,n){this.fun=t,this.array=n}function g(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new p(t,n)),1!==s.length||l||u(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n,e){e(12)},function(t,n){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},function(t,n,e){e(14)},function(t,n,e){(function(t){!function(){"use strict";var n=function(){},e=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(n.apply(null,e))}},r=function(t){return function(){return t}},o=function(t){return t};function i(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.concat(e);return t.apply(null,o)}}var a=function(t){return function(n){return!t(n)}},u=function(t){return function(){throw new Error(t)}},c=r(!1),s=r(!0),l=tinymce.util.Tools.resolve("tinymce.ThemeManager"),f=function(){return(f=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function d(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}function m(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var p,g=function(){return h},h=function(){var t=function(t){return t.isNone()},e=function(t){return t()},o=function(t){return t};return{fold:function(t,n){return t()},is:c,isSome:c,isNone:s,getOr:o,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:e,map:g,each:n,bind:g,exists:c,forall:s,filter:g,equals:t,equals_:t,toArray:function(){return[]},toString:r("none()")}}(),v=function(t){var n=r(t),e=function(){return i},o=function(n){return n(t)},i={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:s,isNone:c,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return v(n(t))},each:function(n){n(t)},bind:o,exists:o,forall:o,filter:function(n){return n(t)?i:h},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(c,(function(n){return e(t,n)}))}};return i},b={some:v,none:g,from:function(t){return null==t?h:v(t)}},y=function(t){return function(n){return function(t){var n=typeof t;return null===t?"null":"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n}(n)===t}},x=function(t){return function(n){return typeof n===t}},w=y("string"),C=y("object"),_=y("array"),k=x("boolean"),S=function(t){return function(n){return t===n}}(void 0),A=function(t){return!function(t){return null==t}(t)},O=x("function"),T=x("number"),E=function(t,n){if(_(t)){for(var e=0,r=t.length;e<r;++e)if(!n(t[e]))return!1;return!0}return!1},D=Array.prototype.slice,z=Array.prototype.indexOf,M=Array.prototype.push,N=function(t,n){return z.call(t,n)},R=function(t,n){return N(t,n)>-1},B=function(t,n){for(var e=0,r=t.length;e<r;e++){if(n(t[e],e))return!0}return!1},P=function(t,n){for(var e=[],r=0;r<t;r++)e.push(n(r));return e},I=function(t,n){for(var e=[],r=0;r<t.length;r+=n){var o=D.call(t,r,r+n);e.push(o)}return e},L=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},H=function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}},F=function(t,n){for(var e=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(n(a,o)?e:r).push(a)}return{pass:e,fail:r}},V=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},j=function(t,n,e){return function(t,n){for(var e=t.length-1;e>=0;e--){n(t[e],e)}}(t,(function(t){e=n(e,t)})),e},U=function(t,n,e){return H(t,(function(t){e=n(e,t)})),e},W=function(t,n){return function(t,n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r))return b.some(i);if(e(i,r))break}return b.none()}(t,n,c)},$=function(t,n){for(var e=0,r=t.length;e<r;e++){if(n(t[e],e))return b.some(e)}return b.none()},q=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!_(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);M.apply(n,t[e])}return n},G=function(t,n){return q(L(t,n))},K=function(t,n){for(var e=0,r=t.length;e<r;++e){if(!0!==n(t[e],e))return!1}return!0},X=function(t){var n=D.call(t,0);return n.reverse(),n},Y=function(t,n){return V(t,(function(t){return!R(n,t)}))},J=function(t,n){var e=D.call(t,0);return e.sort(n),e},Q=function(t,n){return n>=0&&n<t.length?b.some(t[n]):b.none()},Z=function(t){return Q(t,0)},tt=function(t){return Q(t,t.length-1)},nt=O(Array.from)?Array.from:function(t){return D.call(t)},et=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return b.none()},rt=function(t){return{is:function(n){return t===n},isValue:s,isError:c,getOr:r(t),getOrThunk:r(t),getOrDie:r(t),or:function(n){return rt(t)},orThunk:function(n){return rt(t)},fold:function(n,e){return e(t)},map:function(n){return rt(n(t))},mapError:function(n){return rt(t)},each:function(n){n(t)},bind:function(n){return n(t)},exists:function(n){return n(t)},forall:function(n){return n(t)},toOptional:function(){return b.some(t)}}},ot=function(t){return{is:c,isValue:c,isError:s,getOr:o,getOrThunk:function(t){return t()},getOrDie:function(){return u(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(n,e){return n(t)},map:function(n){return ot(t)},mapError:function(n){return ot(n(t))},each:n,bind:function(n){return ot(t)},exists:c,forall:s,toOptional:b.none}},it={value:rt,error:ot,fromOption:function(t,n){return t.fold((function(){return ot(n)}),rt)}};!function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"}(p||(p={}));var at=function(t,n,e){return t.stype===p.Error?n(t.serror):e(t.svalue)},ut=function(t){return{stype:p.Value,svalue:t}},ct=function(t){return{stype:p.Error,serror:t}},st=function(t){return t.fold(ct,ut)},lt=function(t){return at(t,it.error,it.value)},ft=ut,dt=function(t){var n=[],e=[];return H(t,(function(t){at(t,(function(t){return e.push(t)}),(function(t){return n.push(t)}))})),{values:n,errors:e}},mt=ct,pt=function(t,n){return t.stype===p.Value?n(t.svalue):t},gt=function(t,n){return t.stype===p.Error?n(t.serror):t},ht=function(t,n){return t.stype===p.Value?{stype:p.Value,svalue:n(t.svalue)}:t},vt=function(t,n){return t.stype===p.Error?{stype:p.Error,serror:n(t.serror)}:t},bt=Object.keys,yt=Object.hasOwnProperty,xt=function(t,n){for(var e=bt(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}},wt=function(t,n){return Ct(t,(function(t,e){return{k:e,v:n(t,e)}}))},Ct=function(t,n){var e={};return xt(t,(function(t,r){var o=n(t,r);e[o.k]=o.v})),e},_t=function(t,e){var r={};return function(t,n,e,r){xt(t,(function(t,o){(n(t,o)?e:r)(t,o)}))}(t,e,function(t){return function(n,e){t[e]=n}}(r),n),r},kt=function(t,n){var e=[];return xt(t,(function(t,r){e.push(n(t,r))})),e},St=function(t,n){for(var e=bt(t),r=0,o=e.length;r<o;r++){var i=e[r],a=t[i];if(n(a,i,t))return b.some(a)}return b.none()},At=function(t){return kt(t,(function(t){return t}))},Ot=function(t,n){return Tt(t,n)?b.from(t[n]):b.none()},Tt=function(t,n){return yt.call(t,n)},Et=function(t,n){return Tt(t,n)&&void 0!==t[n]&&null!==t[n]},Dt=function(t){if(!_(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],e={};return H(t,(function(r,o){var i=bt(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==e[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!_(u))throw new Error("case arguments must be an array");n.push(a),e[a]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+i);var c=function(t){var r=bt(t);if(n.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+r.join(","));if(!K(n,(function(t){return R(r,t)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,e)};return{fold:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var i=n[o];return i.apply(null,e)},match:c,log:function(t){console.log(t,{constructors:n,constructor:a,params:e})}}}})),e},zt=Object.prototype.hasOwnProperty,Mt=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(0===n.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<n.length;o++){var i=n[o];for(var a in i)zt.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},Nt=Mt((function(t,n){return C(t)&&C(n)?Nt(t,n):n})),Rt=Mt((function(t,n){return n})),Bt=function(t){var n,e=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e||(e=!0,n=t.apply(null,r)),n}},Pt=Dt([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),It=function(t){return Pt.defaultedThunk(r(t))},Lt=function(t){return Pt.mergeWithThunk(r(t))},Ht=Pt.strict,Ft=Pt.asOption,Vt=Pt.defaultedThunk,jt=(Pt.asDefaultedOptionThunk,Pt.mergeWithThunk),Ut=(Dt([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t,n){var e;return(e={})[t]=n,e}),Wt=function(t,n){return function(t,n){var e={};return xt(t,(function(t,r){R(n,r)||(e[r]=t)})),e}(t,n)},$t=function(t,n){return Ut(t,n)},qt=function(t){return function(t){var n={};return H(t,(function(t){n[t.key]=t.value})),n}(t)},Gt=function(t,n){var e,r=function(t){var n=[],e=[];return H(t,(function(t){t.fold((function(t){n.push(t)}),(function(t){e.push(t)}))})),{errors:n,values:e}}(t);return r.errors.length>0?(e=r.errors,it.error(q(e))):function(t,n){return 0===t.length?it.value(n):it.value(Nt(n,Rt.apply(void 0,t)))}(r.values,n)},Kt=function(t){return e(mt,q)(t)},Xt=function(t,n){var e=dt(t);return e.errors.length>0?Kt(e.errors):function(t,n){return t.length>0?ft(Nt(n,Rt.apply(void 0,t))):ft(n)}(e.values,n)},Yt=function(t){var n=dt(t);return n.errors.length>0?Kt(n.errors):ft(n.values)},Jt=function(t){return C(t)&&bt(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Qt=function(t,n){return mt([{path:t,getErrorInfo:n}])},Zt=Dt([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),tn=function(t,n,e){return Ot(n,e).fold((function(){return function(t,n,e){return Qt(t,(function(){return'Could not find valid *strict* value for "'+n+'" in '+Jt(e)}))}(t,e,n)}),ft)},nn=function(t,n,e){var r=Ot(t,n).fold((function(){return e(t)}),o);return ft(r)},en=function(t,n,e,o){return e.fold((function(e,i,a,u){var c=function(n){var r=u.extract(t.concat([e]),o,n);return ht(r,(function(t){return Ut(i,o(t))}))},s=function(n){return n.fold((function(){var t=Ut(i,o(b.none()));return ft(t)}),(function(n){var r=u.extract(t.concat([e]),o,n);return ht(r,(function(t){return Ut(i,o(b.some(t)))}))}))};return a.fold((function(){return pt(tn(t,n,e),c)}),(function(t){return pt(nn(n,e,t),c)}),(function(){return pt(function(t,n){return ft(Ot(t,n))}(n,e),s)}),(function(t){return pt(function(t,n,e){var r=Ot(t,n).map((function(n){return!0===n?e(t):n}));return ft(r)}(n,e,t),s)}),(function(t){var o=t(n),i=ht(nn(n,e,r({})),(function(t){return Nt(o,t)}));return pt(i,c)}))}),(function(t,e){var r=e(n);return ft(Ut(t,o(r)))}))},rn=function(t){return{extract:function(n,e,r){return gt(t(r,e),(function(t){return function(t,n){return Qt(t,(function(){return n}))}(n,t)}))},toString:function(){return"val"}}},on=function(t){return bt(_t(t,(function(t){return null!=t})))},an=function(t){var n=un(t),e=j(t,(function(t,n){return n.fold((function(n){return Nt(t,$t(n,!0))}),r(t))}),{});return{extract:function(t,r,o){var i=k(o)?[]:on(o),a=V(i,(function(t){return!Et(e,t)}));return 0===a.length?n.extract(t,r,o):function(t,n){return Qt(t,(function(){return"There are unsupported fields: ["+n.join(", ")+"] specified"}))}(t,a)},toString:n.toString}},un=function(t){return{extract:function(n,e,r){return function(t,n,e,r){var o=L(e,(function(e){return en(t,n,e,r)}));return Xt(o,{})}(n,r,t,e)},toString:function(){return"obj{\n"+L(t,(function(t){return t.fold((function(t,n,e,r){return t+" -> "+r.toString()}),(function(t,n){return"state("+t+")"}))})).join("\n")+"}"}}},cn=function(t){return{extract:function(n,e,r){var o=L(r,(function(r,o){return t.extract(n.concat(["["+o+"]"]),e,r)}));return Yt(o)},toString:function(){return"array("+t.toString()+")"}}},sn=function(t){return{extract:function(n,e,r){for(var o=[],i=0,a=t;i<a.length;i++){var u=a[i].extract(n,e,r);if(u.stype===p.Value)return u;o.push(u)}return Yt(o)},toString:function(){return"oneOf("+L(t,(function(t){return t.toString()})).join(", ")+")"}}},ln=function(t,n){return{extract:function(e,r,i){var a=bt(i),u=function(n,e){return cn(rn(t)).extract(n,o,e)}(e,a);return pt(u,(function(t){var o=L(t,(function(t){return Zt.field(t,t,Ht(),n)}));return un(o).extract(e,r,i)}))},toString:function(){return"setOf("+n.toString()+")"}}},fn=r(rn(ft)),dn=e(cn,un),mn=Zt.state,pn=Zt.field,gn=function(t,n,e,r,o){return Ot(r,o).fold((function(){return function(t,n,e){return Qt(t,(function(){return'The chosen schema: "'+e+'" did not exist in branches: '+Jt(n)}))}(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),n,e)}))},hn=function(t,n){return{extract:function(e,r,o){return Ot(o,t).fold((function(){return function(t,n){return Qt(t,(function(){return'Choice schema did not contain choice key: "'+n+'"'}))}(e,t)}),(function(t){return gn(e,r,o,n,t)}))},toString:function(){return"chooseOn("+t+"). Possible values: "+bt(n)}}},vn=rn(ft),bn=function(t){return dn(t)},yn=function(t){return{extract:function(n,e,r){return t().extract(n,e,r)},toString:function(){return t().toString()}}},xn=function(t){return rn((function(n){return t(n).fold(mt,ft)}))},wn=function(t,n){return ln((function(n){return st(t(n))}),n)},Cn=function(t,n,e){return lt(function(t,n,e,r){var o=n.extract([t],e,r);return vt(o,(function(t){return{input:r,errors:t}}))}(t,n,o,e))},_n=function(t){return t.fold((function(t){throw new Error(Sn(t))}),o)},kn=function(t,n,e){return _n(Cn(t,n,e))},Sn=function(t){return"Errors: \n"+(n=t.errors,e=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):n,L(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))).join("\n")+"\n\nInput object: "+Jt(t.input);var n,e},An=function(t,n){return hn(t,n)},On=function(t,n){return hn(t,wt(n,un))},Tn=r(vn),En=function(t,n){return rn((function(e){var r=typeof e;return t(e)?ft(e):mt("Expected type: "+n+" but got: "+r)}))},Dn=En(T,"number"),zn=En(w,"string"),Mn=En(k,"boolean"),Nn=En(O,"function"),Rn=function(t){var n=function(t,n){for(var e=t.next();!e.done;){if(!n(e.value))return!1;e=t.next()}return!0};if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every((function(n){return Rn(t[n])}));case"Map":return n(t.keys(),Rn)&&n(t.values(),Rn);case"Set":return n(t.keys(),Rn);default:return!1}},Bn=rn((function(t){return Rn(t)?ft(t):mt("Expected value to be acceptable for sending via postMessage")})),Pn=function(t){return xn((function(n){return R(t,n)?it.value(n):it.error('Unsupported value: "'+n+'", choose one of "'+t.join(", ")+'".')}))},In=function(t){return pn(t,t,Ht(),fn())},Ln=function(t,n){return pn(t,t,Ht(),n)},Hn=function(t){return Ln(t,Dn)},Fn=function(t){return Ln(t,zn)},Vn=function(t,n){return pn(t,t,Ht(),Pn(n))},jn=function(t){return Ln(t,Nn)},Un=function(t,n){return pn(t,t,Ht(),un(n))},Wn=function(t,n){return pn(t,t,Ht(),dn(n))},$n=function(t,n){return pn(t,t,Ht(),cn(n))},qn=function(t){return pn(t,t,Ft(),fn())},Gn=function(t,n){return pn(t,t,Ft(),n)},Kn=function(t){return Gn(t,Dn)},Xn=function(t){return Gn(t,zn)},Yn=function(t){return Gn(t,Nn)},Jn=function(t,n){return Gn(t,un(n))},Qn=function(t,n){return pn(t,t,It(n),fn())},Zn=function(t,n,e){return pn(t,t,It(n),e)},te=function(t,n){return Zn(t,n,Dn)},ne=function(t,n){return Zn(t,n,zn)},ee=function(t,n,e){return Zn(t,n,Pn(e))},re=function(t,n){return Zn(t,n,Mn)},oe=function(t,n){return Zn(t,n,Nn)},ie=function(t,n,e){return Zn(t,n,cn(e))},ae=function(t,n,e){return Zn(t,n,un(e))},ue=function(t,n){return mn(t,n)},ce=function(t){var n=t;return{get:function(){return n},set:function(t){n=t}}},se=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},le={fromHtml:function(t,n){var e=(n||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||e.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return se(e.childNodes[0])},fromTag:function(t,n){var e=(n||document).createElement(t);return se(e)},fromText:function(t,n){var e=(n||document).createTextNode(t);return se(e)},fromDom:se,fromPoint:function(t,n,e){return b.from(t.dom.elementFromPoint(n,e)).map(se)}},fe=function(){return de(0,0)},de=function(t,n){return{major:t,minor:n}},me={nu:de,detect:function(t,n){var e=String(n).toLowerCase();return 0===t.length?fe():function(t,n){var e=function(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(r.test(n))return r}}(t,n);if(!e)return{major:0,minor:0};var r=function(t){return Number(n.replace(e,"$"+t))};return de(r(1),r(2))}(t,e)},unknown:fe},pe=function(t,n){var e=String(n).toLowerCase();return W(t,(function(t){return t.search(e)}))},ge=function(t,n){return pe(t,n).map((function(t){var e=me.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},he=function(t,n){return pe(t,n).map((function(t){var e=me.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},ve=function(t,n){return-1!==t.indexOf(n)},be=function(t,n){return function(t,n,e){return""===n||t.length>=n.length&&t.substr(e,e+n.length)===n}(t,n,t.length-n.length)},ye=function(t){return function(n){return n.replace(t,"")}}(/^\s+|\s+$/g),xe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,we=function(t){return function(n){return ve(n,t)}},Ce=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ve(t,"edge/")&&ve(t,"chrome")&&ve(t,"safari")&&ve(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xe],search:function(t){return ve(t,"chrome")&&!ve(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ve(t,"msie")||ve(t,"trident")}},{name:"Opera",versionRegexes:[xe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:we("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:we("firefox")},{name:"Safari",versionRegexes:[xe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ve(t,"safari")||ve(t,"mobile/"))&&ve(t,"applewebkit")}}],_e=[{name:"Windows",search:we("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ve(t,"iphone")||ve(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:we("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:we("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:we("linux"),versionRegexes:[]},{name:"Solaris",search:we("sunos"),versionRegexes:[]},{name:"FreeBSD",search:we("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:we("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ke={browsers:r(Ce),oses:r(_e)},Se=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Ae={unknown:function(){return Se({current:void 0,version:me.unknown()})},nu:Se,edge:r("Edge"),chrome:r("Chrome"),ie:r("IE"),opera:r("Opera"),firefox:r("Firefox"),safari:r("Safari")},Oe=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},Te={unknown:function(){return Oe({current:void 0,version:me.unknown()})},nu:Oe,windows:r("Windows"),ios:r("iOS"),android:r("Android"),linux:r("Linux"),osx:r("OSX"),solaris:r("Solaris"),freebsd:r("FreeBSD"),chromeos:r("ChromeOS")},Ee=function(t,n){var e=ke.browsers(),o=ke.oses(),i=ge(e,t).fold(Ae.unknown,Ae.nu),a=he(o,t).fold(Te.unknown,Te.nu),u=function(t,n,e,o){var i=t.isiOS()&&!0===/ipad/i.test(e),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),c=u||o("(pointer:coarse)"),s=i||!a&&u&&o("(min-device-width:768px)"),l=a||u&&!s,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(e),d=!l&&!s&&!f;return{isiPad:r(i),isiPhone:r(a),isTablet:r(s),isPhone:r(l),isTouch:r(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:r(f),isDesktop:r(d)}}(a,i,t,n);return{browser:i,os:a,deviceType:u}},De=function(t){return window.matchMedia(t).matches},ze=Bt((function(){return Ee(navigator.userAgent,De)})),Me=function(){return ze()},Ne=function(t,n){var e=t.dom;if(1!==e.nodeType)return!1;var r=e;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Re=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},Be=function(t,n){return t.dom===n.dom},Pe=function(t,n){return function(t,n){return function(t,n,e){return 0!=(t.compareDocumentPosition(n)&e)}(t,n,Node.DOCUMENT_POSITION_CONTAINED_BY)}(t.dom,n.dom)},Ie=function(t,n){return Me().browser.isIE()?Pe(t,n):function(t,n){var e=t.dom,r=n.dom;return e!==r&&e.contains(r)}(t,n)},Le=function(t){return O(t)?t:c},He=function(t,n,e){for(var r=t.dom,o=Le(e);r.parentNode;){r=r.parentNode;var i=le.fromDom(r),a=n(i);if(a.isSome())return a;if(o(i))break}return b.none()},Fe=function(t,n,e){var r=n(t),o=Le(e);return r.orThunk((function(){return o(t)?b.none():He(t,n,o)}))},Ve=function(t,n){return Be(t.element,n.event.target)},je=function(t){if(!Et(t,"can")&&!Et(t,"abort")&&!Et(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return kn("Extracting event.handler",an([Qn("can",s),Qn("abort",c),Qn("run",n)]),t)},Ue=function(t){var n=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return U(t,(function(t,r){return t&&n(r).apply(void 0,e)}),!0)}}(t,(function(t){return t.can})),e=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return U(t,(function(t,r){return t||n(r).apply(void 0,e)}),!1)}}(t,(function(t){return t.abort}));return je({can:n,abort:e,run:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];H(t,(function(t){t.run.apply(void 0,n)}))}})},We=r,$e=We("touchstart"),qe=We("touchmove"),Ge=We("touchend"),Ke=We("touchcancel"),Xe=We("mousedown"),Ye=We("mousemove"),Je=We("mouseout"),Qe=We("mouseup"),Ze=We("mouseover"),tr=We("focusin"),nr=We("focusout"),er=We("keydown"),rr=We("keyup"),or=We("input"),ir=We("change"),ar=We("click"),ur=We("transitionend"),cr=We("selectstart"),sr=function(t){return r("alloy."+t)},lr={tap:sr("tap")},fr=sr("focus"),dr=sr("blur.post"),mr=sr("paste.post"),pr=sr("receive"),gr=sr("execute"),hr=sr("focus.item"),vr=lr.tap,br=sr("longpress"),yr=sr("sandbox.close"),xr=sr("typeahead.cancel"),wr=sr("system.init"),Cr=sr("system.touchmove"),_r=sr("system.touchend"),kr=sr("system.scroll"),Sr=sr("system.resize"),Ar=sr("system.attached"),Or=sr("system.detached"),Tr=sr("system.dismissRequested"),Er=sr("system.repositionRequested"),Dr=sr("focusmanager.shifted"),zr=sr("slotcontainer.visibility"),Mr=sr("change.tab"),Nr=sr("dismiss.tab"),Rr=sr("highlight"),Br=sr("dehighlight"),Pr=function(t,n){Fr(t,t.element,n,{})},Ir=function(t,n,e){Fr(t,t.element,n,e)},Lr=function(t){Pr(t,gr())},Hr=function(t,n,e){Fr(t,n,e,{})},Fr=function(t,n,e,r){var o=f({target:n},r);t.getSystem().triggerEvent(e,n,o)},Vr=function(t,n,e,r){t.getSystem().triggerEvent(e,n,r.event)},jr=function(t){return qt(t)},Ur=function(t,n){return{key:t,value:je({abort:n})}},Wr=function(t){return{key:t,value:je({run:function(t,n){n.event.prevent()}})}},$r=function(t,n){return{key:t,value:je({run:n})}},qr=function(t,n,e){return{key:t,value:je({run:function(t,r){n.apply(void 0,[t,r].concat(e))}})}},Gr=function(t){return function(n){return{key:t,value:je({run:function(t,e){Ve(t,e)&&n(t,e)}})}}},Kr=function(t,n,e){return function(t,n){return $r(t,(function(e,r){e.getSystem().getByUid(n).each((function(n){Vr(n,n.element,t,r)}))}))}(t,n.partUids[e])},Xr=function(t,n){return $r(t,(function(t,e){var r=e.event,o=t.getSystem().getByDom(r.target).fold((function(){return Fe(r.target,(function(n){return t.getSystem().getByDom(n).toOptional()}),c).getOr(t)}),(function(t){return t}));n(t,o,e)}))},Yr=function(t){return $r(t,(function(t,n){n.cut()}))},Jr=function(t){return $r(t,(function(t,n){n.stop()}))},Qr=function(t,n){return Gr(t)(n)},Zr=Gr(Ar()),to=Gr(Or()),no=Gr(wr()),eo=function(t){return function(n){return $r(t,n)}}(gr()),ro=("undefined"!=typeof window?window:Function("return this;")(),function(t){return t.dom.nodeName.toLowerCase()}),oo=function(t){return function(n){return function(t){return t.dom.nodeType}(n)===t}},io=oo(1),ao=oo(3),uo=oo(9),co=oo(11),so=function(t){return le.fromDom(t.dom.ownerDocument)},lo=function(t){return uo(t)?t:so(t)},fo=function(t){return le.fromDom(lo(t).dom.documentElement)},mo=function(t){return le.fromDom(lo(t).dom.defaultView)},po=function(t){return b.from(t.dom.parentNode).map(le.fromDom)},go=function(t){return b.from(t.dom.offsetParent).map(le.fromDom)},ho=function(t){return L(t.dom.childNodes,le.fromDom)},vo=function(t,n){var e=t.dom.childNodes;return b.from(e[n]).map(le.fromDom)},bo=function(t){return co(t)&&A(t.dom.host)},yo=O(Element.prototype.attachShadow)&&O(Node.prototype.getRootNode),xo=r(yo),wo=yo?function(t){return le.fromDom(t.dom.getRootNode())}:lo,Co=function(t){return bo(t)?t:le.fromDom(lo(t).dom.body)},_o=function(t){var n=wo(t);return bo(n)?b.some(n):b.none()},ko=function(t){return le.fromDom(t.dom.host)},So=function(t){return A(t.dom.shadowRoot)},Ao=function(t,n){po(t).each((function(e){e.dom.insertBefore(n.dom,t.dom)}))},Oo=function(t,n){(function(t){return b.from(t.dom.nextSibling).map(le.fromDom)})(t).fold((function(){po(t).each((function(t){Eo(t,n)}))}),(function(t){Ao(t,n)}))},To=function(t,n){(function(t){return vo(t,0)})(t).fold((function(){Eo(t,n)}),(function(e){t.dom.insertBefore(n.dom,e.dom)}))},Eo=function(t,n){t.dom.appendChild(n.dom)},Do=function(t,n){H(n,(function(n){Eo(t,n)}))},zo=function(t){t.dom.textContent="",H(ho(t),(function(t){Mo(t)}))},Mo=function(t){var n=t.dom;null!==n.parentNode&&n.parentNode.removeChild(n)},No=function(t){var n,e=ho(t);e.length>0&&(n=t,H(e,(function(t){Ao(n,t)}))),Mo(t)},Ro=function(t){return t.dom.innerHTML},Bo=function(t,n){var e,r,o=so(t).dom,i=le.fromDom(o.createDocumentFragment()),a=(e=n,(r=(o||document).createElement("div")).innerHTML=e,ho(le.fromDom(r)));Do(i,a),zo(t),Eo(t,i)},Po=function(t,n,e){if(!(w(e)||k(e)||T(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")},Io=function(t,n,e){Po(t.dom,n,e)},Lo=function(t,n){var e=t.dom.getAttribute(n);return null===e?void 0:e},Ho=function(t,n){return b.from(Lo(t,n))},Fo=function(t,n){var e=t.dom;return!(!e||!e.hasAttribute)&&e.hasAttribute(n)},Vo=function(t,n){t.dom.removeAttribute(n)},jo=function(t){return function(t,n){return le.fromDom(t.dom.cloneNode(n))}(t,!1)},Uo=function(t){return bo(t)?"#shadow-root":function(t){var n=le.fromTag("div"),e=le.fromDom(t.dom.cloneNode(!0));return Eo(n,e),Ro(n)}(jo(t))},Wo=function(t){return Uo(t)},$o=jr([function(t,n){return{key:t,value:je({can:n})}}(fr(),(function(t,n){var e=n.event,r=e.originator,o=e.target;return!function(t,n,e){return Be(n,t.element)&&!Be(n,e)}(t,r,o)||(console.warn(fr()+" did not get interpreted by the desired target. \nOriginator: "+Wo(r)+"\nTarget: "+Wo(o)+"\nCheck the "+fr()+" event handlers"),!1)}))]),qo=Object.freeze({__proto__:null,events:$o}),Go=0,Ko=function(t){var n=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++Go+String(n)},Xo=r("alloy-id-"),Yo=r("data-alloy-id"),Jo=Xo(),Qo=Yo(),Zo=function(t,n){Object.defineProperty(t.dom,Qo,{value:n,writable:!0})},ti=function(t){var n=io(t)?t.dom[Qo]:null;return b.from(n)},ni=function(t){return Ko(t)},ei=o,ri=function(t){var n=function(n){return function(){throw new Error("The component must be in a context to send: "+n+(t?"\n"+Wo(t().element)+" is not in context.":""))}};return{debugInfo:r("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),build:n("build"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),isConnected:c}},oi=ri(),ii=function(t){return L(t,(function(t){return be(t,"/*")?t.substring(0,t.length-"/*".length):t}))},ai=function(t,n){var e=t.toString(),r=e.indexOf(")")+1,o=e.indexOf("("),i=e.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:ii(i)}},t},ui=Ko("alloy-premade"),ci=function(t){return $t(ui,t)},si=function(t){return function(t,n){var e=n.toString(),r=e.indexOf(")")+1,o=e.indexOf("("),i=e.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ii(i.slice(1))}},t}((function(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.apply(void 0,m([n.getApis(),n],e))}),t)},li={init:function(){return fi({readState:function(){return"No State required"}})}},fi=function(t){return t},di=function(t,n){var e={};return xt(t,(function(t,r){xt(t,(function(t,o){var i=Ot(e,o).getOr([]);e[o]=i.concat([n(r,t)])}))})),e},mi=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}},pi=function(t){return t.cHandler},gi=function(t,n){return{name:t,handler:n}},hi=function(t,n,e){var r=f(f({},e),function(t,n){var e={};return H(t,(function(t){e[t.name()]=t.handlers(n)})),e}(n,t));return di(r,gi)},vi=function(t){var n=function(t){return O(t)?{can:s,abort:c,run:t}:t}(t);return function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[t,e].concat(r);n.abort.apply(void 0,i)?e.stop():n.can.apply(void 0,i)&&n.run.apply(void 0,i)}},bi=function(t,n,e){var r=n[e];return r?function(t,n,e,r){try{var o=J(e,(function(e,o){var i=e[n],a=o[n],u=r.indexOf(i),c=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===c)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<c?-1:c<u?1:0}));return it.value(o)}catch(t){return it.error([t])}}("Event: "+e,"name",t,r).map((function(t){var n=L(t,(function(t){return t.handler}));return Ue(n)})):function(t,n){return it.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(L(n,(function(t){return t.name})),null,2)])}(e,t)},yi=function(t,n){var e=kt(t,(function(t,e){return(1===t.length?it.value(t[0].handler):bi(t,n,e)).map((function(r){var o=vi(r),i=t.length>1?V(n[e],(function(n){return B(t,(function(t){return t.name===n}))})).join(" > "):t[0].name;return $t(e,function(t,n){return{handler:t,purpose:n}}(o,i))}))}));return Gt(e,{})},xi="alloy.base.behaviour",wi=function(t){return t.events},Ci=function(t,n){var e=Lo(t,n);return void 0===e||""===e?[]:e.split(" ")},_i=function(t){return void 0!==t.dom.classList},ki=function(t,n){return function(t,n,e){var r=Ci(t,n).concat([e]);return Io(t,n,r.join(" ")),!0}(t,"class",n)},Si=function(t,n){return function(t,n,e){var r=V(Ci(t,n),(function(t){return t!==e}));return r.length>0?Io(t,n,r.join(" ")):Vo(t,n),!1}(t,"class",n)},Ai=function(t,n){_i(t)?t.dom.classList.add(n):ki(t,n)},Oi=function(t){0===(_i(t)?t.dom.classList:function(t){return Ci(t,"class")}(t)).length&&Vo(t,"class")},Ti=function(t,n){_i(t)?t.dom.classList.remove(n):Si(t,n);Oi(t)},Ei=function(t,n){return _i(t)&&t.dom.classList.contains(n)},Di=function(t,n){H(n,(function(n){Ai(t,n)}))},zi=function(t,n){H(n,(function(n){Ti(t,n)}))},Mi=function(t){return void 0!==t.style&&O(t.style.getPropertyValue)},Ni=function(t){var n=ao(t)?t.dom.parentNode:t.dom;if(null==n||null===n.ownerDocument)return!1;var e,r,o=n.ownerDocument;return _o(le.fromDom(n)).fold((function(){return o.body.contains(n)}),(e=Ni,r=ko,function(t){return e(r(t))}))},Ri=function(){return Bi(le.fromDom(document))},Bi=function(t){var n=t.dom.body;if(null==n)throw new Error("Body is not available yet");return le.fromDom(n)},Pi=function(t,n,e){if(!w(e))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",e,":: Element ",t),new Error("CSS value must be a string: "+e);Mi(t)&&t.style.setProperty(n,e)},Ii=function(t,n){Mi(t)&&t.style.removeProperty(n)},Li=function(t,n,e){var r=t.dom;Pi(r,n,e)},Hi=function(t,n){var e=t.dom;xt(n,(function(t,n){Pi(e,n,t)}))},Fi=function(t,n){var e=t.dom;xt(n,(function(t,n){t.fold((function(){Ii(e,n)}),(function(t){Pi(e,n,t)}))}))},Vi=function(t,n){var e=t.dom,r=window.getComputedStyle(e).getPropertyValue(n);return""!==r||Ni(t)?r:ji(e,n)},ji=function(t,n){return Mi(t)?t.style.getPropertyValue(n):""},Ui=function(t,n){var e=t.dom,r=ji(e,n);return b.from(r).filter((function(t){return t.length>0}))},Wi=function(t){var n={},e=t.dom;if(Mi(e))for(var r=0;r<e.style.length;r++){var o=e.style.item(r);n[o]=e.style[o]}return n},$i=function(t,n,e){var r=le.fromTag(t);return Li(r,n,e),Ui(r,n).isSome()},qi=function(t,n){var e=t.dom;Ii(e,n),Ho(t,"style").map(ye).is("")&&Vo(t,"style")},Gi=function(t){return t.dom.offsetWidth},Ki=function(t){return t.dom.value},Xi=function(t,n){if(void 0===n)throw new Error("Value.set was undefined");t.dom.value=n},Yi=function(t){var n=le.fromTag(t.tag);!function(t,n){var e=t.dom;xt(n,(function(t,n){Po(e,n,t)}))}(n,t.attributes),Di(n,t.classes),Hi(n,t.styles),t.innerHtml.each((function(t){return Bo(n,t)}));var e=t.domChildren;return Do(n,e),t.value.each((function(t){Xi(n,t)})),t.uid,Zo(n,t.uid),n},Ji=function(t,n){return function(t,n){var e=L(n,(function(t){return Jn(t.name(),[In("config"),Qn("state",li)])})),r=Cn("component.behaviours",un(e),t.behaviours).fold((function(n){throw new Error(Sn(n)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}));return{list:n,data:wt(r,(function(t){var n=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return function(){return n}}))}}(t,n)},Qi=function(t){var n=function(t){var n=Ot(t,"behaviours").getOr({}),e=V(bt(n),(function(t){return void 0!==n[t]}));return L(e,(function(t){return n[t].me}))}(t);return Ji(t,n)},Zi=function(t,n,e){var r,o,i,a=f(f({},(r=t).dom),{uid:r.uid,domChildren:L(r.components,(function(t){return t.element}))}),u=function(t){return t.domModification.fold((function(){return mi({})}),mi)}(t),c={"alloy.base.modification":u},s=n.length>0?function(t,n,e,r){var o=f({},n);H(e,(function(n){o[n.name()]=n.exhibit(t,r)}));var i=di(o,(function(t,n){return{name:t,modification:n}})),a=function(t){return j(t,(function(t,n){return f(f({},n.modification),t)}),{})},u=j(i.classes,(function(t,n){return n.modification.concat(t)}),[]),c=a(i.attributes),s=a(i.styles);return mi({classes:u,attributes:c,styles:s})}(e,c,n,a):u;return i=s,f(f({},o=a),{attributes:f(f({},o.attributes),i.attributes),styles:f(f({},o.styles),i.styles),classes:o.classes.concat(i.classes)})},ta=function(t,n,e){var r={"alloy.base.behaviour":wi(t)};return function(t,n,e,r){var o=hi(t,e,r);return yi(o,n)}(e,t.eventOrder,n,r).getOrDie()},na=function(t){var n=function(){return f},e=ce(oi),r=_n(function(t){var n;return Cn("custom.definition",un([pn("dom","dom",Ht(),un([In("tag"),Qn("styles",{}),Qn("classes",[]),Qn("attributes",{}),qn("value"),qn("innerHtml")])),In("components"),In("uid"),Qn("events",{}),Qn("apis",{}),pn("eventOrder","eventOrder",Lt((n={},n[gr()]=["disabling",xi,"toggling","typeaheadevents"],n[fr()]=[xi,"focusing","keying"],n[wr()]=[xi,"disabling","toggling","representing"],n[or()]=[xi,"representing","streaming","invalidating"],n[Or()]=[xi,"representing","item-events","tooltipping"],n[Xe()]=["focusing",xi,"item-type-events"],n[$e()]=["focusing",xi,"item-type-events"],n[Ze()]=["item-type-events","tooltipping"],n[pr()]=["receiving","reflecting","tooltipping"],n)),Tn()),qn("domModification")]),t)}(t)),o=Qi(t),i=function(t){return t.list}(o),a=function(t){return t.data}(o),u=Zi(r,i,a),c=Yi(u),s=ta(r,i,a),l=ce(r.components),f={getSystem:e.get,config:function(n){var e=a;return(O(e[n.name()])?e[n.name()]:function(){throw new Error("Could not find "+n.name()+" in "+JSON.stringify(t,null,2))})()},hasConfigured:function(t){return O(a[t.name()])},spec:t,readState:function(t){return a[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(t){e.set(t)},disconnect:function(){e.set(ri(n))},element:c,syncComponents:function(){var t=ho(c),n=G(t,(function(t){return e.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}));l.set(n)},components:l.get,events:s};return f},ea=function(t){var n=ei(t),e=n.events,r=d(n,["events"]),o=function(t){var n=Ot(t,"components").getOr([]);return L(n,aa)}(r),i=f(f({},r),{events:f(f({},qo),e),components:o});return it.value(na(i))},ra=function(t){var n=le.fromText(t);return oa({element:n})},oa=function(t){var e=kn("external.component",an([In("element"),qn("uid")]),t),o=ce(ri());e.uid.each((function(t){Zo(e.element,t)}));var i={getSystem:o.get,config:b.none,hasConfigured:c,connect:function(t){o.set(t)},disconnect:function(){o.set(ri((function(){return i})))},getApis:function(){return{}},element:e.element,spec:t,readState:r("No state"),syncComponents:n,components:r([]),events:{}};return ci(i)},ia=ni,aa=function(t){return function(t){return Ot(t,ui)}(t).fold((function(){var n=t.hasOwnProperty("uid")?t:f({uid:ia("")},t);return ea(n).getOrDie()}),(function(t){return t}))},ua=ci,ca=function(t,n){var e=function(e){var r=n(e);if(r<=0||null===r){var o=Vi(e,t);return parseFloat(o)||0}return r},r=function(t,n){return U(n,(function(n,e){var r=Vi(t,e),o=void 0===r?0:parseInt(r,10);return isNaN(o)?n:n+o}),0)};return{set:function(n,e){if(!T(e)&&!e.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+e);var r=n.dom;Mi(r)&&(r.style[t]=e+"px")},get:e,getOuter:e,aggregate:r,max:function(t,n,e){var o=r(t,e);return n>o?n-o:0}}},sa=ca("height",(function(t){var n=t.dom;return Ni(t)?n.getBoundingClientRect().height:n.offsetHeight})),la=function(t){return sa.get(t)},fa=function(t){return sa.getOuter(t)},da=function(t,n){return{left:t,top:n,translate:function(e,r){return da(t+e,n+r)}}},ma=da,pa=function(t,n){return void 0!==t?t:void 0!==n?n:0},ga=function(t){var n=t.dom.ownerDocument,e=n.body,r=n.defaultView,o=n.documentElement;if(e===t.dom)return ma(e.offsetLeft,e.offsetTop);var i=pa(null==r?void 0:r.pageYOffset,o.scrollTop),a=pa(null==r?void 0:r.pageXOffset,o.scrollLeft),u=pa(o.clientTop,e.clientTop),c=pa(o.clientLeft,e.clientLeft);return ha(t).translate(a-c,i-u)},ha=function(t){var n=t.dom,e=n.ownerDocument.body;return e===n?ma(e.offsetLeft,e.offsetTop):Ni(t)?function(t){var n=t.getBoundingClientRect();return ma(n.left,n.top)}(n):ma(0,0)},va=ca("width",(function(t){return t.dom.offsetWidth})),ba=function(t){return va.get(t)},ya=function(t){return va.getOuter(t)},xa=function(t){var n=le.fromDom(function(t){if(xo()&&A(t.target)){var n=le.fromDom(t.target);if(io(n)&&So(n)&&t.composed&&t.composedPath){var e=t.composedPath();if(e)return Z(e)}}return b.from(t.target)}(t).getOr(t.target)),r=function(){return t.stopPropagation()},o=function(){return t.preventDefault()},i=e(o,r);return function(t,n,e,r,o,i,a){return{target:t,x:n,y:e,stop:r,prevent:o,kill:i,raw:a}}(n,t.clientX,t.clientY,r,o,i,t)},wa=function(t,n,e,r,o){var a=function(t,n){return function(e){t(e)&&n(xa(e))}}(e,r);return t.dom.addEventListener(n,a,o),{unbind:i(Ca,t,n,a,o)}},Ca=function(t,n,e,r){t.dom.removeEventListener(n,e,r)},_a=function(t){var n=void 0!==t?t.dom:document,e=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return ma(e,r)},ka=function(t,n,e){var r=(void 0!==e?e.dom:document).defaultView;r&&r.scrollTo(t,n)},Sa=function(t,n,e,r){return{x:t,y:n,width:e,height:r,right:t+e,bottom:n+r}},Aa=function(t){var n=void 0===t?window:t,e=n.document,r=_a(le.fromDom(e));return function(t){var n=void 0===t?window:t;return b.from(n.visualViewport)}(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,o=t.clientHeight;return Sa(r.left,r.top,e,o)}),(function(t){return Sa(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},Oa=function(t,n){return t.view(n).fold(r([]),(function(n){var e=t.owner(n),r=Oa(t,e);return[n].concat(r)}))},Ta=Object.freeze({__proto__:null,view:function(t){var n;return(t.dom===document?b.none():b.from(null===(n=t.dom.defaultView)||void 0===n?void 0:n.frameElement)).map(le.fromDom)},owner:function(t){return so(t)}}),Ea=function(t){var n=le.fromDom(document),e=_a(n);return function(t,n){var e=n.owner(t),r=Oa(n,e);return b.some(r)}(t,Ta).fold(i(ga,t),(function(n){var r=ha(t),o=j(n,(function(t,n){var e=ha(n);return{left:t.left+e.left,top:t.top+e.top}}),{left:0,top:0});return ma(o.left+r.left+e.left,o.top+r.top+e.top)}))},Da=function(t,n,e,r){return{x:t,y:n,width:e,height:r,right:t+e,bottom:n+r}},za=function(t){var n=ga(t),e=ya(t),r=fa(t);return Da(n.left,n.top,e,r)},Ma=function(t){var n=Ea(t),e=ya(t),r=fa(t);return Da(n.left,n.top,e,r)},Na=function(){return Aa(window)};function Ra(t,n,e,r,o){return t(e,r)?b.some(e):O(o)&&o(e)?b.none():n(e,r,o)}var Ba,Pa=function(t,n,e){for(var r=t.dom,o=O(e)?e:c;r.parentNode;){r=r.parentNode;var i=le.fromDom(r);if(n(i))return b.some(i);if(o(i))break}return b.none()},Ia=function(t,n,e){return Ra((function(t,n){return n(t)}),Pa,t,n,e)},La=function(t,n,e){return Ia(t,n,e).isSome()},Ha=function(t,n,e){return Pa(t,(function(t){return Ne(t,n)}),e)},Fa=function(t,n){return function(t,n){var e=void 0===n?document:n.dom;return Re(e)?b.none():b.from(e.querySelector(t)).map(le.fromDom)}(n,t)},Va=function(t,n,e){return Ra((function(t,n){return Ne(t,n)}),Ha,t,n,e)},ja=function(){var t=Ko("aria-owns");return{id:t,link:function(n){Io(n,"aria-owns",t)},unlink:function(t){Vo(t,"aria-owns")}}},Ua=function(t,n){return function(t){return Ia(t,(function(t){if(!io(t))return!1;var n=Lo(t,"id");return void 0!==n&&n.indexOf("aria-owns")>-1})).bind((function(t){var n=Lo(t,"id"),e=wo(t);return Fa(e,'[aria-owns="'+n+'"]')}))}(n).exists((function(n){return Wa(t,n)}))},Wa=function(t,n){return La(n,(function(n){return Be(n,t.element)}),c)||Ua(t,n)};!function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"}(Ba||(Ba={}));var $a,qa=ce({}),Ga=function(t,n,e){switch(Ot(qa.get(),t).orThunk((function(){var n=bt(qa.get());return et(n,(function(n){return t.indexOf(n)>-1?b.some(qa.get()[n]):b.none()}))})).getOr(Ba.NORMAL)){case Ba.NORMAL:return e(Ya());case Ba.LOGGING:var r=function(t,n){var e=[],r=(new Date).getTime();return{logEventCut:function(t,n,r){e.push({outcome:"cut",target:n,purpose:r})},logEventStopped:function(t,n,r){e.push({outcome:"stopped",target:n,purpose:r})},logNoParent:function(t,n,r){e.push({outcome:"no-parent",target:n,purpose:r})},logEventNoHandlers:function(t,n){e.push({outcome:"no-handlers-left",target:n})},logEventResponse:function(t,n,r){e.push({outcome:"response",purpose:r,target:n})},write:function(){var o=(new Date).getTime();R(["mousemove","mouseover","mouseout",wr()],t)||console.log(t,{event:t,time:o-r,target:n.dom,sequence:L(e,(function(t){return R(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Wo(t.target)+")":t.outcome}))})}}}(t,n),o=e(r);return r.write(),o;case Ba.STOP:return!0}},Ka=["alloy/data/Fields","alloy/debugging/Debugging"],Xa=function(t,n,e){return Ga(t,n,e)},Ya=r({logEventCut:n,logEventStopped:n,logNoParent:n,logEventNoHandlers:n,logEventResponse:n,write:n}),Ja=r([In("menu"),In("selectedMenu")]),Qa=r([In("item"),In("selectedItem")]),Za=(r(un(Qa().concat(Ja()))),r(un(Qa()))),tu=Un("initSize",[In("numColumns"),In("numRows")]),nu=function(){return Un("markers",[In("backgroundMenu")].concat(Ja()).concat(Qa()))},eu=function(t){return Un("markers",L(t,In))},ru=function(t,n,e){!function(){var t=new Error;if(void 0!==t.stack){var n=t.stack.split("\n");return W(n,(function(t){return t.indexOf("alloy")>0&&!B(Ka,(function(n){return t.indexOf(n)>-1}))})).getOr("unknown")}}();return pn(n,n,e,xn((function(t){return it.value((function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.apply(void 0,n)}))})))},ou=function(t){return ru(0,t,It(n))},iu=function(t){return ru(0,t,It(b.none))},au=function(t){return ru(0,t,Ht())},uu=function(t){return ru(0,t,Ht())},cu=function(t,n){return ue(t,r(n))},su=function(t){return ue(t,o)},lu=r(tu),fu=function(t,n,e,r,o,i){return{x:t,y:n,bubble:e,direction:r,boundsRestriction:o,label:i}},du=Dt([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),mu=du.southeast,pu=du.southwest,gu=du.northeast,hu=du.northwest,vu=du.south,bu=du.north,yu=du.east,xu=du.west,wu=function(t,n){return function(t,n){for(var e={},r=0,o=t.length;r<o;r++){var i=t[r];e[String(i)]=n(i,r)}return e}(["left","right","top","bottom"],(function(e){return Ot(n,e).map((function(n){return function(t,n){switch(n){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}}(t,n)}))}))},Cu=function(t){return t.x},_u=function(t,n){return t.x+t.width/2-n.width/2},ku=function(t,n){return t.x+t.width-n.width},Su=function(t,n){return t.y-n.height},Au=function(t){return t.y+t.height},Ou=function(t,n){return t.y+t.height/2-n.height/2},Tu=function(t,n,e){return fu(Cu(t),Au(t),e.southeast(),mu(),wu(t,{left:1,top:3}),"layout-se")},Eu=function(t,n,e){return fu(ku(t,n),Au(t),e.southwest(),pu(),wu(t,{right:0,top:3}),"layout-sw")},Du=function(t,n,e){return fu(Cu(t),Su(t,n),e.northeast(),gu(),wu(t,{left:1,bottom:2}),"layout-ne")},zu=function(t,n,e){return fu(ku(t,n),Su(t,n),e.northwest(),hu(),wu(t,{right:0,bottom:2}),"layout-nw")},Mu=function(t,n,e){return fu(_u(t,n),Su(t,n),e.north(),bu(),wu(t,{bottom:2}),"layout-n")},Nu=function(t,n,e){return fu(_u(t,n),Au(t),e.south(),vu(),wu(t,{top:3}),"layout-s")},Ru=function(t,n,e){return fu(function(t){return t.x+t.width}(t),Ou(t,n),e.east(),yu(),wu(t,{left:0}),"layout-e")},Bu=function(t,n,e){return fu(function(t,n){return t.x-n.width}(t,n),Ou(t,n),e.west(),xu(),wu(t,{right:1}),"layout-w")},Pu=function(){return[Tu,Eu,Du,zu,Nu,Mu,Ru,Bu]},Iu=function(){return[Eu,Tu,zu,Du,Nu,Mu,Ru,Bu]},Lu=function(){return[Du,zu,Tu,Eu,Mu,Nu]},Hu=function(){return[zu,Du,Eu,Tu,Mu,Nu]},Fu=function(){return[Tu,Eu,Du,zu,Nu,Mu]},Vu=function(){return[Eu,Tu,zu,Du,Nu,Mu]},ju=Object.freeze({__proto__:null,events:function(t){return jr([$r(pr(),(function(n,e){var r=t.channels,o=bt(r),i=e,a=function(t,n){return n.universal?t:V(t,(function(t){return R(n.channels,t)}))}(o,i);H(a,(function(t){var e=r[t],o=e.schema,a=kn("channel["+t+"] data\nReceiver: "+Wo(n.element),o,i.data);e.onReceive(n,a)}))}))])}}),Uu=[Ln("channels",wn(it.value,an([au("onReceive"),Qn("schema",Tn())])))],Wu=function(t,n,e){return no((function(r,o){e(r,t,n)}))},$u=function(t,n,e){return function(t,n,e){var r=e.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:ii(a.slice(0,1).concat(a.slice(3)))}},t}((function(o){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var u=[o].concat(i);return o.config({name:r(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+e)}),(function(t){var e=Array.prototype.slice.call(u,1);return n.apply(void 0,[o,t.config,t.state].concat(e))}))}),e,n)},qu=function(t){return{key:t,value:void 0}},Gu=function(t,n,e,o,a,u,c){var s=function(t){return Et(t,e)?t[e]():b.none()},l=wt(a,(function(t,n){return $u(e,t,n)})),d=wt(u,(function(t,n){return ai(t,n)})),m=f(f(f({},d),l),{revoke:i(qu,e),config:function(n){var r=kn(e+"-config",t,n);return{key:e,value:{config:r,me:m,configAsRaw:Bt((function(){return kn(e+"-config",t,n)})),initialConfig:n,state:c}}},schema:r(n),exhibit:function(t,n){return s(t).bind((function(t){return Ot(o,"exhibit").map((function(e){return e(n,t.config,t.state)}))})).getOr(mi({}))},name:r(e),handlers:function(t){return s(t).map((function(t){return Ot(o,"events").getOr((function(){return{}}))(t.config,t.state)})).getOr({})}});return m},Ku=function(t){return qt(t)},Xu=an([In("fields"),In("name"),Qn("active",{}),Qn("apis",{}),Qn("state",li),Qn("extra",{})]),Yu=function(t){var n=kn("Creating behaviour: "+t.name,Xu,t);return function(t,n,e,r,o,i){var a,u,c=an(t),s=Jn(n,[(a="config",u=t,Gn(a,an(u)))]);return Gu(c,s,n,e,r,o,i)}(n.fields,n.name,n.active,n.apis,n.extra,n.state)},Ju=an([In("branchKey"),In("branches"),In("name"),Qn("active",{}),Qn("apis",{}),Qn("state",li),Qn("extra",{})]),Qu=function(t){var n=kn("Creating behaviour: "+t.name,Ju,t);return function(t,n,e,r,o,i){var a=t,u=Jn(n,[Gn("config",t)]);return Gu(a,u,n,e,r,o,i)}(On(n.branchKey,n.branches),n.name,n.active,n.apis,n.extra,n.state)},Zu=r(void 0),tc=Yu({fields:Uu,name:"receiving",active:ju}),nc=Object.freeze({__proto__:null,exhibit:function(t,n){return mi({classes:[],styles:n.useFixed()?{}:{position:"relative"}})}}),ec=function(t){return t.dom.focus()},rc=function(t){return void 0===t&&(t=le.fromDom(document)),b.from(t.dom.activeElement).map(le.fromDom)},oc=function(t){return rc(wo(t)).filter((function(n){return t.dom.contains(n.dom)}))},ic=function(t,e){var r=wo(e),o=rc(r).bind((function(t){var n,r,o=function(n){return Be(t,n)};return o(e)?b.some(e):(n=o,(r=function(t){for(var e=0;e<t.childNodes.length;e++){var o=le.fromDom(t.childNodes[e]);if(n(o))return b.some(o);var i=r(t.childNodes[e]);if(i.isSome())return i}return b.none()})(e.dom))})),i=t(e);return o.each((function(t){rc(r).filter((function(n){return Be(n,t)})).fold((function(){ec(t)}),n)})),i},ac=function(t,n,e,r,o){return{position:t,left:n,top:e,right:r,bottom:o}},uc=function(t,n){var e=function(t){return t+"px"};Fi(t,{position:b.some(n.position),left:n.left.map(e),top:n.top.map(e),right:n.right.map(e),bottom:n.bottom.map(e)})},cc=Dt([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),sc=function(t,n,e,r,o,i){var a=n.x-e,u=n.y-r,c=o-(a+n.width),s=i-(u+n.height),l=b.some(a),f=b.some(u),d=b.some(c),m=b.some(s),p=b.none();return function(t,n,e,r,o,i,a,u,c){return t.fold(n,e,r,o,i,a,u,c)}(n.direction,(function(){return ac(t,l,f,p,p)}),(function(){return ac(t,p,f,d,p)}),(function(){return ac(t,l,p,p,m)}),(function(){return ac(t,p,p,d,m)}),(function(){return ac(t,l,f,p,p)}),(function(){return ac(t,l,p,p,m)}),(function(){return ac(t,l,f,p,p)}),(function(){return ac(t,p,f,d,p)}))},lc=function(t,n){var e=i(Ea,n),r=t.fold(e,e,(function(){var t=_a();return Ea(n).translate(-t.left,-t.top)})),o=ya(n),a=fa(n);return Da(r.left,r.top,o,a)},fc=function(t,n){return n.fold((function(){return t.fold(Na,Na,Da)}),(function(n){return t.fold(n,n,(function(){var e=n(),r=dc(t,e.x,e.y);return Da(r.left,r.top,e.width,e.height)}))}))},dc=function(t,n,e){var o=ma(n,e);return t.fold(r(o),r(o),(function(){var t=_a();return o.translate(-t.left,-t.top)}))},mc=(cc.none,cc.relative),pc=cc.fixed,gc=function(t,n){return function(t,n){return{anchorBox:t,origin:n}}(t,n)},hc=function(t,n,e,r){var o=t+n;return o>r?e:o<e?r:o},vc=function(t,n,e){return Math.min(Math.max(t,n),e)},bc=Dt([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),yc=function(t,n,e,i){var a=t.x,u=t.y,c=t.bubble.offset,s=c.left,l=c.top,f=function(t,n,e){var r=function(t,r){var i="top"===t||"bottom"===t?e.top:e.left;return Ot(n,t).bind(o).bind((function(n){return"left"===t||"top"===t?n>=r?b.some(n):b.none():n<=r?b.some(n):b.none()})).map((function(t){return t+i})).getOr(r)},i=r("left",t.x),a=r("top",t.y),u=r("right",t.right),c=r("bottom",t.bottom);return Da(i,a,u-i,c-a)}(i,t.boundsRestriction,c),d=f.y,m=f.bottom,p=f.x,g=f.right,h=u+l,v=function(t,n,e,r,o){var i=o.x,a=o.y,u=o.width,c=o.height,s=t>=i,l=n>=a,f=s&&l,d=t+e<=i+u&&n+r<=a+c,m=Math.abs(Math.min(e,s?i+u-t:i-(t+e))),p=Math.abs(Math.min(r,l?a+c-n:a-(n+r))),g=Math.max(o.x,o.right-e),h=Math.max(o.y,o.bottom-r);return{originInBounds:f,sizeInBounds:d,limitX:vc(t,o.x,g),limitY:vc(n,o.y,h),deltaW:m,deltaH:p}}(a+s,h,n,e,f),y=v.originInBounds,x=v.sizeInBounds,w=v.limitX,C=v.limitY,_=v.deltaW,k=v.deltaH,S=r(C+k-d),A=r(m-C),O=function(t,n,e,r){return t.fold(n,n,r,r,n,r,e,e)}(t.direction,A,A,S),T=r(w+_-p),E=r(g-w),D={x:w,y:C,width:_,height:k,maxHeight:O,maxWidth:function(t,n,e,r){return t.fold(n,r,n,r,e,e,n,r)}(t.direction,E,E,T),direction:t.direction,classes:{on:t.bubble.classesOn,off:t.bubble.classesOff},label:t.label,candidateYforTest:h};return y&&x?bc.fit(D):bc.nofit(D,_,k)},xc=function(t,n,e,r){qi(n,"max-height"),qi(n,"max-width");var a,u={width:ya(a=n),height:fa(a)};return function(t,n,e,r,a){var u=e.width,c=e.height,s=function(t,o,i,s){var l=t(n,e,r);return yc(l,u,c,a).fold(bc.fit,(function(t,n,e){return e>s||n>i?bc.nofit(t,n,e):bc.nofit(o,i,s)}))};return U(t,(function(t,n){var e=i(s,n);return t.fold(bc.fit,e)}),bc.nofit({x:n.x,y:n.y,width:e.width,height:e.height,maxHeight:e.height,maxWidth:e.width,direction:mu(),classes:{on:[],off:[]},label:"none",candidateYforTest:n.y},-1,-1)).fold(o,o)}(r.preference,t,u,e,r.bounds)},wc=function(t,n,e){uc(t,function(t,n){return t.fold((function(){return ac("absolute",b.some(n.x),b.some(n.y),b.none(),b.none())}),(function(t,e,r,o){return sc("absolute",n,t,e,r,o)}),(function(t,e,r,o){return sc("fixed",n,t,e,r,o)}))}(e.origin,n))},Cc=function(t,n){!function(t,n){var e=sa.max(t,n,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Li(t,"max-height",e+"px")}(t,Math.floor(n))},_c=r((function(t,n){Cc(t,n),Hi(t,{"overflow-x":"hidden","overflow-y":"auto"})})),kc=r((function(t,n){Cc(t,n)})),Sc=function(t,n,e){return void 0===t[n]?e:t[n]},Ac=function(t,n,e,r){var o=xc(t,n,e,r);wc(n,o,r),function(t,n){var e=n.classes;zi(t,e.off),Di(t,e.on)}(n,o),function(t,n,e){(0,e.maxHeightFunction)(t,n.maxHeight)}(n,o,r),function(t,n,e){(0,e.maxWidthFunction)(t,n.maxWidth)}(n,o,r)},Oc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Tc=function(t,n,e){var r=function(t){return Ot(e,t).getOr([])},o=function(t,n,e){var o=Y(Oc,e);return{offset:ma(t,n),classesOn:G(e,r),classesOff:G(o,r)}};return{southeast:function(){return o(-t,n,["top","alignLeft"])},southwest:function(){return o(t,n,["top","alignRight"])},south:function(){return o(-t/2,n,["top","alignCentre"])},northeast:function(){return o(-t,-n,["bottom","alignLeft"])},northwest:function(){return o(t,-n,["bottom","alignRight"])},north:function(){return o(-t/2,-n,["bottom","alignCentre"])},east:function(){return o(t,-n/2,["valignCentre","left"])},west:function(){return o(-t,-n/2,["valignCentre","right"])},innerNorthwest:function(){return o(-t,n,["top","alignRight"])},innerNortheast:function(){return o(t,n,["top","alignLeft"])},innerNorth:function(){return o(-t/2,n,["top","alignCentre"])},innerSouthwest:function(){return o(-t,-n,["bottom","alignRight"])},innerSoutheast:function(){return o(t,-n,["bottom","alignLeft"])},innerSouth:function(){return o(-t/2,-n,["bottom","alignCentre"])},innerWest:function(){return o(t,-n/2,["valignCentre","right"])},innerEast:function(){return o(-t,-n/2,["valignCentre","left"])}}},Ec=function(){return Tc(0,0,{})},Dc=function(t,n){return function(e){return"rtl"===zc(e)?n:t}},zc=function(t){return"rtl"===Vi(t,"direction")?"rtl":"ltr"};!function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"}($a||($a={}));var Mc,Nc="data-alloy-vertical-dir",Rc=function(t){return La(t,(function(t){return io(t)&&Lo(t,"data-alloy-vertical-dir")===$a.BottomToTop}))},Bc=function(){return Jn("layouts",[In("onLtr"),In("onRtl"),qn("onBottomLtr"),qn("onBottomRtl")])},Pc=function(t,n,e,r,o,i,a){var u=a.map(Rc).getOr(!1),c=n.layouts.map((function(n){return n.onLtr(t)})),s=n.layouts.map((function(n){return n.onRtl(t)})),l=u?n.layouts.bind((function(n){return n.onBottomLtr.map((function(n){return n(t)}))})).or(c).getOr(o):c.getOr(e),f=u?n.layouts.bind((function(n){return n.onBottomRtl.map((function(n){return n(t)}))})).or(s).getOr(i):s.getOr(r);return Dc(l,f)(t)},Ic=[In("hotspot"),qn("bubble"),Qn("overrides",{}),Bc(),cu("placement",(function(t,n,e){var r=n.hotspot,o=lc(e,r.element),i=Pc(t.element,n,Fu(),Vu(),Lu(),Hu(),b.some(n.hotspot.element));return b.some({anchorBox:o,bubble:n.bubble.getOr(Ec()),overrides:n.overrides,layouts:i,placer:b.none()})}))],Lc=[In("x"),In("y"),Qn("height",0),Qn("width",0),Qn("bubble",Ec()),Qn("overrides",{}),Bc(),cu("placement",(function(t,n,e){var r=dc(e,n.x,n.y),o=Da(r.left,r.top,n.width,n.height),i=Pc(t.element,n,Pu(),Iu(),Pu(),Iu(),b.none());return b.some({anchorBox:o,bubble:n.bubble,overrides:n.overrides,layouts:i,placer:b.none()})}))],Hc=Dt([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Fc=function(t){return t.fold(o,(function(t,n,e){return t.translate(-n,-e)}))},Vc=function(t){return t.fold(o,o)},jc=function(t){return U(t,(function(t,n){return t.translate(n.left,n.top)}),ma(0,0))},Uc=function(t){var n=L(t,Vc);return jc(n)},Wc=Hc.screen,$c=Hc.absolute,qc=function(t,n,e){var r=so(t.element),o=_a(r),i=function(t,n,e){var r=mo(e.root).dom;return b.from(r.frameElement).map(le.fromDom).filter((function(n){var e=so(n),r=so(t.element);return Be(e,r)})).map(ga)}(t,0,e).getOr(o);return $c(i,o.left,o.top)},Gc=function(t,n,e,r){var o=t,i=n,a=e,u=r;t<0&&(o=0,a=e+t),n<0&&(i=0,u=r+n);var c=Wc(ma(o,i));return b.some(function(t,n,e){return{point:t,width:n,height:e}}(c,a,u))},Kc=function(t,n,e,r,o){return t.map((function(t){var i,a,u,c=[n,t.point],s=(i=function(){return Uc(c)},a=function(){return Uc(c)},u=function(){return function(t){var n=L(t,Fc);return jc(n)}(c)},r.fold(i,a,u)),l=function(t,n,e,r){return{x:t,y:n,width:e,height:r}}(s.left,s.top,t.width,t.height),f=e.showAbove?Lu():Fu(),d=e.showAbove?Hu():Vu(),m=Pc(o,e,f,d,f,d,b.none());return{anchorBox:l,bubble:e.bubble.getOr(Ec()),overrides:e.overrides,layouts:m,placer:b.none()}}))},Xc=[In("node"),In("root"),qn("bubble"),Bc(),Qn("overrides",{}),Qn("showAbove",!1),cu("placement",(function(t,n,e){var r=qc(t,0,n);return n.node.filter(Ni).bind((function(o){var i=o.dom.getBoundingClientRect(),a=Gc(i.left,i.top,i.width,i.height),u=n.node.getOr(t.element);return Kc(a,r,n,e,u)}))}))],Yc=function(t,n,e,r){return{start:t,soffset:n,finish:e,foffset:r}},Jc=Dt([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Qc=(Jc.before,Jc.on,Jc.after,function(t){return t.fold(o,o,o)}),Zc=Dt([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ts=Zc.domRange,ns=Zc.relative,es=Zc.exact,rs=Yc,os={domRange:ts,relative:ns,exact:es,exactFromRange:function(t){return Zc.exact(t.start,t.soffset,t.finish,t.foffset)},getWin:function(t){var n=function(t){return t.match({domRange:function(t){return le.fromDom(t.startContainer)},relative:function(t,n){return Qc(t)},exact:function(t,n,e,r){return t}})}(t);return mo(n)},range:rs},is=function(t,n,e){var r,o=t.document.createRange();return r=o,n.fold((function(t){r.setStartBefore(t.dom)}),(function(t,n){r.setStart(t.dom,n)}),(function(t){r.setStartAfter(t.dom)})),function(t,n){n.fold((function(n){t.setEndBefore(n.dom)}),(function(n,e){t.setEnd(n.dom,e)}),(function(n){t.setEndAfter(n.dom)}))}(o,e),o},as=function(t,n,e,r,o){var i=t.document.createRange();return i.setStart(n.dom,e),i.setEnd(r.dom,o),i},us=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},cs=Dt([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ss=function(t,n,e){return n(le.fromDom(e.startContainer),e.startOffset,le.fromDom(e.endContainer),e.endOffset)},ls=function(t,n){return function(t,n){var e=n.ltr();return e.collapsed?n.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return cs.rtl(le.fromDom(t.endContainer),t.endOffset,le.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return ss(0,cs.ltr,e)})):ss(0,cs.ltr,e)}(0,function(t,n){return n.match({domRange:function(t){return{ltr:r(t),rtl:b.none}},relative:function(n,e){return{ltr:Bt((function(){return is(t,n,e)})),rtl:Bt((function(){return b.some(is(t,e,n))}))}},exact:function(n,e,r,o){return{ltr:Bt((function(){return as(t,n,e,r,o)})),rtl:Bt((function(){return b.some(as(t,r,o,n,e))}))}}})}(t,n))},fs=(cs.ltr,cs.rtl,function(t,n){var e=function(n){return t(n)?b.from(n.dom.nodeValue):b.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+n+" value of a "+n+" node");return e(r).getOr("")},getOption:e,set:function(e,r){if(!t(e))throw new Error("Can only set raw "+n+" value of a "+n+" node");e.dom.nodeValue=r}}}(ao,"text")),ds=function(t){return fs.getOption(t)},ms=["img","br"],ps=function(t){return ds(t).filter((function(t){return 0!==t.trim().length||t.indexOf(" ")>-1})).isSome()||R(ms,ro(t))},gs=function(t,n){var e=function(t){for(var r=ho(t),o=r.length-1;o>=0;o--){var i=r[o];if(n(i))return b.some(i);var a=e(i);if(a.isSome())return a}return b.none()};return e(t)},hs=function(t,n){return function(t,n){var e=void 0===n?document:n.dom;return Re(e)?[]:L(e.querySelectorAll(t),le.fromDom)}(n,t)},vs=function(t,n,e,r){var o=function(t,n,e,r){var o=so(t).dom.createRange();return o.setStart(t.dom,n),o.setEnd(e.dom,r),o}(t,n,e,r),i=Be(t,e)&&n===r;return o.collapsed&&!i},bs=function(t){if(t.rangeCount>0){var n=t.getRangeAt(0),e=t.getRangeAt(t.rangeCount-1);return b.some(Yc(le.fromDom(n.startContainer),n.startOffset,le.fromDom(e.endContainer),e.endOffset))}return b.none()},ys=function(t){if(null===t.anchorNode||null===t.focusNode)return bs(t);var n=le.fromDom(t.anchorNode),e=le.fromDom(t.focusNode);return vs(n,t.anchorOffset,e,t.focusOffset)?b.some(Yc(n,t.anchorOffset,e,t.focusOffset)):bs(t)},xs=function(t){return function(t){return b.from(t.getSelection())}(t).filter((function(t){return t.rangeCount>0})).bind(ys)},ws=function(t,n){return function(t){var n=t.getClientRects(),e=n.length>0?n[0]:t.getBoundingClientRect();return e.width>0||e.height>0?b.some(e).map(us):b.none()}(function(t,n){return ls(t,n).match({ltr:function(n,e,r,o){var i=t.document.createRange();return i.setStart(n.dom,e),i.setEnd(r.dom,o),i},rtl:function(n,e,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(n.dom,e),i}})}(t,n))},Cs=function(t,n){return{element:t,offset:n}},_s=function(t,n){var e=ho(t);if(0===e.length)return Cs(t,n);if(n<e.length)return Cs(e[n],0);var r=e[e.length-1],o=ao(r)?function(t){return fs.get(t)}(r).length:ho(r).length;return Cs(r,o)},ks=function(t,n){return ao(t)?Cs(t,n):_s(t,n)},Ss=function(t,n){return n.getSelection.getOrThunk((function(){return function(){return xs(t)}}))().map((function(t){var n=ks(t.start,t.soffset),e=ks(t.finish,t.foffset);return os.range(n.element,n.offset,e.element,e.offset)}))},As=[qn("getSelection"),In("root"),qn("bubble"),Bc(),Qn("overrides",{}),Qn("showAbove",!1),cu("placement",(function(t,n,e){var r=mo(n.root).dom,o=qc(t,0,n),i=Ss(r,n).bind((function(t){return ws(r,os.exactFromRange(t)).orThunk((function(){var n=le.fromText("\ufeff");return Ao(t.start,n),ws(r,os.exact(n,0,n,1)).map((function(t){return Mo(n),t}))})).bind((function(t){return Gc(t.left,t.top,t.width,t.height)}))})),a=Ss(r,n).bind((function(t){return io(t.start)?b.some(t.start):function(t){return po(t)}(t.start)})).getOr(t.element);return Kc(i,o,n,e,a)}))],Os=function(t){return t.x+t.width},Ts=function(t,n){return t.x-n.width},Es=function(t,n){return t.y-n.height+t.height},Ds=function(t){return t.y},zs=function(t,n,e){return fu(Os(t),Ds(t),e.southeast(),mu(),wu(t,{left:0,top:2}),"link-layout-se")},Ms=function(t,n,e){return fu(Ts(t,n),Ds(t),e.southwest(),pu(),wu(t,{right:1,top:2}),"link-layout-sw")},Ns=function(t,n,e){return fu(Os(t),Es(t,n),e.northeast(),gu(),wu(t,{left:0,bottom:3}),"link-layout-ne")},Rs=function(t,n,e){return fu(Ts(t,n),Es(t,n),e.northwest(),hu(),wu(t,{right:1,bottom:3}),"link-layout-nw")},Bs=function(){return[zs,Ms,Ns,Rs]},Ps=function(){return[Ms,zs,Rs,Ns]},Is=[In("item"),Bc(),Qn("overrides",{}),cu("placement",(function(t,n,e){var r=lc(e,n.item.element),o=Pc(t.element,n,Bs(),Ps(),Bs(),Ps(),b.none());return b.some({anchorBox:r,bubble:Ec(),overrides:n.overrides,layouts:o,placer:b.none()})}))],Ls=On("anchor",{selection:As,node:Xc,hotspot:Ic,submenu:Is,makeshift:Lc}),Hs=function(t,e,r,o,i){!function(t,e,r,o,i,a){var u=Sc(a,"maxHeightFunction",_c()),c=Sc(a,"maxWidthFunction",n),s=t.anchorBox,l=t.origin,f={bounds:fc(l,i),origin:l,preference:o,maxHeightFunction:u,maxWidthFunction:c};Ac(s,e,r,f)}(gc(r.anchorBox,e),i.element,r.bubble,r.layouts,o,r.overrides)},Fs=function(t,n,e,r,o,i){var a=i.map(za);return Vs(t,n,e,r,o,a)},Vs=function(t,n,e,o,i,a){var u=kn("positioning anchor.info",Ls,o);ic((function(){Li(i.element,"position","fixed");var e=Ui(i.element,"visibility");Li(i.element,"visibility","hidden");var o,c=n.useFixed()?(o=document.documentElement,pc(0,0,o.clientWidth,o.clientHeight)):function(t){var n=ga(t.element),e=t.element.dom.getBoundingClientRect();return mc(n.left,n.top,e.width,e.height)}(t),s=u.placement,l=a.map(r).or(n.getBounds);s(t,u,c).each((function(n){n.placer.getOr(Hs)(t,c,n,l,i)})),e.fold((function(){qi(i.element,"visibility")}),(function(t){Li(i.element,"visibility",t)})),Ui(i.element,"left").isNone()&&Ui(i.element,"top").isNone()&&Ui(i.element,"right").isNone()&&Ui(i.element,"bottom").isNone()&&Ui(i.element,"position").is("fixed")&&qi(i.element,"position")}),i.element)},js=Object.freeze({__proto__:null,position:function(t,n,e,r,o){Fs(t,n,e,r,o,b.none())},positionWithin:Fs,positionWithinBounds:Vs,getMode:function(t,n,e){return n.useFixed()?"fixed":"absolute"}}),Us=[Qn("useFixed",c),qn("getBounds")],Ws=Yu({fields:Us,name:"positioning",active:nc,apis:js}),$s=function(t){Pr(t,Or());var n=t.components();H(n,$s)},qs=function(t){var n=t.components();H(n,qs),Pr(t,Ar())},Gs=function(t,n){Eo(t.element,n.element)},Ks=function(t,n){var e=t.components();!function(t){H(t.components(),(function(t){return Mo(t.element)})),zo(t.element),t.syncComponents()}(t);var r=Y(e,n);H(r,(function(n){$s(n),t.getSystem().removeFromWorld(n)})),H(n,(function(n){n.getSystem().isConnected()?Gs(t,n):(t.getSystem().addToWorld(n),Gs(t,n),Ni(t.element)&&qs(n)),t.syncComponents()}))},Xs=function(t,n){Ys(t,n,Eo)},Ys=function(t,n,e){t.getSystem().addToWorld(n),e(t.element,n.element),Ni(t.element)&&qs(n),t.syncComponents()},Js=function(t){$s(t),Mo(t.element),t.getSystem().removeFromWorld(t)},Qs=function(t){var n=po(t.element).bind((function(n){return t.getSystem().getByDom(n).toOptional()}));Js(t),n.each((function(t){t.syncComponents()}))},Zs=function(t){var n=t.components();H(n,Js),zo(t.element),t.syncComponents()},tl=function(t,n){nl(t,n,Eo)},nl=function(t,n,e){e(t,n.element);var r=ho(n.element);H(r,(function(t){n.getByDom(t).each(qs)}))},el=function(t){var n=ho(t.element);H(n,(function(n){t.getByDom(n).each($s)})),Mo(t.element)},rl=function(t,n,e,r){e.get().each((function(n){Zs(t)}));var o=n.getAttachPoint(t);Xs(o,t);var i=t.getSystem().build(r);return Xs(t,i),e.set(i),i},ol=function(t,n,e,r){var o=rl(t,n,e,r);return n.onOpen(t,o),o},il=function(t,n,e){e.get().each((function(r){Zs(t),Qs(t),n.onClose(t,r),e.clear()}))},al=function(t,n,e){return e.isOpen()},ul=function(t,n,e){var r=n.getAttachPoint(t);Li(t.element,"position",Ws.getMode(r)),function(t,n,e,r){Ui(t.element,n).fold((function(){Vo(t.element,e)}),(function(n){Io(t.element,e,n)})),Li(t.element,n,r)}(t,"visibility",n.cloakVisibilityAttr,"hidden")},cl=function(t,n,e){(function(t){return B(["top","left","right","bottom"],(function(n){return Ui(t,n).isSome()}))})(t.element)||qi(t.element,"position"),function(t,n,e){Ho(t.element,e).fold((function(){return qi(t.element,n)}),(function(e){return Li(t.element,n,e)}))}(t,"visibility",n.cloakVisibilityAttr)},sl=Object.freeze({__proto__:null,cloak:ul,decloak:cl,open:ol,openWhileCloaked:function(t,n,e,r,o){ul(t,n),ol(t,n,e,r),o(),cl(t,n)},close:il,isOpen:al,isPartOf:function(t,n,e,r){return al(0,0,e)&&e.get().exists((function(e){return n.isPartOf(t,e,r)}))},getState:function(t,n,e){return e.get()},setContent:function(t,n,e,r){return e.get().map((function(){return rl(t,n,e,r)}))}}),ll=Object.freeze({__proto__:null,events:function(t,n){return jr([$r(yr(),(function(e,r){il(e,t,n)}))])}}),fl=[ou("onOpen"),ou("onClose"),In("isPartOf"),In("getAttachPoint"),Qn("cloakVisibilityAttr","data-precloak-visibility")],dl=Yu({fields:fl,name:"sandboxing",active:ll,apis:sl,state:Object.freeze({__proto__:null,init:function(){var t=ce(b.none()),n=r("not-implemented");return fi({readState:n,isOpen:function(){return t.get().isSome()},clear:function(){t.set(b.none())},set:function(n){t.set(b.some(n))},get:function(){return t.get()}})}})}),ml=r("dismiss.popups"),pl=r("reposition.popups"),gl=r("mouse.released"),hl=an([Qn("isExtraPart",c),Jn("fireEventInstead",[Qn("event",Tr())])]),vl=function(t){var n,e=kn("Dismissal",hl,t);return(n={})[ml()]={schema:an([In("target")]),onReceive:function(t,n){dl.isOpen(t)&&(dl.isPartOf(t,n.target)||e.isExtraPart(t,n.target)||e.fireEventInstead.fold((function(){return dl.close(t)}),(function(n){return Pr(t,n.event)})))}},n},bl=an([Jn("fireEventInstead",[Qn("event",Er())]),jn("doReposition")]),yl=function(t){var n,e=kn("Reposition",bl,t);return(n={})[pl()]={onReceive:function(t){dl.isOpen(t)&&e.fireEventInstead.fold((function(){return e.doReposition(t)}),(function(n){return Pr(t,n.event)}))}},n},xl=function(t,n,e){n.store.manager.onLoad(t,n,e)},wl=function(t,n,e){n.store.manager.onUnload(t,n,e)},Cl=Object.freeze({__proto__:null,onLoad:xl,onUnload:wl,setValue:function(t,n,e,r){n.store.manager.setValue(t,n,e,r)},getValue:function(t,n,e){return n.store.manager.getValue(t,n,e)},getState:function(t,n,e){return e}}),_l=Object.freeze({__proto__:null,events:function(t,n){var e=t.resetOnDom?[Zr((function(e,r){xl(e,t,n)})),to((function(e,r){wl(e,t,n)}))]:[Wu(t,n,xl)];return jr(e)}}),kl=function(){var t=ce(null);return fi({set:t.set,get:t.get,isNotSet:function(){return null===t.get()},clear:function(){t.set(null)},readState:function(){return{mode:"memory",value:t.get()}}})},Sl=function(){var t=ce({}),n=ce({});return fi({readState:function(){return{mode:"dataset",dataByValue:t.get(),dataByText:n.get()}},lookup:function(e){return Ot(t.get(),e).orThunk((function(){return Ot(n.get(),e)}))},update:function(e){var r=t.get(),o=n.get(),i={},a={};H(e,(function(t){i[t.value]=t,Ot(t,"meta").each((function(n){Ot(n,"text").each((function(n){a[n]=t}))}))})),t.set(f(f({},r),i)),n.set(f(f({},o),a))},clear:function(){t.set({}),n.set({})}})},Al=Object.freeze({__proto__:null,memory:kl,dataset:Sl,manual:function(){return fi({readState:n})},init:function(t){return t.store.manager.state(t)}}),Ol=function(t,n,e,r){var o=n.store;e.update([r]),o.setValue(t,r),n.onSetValue(t,r)},Tl=[qn("initialValue"),In("getFallbackEntry"),In("getDataKey"),In("setValue"),cu("manager",{setValue:Ol,getValue:function(t,n,e){var r=n.store,o=r.getDataKey(t);return e.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))},onLoad:function(t,n,e){n.store.initialValue.each((function(r){Ol(t,n,e,r)}))},onUnload:function(t,n,e){e.clear()},state:Sl})],El=[In("getValue"),Qn("setValue",n),qn("initialValue"),cu("manager",{setValue:function(t,n,e,r){n.store.setValue(t,r),n.onSetValue(t,r)},getValue:function(t,n,e){return n.store.getValue(t)},onLoad:function(t,n,e){n.store.initialValue.each((function(e){n.store.setValue(t,e)}))},onUnload:n,state:li.init})],Dl=[qn("initialValue"),cu("manager",{setValue:function(t,n,e,r){e.set(r),n.onSetValue(t,r)},getValue:function(t,n,e){return e.get()},onLoad:function(t,n,e){n.store.initialValue.each((function(t){e.isNotSet()&&e.set(t)}))},onUnload:function(t,n,e){e.clear()},state:kl})],zl=[Zn("store",{mode:"memory"},On("mode",{memory:Dl,manual:El,dataset:Tl})),ou("onSetValue"),Qn("resetOnDom",!1)],Ml=Yu({fields:zl,name:"representing",active:_l,apis:Cl,extra:{setValueFrom:function(t,n){var e=Ml.getValue(n);Ml.setValue(t,e)}},state:Al}),Nl=function(t,n){return ae(t,{},L(n,(function(n){return e=n.name(),r="Cannot configure "+n.name()+" for "+t,pn(e,e,Ft(),rn((function(t){return mt("The field: "+e+" is forbidden. "+r)})));var e,r})).concat([ue("dump",o)]))},Rl=function(t){return t.dump},Bl=function(t,n){return f(f({},t.dump),Ku(n))},Pl=Nl,Il=Bl,Ll=Dt([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Hl=function(t){return Tt(t,"uiType")},Fl=function(t,n,e,o){return Hl(e)&&"placeholder"===e.uiType?function(t,n,e,o){return t.exists((function(t){return t!==e.owner}))?Ll.single(!0,r(e)):Ot(o,e.name).fold((function(){throw new Error("Unknown placeholder component: "+e.name+"\nKnown: ["+bt(o)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(e,null,2))}),(function(t){return t.replace()}))}(t,0,e,o):Ll.single(!1,r(e))},Vl=function(t,n,e,r){return Fl(t,0,e,r).fold((function(o,i){var a=Hl(e)?i(n,e.config,e.validated):i(n),u=Ot(a,"components").getOr([]),c=G(u,(function(e){return Vl(t,n,e,r)}));return[f(f({},a),{components:c})]}),(function(t,r){if(Hl(e)){var i=r(n,e.config,e.validated);return e.validated.preprocess.getOr(o)(i)}return r(n)}))},jl=function(t,n,e,o){var i=wt(o,(function(t,n){return o=t,i=!1,{name:r(e=n),required:function(){return o.fold((function(t,n){return t}),(function(t,n){return t}))},used:function(){return i},replace:function(){if(i)throw new Error("Trying to use the same placeholder more than once: "+e);return i=!0,o}};var e,o,i})),a=function(t,n,e,r){return G(e,(function(e){return Vl(t,n,e,r)}))}(t,n,e,i);return xt(i,(function(e){if(!1===e.used()&&e.required())throw new Error("Placeholder: "+e.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(n.components,null,2))})),a},Ul=Ll.single,Wl=Ll.multiple,$l=r("placeholder"),ql=Dt([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Gl=Qn("factory",{sketch:o}),Kl=Qn("schema",[]),Xl=In("name"),Yl=pn("pname","pname",Vt((function(t){return"<alloy."+Ko(t.name)+">"})),Tn()),Jl=ue("schema",(function(){return[qn("preprocess")]})),Ql=Qn("defaults",r({})),Zl=Qn("overrides",r({})),tf=un([Gl,Kl,Xl,Yl,Ql,Zl]),nf=un([Gl,Kl,Xl,Ql,Zl]),ef=un([Gl,Kl,Xl,Yl,Ql,Zl]),rf=un([Gl,Jl,Xl,In("unit"),Yl,Ql,Zl]),of=function(t){return t.fold(b.some,b.none,b.some,b.some)},af=function(t){var n=function(t){return t.name};return t.fold(n,n,n,n)},uf=function(t,n){return function(e){var r=kn("Converting part type",n,e);return t(r)}},cf=uf(ql.required,tf),sf=uf(ql.external,nf),lf=uf(ql.optional,ef),ff=uf(ql.group,rf),df=r("entirety"),mf=Object.freeze({__proto__:null,required:cf,external:sf,optional:lf,group:ff,asNamedPart:of,name:af,asCommon:function(t){return t.fold(o,o,o,o)},original:df}),pf=function(t,n,e,r){return Nt(n.defaults(t,e,r),e,{uid:t.partUids[n.name]},n.overrides(t,e,r))},gf=function(t,n){var e={};return H(n,(function(n){of(n).each((function(n){var r=hf(t,n.pname);e[n.name]=function(e){var o=kn("Part: "+n.name+" in "+t,un(n.schema),e);return f(f({},r),{config:e,validated:o})}}))})),e},hf=function(t,n){return{uiType:$l(),owner:t,name:n}},vf=function(t,n,e){return{uiType:$l(),owner:t,name:n,config:e,validated:{}}},bf=function(t){return G(t,(function(t){return t.fold(b.none,b.some,b.none,b.none).map((function(t){return Un(t.name,t.schema.concat([su(df())]))})).toArray()}))},yf=function(t){return L(t,af)},xf=function(t,n,e){return function(t,n,e){var o={},i={};return H(e,(function(t){t.fold((function(t){o[t.pname]=Ul(!0,(function(n,e,r){return t.factory.sketch(pf(n,t,e,r))}))}),(function(t){var e=n.parts[t.name];i[t.name]=r(t.factory.sketch(pf(n,t,e[df()]),e))}),(function(t){o[t.pname]=Ul(!1,(function(n,e,r){return t.factory.sketch(pf(n,t,e,r))}))}),(function(t){o[t.pname]=Wl(!0,(function(n,e,r){var o=n[t.name];return L(o,(function(e){return t.factory.sketch(Nt(t.defaults(n,e,r),e,t.overrides(n,e)))}))}))}))})),{internals:r(o),externals:r(i)}}(0,n,e)},wf=function(t,n,e){return jl(b.some(t),n,n.components,e)},Cf=function(t,n,e){var r=n.partUids[e];return t.getSystem().getByUid(r).toOptional()},_f=function(t,n,e){return Cf(t,n,e).getOrDie("Could not find part: "+e)},kf=function(t,n,e){var o={},i=n.partUids,a=t.getSystem();return H(e,(function(t){o[t]=r(a.getByUid(i[t]))})),o},Sf=function(t,n){var e=t.getSystem();return wt(n.partUids,(function(t,n){return r(e.getByUid(t))}))},Af=function(t){return bt(t.partUids)},Of=function(t,n,e){var o={},i=n.partUids,a=t.getSystem();return H(e,(function(t){o[t]=r(a.getByUid(i[t]).getOrDie())})),o},Tf=function(t,n){var e=yf(n);return qt(L(e,(function(n){return{key:n,value:t+"-"+n}})))},Ef=function(t){return pn("partUids","partUids",jt((function(n){return Tf(n.uid,t)})),Tn())},Df=Object.freeze({__proto__:null,generate:gf,generateOne:vf,schemas:bf,names:yf,substitutes:xf,components:wf,defaultUids:Tf,defaultUidsSchema:Ef,getAllParts:Sf,getAllPartNames:Af,getPart:Cf,getPartOrDie:_f,getParts:kf,getPartsOrDie:Of}),zf=function(t,n,e,r,o){var i=function(t,n){return(t.length>0?[Un("parts",t)]:[]).concat([In("uid"),Qn("dom",{}),Qn("components",[]),su("originalSpec"),Qn("debug.sketcher",{})]).concat(n)}(r,o);return kn(t+" [SpecSchema]",an(i.concat(n)),e)},Mf=function(t,n,e,r,o){var i=Nf(o),a=bf(e),u=Ef(e),c=zf(t,n,i,a,[u]),s=xf(0,c,e);return r(c,wf(t,c,s.internals()),i,s.externals())},Nf=function(t){return function(t){return Tt(t,"uid")}(t)?t:f(f({},t),{uid:ni("uid")})},Rf=an([In("name"),In("factory"),In("configFields"),Qn("apis",{}),Qn("extraApis",{})]),Bf=an([In("name"),In("factory"),In("configFields"),In("partFields"),Qn("apis",{}),Qn("extraApis",{})]),Pf=function(t){var n=kn("Sketcher for "+t.name,Rf,t),e=wt(n.apis,si),r=wt(n.extraApis,(function(t,n){return ai(t,n)}));return f(f({name:n.name,configFields:n.configFields,sketch:function(t){return function(t,n,e,r){var o=Nf(r);return e(zf(t,n,o,[],[]),o)}(n.name,n.configFields,n.factory,t)}},e),r)},If=function(t){var n=kn("Sketcher for "+t.name,Bf,t),e=gf(n.name,n.partFields),r=wt(n.apis,si),o=wt(n.extraApis,(function(t,n){return ai(t,n)}));return f(f({name:n.name,partFields:n.partFields,configFields:n.configFields,sketch:function(t){return Mf(n.name,n.configFields,n.partFields,n.factory,t)},parts:e},r),o)},Lf=function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n},Hf=function(t,n){return t?b.some(n):b.none()},Ff=function(t){return"input"===ro(t)&&"radio"!==Lo(t,"type")||"textarea"===ro(t)},Vf=Object.freeze({__proto__:null,getCurrent:function(t,n,e){return n.find(t)}}),jf=[In("find")],Uf=Yu({fields:jf,name:"composing",apis:Vf}),Wf=function(t,n,e,r){var o=hs(t.element,"."+n.highlightClass);H(o,(function(e){B(r,(function(t){return t.element===e}))||(Ti(e,n.highlightClass),t.getSystem().getByDom(e).each((function(e){n.onDehighlight(t,e),Pr(e,Br())})))}))},$f=function(t,n,e,r){Wf(t,n,0,[r]),qf(t,n,e,r)||(Ai(r.element,n.highlightClass),n.onHighlight(t,r),Pr(r,Rr()))},qf=function(t,n,e,r){return Ei(r.element,n.highlightClass)},Gf=function(t,n,e,r){var o=hs(t.element,"."+n.itemClass);return b.from(o[r]).fold((function(){return it.error(new Error("No element found with index "+r))}),t.getSystem().getByDom)},Kf=function(t,n,e){return Fa(t.element,"."+n.itemClass).bind((function(n){return t.getSystem().getByDom(n).toOptional()}))},Xf=function(t,n,e){var r=hs(t.element,"."+n.itemClass);return(r.length>0?b.some(r[r.length-1]):b.none()).bind((function(n){return t.getSystem().getByDom(n).toOptional()}))},Yf=function(t,n,e,r){var o=hs(t.element,"."+n.itemClass);return $(o,(function(t){return Ei(t,n.highlightClass)})).bind((function(n){var e=hc(n,r,0,o.length-1);return t.getSystem().getByDom(o[e]).toOptional()}))},Jf=function(t,n,e){var r=hs(t.element,"."+n.itemClass);return Lf(L(r,(function(n){return t.getSystem().getByDom(n).toOptional()})))},Qf=Object.freeze({__proto__:null,dehighlightAll:function(t,n,e){return Wf(t,n,0,[])},dehighlight:function(t,n,e,r){qf(t,n,e,r)&&(Ti(r.element,n.highlightClass),n.onDehighlight(t,r),Pr(r,Br()))},highlight:$f,highlightFirst:function(t,n,e){Kf(t,n).each((function(r){$f(t,n,e,r)}))},highlightLast:function(t,n,e){Xf(t,n).each((function(r){$f(t,n,e,r)}))},highlightAt:function(t,n,e,r){Gf(t,n,e,r).fold((function(t){throw t}),(function(r){$f(t,n,e,r)}))},highlightBy:function(t,n,e,r){var o=Jf(t,n);W(o,r).each((function(r){$f(t,n,e,r)}))},isHighlighted:qf,getHighlighted:function(t,n,e){return Fa(t.element,"."+n.highlightClass).bind((function(n){return t.getSystem().getByDom(n).toOptional()}))},getFirst:Kf,getLast:Xf,getPrevious:function(t,n,e){return Yf(t,n,0,-1)},getNext:function(t,n,e){return Yf(t,n,0,1)},getCandidates:Jf}),Zf=[In("highlightClass"),In("itemClass"),ou("onHighlight"),ou("onDehighlight")],td=Yu({fields:Zf,name:"highlighting",apis:Qf}),nd=[8],ed=[9],rd=[13],od=[27],id=[32],ad=[37],ud=[38],cd=[39],sd=[40],ld=function(t,n,e){var r=X(t.slice(0,n)),o=X(t.slice(n+1));return W(r.concat(o),e)},fd=function(t,n,e){var r=X(t.slice(0,n));return W(r,e)},dd=function(t,n,e){var r=t.slice(0,n),o=t.slice(n+1);return W(o.concat(r),e)},md=function(t,n,e){var r=t.slice(n+1);return W(r,e)},pd=function(t){return function(n){var e=n.raw;return R(t,e.which)}},gd=function(t){return function(n){return K(t,(function(t){return t(n)}))}},hd=function(t){return!0===t.raw.shiftKey},vd=function(t){return!0===t.raw.ctrlKey},bd=a(hd),yd=function(t,n){return{matches:t,classification:n}},xd=function(t,n,e){n.exists((function(t){return e.exists((function(n){return Be(n,t)}))}))||Ir(t,Dr(),{prevFocus:n,newFocus:e})},wd=function(){var t=function(t){return oc(t.element)};return{get:t,set:function(n,e){var r=t(n);n.getSystem().triggerFocus(e,n.element);var o=t(n);xd(n,r,o)}}},Cd=function(){var t=function(t){return td.getHighlighted(t).map((function(t){return t.element}))};return{get:t,set:function(e,r){var o=t(e);e.getSystem().getByDom(r).fold(n,(function(t){td.highlight(e,t)}));var i=t(e);xd(e,o,i)}}};!function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"}(Mc||(Mc={}));var _d,kd=function(t,n,e,r,o){var i=function(t,n,e,r,o){var i,a,u=e(t,n,r,o);return(i=u,a=n.event,W(i,(function(t){return t.matches(a)})).map((function(t){return t.classification}))).bind((function(e){return e(t,n,r,o)}))},a={schema:function(){return t.concat([Qn("focusManager",wd()),Zn("focusInside","onFocus",xn((function(t){return R(["onFocus","onEnterOrSpace","onApi"],t)?it.value(t):it.error("Invalid value for focusInside")}))),cu("handler",a),cu("state",n),cu("sendFocusIn",o)])},processKey:i,toEvents:function(t,n){var a=t.focusInside!==Mc.OnFocusMode?b.none():o(t).map((function(e){return $r(fr(),(function(r,o){e(r,t,n),o.stop()}))})),u=[$r(er(),(function(r,a){i(r,a,e,t,n).fold((function(){!function(e,r){var i=pd(id.concat(rd))(r.event);t.focusInside===Mc.OnEnterOrSpaceMode&&i&&Ve(e,r)&&o(t).each((function(o){o(e,t,n),r.stop()}))}(r,a)}),(function(t){a.stop()}))})),$r(rr(),(function(e,o){i(e,o,r,t,n).each((function(t){o.stop()}))}))];return jr(a.toArray().concat(u))}};return a},Sd=function(t){var n=[qn("onEscape"),qn("onEnter"),Qn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Qn("firstTabstop",0),Qn("useTabstopAt",s),qn("visibilitySelector")].concat([t]),e=function(t,n){var e=t.visibilitySelector.bind((function(t){return Va(n,t)})).getOr(n);return la(e)>0},o=function(t,n,r){(function(t,n){var r=hs(t.element,n.selector),o=V(r,(function(t){return e(n,t)}));return b.from(o[n.firstTabstop])})(t,n).each((function(e){n.focusManager.set(t,e)}))},a=function(t,n,r,o,i){return i(n,r,(function(t){return function(t,n){return e(t,n)&&t.useTabstopAt(n)}(o,t)})).fold((function(){return o.cyclic?b.some(!0):b.none()}),(function(n){return o.focusManager.set(t,n),b.some(!0)}))},u=function(t,n,e,r){var o=hs(t.element,e.selector);return function(t,n){return n.focusManager.get(t).bind((function(t){return Va(t,n.selector)}))}(t,e).bind((function(n){return $(o,i(Be,n)).bind((function(n){return a(t,o,n,e,r)}))}))},c=r([yd(gd([hd,pd(ed)]),(function(t,n,e){var r=e.cyclic?ld:fd;return u(t,0,e,r)})),yd(pd(ed),(function(t,n,e){var r=e.cyclic?dd:md;return u(t,0,e,r)})),yd(pd(od),(function(t,n,e){return e.onEscape.bind((function(e){return e(t,n)}))})),yd(gd([bd,pd(rd)]),(function(t,n,e){return e.onEnter.bind((function(e){return e(t,n)}))}))]),l=r([]);return kd(n,li.init,c,l,(function(){return b.some(o)}))},Ad=Sd(ue("cyclic",c)),Od=Sd(ue("cyclic",s)),Td=function(t,n,e){return Ff(e)&&pd(id)(n.event)?b.none():function(t,n,e){return Hr(t,e,gr()),b.some(!0)}(t,0,e)},Ed=function(t,n){return b.some(!0)},Dd=[Qn("execute",Td),Qn("useSpace",!1),Qn("useEnter",!0),Qn("useControlEnter",!1),Qn("useDown",!1)],zd=function(t,n,e){return e.execute(t,n,t.element)},Md=kd(Dd,li.init,(function(t,n,e,r){var o=e.useSpace&&!Ff(t.element)?id:[],i=e.useEnter?rd:[],a=e.useDown?sd:[],u=o.concat(i).concat(a);return[yd(pd(u),zd)].concat(e.useControlEnter?[yd(gd([vd,pd(rd)]),zd)]:[])}),(function(t,n,e,r){return e.useSpace&&!Ff(t.element)?[yd(pd(id),Ed)]:[]}),(function(){return b.none()})),Nd=function(){var t=ce(b.none());return fi({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(n,e){t.set(b.some({numRows:n,numColumns:e}))},getNumRows:function(){return t.get().map((function(t){return t.numRows}))},getNumColumns:function(){return t.get().map((function(t){return t.numColumns}))}})},Rd=Object.freeze({__proto__:null,flatgrid:Nd,init:function(t){return t.state(t)}}),Bd=function(t){return function(n,e,r,o){var i=t(n.element);return Hd(i,n,e,r,o)}},Pd=function(t,n){var e=Dc(t,n);return Bd(e)},Id=function(t,n){var e=Dc(n,t);return Bd(e)},Ld=function(t){return function(n,e,r,o){return Hd(t,n,e,r,o)}},Hd=function(t,n,e,r,o){return r.focusManager.get(n).bind((function(e){return t(n.element,e,r,o)})).map((function(t){return r.focusManager.set(n,t),!0}))},Fd=Ld,Vd=Ld,jd=Ld,Ud=function(t){return!function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}(t.dom)},Wd=function(t,n,e){var r=hs(t,e);return function(t,n){return $(t,n).map((function(n){return{index:n,candidates:t}}))}(V(r,Ud),(function(t){return Be(t,n)}))},$d=function(t,n){return $(t,(function(t){return Be(n,t)}))},qd=function(t,n,e,r){return r(Math.floor(n/e),n%e).bind((function(n){var r=n.row*e+n.column;return r>=0&&r<t.length?b.some(t[r]):b.none()}))},Gd=function(t,n,e,r,o){return qd(t,n,r,(function(n,i){var a=n===e-1?t.length-n*r:r,u=hc(i,o,0,a-1);return b.some({row:n,column:u})}))},Kd=function(t,n,e,r,o){return qd(t,n,r,(function(n,i){var a=hc(n,o,0,e-1),u=a===e-1?t.length-a*r:r,c=vc(i,0,u-1);return b.some({row:a,column:c})}))},Xd=[In("selector"),Qn("execute",Td),iu("onEscape"),Qn("captureTab",!1),lu()],Yd=function(t,n,e){Fa(t.element,n.selector).each((function(e){n.focusManager.set(t,e)}))},Jd=function(t){return function(n,e,r,o){return Wd(n,e,r.selector).bind((function(n){return t(n.candidates,n.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Qd=function(t,n,e){return e.captureTab?b.some(!0):b.none()},Zd=Jd((function(t,n,e,r){return Gd(t,n,e,r,-1)})),tm=Jd((function(t,n,e,r){return Gd(t,n,e,r,1)})),nm=Jd((function(t,n,e,r){return Kd(t,n,e,r,-1)})),em=Jd((function(t,n,e,r){return Kd(t,n,e,r,1)})),rm=r([yd(pd(ad),Pd(Zd,tm)),yd(pd(cd),Id(Zd,tm)),yd(pd(ud),Fd(nm)),yd(pd(sd),Vd(em)),yd(gd([hd,pd(ed)]),Qd),yd(gd([bd,pd(ed)]),Qd),yd(pd(od),(function(t,n,e){return e.onEscape(t,n)})),yd(pd(id.concat(rd)),(function(t,n,e,r){return function(t,n){return n.focusManager.get(t).bind((function(t){return Va(t,n.selector)}))}(t,e).bind((function(r){return e.execute(t,n,r)}))}))]),om=r([yd(pd(id),Ed)]),im=kd(Xd,Nd,rm,om,(function(){return b.some(Yd)})),am=function(t,n,e,r){var o=function(t,n,e){var i,a=hc(n,r,0,e.length-1);return a===t?b.none():(i=e[a],"button"===ro(i)&&"disabled"===Lo(i,"disabled")?o(t,a,e):b.from(e[a]))};return Wd(t,e,n).bind((function(t){var n=t.index,e=t.candidates;return o(n,n,e)}))},um=[In("selector"),Qn("getInitial",b.none),Qn("execute",Td),iu("onEscape"),Qn("executeOnMove",!1),Qn("allowVertical",!0)],cm=function(t,n,e){return function(t,n){return n.focusManager.get(t).bind((function(t){return Va(t,n.selector)}))}(t,e).bind((function(r){return e.execute(t,n,r)}))},sm=function(t,n,e){n.getInitial(t).orThunk((function(){return Fa(t.element,n.selector)})).each((function(e){n.focusManager.set(t,e)}))},lm=function(t,n,e){return am(t,e.selector,n,-1)},fm=function(t,n,e){return am(t,e.selector,n,1)},dm=function(t){return function(n,e,r,o){return t(n,e,r,o).bind((function(){return r.executeOnMove?cm(n,e,r):b.some(!0)}))}},mm=function(t,n,e){return e.onEscape(t,n)},pm=r([yd(pd(id),Ed)]),gm=kd(um,li.init,(function(t,n,e,r){var o=ad.concat(e.allowVertical?ud:[]),i=cd.concat(e.allowVertical?sd:[]);return[yd(pd(o),dm(Pd(lm,fm))),yd(pd(i),dm(Id(lm,fm))),yd(pd(rd),cm),yd(pd(id),cm),yd(pd(od),mm)]}),pm,(function(){return b.some(sm)})),hm=function(t,n,e){return b.from(t[n]).bind((function(t){return b.from(t[e]).map((function(t){return{rowIndex:n,columnIndex:e,cell:t}}))}))},vm=function(t,n,e,r){var o=t[n].length,i=hc(e,r,0,o-1);return hm(t,n,i)},bm=function(t,n,e,r){var o=hc(e,r,0,t.length-1),i=t[o].length,a=vc(n,0,i-1);return hm(t,o,a)},ym=function(t,n,e,r){var o=t[n].length,i=vc(e+r,0,o-1);return hm(t,n,i)},xm=function(t,n,e,r){var o=vc(e+r,0,t.length-1),i=t[o].length,a=vc(n,0,i-1);return hm(t,o,a)},wm=[Un("selectors",[In("row"),In("cell")]),Qn("cycles",!0),Qn("previousSelector",b.none),Qn("execute",Td)],Cm=function(t,n,e){n.previousSelector(t).orThunk((function(){var e=n.selectors;return Fa(t.element,e.cell)})).each((function(e){n.focusManager.set(t,e)}))},_m=function(t,n){return function(e,r,o){var i=o.cycles?t:n;return Va(r,o.selectors.row).bind((function(t){var n=hs(t,o.selectors.cell);return $d(n,r).bind((function(n){var r=hs(e,o.selectors.row);return $d(r,t).bind((function(t){var e=function(t,n){return L(t,(function(t){return hs(t,n.selectors.cell)}))}(r,o);return i(e,t,n).map((function(t){return t.cell}))}))}))}))}},km=_m((function(t,n,e){return vm(t,n,e,-1)}),(function(t,n,e){return ym(t,n,e,-1)})),Sm=_m((function(t,n,e){return vm(t,n,e,1)}),(function(t,n,e){return ym(t,n,e,1)})),Am=_m((function(t,n,e){return bm(t,e,n,-1)}),(function(t,n,e){return xm(t,e,n,-1)})),Om=_m((function(t,n,e){return bm(t,e,n,1)}),(function(t,n,e){return xm(t,e,n,1)})),Tm=r([yd(pd(ad),Pd(km,Sm)),yd(pd(cd),Id(km,Sm)),yd(pd(ud),Fd(Am)),yd(pd(sd),Vd(Om)),yd(pd(id.concat(rd)),(function(t,n,e){return oc(t.element).bind((function(r){return e.execute(t,n,r)}))}))]),Em=r([yd(pd(id),Ed)]),Dm=kd(wm,li.init,Tm,Em,(function(){return b.some(Cm)})),zm=[In("selector"),Qn("execute",Td),Qn("moveOnTab",!1)],Mm=function(t,n,e){return e.focusManager.get(t).bind((function(r){return e.execute(t,n,r)}))},Nm=function(t,n,e){Fa(t.element,n.selector).each((function(e){n.focusManager.set(t,e)}))},Rm=function(t,n,e){return am(t,e.selector,n,-1)},Bm=function(t,n,e){return am(t,e.selector,n,1)},Pm=r([yd(pd(ud),jd(Rm)),yd(pd(sd),jd(Bm)),yd(gd([hd,pd(ed)]),(function(t,n,e,r){return e.moveOnTab?jd(Rm)(t,n,e,r):b.none()})),yd(gd([bd,pd(ed)]),(function(t,n,e,r){return e.moveOnTab?jd(Bm)(t,n,e,r):b.none()})),yd(pd(rd),Mm),yd(pd(id),Mm)]),Im=r([yd(pd(id),Ed)]),Lm=kd(zm,li.init,Pm,Im,(function(){return b.some(Nm)})),Hm=[iu("onSpace"),iu("onEnter"),iu("onShiftEnter"),iu("onLeft"),iu("onRight"),iu("onTab"),iu("onShiftTab"),iu("onUp"),iu("onDown"),iu("onEscape"),Qn("stopSpaceKeyup",!1),qn("focusIn")],Fm=kd(Hm,li.init,(function(t,n,e){return[yd(pd(id),e.onSpace),yd(gd([bd,pd(rd)]),e.onEnter),yd(gd([hd,pd(rd)]),e.onShiftEnter),yd(gd([hd,pd(ed)]),e.onShiftTab),yd(gd([bd,pd(ed)]),e.onTab),yd(pd(ud),e.onUp),yd(pd(sd),e.onDown),yd(pd(ad),e.onLeft),yd(pd(cd),e.onRight),yd(pd(id),e.onSpace),yd(pd(od),e.onEscape)]}),(function(t,n,e){return e.stopSpaceKeyup?[yd(pd(id),Ed)]:[]}),(function(t){return t.focusIn})),Vm=Ad.schema(),jm=Od.schema(),Um=gm.schema(),Wm=im.schema(),$m=Dm.schema(),qm=Md.schema(),Gm=Lm.schema(),Km=Fm.schema(),Xm=Qu({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Vm,cyclic:jm,flow:Um,flatgrid:Wm,matrix:$m,execution:qm,menu:Gm,special:Km}),name:"keying",active:{events:function(t,n){return t.handler.toEvents(t,n)}},apis:{focusIn:function(t,n,e){n.sendFocusIn(n).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,n,e)}))},setGridSize:function(t,n,e,r,o){!function(t){return Et(t,"setGridSize")}(e)?console.error("Layout does not support setGridSize"):e.setGridSize(r,o)}},state:Rd}),Ym=function(t,n,e,r){var o=t.getSystem().build(r);Ys(t,o,e)},Jm=function(t,n,e,r){var o=Qm(t);W(o,(function(t){return Be(r.element,t.element)})).each(Qs)},Qm=function(t,n){return t.components()},Zm=function(t,n,e,r,o){var i=Qm(t);return b.from(i[r]).map((function(n){return Jm(t,0,0,n),o.each((function(n){Ym(t,0,(function(t,n){!function(t,n,e){vo(t,e).fold((function(){Eo(t,n)}),(function(t){Ao(t,n)}))}(t,n,r)}),n)})),n}))},tp=Yu({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(t,n,e,r){Ym(t,0,Eo,r)},prepend:function(t,n,e,r){Ym(t,0,To,r)},remove:Jm,replaceAt:Zm,replaceBy:function(t,n,e,r,o){var i=Qm(t);return $(i,r).bind((function(n){return Zm(t,0,0,n,o)}))},set:function(t,n,e,r){ic((function(){var n=L(r,t.getSystem().build);Ks(t,n)}),t.element)},contents:Qm})}),np=function(t,n){return{key:t,value:{config:{},me:function(t,n){var e=jr(n);return Yu({fields:[In("enabled")],name:t,active:{events:r(e)}})}(t,n),configAsRaw:r({}),initialConfig:{},state:li}}},ep=function(t,n){n.ignore||(ec(t.element),n.onFocus(t))},rp=Object.freeze({__proto__:null,focus:ep,blur:function(t,n){n.ignore||function(t){t.dom.blur()}(t.element)},isFocused:function(t){return function(t){var n=wo(t).dom;return t.dom===n.activeElement}(t.element)}}),op=Object.freeze({__proto__:null,exhibit:function(t,n){var e=n.ignore?{}:{attributes:{tabindex:"-1"}};return mi(e)},events:function(t){return jr([$r(fr(),(function(n,e){ep(n,t),e.stop()}))].concat(t.stopMousedown?[$r(Xe(),(function(t,n){n.event.prevent()}))]:[]))}}),ip=[ou("onFocus"),Qn("stopMousedown",!1),Qn("ignore",!1)],ap=Yu({fields:ip,name:"focusing",active:op,apis:rp}),up=function(t,n,e){var r=n.aria;r.update(t,r,e.get())},cp=function(t,n,e){n.toggleClass.each((function(n){e.get()?Ai(t.element,n):Ti(t.element,n)}))},sp=function(t,n,e){dp(t,n,e,!e.get())},lp=function(t,n,e){e.set(!0),cp(t,n,e),up(t,n,e)},fp=function(t,n,e){e.set(!1),cp(t,n,e),up(t,n,e)},dp=function(t,n,e,r){(r?lp:fp)(t,n,e)},mp=function(t,n,e){dp(t,n,e,n.selected)},pp=Object.freeze({__proto__:null,onLoad:mp,toggle:sp,isOn:function(t,n,e){return e.get()},on:lp,off:fp,set:dp}),gp=Object.freeze({__proto__:null,exhibit:function(){return mi({})},events:function(t,n){var e,r,o,i=(e=t,r=n,o=sp,eo((function(t){o(t,e,r)}))),a=Wu(t,n,mp);return jr(q([t.toggleOnExecute?[i]:[],[a]]))}}),hp=function(t,n,e){Io(t.element,"aria-expanded",e)},vp=[Qn("selected",!1),qn("toggleClass"),Qn("toggleOnExecute",!0),Zn("aria",{mode:"none"},On("mode",{pressed:[Qn("syncWithExpanded",!1),cu("update",(function(t,n,e){Io(t.element,"aria-pressed",e),n.syncWithExpanded&&hp(t,n,e)}))],checked:[cu("update",(function(t,n,e){Io(t.element,"aria-checked",e)}))],expanded:[cu("update",hp)],selected:[cu("update",(function(t,n,e){Io(t.element,"aria-selected",e)}))],none:[cu("update",n)]}))],bp=Yu({fields:vp,name:"toggling",active:gp,apis:pp,state:(_d=!1,{init:function(){var t=ce(_d);return{get:function(){return t.get()},set:function(n){return t.set(n)},clear:function(){return t.set(_d)},readState:function(){return t.get()}}}})}),yp=function(){var t=function(t,n){n.stop(),Lr(t)};return[$r(ar(),t),$r(vr(),t),Yr($e()),Yr(Xe())]},xp=function(t){return jr(q([t.map((function(t){return eo((function(n,e){t(n),e.stop()}))})).toArray(),yp()]))},wp=function(t){(oc(t.element).isNone()||ap.isFocused(t))&&(ap.isFocused(t)||ap.focus(t),Ir(t,"alloy.item-hover",{item:t}))},Cp=function(t){Ir(t,"alloy.item-focus",{item:t})},_p=r("alloy.item-hover"),kp=r("alloy.item-focus"),Sp=[In("data"),In("components"),In("dom"),Qn("hasSubmenu",!1),qn("toggling"),Pl("itemBehaviours",[bp,ap,Xm,Ml]),Qn("ignoreFocus",!1),Qn("domModification",{}),cu("builder",(function(t){return{dom:t.dom,domModification:f(f({},t.domModification),{attributes:f(f(f({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Il(t.itemBehaviours,[t.toggling.fold(bp.revoke,(function(t){return bp.config(f({aria:{mode:"checked"}},t))})),ap.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){Cp(t)}}),Xm.config({mode:"execution"}),Ml.config({store:{mode:"memory",initialValue:t.data}}),np("item-type-events",m(yp(),[$r(Ze(),wp),$r(hr(),ap.focus)]))]),components:t.components,eventOrder:t.eventOrder}})),Qn("eventOrder",{})],Ap=[In("dom"),In("components"),cu("builder",(function(t){return{dom:t.dom,components:t.components,events:jr([Jr(hr())])}}))],Op=r("item-widget"),Tp=r([cf({name:"widget",overrides:function(t){return{behaviours:Ku([Ml.config({store:{mode:"manual",getValue:function(n){return t.data},setValue:n}})])}}})]),Ep=[In("uid"),In("data"),In("components"),In("dom"),Qn("autofocus",!1),Qn("ignoreFocus",!1),Pl("widgetBehaviours",[Ml,ap,Xm]),Qn("domModification",{}),Ef(Tp()),cu("builder",(function(t){var n=xf(Op(),t,Tp()),e=wf(Op(),t,n.internals()),r=function(n){return Cf(n,t,"widget").map((function(t){return Xm.focusIn(t),t}))},o=function(n,e){return Ff(e.event.target)?b.none():t.autofocus?(e.setSource(n.element),b.none()):b.none()};return{dom:t.dom,components:e,domModification:t.domModification,events:jr([eo((function(t,n){r(t).each((function(t){n.stop()}))})),$r(Ze(),wp),$r(hr(),(function(n,e){t.autofocus?r(n):ap.focus(n)}))]),behaviours:Il(t.widgetBehaviours,[Ml.config({store:{mode:"memory",initialValue:t.data}}),ap.config({ignore:t.ignoreFocus,onFocus:function(t){Cp(t)}}),Xm.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:Zu(),onLeft:o,onRight:o,onEscape:function(n,e){return ap.isFocused(n)||t.autofocus?t.autofocus?(e.setSource(n.element),b.none()):b.none():(ap.focus(n),b.some(!0))}})])}}))],Dp=On("type",{widget:Ep,item:Sp,separator:Ap}),zp=r([ff({factory:{sketch:function(t){var n=kn("menu.spec item",Dp,t);return n.builder(n)}},name:"items",unit:"item",defaults:function(t,n){return n.hasOwnProperty("uid")?n:f(f({},n),{uid:ni("item")})},overrides:function(t,n){return{type:n.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Mp=r([In("value"),In("items"),In("dom"),In("components"),Qn("eventOrder",{}),Nl("menuBehaviours",[td,Ml,Uf,Xm]),Zn("movement",{mode:"menu",moveOnTab:!0},On("mode",{grid:[lu(),cu("config",(function(t,n){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:n.initSize.numColumns,numRows:n.initSize.numRows},focusManager:t.focusManager}}))],matrix:[cu("config",(function(t,n){return{mode:"matrix",selectors:{row:n.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}})),In("rowSelector")],menu:[Qn("moveOnTab",!0),cu("config",(function(t,n){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:n.moveOnTab,focusManager:t.focusManager}}))]})),Ln("markers",Za()),Qn("fakeFocus",!1),Qn("focusManager",wd()),ou("onHighlight")]),Np=r("alloy.menu-focus"),Rp=If({name:"Menu",configFields:Mp(),partFields:zp(),factory:function(t,n,e,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Bl(t.menuBehaviours,[td.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Ml.config({store:{mode:"memory",initialValue:t.value}}),Uf.config({find:b.some}),Xm.config(t.movement.config(t,t.movement))]),events:jr([$r(kp(),(function(t,n){var e=n.event;t.getSystem().getByDom(e.target).each((function(e){td.highlight(t,e),n.stop(),Ir(t,Np(),{menu:t,item:e})}))})),$r(_p(),(function(t,n){var e=n.event.item;td.highlight(t,e)}))]),components:n,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}}),Bp=function(t,n,e,r){return Ot(e,r).bind((function(r){return Ot(t,r).bind((function(r){var o=Bp(t,n,e,r);return b.some([r].concat(o))}))})).getOr([])},Pp=function(t,n){var e={};xt(t,(function(t,n){H(t,(function(t){e[t]=n}))}));var r=n,o=Ct(n,(function(t,n){return{k:t,v:n}})),i=wt(o,(function(t,n){return[n].concat(Bp(e,r,o,n))}));return wt(e,(function(t){return Ot(i,t).getOr([t])}))},Ip=function(t){return"prepared"===t.type?b.some(t.menu):b.none()},Lp={init:function(){var t=ce({}),n=ce({}),e=ce({}),r=ce(b.none()),o=ce({}),i=function(n,e,r){return a(n).bind((function(o){return function(n){return St(t.get(),(function(t,e){return t===n}))}(n).bind((function(t){return e(t).map((function(t){return{triggeredMenu:o,triggeringItem:t,triggeringPath:r}}))}))}))},a=function(t){return u(t).bind(Ip)},u=function(t){return Ot(n.get(),t)},c=function(n){return Ot(t.get(),n)};return{setMenuBuilt:function(t,e){var r;n.set(f(f({},n.get()),((r={})[t]={type:"prepared",menu:e},r)))},setContents:function(i,a,u,c){r.set(b.some(i)),t.set(u),n.set(a),o.set(c);var s=Pp(c,u);e.set(s)},expand:function(n){return Ot(t.get(),n).map((function(t){var r=Ot(e.get(),n).getOr([]);return[t].concat(r)}))},refresh:function(t){return Ot(e.get(),t)},collapse:function(t){return Ot(e.get(),t).bind((function(t){return t.length>1?b.some(t.slice(1)):b.none()}))},lookupMenu:u,lookupItem:c,otherMenus:function(t){var n=o.get();return Y(bt(n),t)},getPrimary:function(){return r.get().bind(a)},getMenus:function(){return n.get()},clear:function(){t.set({}),n.set({}),e.set({}),r.set(b.none())},isClear:function(){return r.get().isNone()},getTriggeringPath:function(t,n){var o=V(c(t).toArray(),(function(t){return a(t).isSome()}));return Ot(e.get(),t).bind((function(t){var e=X(o.concat(t));return function(t){for(var n=[],e=0;e<t.length;e++){var r=t[e];if(!r.isSome())return b.none();n.push(r.getOrDie())}return b.some(n)}(G(e,(function(t,o){return i(t,n,e.slice(0,o+1)).fold((function(){return r.get().is(t)?[]:[b.none()]}),(function(t){return[b.some(t)]}))})))}))}}},extractPreparedMenu:Ip},Hp=r("collapse-item"),Fp=Pf({name:"TieredMenu",configFields:[uu("onExecute"),uu("onEscape"),au("onOpenMenu"),au("onOpenSubmenu"),ou("onRepositionMenu"),ou("onCollapseMenu"),Qn("highlightImmediately",!0),Un("data",[In("primary"),In("menus"),In("expansions")]),Qn("fakeFocus",!1),ou("onHighlight"),ou("onHover"),nu(),In("dom"),Qn("navigateOnHover",!0),Qn("stayInDom",!1),Nl("tmenuBehaviours",[Xm,td,Uf,tp]),Qn("eventOrder",{})],apis:{collapseMenu:function(t,n){t.collapseMenu(n)},highlightPrimary:function(t,n){t.highlightPrimary(n)},repositionMenus:function(t,n){t.repositionMenus(n)}},factory:function(t,e){var r,o=ce(b.none()),i=Lp.init(),a=function(n){var e=function(n,e,r){return wt(r,(function(r,o){var i=function(){return Rp.sketch(f(f({},r),{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?Cd():wd()}))};return o===e?{type:"prepared",menu:n.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))}(n,t.data.primary,t.data.menus),r=c();return i.setContents(t.data.primary,e,t.data.expansions,r),i.getPrimary()},u=function(t){return Ml.getValue(t).value},c=function(n){return wt(t.data.menus,(function(t,n){return G(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},l=function(t,n){td.highlight(t,n),td.getHighlighted(n).orThunk((function(){return td.getFirst(n)})).each((function(n){Hr(t,n.element,hr())}))},d=function(t,n){return Lf(L(n,(function(n){return t.lookupMenu(n).bind((function(t){return"prepared"===t.type?b.some(t.menu):b.none()}))})))},m=function(n,e,r){var o=d(e,e.otherMenus(r));H(o,(function(e){zi(e.element,[t.markers.backgroundMenu]),t.stayInDom||tp.remove(n,e)}))},p=function(n,e){var r=function(n){return o.get().getOrThunk((function(){var e={},r=hs(n.element,"."+t.markers.item),i=V(r,(function(t){return"true"===Lo(t,"aria-haspopup")}));return H(i,(function(t){n.getSystem().getByDom(t).each((function(t){var n=u(t);e[n]=t}))})),o.set(b.some(e)),e}))}(n);xt(r,(function(t,n){var r=R(e,n);Io(t.element,"aria-expanded",r)}))},g=function(n,e,r){return b.from(r[0]).bind((function(o){return e.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return b.none();var i=o.menu,a=d(e,r.slice(1));return H(a,(function(n){Ai(n.element,t.markers.backgroundMenu)})),Ni(i.element)||tp.append(n,ua(i)),zi(i.element,[t.markers.backgroundMenu]),l(n,i),m(n,e,r),b.some(i)}))}))};!function(t){t[t.HighlightSubmenu=0]="HighlightSubmenu",t[t.HighlightParent=1]="HighlightParent"}(r||(r={}));var h=function(n,e,o){void 0===o&&(o=r.HighlightSubmenu);var a=u(e);return i.expand(a).bind((function(a){return p(n,a),b.from(a[0]).bind((function(u){return i.lookupMenu(u).bind((function(c){var s=function(t,n,e){if("notbuilt"===e.type){var r=t.getSystem().build(e.nbMenu());return i.setMenuBuilt(n,r),r}return e.menu}(n,u,c);return Ni(s.element)||tp.append(n,ua(s)),t.onOpenSubmenu(n,e,s,X(a)),o===r.HighlightSubmenu?(td.highlightFirst(s),g(n,i,a)):(td.dehighlightAll(s),b.some(e))}))}))}))},v=function(n,e){var r=u(e);return i.collapse(r).bind((function(r){return p(n,r),g(n,i,r).map((function(r){return t.onCollapseMenu(n,e,r),r}))}))},y=function(n){return function(e,r){return Va(r.getSource(),"."+t.markers.item).bind((function(t){return e.getSystem().getByDom(t).toOptional().bind((function(t){return n(e,t).map(s)}))}))}},x=jr([$r(Np(),(function(t,n){var e=n.event.item;i.lookupItem(u(e)).each((function(){var e=n.event.menu;td.highlight(t,e);var r=u(n.event.item);i.refresh(r).each((function(n){return m(t,i,n)}))}))})),eo((function(e,o){var i=o.event.target;e.getSystem().getByDom(i).each((function(o){0===u(o).indexOf("collapse-item")&&v(e,o),h(e,o,r.HighlightSubmenu).fold((function(){t.onExecute(e,o)}),n)}))})),Zr((function(n,e){a(n).each((function(e){tp.append(n,ua(e)),t.onOpenMenu(n,e),t.highlightImmediately&&l(n,e)}))}))].concat(t.navigateOnHover?[$r(_p(),(function(n,e){var o=e.event.item;!function(t,n){var e=u(n);i.refresh(e).bind((function(n){return p(t,n),g(t,i,n)}))}(n,o),h(n,o,r.HighlightParent),t.onHover(n,o)}))]:[])),w=function(t){return td.getHighlighted(t).bind(td.getHighlighted)},C={collapseMenu:function(t){w(t).each((function(n){v(t,n)}))},highlightPrimary:function(t){i.getPrimary().each((function(n){l(t,n)}))},repositionMenus:function(n){i.getPrimary().bind((function(t){return w(n).bind((function(t){var n=u(t),e=At(i.getMenus()),r=Lf(L(e,Lp.extractPreparedMenu));return i.getTriggeringPath(n,(function(t){return function(t,n,e){return et(n,(function(t){if(!t.getSystem().isConnected())return b.none();var n=td.getCandidates(t);return W(n,(function(t){return u(t)===e}))}))}(0,r,t)}))})).map((function(n){return{primary:t,triggeringPath:n}}))})).fold((function(){(function(t){return b.from(t.components()[0]).filter((function(t){return"menu"===Lo(t.element,"role")}))})(n).each((function(e){t.onRepositionMenu(n,e,[])}))}),(function(e){var r=e.primary,o=e.triggeringPath;t.onRepositionMenu(n,r,o)}))}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Bl(t.tmenuBehaviours,[Xm.config({mode:"special",onRight:y((function(t,n){return Ff(n.element)?b.none():h(t,n,r.HighlightSubmenu)})),onLeft:y((function(t,n){return Ff(n.element)?b.none():v(t,n)})),onEscape:y((function(n,e){return v(n,e).orThunk((function(){return t.onEscape(n,e).map((function(){return n}))}))})),focusIn:function(t,n){i.getPrimary().each((function(n){Hr(t,n.element,hr())}))}}),td.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Uf.config({find:function(t){return td.getHighlighted(t)}}),tp.config({})]),eventOrder:t.eventOrder,apis:C,events:x}},extraApis:{tieredData:function(t,n,e){return{primary:t,menus:n,expansions:e}},singleData:function(t,n){return{primary:t,menus:$t(t,n),expansions:{}}},collapseItem:function(t){return{value:Ko(Hp()),meta:{text:t}}}}}),Vp=Pf({name:"InlineView",configFields:[In("lazySink"),ou("onShow"),ou("onHide"),Yn("onEscape"),Nl("inlineBehaviours",[dl,Ml,tc]),Jn("fireDismissalEventInstead",[Qn("event",Tr())]),Jn("fireRepositionEventInstead",[Qn("event",Er())]),Qn("getRelated",b.none),Qn("isExtraPart",c),Qn("eventOrder",b.none)],factory:function(t,n){var e=function(t,n,e,o){r(t,n,e,(function(){return o.map((function(t){return za(t)}))}))},r=function(n,e,r,o){var i=t.lazySink(n).getOrDie();dl.openWhileCloaked(n,r,(function(){return Ws.positionWithinBounds(i,e,n,o())})),Ml.setValue(n,b.some({mode:"position",anchor:e,getBounds:o}))},o=function(n,e,r,o){var i=function(t,n,e,r,o){var i=function(){return t.lazySink(n)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Fu()},onRtl:function(){return Vu()}}}:{},u=function(t){return function(t){return 2===t.length}(t)?a:{}};return Fp.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return dl.close(n),t.onEscape.map((function(t){return t(n)})),b.some(!0)},onExecute:function(){return b.some(!0)},onOpenMenu:function(t,n){Ws.positionWithinBounds(i().getOrDie(),e,n,o())},onOpenSubmenu:function(t,n,e,r){var o=i().getOrDie();Ws.position(o,f({anchor:"submenu",item:n},u(r)),e)},onRepositionMenu:function(t,n,r){var a=i().getOrDie();Ws.positionWithinBounds(a,e,n,o()),H(r,(function(t){var n=u(t.triggeringPath);Ws.position(a,f({anchor:"submenu",item:t.triggeringItem},n),t.triggeredMenu)}))}})}(t,n,e,r,o);dl.open(n,i),Ml.setValue(n,b.some({mode:"menu",menu:i}))},i=function(n){dl.isOpen(n)&&Ml.getValue(n).each((function(e){switch(e.mode){case"menu":dl.getState(n).each((function(t){Fp.repositionMenus(t)}));break;case"position":var r=t.lazySink(n).getOrDie();Ws.positionWithinBounds(r,e.anchor,n,e.getBounds())}}))},a={setContent:function(t,n){dl.setContent(t,n)},showAt:function(t,n,r){e(t,n,r,b.none())},showWithin:e,showWithinBounds:r,showMenuAt:function(t,n,e){o(t,n,e,(function(){return b.none()}))},showMenuWithinBounds:o,hide:function(t){dl.isOpen(t)&&(Ml.setValue(t,b.none()),dl.close(t))},getContent:function(t){return dl.getState(t)},reposition:i,isOpen:dl.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Bl(t.inlineBehaviours,[dl.config({isPartOf:function(n,e,r){return Wa(e,r)||function(n,e){return t.getRelated(n).exists((function(t){return Wa(t,e)}))}(n,r)},getAttachPoint:function(n){return t.lazySink(n).getOrDie()},onOpen:function(n){t.onShow(n)},onClose:function(n){t.onHide(n)}}),Ml.config({store:{mode:"memory",initialValue:b.none()}}),tc.config({channels:f(f({},vl(f({isExtraPart:n.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),yl(f(f({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:i})))})]),eventOrder:t.eventOrder,apis:a}},apis:{showAt:function(t,n,e,r){t.showAt(n,e,r)},showWithin:function(t,n,e,r,o){t.showWithin(n,e,r,o)},showWithinBounds:function(t,n,e,r,o){t.showWithinBounds(n,e,r,o)},showMenuAt:function(t,n,e,r){t.showMenuAt(n,e,r)},showMenuWithinBounds:function(t,n,e,r,o){t.showMenuWithinBounds(n,e,r,o)},hide:function(t,n){t.hide(n)},isOpen:function(t,n){return t.isOpen(n)},getContent:function(t,n){return t.getContent(n)},setContent:function(t,n,e){t.setContent(n,e)},reposition:function(t,n){t.reposition(n)}}}),jp=function(t){return t.x},Up=function(t,n){return t.x+t.width/2-n.width/2},Wp=function(t,n){return t.x+t.width-n.width},$p=function(t){return t.y},qp=function(t,n){return t.y+t.height-n.height},Gp=function(t,n,e){return fu(Wp(t,n),qp(t,n),e.innerSoutheast(),hu(),wu(t,{right:0,bottom:3}),"layout-inner-se")},Kp=function(t,n,e){return fu(jp(t),qp(t,n),e.innerSouthwest(),gu(),wu(t,{left:1,bottom:3}),"layout-inner-sw")},Xp=function(t,n,e){return fu(Wp(t,n),$p(t),e.innerNortheast(),pu(),wu(t,{right:0,top:2}),"layout-inner-ne")},Yp=function(t,n,e){return fu(jp(t),$p(t),e.innerNorthwest(),mu(),wu(t,{left:1,top:2}),"layout-inner-nw")},Jp=function(t,n,e){return fu(Up(t,n),$p(t),e.innerNorth(),vu(),wu(t,{top:2}),"layout-inner-n")},Qp=function(t,n,e){return fu(Up(t,n),qp(t,n),e.innerSouth(),bu(),wu(t,{bottom:3}),"layout-inner-s")},Zp=tinymce.util.Tools.resolve("tinymce.util.Delay"),tg=Pf({name:"Button",factory:function(t){var n=xp(t.action),e=t.dom.tag,r=function(n){return Ot(t.dom,"attributes").bind((function(t){return Ot(t,n)}))};return{uid:t.uid,dom:t.dom,components:t.components,events:n,behaviours:Il(t.buttonBehaviours,[ap.config({}),Xm.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===e){var t=r("type").getOr("button"),n=r("role").map((function(t){return{role:t}})).getOr({});return f({type:t},n)}return{role:r("role").getOr("button")}}()},eventOrder:t.eventOrder}},configFields:[Qn("uid",void 0),In("dom"),Qn("components",[]),Pl("buttonBehaviours",[ap,Xm]),qn("action"),qn("role"),Qn("eventOrder",{})]}),ng=function(t){var n=function(t){return void 0!==t.uid}(t)&&Et(t,"uid")?t.uid:ni("memento");return{get:function(t){return t.getSystem().getByUid(n).getOrDie()},getOpt:function(t){return t.getSystem().getByUid(n).toOptional()},asSpec:function(){return f(f({},t),{uid:n})}}},eg=function(t){return b.from(t()["temporary-placeholder"]).getOr("!not found!")},rg=function(t,n){return b.from(n()[t.toLowerCase()]).getOrThunk((function(){return eg(n)}))},og=function(t,n){return et(t,(function(t){return b.from(n()[t.toLowerCase()])})).getOrThunk((function(){return eg(n)}))},ig={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ag=Pf({name:"Notification",factory:function(t){var n=ng({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Ku([tp.config({})])}),e=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},o=ng({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[e(0)]},r(0)],behaviours:Ku([tp.config({})])}),i={updateProgress:function(t,n){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){tp.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[e(n)]},r(n)])}))},updateText:function(t,e){if(t.getSystem().isConnected()){var r=n.get(t);tp.set(r,[ra(e)])}}},a=q([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return b.from(ig[t])})).toArray()]),u=ng(tg.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:rg("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(n){t.onAction(n)}})),c=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:og(a,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[n.asSpec()],behaviours:Ku([tp.config({})])}];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},behaviours:Ku([ap.config({}),np("notification-events",[$r(tr(),(function(t){u.getOpt(t).each(ap.focus)}))])]),components:c.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[u.asSpec()]:[]),apis:i}},configFields:[qn("level"),In("progress"),In("icon"),In("onAction"),In("text"),In("iconProvider"),In("translationProvider"),re("closeButton",!0)],apis:{updateProgress:function(t,n,e){t.updateProgress(n,e)},updateText:function(t,n,e){t.updateText(n,e)}}});function ug(t,n,e){var r=n.backstage;return{open:function(t,o){var i=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0),a=function(){o(),Vp.hide(c)},u=aa(ag.sketch({text:t.text,level:R(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:b.from(t.icon),closeButton:!i,onAction:a,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),c=aa(Vp.sketch(f({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:n.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return e.add(c),t.timeout>0&&Zp.setTimeout((function(){a()}),t.timeout),{close:a,moveTo:function(t,n){Vp.showAt(c,{anchor:"makeshift",x:t,y:n},ua(u))},moveRel:function(t,e){if("banner"!==e){var r=function(t){switch(t){case"bc-bc":return Qp;case"tc-tc":return Jp;case"tc-bc":return Mu;case"bc-tc":default:return Nu}}(e),o={anchor:"node",root:Ri(),node:b.some(le.fromDom(t)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};Vp.showAt(c,o,ua(u))}else Vp.showAt(c,n.backstage.shared.anchors.banner(),ua(u))},text:function(t){ag.updateText(u,t)},settings:t,getEl:function(){return u.element.dom},progressBar:{value:function(t){ag.updateProgress(u,t)}}}},close:function(t){t.close()},reposition:function(t){!function(t){H(t,(function(t){return t.moveTo(0,0)}))}(t),function(t){t.length>0&&(Z(t).each((function(t){return t.moveRel(null,"banner")})),H(t,(function(n,e){e>0&&n.moveRel(t[e-1].getEl(),"bc-tc")})))}(t)},getArgs:function(t){return t.settings}}}var cg,sg=function(t,n){var e=null;return{cancel:function(){null!==e&&(clearTimeout(e),e=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==e&&clearTimeout(e),e=setTimeout((function(){t.apply(null,r),e=null}),n)}}},lg=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),fg=function(t,n,e,r,o){var i=lg(t,(function(n){return function(t,n){return t.isBlock(n)||R(["BR","IMG","HR","INPUT"],n.nodeName)||"false"===t.getContentEditable(n)}(t,n)}));return b.from(i.backwards(n,e,r,o))},dg=function(t,n){return mg(le.fromDom(t.selection.getNode())).getOrThunk((function(){var e=le.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Eo(e,le.fromDom(n.extractContents())),n.insertNode(e.dom),po(e).each((function(t){return t.dom.normalize()})),function(t){return gs(t,ps)}(e).map((function(n){t.selection.setCursorLocation(n.dom,function(t){return"img"===ro(t)?1:ds(t).fold((function(){return ho(t).length}),(function(t){return t.length}))}(n))})),e}))},mg=function(t){return Va(t,"[data-mce-autocompleter]")},pg=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},gg=function(t){return""!==t&&-1!=="  \f\n\r\t\v".indexOf(t)},hg=function(t,n){return t.substring(n.length)},vg=function(t,n,e,r){if(void 0===r&&(r=0),!(o=n).collapsed||3!==o.startContainer.nodeType)return b.none();var o,i=t.getParent(n.startContainer,t.isBlock)||t.getRoot();return fg(t,n.startContainer,n.startOffset,(function(t,n,r){return function(t,n,e){var r;for(r=n-1;r>=0;r--){var o=t.charAt(r);if(gg(o))return b.none();if(o===e)break}return b.some(r)}(r,n,e).getOr(n)}),i).bind((function(t){var o=n.cloneRange();if(o.setStart(t.container,t.offset),o.setEnd(n.endContainer,n.endOffset),o.collapsed)return b.none();var i=pg(o);return 0!==i.lastIndexOf(e)||hg(i,e).length<r?b.none():b.some({text:hg(i,e),range:o,triggerChar:e})}))},bg=function(t,n,e,r){return void 0===r&&(r=0),mg(le.fromDom(n.startContainer)).fold((function(){return vg(t,n,e,r)}),(function(n){var r=t.createRng();r.selectNode(n.dom);var o=pg(r);return b.some({range:r,text:hg(o,e),triggerChar:e})}))},yg=function(t,n){n.on("keypress compositionend",t.onKeypress.throttle),n.on("remove",t.onKeypress.cancel);var e=function(t,n){Ir(t,er(),{raw:n})};n.on("keydown",(function(n){var r=function(){return t.getView().bind(td.getHighlighted)};8===n.which&&t.onKeypress.throttle(n),t.isActive()&&(27===n.which&&t.cancelIfNecessary(),t.isMenuOpen()?13===n.which?(r().each(Lr),n.preventDefault()):40===n.which?(r().fold((function(){t.getView().each(td.highlightFirst)}),(function(t){e(t,n)})),n.preventDefault(),n.stopImmediatePropagation()):37!==n.which&&38!==n.which&&39!==n.which||r().each((function(t){e(t,n),n.preventDefault(),n.stopImmediatePropagation()})):13!==n.which&&38!==n.which&&40!==n.which||t.cancelIfNecessary())})),n.on("NodeChange",(function(n){t.isActive()&&!t.isProcessingAction()&&mg(le.fromDom(n.element)).isNone()&&t.cancelIfNecessary()}))},xg=tinymce.util.Tools.resolve("tinymce.util.Promise"),wg=function(t,n){return{container:t,offset:n}},Cg=function(t){if(function(t){return 3===t.nodeType}(t))return wg(t,t.data.length);var n=t.childNodes;return n.length>0?Cg(n[n.length-1]):wg(t,n.length)},_g=function(t,n){var e=t.childNodes;return e.length>0&&n<e.length?_g(e[n],0):e.length>0&&function(t){return 1===t.nodeType}(t)&&e.length===n?Cg(e[e.length-1]):wg(t,n)},kg=function(t){return function(n){var e=_g(n.startContainer,n.startOffset);return!function(t,n){return fg(t,n.container,n.offset,(function(t,n){return 0===n?-1:n}),t.getRoot()).filter((function(t){var n=t.container.data.charAt(t.offset-1);return!gg(n)})).isSome()}(t,e)}},Sg=function(t,n){var e=n(),r=t.selection.getRng();return function(t,n,e){return et(e.triggerChars,(function(e){return bg(t,n,e)}))}(t.dom,r,e).bind((function(e){return Ag(t,n,e)}))},Ag=function(t,n,e,r){void 0===r&&(r={});var o=n(),i=t.selection.getRng().startContainer.nodeValue,a=V(o.lookupByChar(e.triggerChar),(function(n){return e.text.length>=n.minChars&&n.matches.getOrThunk((function(){return kg(t.dom)}))(e.range,i,e.text)}));if(0===a.length)return b.none();var u=xg.all(L(a,(function(t){return t.fetch(e.text,t.maxResults,r).then((function(n){return{matchText:e.text,items:n,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}}))})));return b.some({lookupData:u,context:e})},Og=un([Fn("type"),Xn("text")]),Tg=un([Qn("type","autocompleteitem"),Qn("active",!1),Qn("disabled",!1),Qn("meta",{}),Fn("value"),Xn("text"),Xn("icon")]),Eg=un([Fn("type"),Fn("ch"),te("minChars",1),Qn("columns",1),te("maxResults",10),Yn("matches"),jn("fetch"),jn("onAction"),ie("highlightOn",[],zn)]),Dg=[re("disabled",!1),Xn("tooltip"),Xn("icon"),Xn("text"),oe("onSetup",(function(){return n}))],zg=un([Fn("type"),jn("onAction")].concat(Dg)),Mg=function(t){return Cn("toolbarbutton",zg,t)},Ng=[re("active",!1)].concat(Dg),Rg=un(Ng.concat([Fn("type"),jn("onAction")])),Bg=function(t){return Cn("ToggleButton",Rg,t)},Pg=[oe("predicate",c),ee("scope","node",["node","editor"]),ee("position","selection",["node","selection","line"])],Ig=Dg.concat([Qn("type","contextformbutton"),Qn("primary",!1),jn("onAction"),ue("original",o)]),Lg=Ng.concat([Qn("type","contextformbutton"),Qn("primary",!1),jn("onAction"),ue("original",o)]),Hg=Dg.concat([Qn("type","contextformbutton")]),Fg=Ng.concat([Qn("type","contextformtogglebutton")]),Vg=On("type",{contextformbutton:Ig,contextformtogglebutton:Lg}),jg=un([Qn("type","contextform"),oe("initValue",(function(){return""})),Xn("label"),$n("commands",Vg),Gn("launch",On("type",{contextformbutton:Hg,contextformtogglebutton:Fg}))].concat(Pg)),Ug=un([Qn("type","contexttoolbar"),Fn("items")].concat(Pg)),Wg=function(t){var n=t.ui.registry.getAll().popups,e=wt(n,(function(t){return(n=t,Cn("Autocompleter",Eg,n)).fold((function(t){throw new Error(Sn(t))}),(function(t){return t}));var n})),r=function(t){var n={};return H(t,(function(t){n[t]={}})),bt(n)}(kt(e,(function(t){return t.ch}))),o=At(e);return{dataset:e,triggerChars:r,lookupByChar:function(t){return V(o,(function(n){return n.ch===t}))}}};!function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(cg||(cg={}));var $g,qg=cg,Gg="tox-menu-nav__js",Kg="tox-collection__item",Xg={normal:Gg,color:"tox-swatch"},Yg="tox-collection__item-label",Jg="tox-collection__item--active",Qg=function(t){return Ot(Xg,t).getOr(Gg)},Zg=function(t){return"color"===t?"tox-swatches":"tox-menu"},th=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Zg(t),tieredMenu:"tox-tiered-menu"}},nh=function(t){var n=th(t);return{backgroundMenu:n.backgroundMenu,selectedMenu:n.selectedMenu,menu:n.menu,selectedItem:n.selectedItem,item:Qg(t)}},eh=function(t,n,e){var r=th(e);return{tag:"div",classes:q([[r.menu,"tox-menu-"+n+"-column"],t?[r.hasIcons]:[]])}},rh=[Rp.parts.items({})],oh=function(t,n,e){var r=th(e);return{dom:{tag:"div",classes:q([[r.tieredMenu]])},markers:nh(e)}},ih=function(t,n){return function(e){var r=I(e,n);return L(r,(function(n){return{dom:t,components:n}}))}},ah=function(t,n){var e=[],r=[];return H(t,(function(t,o){n(t,o)?(r.length>0&&e.push(r),r=[],Tt(t.dom,"innerHtml")&&r.push(t)):r.push(t)})),r.length>0&&e.push(r),L(e,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},uh=function(t,n,e){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[Rp.parts.items({preprocess:function(e){return"auto"!==t&&t>1?ih({tag:"div",classes:["tox-collection__group"]},t)(e):ah(e,(function(t,e){return"separator"===n[e].type}))}})]}},ch=function(t){return B(t,(function(t){return"icon"in t&&void 0!==t.icon}))},sh=function(t){return console.error(Sn(t)),console.log(t),b.none()},lh=function(t,n,e,r,o){var i,a=(i=e,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rp.parts.items({preprocess:function(t){return ah(t,(function(t,n){return"separator"===i[n].type}))}})]});return{value:t,dom:a.dom,components:a.components,items:e}},fh=function(t,n,e,r,i){var a;return"color"===i?{value:t,dom:(a=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rp.parts.items({preprocess:"auto"!==t?ih({tag:"div",classes:["tox-swatches__row"]},t):o})]}]}}(r)).dom,components:a.components,items:e}:"normal"===i&&"auto"===r?{value:t,dom:(a=uh(r,e)).dom,components:a.components,items:e}:"normal"===i&&1===r?{value:t,dom:(a=uh(1,e)).dom,components:a.components,items:e}:"normal"===i?{value:t,dom:(a=uh(r,e)).dom,components:a.components,items:e}:"listpreview"===i&&"auto"!==r?{value:t,dom:(a=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rp.parts.items({preprocess:ih({tag:"div",classes:["tox-collection__group"]},t)})]}}(r)).dom,components:a.components,items:e}:{value:t,dom:eh(n,r,i),components:rh,items:e}},dh=[Fn("type"),Fn("src"),Xn("alt"),ie("classes",[],zn)],mh=un(dh),ph=[Fn("type"),Fn("text"),Xn("name"),ie("classes",["tox-collection__item-label"],zn)],gh=un(ph),hh=yn((function(){return An("type",{cardimage:mh,cardtext:gh,cardcontainer:vh})})),vh=un([Fn("type"),ne("direction","horizontal"),ne("align","left"),ne("valign","middle"),$n("items",hh)]),bh=[re("disabled",!1),Xn("text"),Xn("shortcut"),pn("value","value",Vt((function(){return Ko("menuitem-value")})),Tn()),Qn("meta",{})],yh=un([Fn("type"),Xn("label"),$n("items",hh),oe("onSetup",(function(){return n})),oe("onAction",n)].concat(bh)),xh=un([Fn("type"),re("active",!1),Xn("icon")].concat(bh)),wh=un([Fn("type"),Vn("fancytype",["inserttable","colorswatch"]),oe("onAction",n)]),Ch=un([Fn("type"),oe("onSetup",(function(){return n})),oe("onAction",n),Xn("icon")].concat(bh)),_h=un([Fn("type"),jn("getSubmenuItems"),oe("onSetup",(function(){return n})),Xn("icon")].concat(bh)),kh=un([Fn("type"),Xn("icon"),re("active",!1),oe("onSetup",(function(){return n})),jn("onAction")].concat(bh)),Sh=function(t,n,e){var r=hs(t.element,"."+e);if(r.length>0){var o=$(r,(function(t){var e=t.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(e-o)>n})).getOr(r.length);return b.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return b.none()},Ah=function(t,n){return Ku([np(t,n)])},Oh=function(t){return Ah(Ko("unnamed-events"),t)},Th=Ko("tooltip.exclusive"),Eh=Ko("tooltip.show"),Dh=Ko("tooltip.hide"),zh=function(t,n,e){t.getSystem().broadcastOn([Th],{})},Mh=Object.freeze({__proto__:null,hideAllExclusive:zh,setComponents:function(t,n,e,r){e.getTooltip().each((function(t){t.getSystem().isConnected()&&tp.set(t,r)}))}}),Nh=Object.freeze({__proto__:null,events:function(t,n){var e=function(e){n.getTooltip().each((function(r){Qs(r),t.onHide(e,r),n.clearTooltip()})),n.clearTimer()};return jr(q([[$r(Eh,(function(e){n.resetTimer((function(){!function(e){if(!n.isShowing()){zh(e);var r=t.lazySink(e).getOrDie(),o=e.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:jr("normal"===t.mode?[$r(Ze(),(function(t){Pr(e,Eh)})),$r(Je(),(function(t){Pr(e,Dh)}))]:[]),behaviours:Ku([tp.config({})])});n.setTooltip(o),Xs(r,o),t.onShow(e,o),Ws.position(r,t.anchor(e),o)}}(e)}),t.delay)})),$r(Dh,(function(r){n.resetTimer((function(){e(r)}),t.delay)})),$r(pr(),(function(t,n){var r=n;r.universal||R(r.channels,Th)&&e(t)})),to((function(t){e(t)}))],"normal"===t.mode?[$r(tr(),(function(t){Pr(t,Eh)})),$r(dr(),(function(t){Pr(t,Dh)})),$r(Ze(),(function(t){Pr(t,Eh)})),$r(Je(),(function(t){Pr(t,Dh)}))]:[$r(Rr(),(function(t,n){Pr(t,Eh)})),$r(Br(),(function(t){Pr(t,Dh)}))]]))}}),Rh=[In("lazySink"),In("tooltipDom"),Qn("exclusive",!0),Qn("tooltipComponents",[]),Qn("delay",300),ee("mode","normal",["normal","follow-highlight"]),Qn("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:r([Nu,Mu,Tu,Du,Eu,zu]),onRtl:r([Nu,Mu,Tu,Du,Eu,zu])}}})),ou("onHide"),ou("onShow")],Bh=Yu({fields:Rh,name:"tooltipping",active:Nh,state:Object.freeze({__proto__:null,init:function(){var t=ce(b.none()),n=ce(b.none()),e=function(){t.get().each((function(t){clearTimeout(t)}))},o=r("not-implemented");return fi({getTooltip:function(){return n.get()},isShowing:function(){return n.get().isSome()},setTooltip:function(t){n.set(b.some(t))},clearTooltip:function(){n.set(b.none())},clearTimer:e,resetTimer:function(n,r){e(),t.set(b.some(setTimeout((function(){n()}),r)))},readState:o})}}),apis:Mh}),Ph=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ih=tinymce.util.Tools.resolve("tinymce.util.I18n"),Lh=["input","button","textarea","select"],Hh=function(t,n,e){(n.disabled()?$h:qh)(t,n)},Fh=function(t,n){return!0===n.useNative&&R(Lh,ro(t.element))},Vh=function(t){Io(t.element,"disabled","disabled")},jh=function(t){Vo(t.element,"disabled")},Uh=function(t){Io(t.element,"aria-disabled","true")},Wh=function(t){Io(t.element,"aria-disabled","false")},$h=function(t,n,e){n.disableClass.each((function(n){Ai(t.element,n)})),(Fh(t,n)?Vh:Uh)(t),n.onDisabled(t)},qh=function(t,n,e){n.disableClass.each((function(n){Ti(t.element,n)})),(Fh(t,n)?jh:Wh)(t),n.onEnabled(t)},Gh=function(t,n){return Fh(t,n)?function(t){return Fo(t.element,"disabled")}(t):function(t){return"true"===Lo(t.element,"aria-disabled")}(t)},Kh=Object.freeze({__proto__:null,enable:qh,disable:$h,isDisabled:Gh,onLoad:Hh,set:function(t,n,e,r){(r?$h:qh)(t,n)}}),Xh=Object.freeze({__proto__:null,exhibit:function(t,n){return mi({classes:n.disabled()?n.disableClass.toArray():[]})},events:function(t,n){return jr([Ur(gr(),(function(n,e){return Gh(n,t)})),Wu(t,n,Hh)])}}),Yh=[oe("disabled",c),Qn("useNative",!0),qn("disableClass"),ou("onDisabled"),ou("onEnabled")],Jh=Yu({fields:Yh,name:"disabling",active:Xh,apis:Kh}),Qh=tinymce.util.Tools.resolve("tinymce.EditorManager"),Zh=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},tv=function(t){return t.getParam("width",Ph.DOM.getStyle(t.getElement(),"width"))},nv=function(t){return b.from(t.getParam("min_width")).filter(T)},ev=function(t){return b.from(t.getParam("min_height")).filter(T)},rv=function(t){return b.from(t.getParam("max_width")).filter(T)},ov=function(t){return b.from(t.getParam("max_height")).filter(T)},iv=function(t){return!1!==t.getParam("menubar",!0,"boolean")},av=function(t){var n=t.getParam("toolbar",!0),e=!0===n,r=w(n),o=_(n)&&n.length>0;return!cv(t)&&(o||r||e)},uv=function(t){var n=P(9,(function(n){return t.getParam("toolbar"+(n+1),!1,"string")})),e=V(n,(function(t){return"string"==typeof t}));return e.length>0?b.some(e):b.none()},cv=function(t){return uv(t).fold((function(){return t.getParam("toolbar",[],"string[]").length>0}),s)};!function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"}($g||($g={}));var sv,lv=function(t){return t.getParam("toolbar_mode","","string")};!function(t){t.auto="auto",t.top="top",t.bottom="bottom"}(sv||(sv={}));var fv,dv,mv=function(t){return t.getParam("toolbar_location",sv.auto,"string")},pv=function(t){return mv(t)===sv.bottom},gv=function(t){var n=function(t){return t.getParam("fixed_toolbar_container","","string")}(t);return n.length>0&&t.inline?Fa(Ri(),n):b.none()},hv=function(t){return t.inline&&gv(t).isSome()},vv=function(t){return gv(t).getOrThunk((function(){return Co(wo(le.fromDom(t.getElement())))}))},bv=function(t){return t.inline&&!iv(t)&&!av(t)&&!cv(t)},yv=function(t){return(t.getParam("toolbar_sticky",!1,"boolean")||t.inline)&&!hv(t)&&!bv(t)},xv=function(t){var n=t.getParam("menu");return n?wt(n,(function(t){return f(f({},t),{items:t.items})})):{}},wv=function(t){return t.getParam("menubar")},Cv=function(t){return t.getParam("anchor_top","#top")},_v=function(t){return t.getParam("anchor_bottom","#bottom")},kv=un([(fv="readonly",Ln(fv,Mn))]),Sv=function(t,n){var e=t.outerContainer.element;n&&(t.mothership.broadcastOn([ml()],{target:e}),t.uiMothership.broadcastOn([ml()],{target:e})),t.mothership.broadcastOn(["silver.readonly"],{readonly:n}),t.uiMothership.broadcastOn(["silver.readonly"],{readonly:n})},Av=function(t,n){t.on("init",(function(){t.mode.isReadOnly()&&Sv(n,!0)})),t.on("SwitchMode",(function(){return Sv(n,t.mode.isReadOnly())})),function(t){return t.getParam("readonly",!1,"boolean")}(t)&&t.setMode("readonly")},Ov=function(){var t;return tc.config({channels:(t={},t["silver.readonly"]={schema:kv,onReceive:function(t,n){Jh.set(t,n.readonly)}},t)})},Tv=function(t){return Jh.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},Ev=function(t){return Jh.config({disabled:t})},Dv=function(t){return Jh.config({disabled:t,disableClass:"tox-tbtn--disabled"})},zv=function(t){return Jh.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Mv=function(t,n){var e=t.getApi(n);return function(t){t(e)}},Nv=function(t,n){return Zr((function(e){Mv(t,e)((function(e){var r=t.onSetup(e);O(r)&&n.set(r)}))}))},Rv=function(t,n){return to((function(e){return Mv(t,e)(n.get())}))},Bv=function(t,n){return eo((function(e,r){Mv(t,e)(t.onAction),t.triggersSubmenu||n!==qg.CLOSE_ON_EXECUTE||(e.getSystem().isConnected()&&Pr(e,yr()),r.stop())}))},Pv=((dv={})[gr()]=["disabling","alloy.base.behaviour","toggling","item-events"],dv),Iv=function(t){return G(t,(function(t){return t.toArray()}))},Lv=function(t,e,r,o){var i=ce(n);return{type:"item",dom:e.dom,components:Iv(e.optComponents),data:t.data,eventOrder:Pv,hasSubmenu:t.triggersSubmenu,itemBehaviours:Ku([np("item-events",[Bv(t,r),Nv(t,i),Rv(t,i)]),Tv((function(){return t.disabled||o.isDisabled()})),Ov(),tp.config({})].concat(t.itemBehaviours))}},Hv=function(t){return{value:t.value,meta:f({text:t.text.getOr("")},t.meta)}},Fv=tinymce.util.Tools.resolve("tinymce.Env"),Vv=function(t){var n=Fv.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},e=t.split("+"),r=L(e,(function(t){var e=t.toLowerCase().trim();return Tt(n,e)?n[e]:t}));return Fv.mac?r.join(""):r.join("+")},jv=function(t){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:t}}},Uv=function(t){return{dom:{tag:"div",classes:[Yg]},components:[ra(Ih.translate(t))]}},Wv=function(t,n){return{dom:{tag:"div",classes:n,innerHtml:t}}},$v=function(t,n){return{dom:{tag:"div",classes:[Yg]},components:[{dom:{tag:t.tag,styles:t.styles},components:[ra(Ih.translate(n))]}]}},qv=function(t){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:Vv(t)}}},Gv=function(t){return{dom:{tag:"div",classes:["tox-collection__item-checkmark"],innerHtml:rg("checkmark",t)}}},Kv=function(t,n){var e=n.map((function(t){return{attributes:{title:Ih.translate(t)}}})).getOr({});return f({tag:"div",classes:[Gg,Kg].concat(t?["tox-collection__item-icon-rtl"]:[])},e)},Xv=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],Yv=["list-bull-circle","list-bull-default","list-bull-square"],Jv=function(t,n,e,r){void 0===r&&(r=b.none());var o,a=Ih.isRtl()&&t.iconContent.exists((function(t){return R(Yv,t)})),u=(o=t.iconContent,o.map((function(t){return Ih.isRtl()&&R(Xv,t)?t+"-rtl":t}))).map((function(t){return function(t,n,e){return b.from(n()[t.toLowerCase()]).or(e).getOrThunk((function(){return eg(n)}))}(t,n.icons,r)})),c=b.from(t.meta).fold((function(){return Uv}),(function(t){return Tt(t,"style")?i($v,t.style):Uv}));return"color"===t.presets?function(t,n,e,r){var o,i;return{dom:(o=e.getOr(""),i={tag:"div",attributes:t.map((function(t){return{title:r.translate(t)}})).getOr({}),classes:["tox-swatch"]},f(f({},i),"custom"===n?{tag:"button",classes:m(i.classes,["tox-swatches__picker-btn"]),innerHtml:o}:"remove"===n?{classes:m(i.classes,["tox-swatch--remove"]),innerHtml:o}:{attributes:f(f({},i.attributes),{"data-mce-color":n}),styles:{"background-color":n}})),optComponents:[]}}(t.ariaLabel,t.value,u,n):function(t,n,e,r,o){var i=e?n.or(b.some("")).map(jv):b.none(),a=t.checkMark,u=t.htmlContent.fold((function(){return t.textContent.map(r)}),(function(t){return b.some(Wv(t,[Yg]))}));return{dom:Kv(o,t.ariaLabel),optComponents:[i,u,t.shortcutContent.map(qv),a,t.caret]}}(t,u,e,c,a)},Qv=function(t,n){return Ot(t,"tooltipWorker").map((function(t){return[Bh.config({lazySink:n.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:kc}}},mode:"follow-highlight",onShow:function(n,e){t((function(t){Bh.setComponents(n,[oa({element:le.fromDom(t)})])}))}})]})).getOr([])},Zv=function(t,n){var e=function(t){return Ph.DOM.encode(t)}(Ih.translate(t));if(n.length>0){var r=new RegExp(function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(n),"gi");return e.replace(r,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return e},tb=function(t,n){return L(t,(function(t){switch(t.type){case"cardcontainer":return function(t,n){return{dom:{tag:"div",classes:["tox-collection__item-container","vertical"===t.direction?"tox-collection__item-container--column":"tox-collection__item-container--row","left"===t.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",function(){switch(t.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:n}}(t,tb(t.items,n));case"cardimage":return function(t,n,e){return{dom:{tag:"img",classes:n,attributes:{src:t,alt:e.getOr("")}}}}(t.src,t.classes,t.alt);case"cardtext":var e=t.name.exists((function(t){return R(n.cardText.highlightOn,t)}))?b.from(n.cardText.matchText).getOr(""):"";return Wv(Zv(t.text,e),t.classes)}}))},nb=gf(Op(),Tp()),eb=function(t){return{value:t}},rb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ob=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ib=function(t){return rb.test(t)||ob.test(t)},ab=function(t){var n=function(t){return{value:t.value.replace(rb,(function(t,n,e,r){return n+n+e+e+r+r}))}}(t),e=ob.exec(n.value);return null===e?["FFFFFF","FF","FF","FF"]:e},ub=function(t){var n=t.toString(16);return 1===n.length?"0"+n:n},cb=function(t){var n=ub(t.red)+ub(t.green)+ub(t.blue);return eb(n)},sb=Math.min,lb=Math.max,fb=Math.round,db=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,mb=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,pb=function(t,n,e,r){return{red:t,green:n,blue:e,alpha:r}},gb=function(t){var n=parseInt(t,10);return n.toString()===t&&n>=0&&n<=255},hb=function(t){var n,e,r,o=(t.hue||0)%360,i=t.saturation/100,a=t.value/100;if(i=lb(0,sb(i,1)),a=lb(0,sb(a,1)),0===i)return n=e=r=fb(255*a),pb(n,e,r,1);var u=o/60,c=a*i,s=c*(1-Math.abs(u%2-1)),l=a-c;switch(Math.floor(u)){case 0:n=c,e=s,r=0;break;case 1:n=s,e=c,r=0;break;case 2:n=0,e=c,r=s;break;case 3:n=0,e=s,r=c;break;case 4:n=s,e=0,r=c;break;case 5:n=c,e=0,r=s;break;default:n=e=r=0}return n=fb(255*(n+l)),e=fb(255*(e+l)),r=fb(255*(r+l)),pb(n,e,r,1)},vb=function(t){var n=ab(t),e=parseInt(n[1],16),r=parseInt(n[2],16),o=parseInt(n[3],16);return pb(e,r,o,1)},bb=function(t,n,e,r){var o=parseInt(t,10),i=parseInt(n,10),a=parseInt(e,10),u=parseFloat(r);return pb(o,i,a,u)},yb=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},xb=pb(255,0,0,1),wb=function(t,n){return t.fire("ResizeContent",n)},Cb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");var _b,kb="choiceitem",Sb=[{type:kb,text:"Light Green",value:"#BFEDD2"},{type:kb,text:"Light Yellow",value:"#FBEEB8"},{type:kb,text:"Light Red",value:"#F8CAC6"},{type:kb,text:"Light Purple",value:"#ECCAFA"},{type:kb,text:"Light Blue",value:"#C2E0F4"},{type:kb,text:"Green",value:"#2DC26B"},{type:kb,text:"Yellow",value:"#F1C40F"},{type:kb,text:"Red",value:"#E03E2D"},{type:kb,text:"Purple",value:"#B96AD9"},{type:kb,text:"Blue",value:"#3598DB"},{type:kb,text:"Dark Turquoise",value:"#169179"},{type:kb,text:"Orange",value:"#E67E23"},{type:kb,text:"Dark Red",value:"#BA372A"},{type:kb,text:"Dark Purple",value:"#843FA1"},{type:kb,text:"Dark Blue",value:"#236FA1"},{type:kb,text:"Light Gray",value:"#ECF0F1"},{type:kb,text:"Medium Gray",value:"#CED4D9"},{type:kb,text:"Gray",value:"#95A5A6"},{type:kb,text:"Dark Gray",value:"#7E8C8D"},{type:kb,text:"Navy Blue",value:"#34495E"},{type:kb,text:"Black",value:"#000000"},{type:kb,text:"White",value:"#ffffff"}],Ab=function(t){void 0===t&&(t=10);var n,e=Cb.getItem("tinymce-custom-colors"),r=w(e)?JSON.parse(e):[],o=t-(n=r).length<0?n.slice(0,t):n,i=function(t){o.splice(t,1)};return{add:function(n){(function(t,n){var e=N(t,n);return-1===e?b.none():b.some(e)})(o,n).each(i),o.unshift(n),o.length>t&&o.pop(),Cb.setItem("tinymce-custom-colors",JSON.stringify(o))},state:function(){return o.slice(0)}}}(10),Ob=function(t){return!1!==t.getParam("custom_colors")},Tb=function(t){var n=function(t){return t.getParam("color_map")}(t);return void 0!==n?function(t){var n=[],e=document.createElement("canvas");e.height=1,e.width=1;for(var r=e.getContext("2d"),o=function(t,n){var e=n/255;return("0"+Math.round(t*e+255*(1-e)).toString(16)).slice(-2).toUpperCase()},i=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase();r.clearRect(0,0,e.width,e.height),r.fillStyle="#FFFFFF",r.fillStyle=t,r.fillRect(0,0,1,1);var n=r.getImageData(0,0,1,1).data,i=n[0],a=n[1],u=n[2],c=n[3];return"#"+o(i,c)+o(a,c)+o(u,c)},a=0;a<t.length;a+=2)n.push({text:t[a+1],value:i(t[a]),type:"choiceitem"});return n}(n):Sb},Eb=function(t){Ab.add(t)},Db=function(t){return function(t,n){return t.getParam("color_cols",n,"number")}(t,function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))}(Tb(t).length))},zb=function(t,n,e,r){"custom"===e?Ib(t)((function(e){e.each((function(e){Eb(e),t.execCommand("mceApplyTextcolor",n,e),r(e)}))}),"#000000"):"remove"===e?(r(""),t.execCommand("mceRemoveTextcolor",n)):(r(e),t.execCommand("mceApplyTextcolor",n,e))},Mb=function(t,n){return t.concat(L(Ab.state(),(function(t){return{type:kb,text:t,value:t}})).concat(function(t){var n={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[n,{type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"}]:[n]}(n)))},Nb=function(t,n){return function(e){e(Mb(t,n))}},Rb=function(t,n,e){var r,o;r="forecolor"===n?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",o=e,t.setIconFill(r,o),t.setIconStroke(r,o)},Bb=function(t,e,r,o,i){t.ui.registry.addSplitButton(e,{tooltip:o,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(n){return b.from(function(t,n){var e;return t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===n?"color":"background-color"])&&(e=e||r)})),e}(t,r)).bind((function(t){return function(t){if("transparent"===t)return b.some(pb(0,0,0,0));var n=db.exec(t);if(null!==n)return b.some(bb(n[1],n[2],n[3],"1"));var e=mb.exec(t);return null!==e?b.some(bb(e[1],e[2],e[3],e[4])):b.none()}(t).map((function(t){var e=cb(t).value;return ve(n.toLowerCase(),e)}))})).getOr(!1)},columns:Db(t),fetch:Nb(Tb(t),Ob(t)),onAction:function(e){null!==i.get()&&zb(t,r,i.get(),n)},onItemAction:function(n,o){zb(t,r,o,(function(n){i.set(n),function(t,n){t.fire("TextColorChange",n)}(t,{name:e,color:n})}))},onSetup:function(n){null!==i.get()&&Rb(n,e,i.get());var r=function(t){t.name===e&&Rb(n,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},Pb=function(t,e,r,o){t.ui.registry.addNestedMenuItem(e,{text:o,icon:"forecolor"===e?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(e){zb(t,r,e.value,n)}}]}})},Ib=function(t){return function(e,r){var o={colorpicker:r},i=function(t){return function(n){var e=n.getData();t(b.from(e.colorpicker)),n.close()}}(e);t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:function(t,n){"hex-valid"===n.name&&(n.value?t.enable("ok"):t.disable("ok"))},onSubmit:i,onClose:n,onCancel:function(){e(b.none())}})}},Lb=function(t,n,e,r,o,i,a,u){var c=ch(n),s=Hb(n,e,r,"color"!==o?"normal":"color",i,a,u);return fh(t,c,s,r,o)},Hb=function(t,e,r,o,i,a,u){return Lf(L(t,(function(c){return"choiceitem"===c.type?(s=c,Cn("choicemenuitem",xh,s)).fold(sh,(function(s){return b.some(function(t,e,r,o,i,a,u,c){void 0===c&&(c=!0);var s=Jv({presets:r,textContent:e?t.text:b.none(),htmlContent:b.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:b.none(),checkMark:e?b.some(Gv(u.icons)):b.none(),caret:b.none(),value:t.value},u,c);return Nt(Lv({data:Hv(t),disabled:t.disabled,getApi:function(t){return{setActive:function(n){bp.set(t,n)},isActive:function(){return bp.isOn(t)},isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){return Jh.set(t,n)}}},onAction:function(n){return o(t.value)},onSetup:function(t){return t.setActive(i),n},triggersSubmenu:!1,itemBehaviours:[]},s,a,u),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})}(s,1===r,o,e,a(c.value),i,u,ch(t)))})):b.none();var s})))},Fb=function(t,n){var e=nh(n);return 1===t?{mode:"menu",moveOnTab:!0}:"auto"===t?{mode:"grid",selector:"."+e.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===n?"tox-swatches__row":"tox-collection__group")}},Vb=Ko("cell-over"),jb=Ko("cell-execute"),Ub=function(t,n,e){var r,o=function(e){return Ir(e,jb,{row:t,col:n})},i=function(t,n){n.stop(),o(t)};return aa({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=e,r)},behaviours:Ku([np("insert-table-picker-cell",[$r(Ze(),ap.focus),$r(gr(),o),$r(ar(),i),$r(vr(),i)]),bp.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),ap.config({onFocus:function(e){return Ir(e,Vb,{row:t,col:n})}})])})},Wb=function(t){return G(t,(function(t){return L(t,ua)}))},$b=function(t,n){return ra(n+1+"x"+(t+1))},qb={inserttable:function(t){var n=Ko("size-label"),e=function(t,n,e){for(var r=[],o=0;o<n;o++){for(var i=[],a=0;a<e;a++)i.push(Ub(o,a,t));r.push(i)}return r}(n,10,10),r=ng({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:n}},components:[ra("0x0")],behaviours:Ku([tp.config({})])});return{type:"widget",data:{value:Ko("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[nb.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Wb(e).concat(r.asSpec()),behaviours:Ku([np("insert-table-picker",[Xr(Vb,(function(t,n,o){var i=o.event.row,a=o.event.col;!function(t,n,e,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)bp.set(t[i][a],i<=n&&a<=e)}(e,i,a,10,10),tp.set(r.get(t),[$b(i,a)])})),Xr(jb,(function(n,e,r){t.onAction({numRows:r.event.row+1,numColumns:r.event.col+1}),Pr(n,yr())}))]),Xm.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(t,n){var e=Mb(n.colorinput.getColors(),n.colorinput.hasCustomColors()),r=n.colorinput.getColorCols(),o=Lb(Ko("menu-value"),e,(function(n){t.onAction({value:n})}),r,"color",qg.CLOSE_ON_EXECUTE,c,n.shared.providers),i=f(f({},o),{markers:nh("color"),movement:Fb(r,"color")});return{type:"widget",data:{value:Ko("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[nb.widget(Rp.sketch(i))]}}},Gb=function(t,e,o,i,a,u,c,s){void 0===s&&(s=!0);var l=Jv({presets:i,textContent:b.none(),htmlContent:o?t.text.map((function(t){return Zv(t,e)})):b.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:b.none(),checkMark:b.none(),caret:b.none(),value:t.value},c.providers,s,t.icon);return Lv({data:Hv(t),disabled:t.disabled,getApi:r({}),onAction:function(n){return a(t.value,t.meta)},onSetup:r(n),triggersSubmenu:!1,itemBehaviours:Qv(t.meta,c)},l,u,c.providers)},Kb=function(t){var n=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}));return{type:"separator",dom:f({tag:"div",classes:[Kg,"tox-collection__group-heading"]},n),components:[]}},Xb=function(t,n,e,r){void 0===r&&(r=!0);var o=Jv({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,caret:b.none(),checkMark:b.none(),shortcutContent:t.shortcut},e,r);return Lv({data:Hv(t),getApi:function(t){return{isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){return Jh.set(t,n)}}},disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,n,e)},Yb=function(t,e,r,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var a,u=i?(a=r.icons,{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:rg("chevron-down",a)}}):function(t){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:rg("chevron-right",t)}}}(r.icons),c=Jv({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,caret:b.some(u),checkMark:b.none(),shortcutContent:t.shortcut},r,o);return Lv({data:Hv(t),getApi:function(t){return{isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){return Jh.set(t,n)}}},disabled:t.disabled,onAction:n,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},c,e,r)},Jb=function(t,n,e,r){void 0===r&&(r=!0);var o=Jv({iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,checkMark:b.some(Gv(e.icons)),caret:b.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},e,r);return Nt(Lv({data:Hv(t),disabled:t.disabled,getApi:function(t){return{setActive:function(n){bp.set(t,n)},isActive:function(){return bp.isOn(t)},isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){return Jh.set(t,n)}}},onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,n,e),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})},Qb=function(t,n){return function(t,n){return Object.prototype.hasOwnProperty.call(t,n)?b.some(t[n]):b.none()}(qb,t.fancytype).map((function(e){return e(t,n)}))},Zb=function(t,n,e,r){var o={dom:Kv(!1,t.label),optComponents:[b.some({dom:{tag:"div",classes:["tox-collection__item-container","tox-collection__item-container--row"]},components:tb(t.items,r)})]};return Lv({data:Hv(f({text:b.none()},t)),disabled:t.disabled,getApi:function(t){return{isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){Jh.set(t,n),H(hs(t.element,"*"),(function(e){t.getSystem().getByDom(e).each((function(t){t.hasConfigured(Jh)&&Jh.set(t,n)}))}))}}},onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:b.from(r.itemBehaviours).getOr([])},o,n,e.providers)};!function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"}(_b||(_b={}));var ty=function(t,n,e,r,o){var i,a=e.shared.providers,u=function(t){return o?f(f({},t),{shortcut:b.none(),icon:t.text.isSome()?b.none():t.icon}):t};switch(t.type){case"menuitem":return(i=t,Cn("menuitem",Ch,i)).fold(sh,(function(t){return b.some(Xb(u(t),n,a,r))}));case"nestedmenuitem":return function(t){return Cn("nestedmenuitem",_h,t)}(t).fold(sh,(function(t){return b.some(Yb(u(t),n,a,r,o))}));case"togglemenuitem":return function(t){return Cn("togglemenuitem",kh,t)}(t).fold(sh,(function(t){return b.some(Jb(u(t),n,a,r))}));case"separator":return function(t){return Cn("separatormenuitem",Og,t)}(t).fold(sh,(function(t){return b.some(Kb(t))}));case"fancymenuitem":return function(t){return Cn("fancymenuitem",wh,t)}(t).fold(sh,(function(t){return Qb(u(t),e)}));default:return console.error("Unknown item in general menu",t),b.none()}},ny=function(t,n,e,r,o,i,a){var u=1===r,c=!u||ch(t);return Lf(L(t,(function(t){switch(t.type){case"separator":return(r=t,Cn("Autocompleter.Separator",Og,r)).fold(sh,(function(t){return b.some(Kb(t))}));case"cardmenuitem":return function(t){return Cn("cardmenuitem",yh,t)}(t).fold(sh,(function(t){return b.some(Zb(f(f({},t),{onAction:function(n){t.onAction(n),e(t.value,t.meta)}}),o,i,{itemBehaviours:Qv(t.meta,i),cardText:{matchText:n,highlightOn:a}}))}));case"autocompleteitem":default:return function(t){return Cn("Autocompleter.Item",Tg,t)}(t).fold(sh,(function(t){return b.some(Gb(t,n,u,"normal",e,o,i,c))}))}var r})))},ey=function(t,n,e,r,o){var i=ch(n),a=Lf(L(n,(function(t){var n=function(t){return ty(t,e,r,function(t){return o?!t.hasOwnProperty("text"):i}(t),o)};return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?n(f(f({},t),{disabled:!0})):n(t)})));return(o?lh:fh)(t,i,a,1,"normal")},ry=function(t){return Fp.singleData(t.value,t)},oy=function(t,n){var e=ce(b.none()),r=ce(!1),o=aa(Vp.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ku([np("dismissAutocompleter",[$r(Tr(),(function(){return u()}))])]),lazySink:n.getSink})),i=function(){return e.get().isSome()},a=function(){i()&&Vp.hide(o)},u=function(){if(i()){var n=e.get().map((function(t){return t.element}));mg(n.getOr(le.fromDom(t.selection.getNode()))).each(No),a(),e.set(b.none()),r.set(!1)}},c=Bt((function(){return Wg(t)})),s=function(n,e,r,i){n.matchLength=e.text.length;var a=et(r,(function(t){return b.from(t.columns)})).getOr(1);Vp.showAt(o,{anchor:"node",root:le.fromDom(t.getBody()),node:b.from(n.element)},Rp.sketch(function(t,n,e,r){var o=e===_b.ContentFocus?Cd():wd(),i=Fb(n,r),a=nh(r);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:e===_b.ContentFocus,focusManager:o,menuBehaviours:Oh("auto"!==n?[]:[Zr((function(t,n){Sh(t,4,a.item).each((function(n){var e=n.numColumns,r=n.numRows;Xm.setGridSize(t,r,e)}))}))])}}(fh("autocompleter-value",!0,i,a,"normal"),a,_b.ContentFocus,"normal"))),Vp.getContent(o).each(td.highlightFirst)},l=function(o){(function(n){return e.get().map((function(e){return bg(t.dom,t.selection.getRng(),e.triggerChar).bind((function(e){return Ag(t,c,e,n)}))})).getOrThunk((function(){return Sg(t,c)}))})(o).fold(u,(function(o){!function(n){if(!i()){var o=dg(t,n.range);e.set(b.some({triggerChar:n.triggerChar,element:o,matchLength:n.text.length})),r.set(!1)}}(o.context),o.lookupData.then((function(i){e.get().map((function(e){var c,f,d,m=o.context;if(e.triggerChar===m.triggerChar){var p=(c=m.triggerChar,d=et(f=i,(function(t){return b.from(t.columns)})).getOr(1),G(f,(function(e){var o=e.items;return ny(o,e.matchText,(function(n,o){var i=t.selection.getRng();bg(t.dom,i,c).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(t){var i=t.range,c={hide:function(){u()},reload:function(t){a(),l(t)}};r.set(!0),e.onAction(c,i,n,o),r.set(!1)}))}),d,qg.BUBBLE_TO_SANDBOX,n,e.highlightOn)})));p.length>0?s(e,m,i,p):m.text.length-e.matchLength>=10?u():a()}}))}))}))},f={onKeypress:sg((function(t){27!==t.which&&l()}),50),cancelIfNecessary:u,isMenuOpen:function(){return Vp.isOpen(o)},isActive:i,isProcessingAction:r.get,getView:function(){return Vp.getContent(o)}};!1===t.hasPlugin("rtc")&&yg(f,t)},iy=s,ay=function(t,n,e){return function(t,n,e,r){return wa(t,n,e,r,!1)}(t,n,iy,e)},uy=function(t,n,e){return function(t,n,e,r){return wa(t,n,e,r,!0)}(t,n,iy,e)},cy=xa,sy=function(t,n,e){return Va(t,n,e).isSome()},ly=function(t,n){var e=null;return{cancel:function(){null!==e&&(clearTimeout(e),e=null)},schedule:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e=setTimeout((function(){t.apply(null,r),e=null}),n)}}},fy=function(t){var n=t.raw;return void 0===n.touches||1!==n.touches.length?b.none():b.some(n.touches[0])},dy=function(t){var n=ce(b.none()),e=ce(!1),r=ly((function(n){t.triggerEvent(br(),n),e.set(!0)}),400),o=qt([{key:$e(),value:function(t){return fy(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.schedule(t),e.set(!1),n.set(b.some(i))})),b.none()}},{key:qe(),value:function(t){return r.cancel(),fy(t).each((function(t){n.get().each((function(e){(function(t,n){var e=Math.abs(t.clientX-n.x),r=Math.abs(t.clientY-n.y);return e>5||r>5})(t,e)&&n.set(b.none())}))})),b.none()}},{key:Ge(),value:function(o){r.cancel();return n.get().filter((function(t){return Be(t.target,o.target)})).map((function(n){return e.get()?(o.prevent(),!1):t.triggerEvent(vr(),o)}))}}]);return{fireIfReady:function(t,n){return Ot(o,n).bind((function(n){return n(t)}))}}},my=function(){return Me().browser.isFirefox()},py=an([jn("triggerEvent"),Qn("stopBackspace",!0)]),gy=function(t,n){var e=kn("Getting GUI events settings",py,n),r=dy(e),o=L(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(n){return ay(t,n,(function(t){r.fireIfReady(t,n).each((function(n){n&&t.kill()})),e.triggerEvent(n,t)&&t.kill()}))})),i=ce(b.none()),a=ay(t,"paste",(function(t){r.fireIfReady(t,"paste").each((function(n){n&&t.kill()})),e.triggerEvent("paste",t)&&t.kill(),i.set(b.some(setTimeout((function(){e.triggerEvent(mr(),t)}),0)))})),u=ay(t,"keydown",(function(t){e.triggerEvent("keydown",t)?t.kill():!0===e.stopBackspace&&function(t){return t.raw.which===nd[0]&&!R(["input","textarea"],ro(t.target))&&!sy(t.target,'[contenteditable="true"]')}(t)&&t.prevent()})),c=function(t,n){return my()?uy(t,"focus",n):ay(t,"focusin",n)}(t,(function(t){e.triggerEvent("focusin",t)&&t.kill()})),s=ce(b.none()),l=function(t,n){return my()?uy(t,"blur",n):ay(t,"focusout",n)}(t,(function(t){e.triggerEvent("focusout",t)&&t.kill(),s.set(b.some(setTimeout((function(){e.triggerEvent(dr(),t)}),0)))}));return{unbind:function(){H(o,(function(t){t.unbind()})),u.unbind(),c.unbind(),l.unbind(),a.unbind(),i.get().each(clearTimeout),s.get().each(clearTimeout)}}},hy=function(t,n){var e=Ot(t,"target").getOr(n);return ce(e)},vy=Dt([{stopped:[]},{resume:["element"]},{complete:[]}]),by=function(t,n,e,r,o,i){var a=t(n,r),u=function(t,n){var e=ce(!1),r=ce(!1);return{stop:function(){e.set(!0)},cut:function(){r.set(!0)},isStopped:e.get,isCut:r.get,event:t,setSource:n.set,getSource:n.get}}(e,o);return a.fold((function(){return i.logEventNoHandlers(n,r),vy.complete()}),(function(t){var e=t.descHandler;return pi(e)(u),u.isStopped()?(i.logEventStopped(n,t.element,e.purpose),vy.stopped()):u.isCut()?(i.logEventCut(n,t.element,e.purpose),vy.complete()):po(t.element).fold((function(){return i.logNoParent(n,t.element,e.purpose),vy.complete()}),(function(r){return i.logEventResponse(n,t.element,e.purpose),vy.resume(r)}))}))},yy=function(t,n,e,r,o,i){return by(t,n,e,r,o,i).fold(s,(function(r){return yy(t,n,e,r,o,i)}),c)},xy=function(t,e,r){var o=function(t){var e=ce(!1);return{stop:function(){e.set(!0)},cut:n,isStopped:e.get,isCut:c,event:t,setSource:u("Cannot set source of a broadcasted event"),getSource:u("Cannot get source of a broadcasted event")}}(e);return H(t,(function(t){var n=t.descHandler;pi(n)(o)})),o.isStopped()},wy=function(t,n,e,r,o){var i=hy(e,r);return yy(t,n,e,r,i,o)},Cy=function(){var t={};return{registerId:function(n,e,r){xt(r,(function(r,o){var a=void 0!==t[o]?t[o]:{};a[e]=function(t,n){return e=i.apply(void 0,[t.handler].concat(n)),r=t.purpose,{cHandler:e,purpose:r};var e,r}(r,n),t[o]=a}))},unregisterId:function(n){xt(t,(function(t,e){t.hasOwnProperty(n)&&delete t[n]}))},filterByType:function(n){return Ot(t,n).map((function(t){return kt(t,(function(t,n){return function(t,n){return{id:t,descHandler:n}}(n,t)}))})).getOr([])},find:function(n,e,r){var o=Ot(t,e);return Fe(r,(function(t){return function(t,n){return ti(n).fold((function(){return b.none()}),(function(e){return t.bind((function(t){return Ot(t,e)})).map((function(t){return function(t,n){return{element:t,descHandler:n}}(n,t)}))}))}(o,t)}),n)}}},_y=function(){var t=Cy(),n={},e=function(t){var n=t.element;return ti(n).fold((function(){return function(t,n){var e=Ko(Jo+t);return Zo(n,e),e}("uid-",t.element)}),(function(t){return t}))},r=function(e){ti(e.element).each((function(e){delete n[e],t.unregisterId(e)}))};return{find:function(n,e,r){return t.find(n,e,r)},filter:function(n){return t.filterByType(n)},register:function(o){var i=e(o);Et(n,i)&&function(t,e){var o=n[e];if(o!==t)throw new Error('The tagId "'+e+'" is already used by: '+Wo(o.element)+"\nCannot use it for: "+Wo(t.element)+"\nThe conflicting element is"+(Ni(o.element)?" ":" not ")+"already in the DOM");r(t)}(o,i);var a=[o];t.registerId(a,i,o.events),n[i]=o},unregister:r,getById:function(t){return Ot(n,t)}}},ky=Pf({name:"Container",factory:function(t){var n=t.dom,e=n.attributes,r=d(n,["attributes"]);return{uid:t.uid,dom:f({tag:"div",attributes:f({role:"presentation"},e)},r),components:t.components,behaviours:Rl(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Qn("components",[]),Nl("containerBehaviours",[]),Qn("events",{}),Qn("domModification",{}),Qn("eventOrder",{})]}),Sy=function(t){var e=function(n){return po(t.element).fold(s,(function(t){return Be(n,t)}))},o=_y(),i=function(t,n){return o.find(e,t,n)},a=gy(t.element,{triggerEvent:function(t,n){return Xa(t,n.target,(function(e){return function(t,n,e,r){return wy(t,n,e,e.target,r)}(i,t,n,e)}))}}),u={debugInfo:r("real"),triggerEvent:function(t,n,e){Xa(t,n,(function(r){return wy(i,t,e,n,r)}))},triggerFocus:function(t,e){ti(t).fold((function(){ec(t)}),(function(r){Xa(fr(),t,(function(r){return function(t,n,e,r,o){var i=hy(e,r);by(t,n,e,r,i,o)}(i,fr(),{originator:e,kill:n,prevent:n,target:t},t,r),!1}))}))},triggerEscape:function(t,n){u.triggerEvent("keydown",t.element,n.event)},getByUid:function(t){return v(t)},getByDom:function(t){return b(t)},build:aa,addToGui:function(t){f(t)},removeFromGui:function(t){d(t)},addToWorld:function(t){c(t)},removeFromWorld:function(t){l(t)},broadcast:function(t){p(t)},broadcastOn:function(t,n){g(t,n)},broadcastEvent:function(t,n){h(t,n)},isConnected:s},c=function(t){t.connect(u),ao(t.element)||(o.register(t),H(t.components(),c),u.triggerEvent(wr(),t.element,{target:t.element}))},l=function(t){ao(t.element)||(H(t.components(),l),o.unregister(t)),t.disconnect()},f=function(n){Xs(t,n)},d=function(t){Qs(t)},m=function(t){var n=o.filter(pr());H(n,(function(n){var e=n.descHandler;pi(e)(t)}))},p=function(t){m({universal:!0,data:t})},g=function(t,n){m({universal:!1,channels:t,data:n})},h=function(t,n){var e=o.filter(t);return xy(e,n)},v=function(t){return o.getById(t).fold((function(){return it.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),it.value)},b=function(t){var n=ti(t).getOr("not found");return v(n)};return c(t),{root:t,element:t.element,destroy:function(){a.unbind(),Mo(t.element)},add:f,remove:d,getByUid:v,getByDom:b,addToWorld:c,removeFromWorld:l,broadcast:p,broadcastOn:g,broadcastEvent:h}},Ay=r([Qn("prefix","form-field"),Nl("fieldBehaviours",[Uf,Ml])]),Oy=r([lf({schema:[In("dom")],name:"label"}),lf({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[In("text")],name:"aria-descriptor"}),cf({factory:{sketch:function(t){var n=Wt(t,["factory"]);return t.factory.sketch(n)}},schema:[In("factory")],name:"field"})]),Ty=If({name:"FormField",configFields:Ay(),partFields:Oy(),factory:function(t,n,e,r){var o=Bl(t.fieldBehaviours,[Uf.config({find:function(n){return Cf(n,t,"field")}}),Ml.config({store:{mode:"manual",getValue:function(t){return Uf.getCurrent(t).bind(Ml.getValue)},setValue:function(t,n){Uf.getCurrent(t).each((function(t){Ml.setValue(t,n)}))}}})]),i=jr([Zr((function(n,e){var r=kf(n,t,["label","field","aria-descriptor"]);r.field().each((function(n){var e=Ko(t.prefix);r.label().each((function(t){Io(t.element,"for",e),Io(n.element,"id",e)})),r["aria-descriptor"]().each((function(e){var r=Ko(t.prefix);Io(e.element,"id",r),Io(n.element,"aria-describedby",r)}))}))}))]),a={getField:function(n){return Cf(n,t,"field")},getLabel:function(n){return Cf(n,t,"label")}};return{uid:t.uid,dom:t.dom,components:n,behaviours:o,events:i,apis:a}},apis:{getField:function(t,n){return t.getField(n)},getLabel:function(t,n){return t.getLabel(n)}}}),Ey=Object.freeze({__proto__:null,exhibit:function(t,n){return mi({attributes:qt([{key:n.tabAttr,value:"true"}])})}}),Dy=[Qn("tabAttr","data-alloy-tabstop")],zy=Yu({fields:Dy,name:"tabstopping",active:Ey}),My=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ny=function(t,n,e,r){var o=Ry(t,n,e,r);return Ty.sketch(o)},Ry=function(t,n,e,r){return{dom:By(e),components:t.toArray().concat([n]),fieldBehaviours:Ku(r)}},By=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Py=function(t,n){return Ty.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}})},Iy=Ko("form-component-change"),Ly=Ko("form-close"),Hy=Ko("form-cancel"),Fy=Ko("form-action"),Vy=Ko("form-submit"),jy=Ko("form-block"),Uy=Ko("form-unblock"),Wy=Ko("form-tabchange"),$y=Ko("form-resize"),qy=function(t,n){var e,r,i,a=t.label.map((function(t){return Py(t,n)})),u=function(t){return function(n,e){Va(e.event.target,"[data-collection-item-value]").each((function(r){t(n,e,r,Lo(r,"data-collection-item-value"))}))}},c=u((function(e,r,o,i){r.stop(),n.isDisabled()||Ir(e,Fy,{name:t.name,value:i})})),s=[$r(Ze(),u((function(t,n,e){ec(e)}))),$r(ar(),c),$r(vr(),c),$r(tr(),u((function(t,n,e){Fa(t.element,"."+Jg).each((function(t){Ti(t,Jg)})),Ai(e,Jg)}))),$r(nr(),u((function(t){Fa(t.element,"."+Jg).each((function(t){Ti(t,Jg)}))}))),eo(u((function(n,e,r,o){Ir(n,Fy,{name:t.name,value:o})})))],l=function(t,n){return L(hs(t.element,".tox-collection__item"),n)},f=Ty.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:o},behaviours:Ku([Jh.config({disabled:n.isDisabled,onDisabled:function(t){l(t,(function(t){Ai(t,"tox-collection__item--state-disabled"),Io(t,"aria-disabled",!0)}))},onEnabled:function(t){l(t,(function(t){Ti(t,"tox-collection__item--state-disabled"),Vo(t,"aria-disabled")}))}}),Ov(),tp.config({}),Ml.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,r){!function(e,r){var o=L(r,(function(e){var r=Ih.translate(e.text),o=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+e.icon+"</div>",a={_:" "," - ":" ","-":" "},u=r.replace(/\_| \- |\-/g,(function(t){return a[t]}));return'<div class="tox-collection__item'+(n.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+My.encodeAllRaw(e.value)+'" title="'+u+'" aria-label="'+u+'">'+i+o+"</div>"})),i="auto"!==t.columns&&t.columns>1?I(o,t.columns):[o],a=L(i,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}));Bo(e.element,a.join(""))}(e,r),"auto"===t.columns&&Sh(e,5,"tox-collection__item").each((function(t){var n=t.numRows,r=t.numColumns;Xm.setGridSize(e,n,r)})),Pr(e,$y)}}),zy.config({}),Xm.config((r=t.columns,i="normal",1===r?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===r?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===i?".tox-swatches__row":".tox-collection__group",cell:"color"===i?".tox-swatch":"."+Kg}})),np("collection-events",s)]),eventOrder:(e={},e[gr()]=["disabling","alloy.base.behaviour","collection-events"],e)});return Ny(a,f,["tox-form__group--collection"],[])},Gy=r([qn("data"),Qn("inputAttributes",{}),Qn("inputStyles",{}),Qn("tag","input"),Qn("inputClasses",[]),ou("onSetValue"),Qn("styles",{}),Qn("eventOrder",{}),Nl("inputBehaviours",[Ml,ap]),Qn("selectOnFocus",!0)]),Ky=function(t){return Ku([ap.config({onFocus:t.selectOnFocus?function(t){var n=t.element,e=Ki(n);n.dom.setSelectionRange(0,e.length)}:n})])},Xy=function(t){return f(f({},Ky(t)),Bl(t.inputBehaviours,[Ml.config({store:f(f({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return Ki(t.element)},setValue:function(t,n){Ki(t.element)!==n&&Xi(t.element,n)}}),onSetValue:t.onSetValue})]))},Yy=function(t){return{tag:t.tag,attributes:f({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},Jy=Pf({name:"Input",configFields:Gy(),factory:function(t,n){return{uid:t.uid,dom:Yy(t),components:[],behaviours:Xy(t),eventOrder:t.eventOrder}}}),Qy={},Zy={exports:Qy};!function(n,e,r,o){!function(o){if("object"==typeof e&&void 0!==r)r.exports=o();else if("function"==typeof n&&n.amd)n([],o);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(n,e,r){function i(u,c){if(!e[u]){if(!n[u]){var s="function"==typeof o&&o;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=e[u]={exports:{}};n[u][0].call(f.exports,(function(t){return i(n[u][1][t]||t)}),f,f.exports,t,n,e,r)}return e[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n,e){var r,o,i=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(n){try{return r.call(null,t,0)}catch(n){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var s,l=[],f=!1,d=-1;function m(){f&&s&&(f=!1,s.length?l=s.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=c(m);f=!0;for(var n=l.length;n;){for(s=l,l=[];++d<n;)s&&s[d].run();d=-1,n=l.length}s=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(n){try{return o.call(null,t)}catch(n){return o.call(this,t)}}}(t)}}function g(t,n){this.fun=t,this.array=n}function h(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];l.push(new g(t,n)),1!==l.length||f||c(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,n,e){(function(t){!function(e){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void c(n.promise,t)}u(n.promise,r)}else(1===t._state?u:c)(n.promise,t._value)}))):t._deferreds.push(n)}function u(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof i)return t._state=3,t._value=n,void s(t);if("function"==typeof e)return void f((r=e,o=n,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=n,s(t)}catch(n){c(t,n)}var r,o}function c(t,n){t._state=2,t._value=n,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var n=0,e=t._deferreds.length;n<e;n++)a(t,t._deferreds[n]);t._deferreds=null}function l(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function f(t,n){var e=!1;try{t((function(t){e||(e=!0,u(n,t))}),(function(t){e||(e=!0,c(n,t))}))}catch(t){if(e)return;e=!0,c(n,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,n){var e=new this.constructor(o);return a(this,new l(t,n,e)),e},i.all=function(t){var n=Array.prototype.slice.call(t);return new i((function(t,e){if(0===n.length)return t([]);var r=n.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),e)}n[i]=a,0==--r&&t(n)}catch(t){e(t)}}for(var i=0;i<n.length;i++)o(i,n[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(n){n(t)}))},i.reject=function(t){return new i((function(n,e){e(t)}))},i.race=function(t){return new i((function(n,e){for(var r=0,o=t.length;r<o;r++)t[r].then(n,e)}))},i._immediateFn="function"==typeof t?function(n){t(n)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==n&&n.exports?n.exports=i:e.Promise||(e.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,n,e){(function(n,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function s(t,n){this._id=t,this._clearFn=n}e.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),n))},e.setImmediate="function"==typeof n?n:function(t){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o((function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))})),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,n,e){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();n.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,Qy,Zy,void 0);var tx,nx=Zy.exports.boltExport,ex=function(t){var n=b.none(),e=[],r=function(t){o()?a(t):e.push(t)},o=function(){return n.isSome()},i=function(t){H(t,a)},a=function(t){n.each((function(n){setTimeout((function(){t(n)}),0)}))};return t((function(t){o()||(n=b.some(t),i(e),e=[])})),{get:r,map:function(t){return ex((function(n){r((function(e){n(t(e))}))}))},isReady:o}},rx={nu:ex,pure:function(t){return ex((function(n){n(t)}))}},ox=function(t){setTimeout((function(){throw t}),0)},ix=function(t){var n=function(n){t().then(n,ox)};return{map:function(n){return ix((function(){return t().then(n)}))},bind:function(n){return ix((function(){return t().then((function(t){return n(t).toPromise()}))}))},anonBind:function(n){return ix((function(){return t().then((function(){return n.toPromise()}))}))},toLazy:function(){return rx.nu(n)},toCached:function(){var n=null;return ix((function(){return null===n&&(n=t()),n}))},toPromise:t,get:n}},ax=function(t){return ix((function(){return new nx(t)}))},ux=function(t){return ix((function(){return nx.resolve(t)}))},cx=["input","textarea"],sx=function(t){var n=ro(t);return R(cx,n)},lx=function(t,n){var e=n.getRoot(t).getOr(t.element);Ti(e,n.invalidClass),n.notify.each((function(n){sx(t.element)&&Io(t.element,"aria-invalid",!1),n.getContainer(t).each((function(t){Bo(t,n.validHtml)})),n.onValid(t)}))},fx=function(t,n,e,r){var o=n.getRoot(t).getOr(t.element);Ai(o,n.invalidClass),n.notify.each((function(n){sx(t.element)&&Io(t.element,"aria-invalid",!0),n.getContainer(t).each((function(t){Bo(t,r)})),n.onInvalid(t,r)}))},dx=function(t,n,e){return n.validator.fold((function(){return ux(it.value(!0))}),(function(n){return n.validate(t)}))},mx=function(t,n,e){return n.notify.each((function(n){n.onValidate(t)})),dx(t,n).map((function(e){return t.getSystem().isConnected()?e.fold((function(e){return fx(t,n,0,e),it.error(e)}),(function(e){return lx(t,n),it.value(e)})):it.error("No longer in system")}))},px=Object.freeze({__proto__:null,markValid:lx,markInvalid:fx,query:dx,run:mx,isInvalid:function(t,n){var e=n.getRoot(t).getOr(t.element);return Ei(e,n.invalidClass)}}),gx=Object.freeze({__proto__:null,events:function(t,e){return t.validator.map((function(e){return jr([$r(e.onEvent,(function(n){mx(n,t).get(o)}))].concat(e.validateOnLoad?[Zr((function(e){mx(e,t).get(n)}))]:[]))})).getOr({})}}),hx=[In("invalidClass"),Qn("getRoot",b.none),Jn("notify",[Qn("aria","alert"),Qn("getContainer",b.none),Qn("validHtml",""),ou("onValid"),ou("onInvalid"),ou("onValidate")]),Jn("validator",[In("validate"),Qn("onEvent","input"),Qn("validateOnLoad",!0)])],vx=Yu({fields:hx,name:"invalidating",active:gx,apis:px,extra:{validation:function(t){return function(n){var e=Ml.getValue(n);return ux(t(e))}}}}),bx=Object.freeze({__proto__:null,getCoupled:function(t,n,e,r){return e.getOrCreate(t,n,r)}}),yx=[Ln("others",wn(it.value,Tn()))],xx=Yu({fields:yx,name:"coupling",apis:bx,state:Object.freeze({__proto__:null,init:function(){var t={},n=r({});return fi({readState:n,getOrCreate:function(n,e,r){var o=bt(e.others);if(o)return Ot(t,r).getOrThunk((function(){var o=Ot(e.others,r).getOrDie("No information found for coupled component: "+r)(n),i=n.getSystem().build(o);return t[r]=i,i}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}})}})}),wx=r("sink"),Cx=r(lf({name:wx(),overrides:r({dom:{tag:"div"},behaviours:Ku([Ws.config({useFixed:s})]),events:jr([Yr(er()),Yr(Xe()),Yr(ar())])})}));!function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"}(tx||(tx={}));var _x,kx,Sx,Ax=function(t,n){var e=t.getHotspot(n).getOr(n),r=t.getAnchorOverrides();return t.layouts.fold((function(){return{anchor:"hotspot",hotspot:e,overrides:r}}),(function(t){return{anchor:"hotspot",hotspot:e,overrides:r,layouts:t}}))},Ox=function(t,n,e,r,o,i,a){return function(t,n,e,r,o,i,a){var u=function(t,n,e){return(0,t.fetch)(e).map(n)}(t,n,r),c=zx(r,t);return u.map((function(t){return t.bind((function(t){return b.from(Fp.sketch(f(f({},i.menu()),{uid:ni(""),data:t,highlightImmediately:a===tx.HighlightFirst,onOpenMenu:function(t,n){var r=c().getOrDie();Ws.position(r,e,n),dl.decloak(o)},onOpenSubmenu:function(t,n,e){var r=c().getOrDie();Ws.position(r,{anchor:"submenu",item:n},e),dl.decloak(o)},onRepositionMenu:function(t,n,r){var o=c().getOrDie();Ws.position(o,e,n),H(r,(function(t){Ws.position(o,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){return ap.focus(r),dl.close(o),b.some(!0)}})))}))}))}(t,n,Ax(t,e),e,r,o,a).map((function(t){return t.fold((function(){dl.isOpen(r)&&dl.close(r)}),(function(t){dl.cloak(r),dl.open(r,t),i(r)})),r}))},Tx=function(t,n,e,r,o,i,a){return dl.close(r),ux(r)},Ex=function(t,n,e,r,o,i){var a=xx.getCoupled(e,"sandbox");return(dl.isOpen(a)?Tx:Ox)(t,n,e,a,r,o,i)},Dx=function(t,n,e){var r=Uf.getCurrent(n).getOr(n),o=ba(t.element);e?Li(r.element,"min-width",o+"px"):function(t,n){va.set(t,n)}(r.element,o)},zx=function(t,n){return t.getSystem().getByUid(n.uid+"-"+wx()).map((function(t){return function(){return it.value(t)}})).getOrThunk((function(){return n.lazySink.fold((function(){return function(){return it.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(n){return function(){return n(t)}}))}))},Mx=function(t){dl.getState(t).each((function(t){Fp.repositionMenus(t)}))},Nx=function(t,n,e){var r=ja(),o=zx(n,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Il(t.sandboxBehaviours,[Ml.config({store:{mode:"memory",initialValue:n}}),dl.config({onOpen:function(o,i){var a=Ax(t,n);r.link(n.element),t.matchWidth&&Dx(a.hotspot,i,t.useMinWidth),t.onOpen(a,o,i),void 0!==e&&void 0!==e.onOpen&&e.onOpen(o,i)},onClose:function(t,o){r.unlink(n.element),void 0!==e&&void 0!==e.onClose&&e.onClose(t,o)},isPartOf:function(t,e,r){return Wa(e,r)||Wa(n,r)},getAttachPoint:function(){return o().getOrDie()}}),Uf.config({find:function(t){return dl.getState(t).bind((function(t){return Uf.getCurrent(t)}))}}),tc.config({channels:f(f({},vl({isExtraPart:c})),yl({doReposition:Mx}))})])}},Rx=function(t){var n=xx.getCoupled(t,"sandbox");Mx(n)},Bx=function(){return[Qn("sandboxClasses",[]),Pl("sandboxBehaviours",[Uf,tc,dl,Ml])]},Px=r([In("dom"),In("fetch"),ou("onOpen"),iu("onExecute"),Qn("getHotspot",b.some),Qn("getAnchorOverrides",r({})),Bc(),Nl("dropdownBehaviours",[bp,xx,Xm,ap]),In("toggleClass"),Qn("eventOrder",{}),qn("lazySink"),Qn("matchWidth",!1),Qn("useMinWidth",!1),qn("role")].concat(Bx())),Ix=r([sf({schema:[nu()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),Cx()]),Lx=If({name:"Dropdown",configFields:Px(),partFields:Ix(),factory:function(t,e,r,o){var i,a,u=function(t){dl.getState(t).each((function(t){Fp.highlightPrimary(t)}))},c={expand:function(e){bp.isOn(e)||Ex(t,(function(t){return t}),e,o,n,tx.HighlightNone).get(n)},open:function(e){bp.isOn(e)||Ex(t,(function(t){return t}),e,o,n,tx.HighlightFirst).get(n)},isOpen:bp.isOn,close:function(e){bp.isOn(e)&&Ex(t,(function(t){return t}),e,o,n,tx.HighlightFirst).get(n)},repositionMenus:function(t){bp.isOn(t)&&Rx(t)}},s=function(t,n){return Lr(t),b.some(!0)};return{uid:t.uid,dom:t.dom,components:e,behaviours:Bl(t.dropdownBehaviours,[bp.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),xx.config({others:{sandbox:function(n){return Nx(t,n,{onOpen:function(){return bp.on(n)},onClose:function(){return bp.off(n)}})}}}),Xm.config({mode:"special",onSpace:s,onEnter:s,onDown:function(t,n){if(Lx.isOpen(t)){var e=xx.getCoupled(t,"sandbox");u(e)}else Lx.open(t);return b.some(!0)},onEscape:function(t,n){return Lx.isOpen(t)?(Lx.close(t),b.some(!0)):b.none()}}),ap.config({})]),events:xp(b.some((function(e){Ex(t,(function(t){return t}),e,o,u,tx.HighlightFirst).get(n)}))),eventOrder:f(f({},t.eventOrder),(i={},i[gr()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:c,domModification:{attributes:f(f({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:(a="type",Ot(t.dom,"attributes").bind((function(t){return Ot(t,a)}))).getOr("button")}:{})}}},apis:{open:function(t,n){return t.open(n)},expand:function(t,n){return t.expand(n)},close:function(t,n){return t.close(n)},isOpen:function(t,n){return t.isOpen(n)},repositionMenus:function(t,n){return t.repositionMenus(n)}}}),Hx=Object.freeze({__proto__:null,events:function(){return jr([Ur(cr(),s)])},exhibit:function(){return mi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),Fx=Yu({fields:[],name:"unselecting",active:Hx}),Vx=Ko("color-input-change"),jx=Ko("color-swatch-change"),Ux=Ko("color-picker-cancel"),Wx=function(t,e,r){var o=Ty.parts.field({factory:Jy,inputClasses:["tox-textfield"],onSetValue:function(t){return vx.run(t).get(n)},inputBehaviours:Ku([Jh.config({disabled:e.providers.isDisabled}),Ov(),zy.config({}),vx.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return po(t.element)},notify:{onValid:function(t){var n=Ml.getValue(t);Ir(t,Vx,{color:n})}},validator:{validateOnLoad:!1,validate:function(t){var n=Ml.getValue(t);if(0===n.length)return ux(it.value(!0));var e=le.fromTag("span");Li(e,"background-color",n);var r=Ui(e,"background-color").fold((function(){return it.error("blah")}),(function(t){return it.value(n)}));return ux(r)}}})]),selectOnFocus:!1}),i=t.label.map((function(t){return Py(t,e.providers)})),a=function(t,n){Ir(t,jx,{value:n})},u=ng(function(t,n){return Lx.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Ku([Ev(n.providers.isDisabled),Ov(),Fx.config({}),zy.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:n.getSink,fetch:function(e){return ax((function(n){return t.fetch(n)})).map((function(r){return b.from(ry(Nt(Lb(Ko("menu-value"),r,(function(n){t.onItemAction(e,n)}),t.columns,t.presets,qg.CLOSE_ON_EXECUTE,c,n.providers),{movement:Fb(t.columns,t.presets)})))}))},parts:{menu:oh(0,0,t.presets)}})}({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Eu,Tu,Nu]},onLtr:function(){return[Tu,Eu,Nu]}},components:[],fetch:Nb(r.getColors(),r.hasCustomColors()),columns:r.getColorCols(),presets:"color",onItemAction:function(t,n){u.getOpt(t).each((function(t){"custom"===n?r.colorPicker((function(n){n.fold((function(){return Pr(t,Ux)}),(function(n){a(t,n),Eb(n)}))}),"#ffffff"):a(t,"remove"===n?"":n)}))}},e));return Ty.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,u.asSpec()]}]),fieldBehaviours:Ku([np("form-field-events",[$r(Vx,(function(n,e){u.getOpt(n).each((function(t){Li(t.element,"background-color",e.event.color)})),Ir(n,Iy,{name:t.name})})),$r(jx,(function(t,n){Ty.getField(t).each((function(e){Ml.setValue(e,n.event.value),Uf.getCurrent(t).each(ap.focus)}))})),$r(Ux,(function(t,n){Ty.getField(t).each((function(n){Uf.getCurrent(t).each(ap.focus)}))}))])])})},$x=function(t,n,e){return{hue:t,saturation:n,value:e}},qx=Ko("rgb-hex-update"),Gx=Ko("slider-update"),Kx=Ko("palette-update"),Xx=lf({schema:[In("dom")],name:"label"}),Yx=function(t){return lf({name:t+"-edge",overrides:function(n){return n.model.manager.edgeActions[t].fold((function(){return{}}),(function(t){return{events:jr([qr($e(),(function(n,e,r){return t(n,r)}),[n]),qr(Xe(),(function(n,e,r){return t(n,r)}),[n]),qr(Ye(),(function(n,e,r){r.mouseIsDown.get()&&t(n,r)}),[n])])}}))}})},Jx=Yx("top-left"),Qx=Yx("top"),Zx=Yx("top-right"),tw=Yx("right"),nw=Yx("bottom-right"),ew=Yx("bottom"),rw=Yx("bottom-left"),ow=Yx("left"),iw=cf({name:"thumb",defaults:r({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:jr([Kr($e(),t,"spectrum"),Kr(qe(),t,"spectrum"),Kr(Ge(),t,"spectrum"),Kr(Xe(),t,"spectrum"),Kr(Ye(),t,"spectrum"),Kr(Qe(),t,"spectrum")])}}}),aw=cf({schema:[ue("mouseIsDown",(function(){return ce(!1)}))],name:"spectrum",overrides:function(t){var n=t.model.manager,e=function(e,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(e,t,r)}))};return{behaviours:Ku([Xm.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),ap.config({})]),events:jr([$r($e(),e),$r(qe(),e),$r(Xe(),e),$r(Ye(),(function(n,r){t.mouseIsDown.get()&&e(n,r)}))])}}}),uw=[Xx,ow,tw,Qx,ew,Jx,Zx,rw,nw,iw,aw],cw=r("slider.change.value"),sw=function(t){var n=t.event.raw;if(function(t){return-1!==t.type.indexOf("touch")}(n)){var e=n;return void 0!==e.touches&&1===e.touches.length?b.some(e.touches[0]).map((function(t){return ma(t.clientX,t.clientY)})):b.none()}var r=n;return void 0!==r.clientX?b.some(r).map((function(t){return ma(t.clientX,t.clientY)})):b.none()},lw=function(t){return t.model.minX},fw=function(t){return t.model.minY},dw=function(t){return t.model.minX-1},mw=function(t){return t.model.minY-1},pw=function(t){return t.model.maxX},gw=function(t){return t.model.maxY},hw=function(t){return t.model.maxX+1},vw=function(t){return t.model.maxY+1},bw=function(t,n,e){return n(t)-e(t)},yw=function(t){return bw(t,pw,lw)},xw=function(t){return bw(t,gw,fw)},ww=function(t){return yw(t)/2},Cw=function(t){return xw(t)/2},_w=function(t){return t.stepSize},kw=function(t){return t.snapToGrid},Sw=function(t){return t.snapStart},Aw=function(t){return t.rounded},Ow=function(t,n){return void 0!==t[n+"-edge"]},Tw=function(t){return Ow(t,"left")},Ew=function(t){return Ow(t,"right")},Dw=function(t){return Ow(t,"top")},zw=function(t){return Ow(t,"bottom")},Mw=function(t){return t.model.value.get()},Nw=function(t){return{x:t}},Rw=function(t){return{y:t}},Bw=function(t,n){return{x:t,y:n}},Pw=function(t,n){Ir(t,cw(),{value:n})},Iw=function(t,n,e,r){return t<n?t:t>e?e:t===n?n-1:Math.max(n,t-r)},Lw=function(t,n,e,r){return t>e?t:t<n?n:t===e?e+1:Math.min(e,t+r)},Hw=function(t,n,e){return Math.max(n,Math.min(e,t))},Fw=function(t){var n=t.min,e=t.max,r=t.range,o=t.value,i=t.step,a=t.snap,u=t.snapStart,c=t.rounded,s=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,d=t.maxBound,m=t.screenRange,p=s?n-1:n,g=l?e+1:e;if(o<f)return p;if(o>d)return g;var h=function(t,n,e){return Math.min(e,Math.max(t,n))-n}(o,f,d),v=Hw(h/m*r+n,p,g);return a&&v>=n&&v<=e?function(t,n,e,r,o){return o.fold((function(){var o=t-n,i=Math.round(o/r)*r;return Hw(n+i,n-1,e+1)}),(function(n){var o=(t-n)%r,i=Math.round(o/r),a=Math.floor((t-n)/r),u=Math.floor((e-n)/r),c=n+Math.min(u,a+i)*r;return Math.max(n,c)}))}(v,n,e,i,u):c?Math.round(v):v},Vw=function(t){var n=t.min,e=t.max,r=t.range,o=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,u=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,l=t.centerMaxEdge;return o<n?i?0:s:o>e?a?u:l:(o-n)/r*c},jw=function(t){return t.element.dom.getBoundingClientRect()},Uw=function(t,n){return t[n]},Ww=function(t){var n=jw(t);return Uw(n,"left")},$w=function(t){var n=jw(t);return Uw(n,"right")},qw=function(t){var n=jw(t);return Uw(n,"top")},Gw=function(t){var n=jw(t);return Uw(n,"bottom")},Kw=function(t){var n=jw(t);return Uw(n,"width")},Xw=function(t){var n=jw(t);return Uw(n,"height")},Yw=function(t,n,e){return(t+n)/2-e},Jw=function(t,n){var e=jw(t),r=jw(n),o=Uw(e,"left"),i=Uw(e,"right"),a=Uw(r,"left");return Yw(o,i,a)},Qw=function(t,n){var e=jw(t),r=jw(n),o=Uw(e,"top"),i=Uw(e,"bottom"),a=Uw(r,"top");return Yw(o,i,a)},Zw=function(t,n){Ir(t,cw(),{value:n})},tC=function(t){return{x:t}},nC=function(t,n,e){var r={min:lw(n),max:pw(n),range:yw(n),value:e,step:_w(n),snap:kw(n),snapStart:Sw(n),rounded:Aw(n),hasMinEdge:Tw(n),hasMaxEdge:Ew(n),minBound:Ww(t),maxBound:$w(t),screenRange:Kw(t)};return Fw(r)},eC=function(t){return function(n,e){return function(t,n,e){var r=(t>0?Lw:Iw)(Mw(e).x,lw(e),pw(e),_w(e));return Zw(n,tC(r)),b.some(r)}(t,n,e).map(s)}},rC=function(t,n,e,r,o,i){var a=function(t,n,e,r,o){var i=Kw(t),a=r.bind((function(n){return b.some(Jw(n,t))})).getOr(0),u=o.bind((function(n){return b.some(Jw(n,t))})).getOr(i),c={min:lw(n),max:pw(n),range:yw(n),value:e,hasMinEdge:Tw(n),hasMaxEdge:Ew(n),minBound:Ww(t),minOffset:0,maxBound:$w(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return Vw(c)}(n,i,e,r,o);return Ww(n)-Ww(t)+a},oC=eC(-1),iC=eC(1),aC=b.none,uC=b.none,cC={"top-left":b.none(),top:b.none(),"top-right":b.none(),right:b.some((function(t,n){Pw(t,Nw(hw(n)))})),"bottom-right":b.none(),bottom:b.none(),"bottom-left":b.none(),left:b.some((function(t,n){Pw(t,Nw(dw(n)))}))},sC=Object.freeze({__proto__:null,setValueFrom:function(t,n,e){var r=nC(t,n,e),o=tC(r);return Zw(t,o),r},setToMin:function(t,n){var e=lw(n);Zw(t,tC(e))},setToMax:function(t,n){var e=pw(n);Zw(t,tC(e))},findValueOfOffset:nC,getValueFromEvent:function(t){return sw(t).map((function(t){return t.left}))},findPositionOfValue:rC,setPositionFromValue:function(t,n,e,r){var o=Mw(e),i=rC(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),e),a=ba(n.element)/2;Li(n.element,"left",i-a+"px")},onLeft:oC,onRight:iC,onUp:aC,onDown:uC,edgeActions:cC}),lC=function(t,n){Ir(t,cw(),{value:n})},fC=function(t){return{y:t}},dC=function(t,n,e){var r={min:fw(n),max:gw(n),range:xw(n),value:e,step:_w(n),snap:kw(n),snapStart:Sw(n),rounded:Aw(n),hasMinEdge:Dw(n),hasMaxEdge:zw(n),minBound:qw(t),maxBound:Gw(t),screenRange:Xw(t)};return Fw(r)},mC=function(t){return function(n,e){return function(t,n,e){var r=(t>0?Lw:Iw)(Mw(e).y,fw(e),gw(e),_w(e));return lC(n,fC(r)),b.some(r)}(t,n,e).map(s)}},pC=function(t,n,e,r,o,i){var a=function(t,n,e,r,o){var i=Xw(t),a=r.bind((function(n){return b.some(Qw(n,t))})).getOr(0),u=o.bind((function(n){return b.some(Qw(n,t))})).getOr(i),c={min:fw(n),max:gw(n),range:xw(n),value:e,hasMinEdge:Dw(n),hasMaxEdge:zw(n),minBound:qw(t),minOffset:0,maxBound:Gw(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return Vw(c)}(n,i,e,r,o);return qw(n)-qw(t)+a},gC=b.none,hC=b.none,vC=mC(-1),bC=mC(1),yC={"top-left":b.none(),top:b.some((function(t,n){Pw(t,Rw(mw(n)))})),"top-right":b.none(),right:b.none(),"bottom-right":b.none(),bottom:b.some((function(t,n){Pw(t,Rw(vw(n)))})),"bottom-left":b.none(),left:b.none()},xC=Object.freeze({__proto__:null,setValueFrom:function(t,n,e){var r=dC(t,n,e),o=fC(r);return lC(t,o),r},setToMin:function(t,n){var e=fw(n);lC(t,fC(e))},setToMax:function(t,n){var e=gw(n);lC(t,fC(e))},findValueOfOffset:dC,getValueFromEvent:function(t){return sw(t).map((function(t){return t.top}))},findPositionOfValue:pC,setPositionFromValue:function(t,n,e,r){var o=Mw(e),i=pC(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),e),a=la(n.element)/2;Li(n.element,"top",i-a+"px")},onLeft:gC,onRight:hC,onUp:vC,onDown:bC,edgeActions:yC}),wC=function(t,n){Ir(t,cw(),{value:n})},CC=function(t,n){return{x:t,y:n}},_C=function(t,n){return function(e,r){return function(t,n,e,r){var o=t>0?Lw:Iw,i=n?Mw(r).x:o(Mw(r).x,lw(r),pw(r),_w(r)),a=n?o(Mw(r).y,fw(r),gw(r),_w(r)):Mw(r).y;return wC(e,CC(i,a)),b.some(i)}(t,n,e,r).map(s)}},kC=_C(-1,!1),SC=_C(1,!1),AC=_C(-1,!0),OC=_C(1,!0),TC={"top-left":b.some((function(t,n){Pw(t,Bw(dw(n),mw(n)))})),top:b.some((function(t,n){Pw(t,Bw(ww(n),mw(n)))})),"top-right":b.some((function(t,n){Pw(t,Bw(hw(n),mw(n)))})),right:b.some((function(t,n){Pw(t,Bw(hw(n),Cw(n)))})),"bottom-right":b.some((function(t,n){Pw(t,Bw(hw(n),vw(n)))})),bottom:b.some((function(t,n){Pw(t,Bw(ww(n),vw(n)))})),"bottom-left":b.some((function(t,n){Pw(t,Bw(dw(n),vw(n)))})),left:b.some((function(t,n){Pw(t,Bw(dw(n),Cw(n)))}))},EC=Object.freeze({__proto__:null,setValueFrom:function(t,n,e){var r=nC(t,n,e.left),o=dC(t,n,e.top),i=CC(r,o);return wC(t,i),i},setToMin:function(t,n){var e=lw(n),r=fw(n);wC(t,CC(e,r))},setToMax:function(t,n){var e=pw(n),r=gw(n);wC(t,CC(e,r))},getValueFromEvent:function(t){return sw(t)},setPositionFromValue:function(t,n,e,r){var o=Mw(e),i=rC(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),e),a=pC(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),e),u=ba(n.element)/2,c=la(n.element)/2;Li(n.element,"left",i-u+"px"),Li(n.element,"top",a-c+"px")},onLeft:kC,onRight:SC,onUp:AC,onDown:OC,edgeActions:TC}),DC=If({name:"Slider",configFields:[Qn("stepSize",1),Qn("onChange",n),Qn("onChoose",n),Qn("onInit",n),Qn("onDragStart",n),Qn("onDragEnd",n),Qn("snapToGrid",!1),Qn("rounded",!0),qn("snapStart"),Ln("model",On("mode",{x:[Qn("minX",0),Qn("maxX",100),ue("value",(function(t){return ce(t.mode.minX)})),In("getInitialValue"),cu("manager",sC)],y:[Qn("minY",0),Qn("maxY",100),ue("value",(function(t){return ce(t.mode.minY)})),In("getInitialValue"),cu("manager",xC)],xy:[Qn("minX",0),Qn("maxX",100),Qn("minY",0),Qn("maxY",100),ue("value",(function(t){return ce({x:t.mode.minX,y:t.mode.minY})})),In("getInitialValue"),cu("manager",EC)]})),Nl("sliderBehaviours",[Xm,Ml]),ue("mouseIsDown",(function(){return ce(!1)}))],partFields:uw,factory:function(t,n,e,r){var o,i=function(n){return _f(n,t,"thumb")},a=function(n){return _f(n,t,"spectrum")},u=function(n){return Cf(n,t,"left-edge")},c=function(n){return Cf(n,t,"right-edge")},l=function(n){return Cf(n,t,"top-edge")},f=function(n){return Cf(n,t,"bottom-edge")},d=t.model,m=d.manager,p=function(n,e){m.setPositionFromValue(n,e,t,{getLeftEdge:u,getRightEdge:c,getTopEdge:l,getBottomEdge:f,getSpectrum:a})},g=function(n,e){d.value.set(e);var r=i(n);return p(n,r),t.onChange(n,r,e),b.some(!0)},h=function(n){var e=t.mouseIsDown.get();t.mouseIsDown.set(!1),e&&Cf(n,t,"thumb").each((function(e){var r=d.value.get();t.onChoose(n,e,r)}))},v=function(n,e){e.stop(),t.mouseIsDown.set(!0),t.onDragStart(n,i(n))},y=function(n,e){e.stop(),t.onDragEnd(n,i(n)),h(n)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Bl(t.sliderBehaviours,[Xm.config({mode:"special",focusIn:function(n){return Cf(n,t,"spectrum").map(Xm.focusIn).map(s)}}),Ml.config({store:{mode:"manual",getValue:function(t){return d.value.get()}}}),tc.config({channels:(o={},o[gl()]={onReceive:h},o)})]),events:jr([$r(cw(),(function(t,n){g(t,n.event.value)})),Zr((function(n,e){var r=d.getInitialValue();d.value.set(r);var o=i(n);p(n,o);var u=a(n);t.onInit(n,o,u,d.value.get())})),$r($e(),v),$r(Ge(),y),$r(Xe(),v),$r(Qe(),y)]),apis:{resetToMin:function(n){m.setToMin(n,t)},resetToMax:function(n){m.setToMax(n,t)},changeValue:g,refresh:p},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(t,n){t.resetToMin(n)},resetToMax:function(t,n){t.resetToMax(n)},refresh:function(t,n){t.refresh(n)}}}),zC=function(t,n){var e=DC.parts.spectrum({dom:{tag:"div",classes:[n("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=DC.parts.thumb({dom:{tag:"div",classes:[n("hue-slider-thumb")],attributes:{role:"presentation"}}});return DC.sketch({dom:{tag:"div",classes:[n("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:r({y:0})},components:[e,o],sliderBehaviours:Ku([ap.config({})]),onChange:function(t,n,e){Ir(t,Gx,{value:e})}})},MC=[Nl("formBehaviours",[Ml])],NC=function(t){return"<alloy.field."+t+">"},RC=function(t,n){return{uid:t.uid,dom:t.dom,components:n,behaviours:Bl(t.formBehaviours,[Ml.config({store:{mode:"manual",getValue:function(n){var e=Sf(n,t);return wt(e,(function(t,n){return t().bind((function(t){var e,r,o=Uf.getCurrent(t);return e=o,r=new Error("Cannot find a current component to extract the value from for form part '"+n+"': "+Wo(t.element)),e.fold((function(){return it.error(r)}),it.value)})).map(Ml.getValue)}))},setValue:function(n,e){xt(e,(function(e,r){Cf(n,t,r).each((function(t){Uf.getCurrent(t).each((function(t){Ml.setValue(t,e)}))}))}))}}})]),apis:{getField:function(n,e){return Cf(n,t,e).bind(Uf.getCurrent)}}}},BC={getField:si((function(t,n,e){return t.getField(n,e)})),sketch:function(t){var n=function(){var t=[];return{field:function(n,e){return t.push(n),vf("form",NC(n),e)},record:function(){return t}}}(),e=t(n),r=n.record(),o=L(r,(function(t){return cf({name:t,pname:NC(t)})}));return Mf("form",MC,o,RC,e)}},PC=Ko("valid-input"),IC=Ko("invalid-input"),LC=Ko("validating-input"),HC=function(t,e,r,o){var i=function(n,r){return vx.config({invalidClass:e("invalid"),notify:{onValidate:function(t){Ir(t,LC,{type:n})},onValid:function(t){Ir(t,PC,{type:n,value:Ml.getValue(t)})},onInvalid:function(t){Ir(t,IC,{type:n,value:Ml.getValue(t)})}},validator:{validate:function(n){var e=Ml.getValue(n),o=r(e)?it.value(!0):it.error(t("aria.input.invalid"));return ux(o)},validateOnLoad:!1}})},a=function(r,o,a,u,c){var s=t("colorcustom.rgb.range"),l=[Ty.parts.label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":u}}}),Ty.parts.field({data:c,factory:Jy,inputAttributes:f({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[e("textfield")],inputBehaviours:Ku([i(o,r),zy.config({})]),onSetValue:function(t){vx.isInvalid(t)&&vx.run(t).get(n)}})],d="hex"!==o?[Ty.parts["aria-descriptor"]({text:s})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:l.concat(d)}},u=function(t,n){var e=n.red,r=n.green,o=n.blue;Ml.setValue(t,{red:e,green:r,blue:o})},c=ng({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),s=function(t,n){c.getOpt(t).each((function(t){Li(t.element,"background-color","#"+n.value)}))};return Pf({factory:function(){var n={red:ce(b.some(255)),green:ce(b.some(255)),blue:ce(b.some(255)),hex:ce(b.some("ffffff"))},i=function(t){return n[t].get()},l=function(t,e){n[t].set(e)},f=function(t){var n=t.red,e=t.green,r=t.blue;l("red",b.some(n)),l("green",b.some(e)),l("blue",b.some(r))},d=function(t,n){var e=n.event;"hex"!==e.type?l(e.type,b.none()):o(t)},m=function(t,n,e){var r=parseInt(e,10);l(n,b.some(r)),i("red").bind((function(t){return i("green").bind((function(n){return i("blue").map((function(e){return pb(t,n,e,1)}))}))})).each((function(n){var e=function(t,n){var e=cb(n);return BC.getField(t,"hex").each((function(n){ap.isFocused(n)||Ml.setValue(t,{hex:e.value})})),e}(t,n);s(t,e)}))},p=function(t,n){var e=n.event;!function(t){return"hex"===t.type}(e)?m(t,e.type,e.value):function(t,n){r(t);var e=eb(n);l("hex",b.some(n));var o=vb(e);u(t,o),f(o),Ir(t,qx,{hex:e}),s(t,e)}(t,e.value)},g=function(n){return{label:t("colorcustom.rgb."+n+".label"),description:t("colorcustom.rgb."+n+".description")}},h=g("red"),v=g("green"),y=g("blue"),x=g("hex");return Nt(BC.sketch((function(n){return{dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[n.field("red",Ty.sketch(a(gb,"red",h.label,h.description,255))),n.field("green",Ty.sketch(a(gb,"green",v.label,v.description,255))),n.field("blue",Ty.sketch(a(gb,"blue",y.label,y.description,255))),n.field("hex",Ty.sketch(a(ib,"hex",x.label,x.description,"ffffff"))),c.asSpec()],formBehaviours:Ku([vx.config({invalidClass:e("form-invalid")}),np("rgb-form-events",[$r(PC,p),$r(IC,d),$r(LC,d)])])}})),{apis:{updateHex:function(t,n){Ml.setValue(t,{hex:n.value}),function(t,n){var e=vb(n);u(t,e),f(e)}(t,n),s(t,n)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(t,n,e){t.updateHex(n,e)}},extraApis:{}})},FC=function(t,n){var e=DC.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[n("sv-palette-spectrum")]}}),o=DC.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette-thumb")],innerHtml:"<div class="+n("sv-palette-inner-thumb")+' role="presentation"></div>'}}),i=function(t,n){var e=t.width,r=t.height,o=t.getContext("2d");if(null!==o){o.fillStyle=n,o.fillRect(0,0,e,r);var i=o.createLinearGradient(0,0,e,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,e,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,e,r)}};return Pf({factory:function(t){var a=r({x:0,y:0}),u=Ku([Uf.config({find:b.some}),ap.config({})]);return DC.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[e,o],onChange:function(t,n,e){Ir(t,Kx,{value:e})},onInit:function(t,n,e,r){i(e.element.dom,yb(xb))},sliderBehaviours:u})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(t,n,e){!function(t,n){var e=t.components()[0].element.dom;i(e,yb(n))}(n,e)}},extraApis:{}})},VC=function(t,e){return Pf({name:"ColourPicker",configFields:[In("dom"),Qn("onValidHex",n),Qn("onInvalidHex",n)],factory:function(n){var r,o=HC(t,e,n.onValidHex,n.onInvalidHex),i=FC(0,e),a={paletteRgba:ce(xb)},u=ng(i.sketch({})),c=ng(o.sketch({})),s=function(t,n){u.getOpt(t).each((function(t){var e=vb(n);a.paletteRgba.set(e),i.setRgba(t,e)}))},l=function(t,n){c.getOpt(t).each((function(t){o.updateHex(t,n)}))},f=function(t,n,e){H(e,(function(e){e(t,n)}))};return{uid:n.uid,dom:n.dom,components:[u.asSpec(),zC(0,e),c.asSpec()],behaviours:Ku([np("colour-picker-events",[$r(Kx,(r=[l],function(t,n){var e=n.event.value,o=function(t){var n,e=0,r=0,o=t.red/255,i=t.green/255,a=t.blue/255,u=Math.min(o,Math.min(i,a)),c=Math.max(o,Math.max(i,a));return u===c?$x(0,0,100*(r=u)):(e=60*((e=o===u?3:a===u?1:5)-(o===u?i-a:a===u?o-i:a-o)/(c-u)),n=(c-u)/c,r=c,$x(Math.round(e),Math.round(100*n),Math.round(100*r)))}(a.paletteRgba.get()),i=$x(o.hue,e.x,100-e.y),u=hb(i),c=cb(u);f(t,c,r)})),$r(Gx,function(){var t=[s,l];return function(n,e){var r=function(t){var n=$x((100-t)/100*360,100,100),e=hb(n);return cb(e)}(e.event.value.y);f(n,r,t)}}())]),Uf.config({find:function(t){return c.getOpt(t)}}),Xm.config({mode:"acyclic"})])}}})},jC=function(){return Uf.config({find:b.some})},UC=function(t){return Uf.config({find:t.getOpt})},WC=function(t){return Uf.config({find:function(n){return vo(n.element,t).bind((function(t){return n.getSystem().getByDom(t).toOptional()}))}})},$C={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},qC=function(t){return function(t){return $C[t]}(t)},GC=tinymce.util.Tools.resolve("tinymce.Resource"),KC=tinymce.util.Tools.resolve("tinymce.util.Tools"),XC=un([Qn("preprocess",o),Qn("postprocess",o)]),YC=function(t,n,e){return Ml.config(Nt({store:{mode:"manual",getValue:n,setValue:e}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))},JC=function(t,n,e){return YC(t,(function(t){return n(t.element)}),(function(t,n){return e(t.element,n)}))},QC=function(t,n){var e=kn("RepresentingConfigs.memento processors",XC,n);return Ml.config({store:{mode:"manual",getValue:function(n){var r=t.get(n),o=Ml.getValue(r);return e.postprocess(o)},setValue:function(n,r){var o=e.preprocess(r),i=t.get(n);Ml.setValue(i,o)}}})},ZC=YC,t_=function(t){return JC(t,Ro,Bo)},n_=function(t){return Ml.config({store:{mode:"memory",initialValue:t}})},e_=function(t,n){var e=function(t,n){n.stop()},r=function(t){return function(n,e){H(t,(function(t){t(n,e)}))}},o=function(t,n){if(!Jh.isDisabled(t)){var e=n.event.raw;a(t,e.dataTransfer.files)}},i=function(t,n){var e=n.event.raw.target;a(t,e.files)},a=function(e,r){Ml.setValue(e,function(t,n){var e=KC.explode(n.getSetting("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"));return V(nt(t),(function(t){return B(e,(function(n){return be(t.name.toLowerCase(),"."+n.toLowerCase())}))}))}(r,n)),Ir(e,Iy,{name:t.name})},u=ng({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ku([np("input-file-events",[Yr(ar()),Yr(vr())])])}),c=t.label.map((function(t){return Py(t,n)})),s=Ty.parts.field({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ku([n_([]),jC(),Jh.config({}),bp.config({toggleClass:"dragenter",toggleOnExecute:!1}),np("dropzone-events",[$r("dragenter",r([e,bp.toggle])),$r("dragleave",r([e,bp.toggle])),$r("dragover",e),$r("drop",r([e,o])),$r(ir(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:n.translate("Drop an image here")}},tg.sketch({dom:{tag:"button",innerHtml:n.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(t){u.get(t).element.dom.click()},buttonBehaviours:Ku([zy.config({}),Ev(n.isDisabled),Ov()])})]}]}}}});return Ny(c,s,["tox-form__group--stretched"],[])},r_=Ko("alloy-fake-before-tabstop"),o_=Ko("alloy-fake-after-tabstop"),i_=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Ku([ap.config({ignore:!0}),zy.config({})])}},a_=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[i_([r_]),t,i_([o_])],behaviours:Ku([WC(1)])}},u_=function(t,n){Ir(t,er(),{raw:{which:9,shiftKey:n}})},c_=function(t,n){var e=n.element;Ei(e,r_)?u_(t,!0):Ei(e,o_)&&u_(t,!1)},s_=function(t){return sy(t,["."+r_,"."+o_].join(","),c)},l_=!(Me().browser.isIE()||Me().browser.isEdge()),f_=function(t,n){var e=l_&&t.sandboxed,r=f(f({},t.label.map((function(t){return{title:t}})).getOr({})),e?{sandbox:"allow-scripts allow-same-origin"}:{}),o=function(t){var n=ce("");return{getValue:function(t){return n.get()},setValue:function(e,r){if(t)Io(e.element,"srcdoc",r);else{Io(e.element,"src","javascript:''");var o=e.element.dom.contentWindow.document;o.open(),o.write(r),o.close()}n.set(r)}}}(e),i=t.label.map((function(t){return Py(t,n)})),a=Ty.parts.field({factory:{sketch:function(t){return a_({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:Ku([zy.config({}),ap.config({}),ZC(b.none(),o.getValue,o.setValue)])})}}});return Ny(i,a,["tox-form__group--stretched"],[])},d_=function(t,n){return g_(document.createElement("canvas"),t,n)},m_=function(t){var n=d_(t.width,t.height);return p_(n).drawImage(t,0,0),n},p_=function(t){return t.getContext("2d")},g_=function(t,n,e){return t.width=n,t.height=e,t},h_=function(t){return t.naturalWidth||t.width},v_=function(t){return t.naturalHeight||t.height},b_=window.Promise?window.Promise:function(){var t=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,r(a,this),r(u,this))},n=window,e=t.immediateFn||"function"==typeof n.setImmediate&&n.setImmediate||function(t){return setTimeout(t,1)},r=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.apply(n,e)}},o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t){var n=this;null!==this._state?e((function(){var e=n._state?t.onFulfilled:t.onRejected;if(null!==e){var r;try{r=e(n._value)}catch(n){return void t.reject(n)}t.resolve(r)}else(n._state?t.resolve:t.reject)(n._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void l(r(n,t),r(a,this),r(u,this))}this._state=!0,this._value=t,c.call(this)}catch(t){u.call(this,t)}}function u(t){this._state=!1,this._value=t,c.call(this)}function c(){for(var t=0,n=this._deferreds;t<n.length;t++){var e=n[t];i.call(this,e)}this._deferreds=[]}function s(t,n,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.resolve=e,this.reject=r}var l=function(t,n,e){var r=!1;try{t((function(t){r||(r=!0,n(t))}),(function(t){r||(r=!0,e(t))}))}catch(t){if(r)return;r=!0,e(t)}};return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(n,e){var r=this;return new t((function(t,o){i.call(r,new s(n,e,t,o))}))},t.all=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=Array.prototype.slice.call(1===n.length&&o(n[0])?n[0]:n);return new t((function(t,n){if(0===r.length)return t([]);for(var e=r.length,o=function(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),n)}r[i]=a,0==--e&&t(r)}catch(t){n(t)}},i=0;i<r.length;i++)o(i,r[i])}))},t.resolve=function(n){return n&&"object"==typeof n&&n.constructor===t?n:new t((function(t){t(n)}))},t.reject=function(n){return new t((function(t,e){e(n)}))},t.race=function(n){return new t((function(t,e){for(var r=0,o=n;r<o.length;r++){o[r].then(t,e)}}))},t}(),y_=function(t){return new b_((function(n,e){(function(t){var n=t.split(","),e=/data:([^;]+)/.exec(n[0]);if(!e)return b.none();for(var r=e[1],o=n[1],i=atob(o),a=i.length,u=Math.ceil(a/1024),c=new Array(u),s=0;s<u;++s){for(var l=1024*s,f=Math.min(l+1024,a),d=new Array(f-l),m=l,p=0;m<f;++p,++m)d[p]=i[m].charCodeAt(0);c[s]=new Uint8Array(d)}return b.some(new Blob(c,{type:r}))})(t).fold((function(){e("uri is not base64: "+t)}),n)}))},x_=function(t,n,e){return n=n||"image/png",O(HTMLCanvasElement.prototype.toBlob)?new b_((function(r,o){t.toBlob((function(t){t?r(t):o()}),n,e)})):y_(t.toDataURL(n,e))},w_=function(t){return function(t){return new b_((function(n,e){var r=URL.createObjectURL(t),o=new Image,i=function(){o.removeEventListener("load",a),o.removeEventListener("error",u)},a=function(){i(),n(o)},u=function(){i(),e("Unable to load data of type "+t.type+": "+r)};o.addEventListener("load",a),o.addEventListener("error",u),o.src=r,o.complete&&setTimeout(a,0)}))}(t).then((function(t){C_(t);var n=d_(h_(t),v_(t));return p_(n).drawImage(t,0,0),n}))},C_=function(t){URL.revokeObjectURL(t.src)},__=function(t,n,e){var o=n.type,i=r(o),a=r(e),u=function(n,e){return t.then((function(t){return function(t,n,e){return n=n||"image/png",t.toDataURL(n,e)}(t,n,e)}))};return{getType:i,toBlob:function(){return b_.resolve(n)},toDataURL:a,toBase64:function(){return e.split(",")[1]},toAdjustedBlob:function(n,e){return t.then((function(t){return x_(t,n,e)}))},toAdjustedDataURL:u,toAdjustedBase64:function(t,n){return u(t,n).then((function(t){return t.split(",")[1]}))},toCanvas:function(){return t.then(m_)}}},k_=function(t){return function(t){return new b_((function(n){var e=new FileReader;e.onloadend=function(){n(e.result)},e.readAsDataURL(t)}))}(t).then((function(n){return __(w_(t),t,n)}))},S_=function(t,n){return x_(t,n).then((function(n){return __(b_.resolve(t),n,t.toDataURL())}))},A_=function(t,n,e){var r="string"==typeof t?parseFloat(t):t;return r>e?r=e:r<n&&(r=n),r},O_=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],T_=function(t,n){for(var e,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=n[a+5*i];for(a=0;a<5;a++){e=0;for(var u=0;u<5;u++)e+=t[a+5*u]*r[u];o[a+5*i]=e}}return o},E_=function(t,n){return t.toCanvas().then((function(e){return D_(e,t.getType(),n)}))},D_=function(t,n,e){var r=p_(t),o=function(t,n){for(var e,r,o,i,a=t.data,u=n[0],c=n[1],s=n[2],l=n[3],f=n[4],d=n[5],m=n[6],p=n[7],g=n[8],h=n[9],v=n[10],b=n[11],y=n[12],x=n[13],w=n[14],C=n[15],_=n[16],k=n[17],S=n[18],A=n[19],O=0;O<a.length;O+=4)e=a[O],r=a[O+1],o=a[O+2],i=a[O+3],a[O]=e*u+r*c+o*s+i*l+f,a[O+1]=e*d+r*m+o*p+i*g+h,a[O+2]=e*v+r*b+o*y+i*x+w,a[O+3]=e*C+r*_+o*k+i*S+A;return t}(r.getImageData(0,0,t.width,t.height),e);return r.putImageData(o,0,0),S_(t,n)},z_=function(t,n,e){var r=p_(t),o=r.getImageData(0,0,t.width,t.height),i=r.getImageData(0,0,t.width,t.height);return i=function(t,n,e){for(var r=function(t,n,e){return t>e?t=e:t<n&&(t=n),t},o=Math.round(Math.sqrt(e.length)),i=Math.floor(o/2),a=t.data,u=n.data,c=t.width,s=t.height,l=0;l<s;l++)for(var f=0;f<c;f++){for(var d=0,m=0,p=0,g=0;g<o;g++)for(var h=0;h<o;h++){var v=r(f+h-i,0,c-1),b=4*(r(l+g-i,0,s-1)*c+v),y=e[g*o+h];d+=a[b]*y,m+=a[b+1]*y,p+=a[b+2]*y}var x=4*(l*c+f);u[x]=r(d,0,255),u[x+1]=r(m,0,255),u[x+2]=r(p,0,255)}return n}(o,i,e),r.putImageData(i,0,0),S_(t,n)},M_=function(t){return function(n,e){return E_(n,t([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e))}},N_=function(t){return function(n){return E_(n,t)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),R_=M_((function(t,n){return n=A_(255*n,-255,255),T_(t,[1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1])})),B_=M_((function(t,n){var e;return n=A_(n,-1,1),e=(n*=100)<0?127+n/100*127:127*(e=0===(e=n%1)?O_[n]:O_[Math.floor(n)]*(1-e)+O_[Math.floor(n)+1]*e)+127,T_(t,[e/127,0,0,0,.5*(127-e),0,e/127,0,0,.5*(127-e),0,0,e/127,0,.5*(127-e),0,0,0,1,0,0,0,0,0,1])})),P_=function(t,n,e,r){return E_(t,function(t,n,e,r){return n=A_(n,0,2),e=A_(e,0,2),r=A_(r,0,2),T_(t,[n,0,0,0,0,0,e,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n,e,r))},I_=(_x=[0,-1,0,-1,5,-1,0,-1,0],function(t){return function(t,n){return t.toCanvas().then((function(e){return z_(e,t.getType(),n)}))}(t,_x)}),L_=(kx=function(t,n){return 255*Math.pow(t/255,1-n)},function(t,n){return t.toCanvas().then((function(e){return function(t,n,e){for(var r=p_(t),o=new Array(256),i=0;i<o.length;i++)o[i]=kx(i,e);var a=function(t,n){for(var e=t.data,r=0;r<e.length;r+=4)e[r]=n[e[r]],e[r+1]=n[e[r+1]],e[r+2]=n[e[r+2]];return t}(r.getImageData(0,0,t.width,t.height),o);return r.putImageData(a,0,0),S_(t,n)}(e,t.getType(),n)}))}),H_=function(t,n,e){var r=h_(t),o=v_(t),i=n/r,a=e/o,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var c=F_(t,i,a);return u?c.then((function(t){return H_(t,n,e)})):c},F_=function(t,n,e){return new b_((function(r){var o=h_(t),i=v_(t),a=Math.floor(o*n),u=Math.floor(i*e),c=d_(a,u);p_(c).drawImage(t,0,0,o,i,0,0,a,u),r(c)}))},V_=function(t,n,e){var r=d_(t.width,t.height),o=p_(r),i=0,a=0;return 90!==(e=e<0?360+e:e)&&270!==e||g_(r,r.height,r.width),90!==e&&180!==e||(i=r.width),270!==e&&180!==e||(a=r.height),o.translate(i,a),o.rotate(e*Math.PI/180),o.drawImage(t,0,0),S_(r,n)},j_=function(t,n,e){var r=d_(t.width,t.height),o=p_(r);return"v"===e?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0)),S_(r,n)},U_=function(t,n,e,r,o,i){var a=d_(o,i);return p_(a).drawImage(t,-e,-r),S_(a,n)},W_=function(t){return N_(t)},$_=function(t){return I_(t)},q_=function(t,n){return L_(t,n)},G_=function(t,n){return R_(t,n)},K_=function(t,n){return B_(t,n)},X_=function(t,n){return function(t,n){return t.toCanvas().then((function(e){return j_(e,t.getType(),n)}))}(t,n)},Y_=function(t,n,e,r,o){return function(t,n,e,r,o){return t.toCanvas().then((function(i){return U_(i,t.getType(),n,e,r,o)}))}(t,n,e,r,o)},J_=function(t,n,e){return function(t,n,e){return t.toCanvas().then((function(r){return H_(r,n,e).then((function(n){return S_(n,t.getType())}))}))}(t,n,e)},Q_=function(t,n){return function(t,n){return t.toCanvas().then((function(e){return V_(e,t.getType(),n)}))}(t,n)},Z_=function(t,n){return f({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},n)},tk=function(t,n){return Z_(rg(t,n),{})},nk=function(t,n){return Z_(rg(t,n),{behaviours:Ku([tp.config({})])})},ek=function(t,n,e){return{dom:{tag:"span",innerHtml:e.translate(t),classes:[n+"__select-label"]},behaviours:Ku([tp.config({})])}},rk=Ko("toolbar.button.execute"),ok=((Sx={})[gr()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],Sx),ik=Ko("update-menu-text"),ak=Ko("update-menu-icon"),uk=function(t,e,r){var o=ce(n),a=t.text.map((function(t){return ng(ek(t,e,r.providers))})),u=t.icon.map((function(t){return ng(nk(t,r.providers.icons))})),c=function(t,n){var e=Ml.getValue(t);return ap.focus(e),Ir(e,"keydown",{raw:n.event.raw}),Lx.close(e),b.some(!0)},s=t.role.fold((function(){return{}}),(function(t){return{role:t}})),l=t.tooltip.fold((function(){return{}}),(function(t){var n=r.providers.translate(t);return{title:n,"aria-label":n}}));return ng(Lx.sketch(f(f(f({},t.uid?{uid:t.uid}:{}),s),{dom:{tag:"button",classes:[e,e+"--select"].concat(L(t.classes,(function(t){return e+"--"+t}))),attributes:f({},l)},components:Iv([u.map((function(t){return t.asSpec()})),a.map((function(t){return t.asSpec()})),b.some({dom:{tag:"div",classes:[e+"__select-chevron"],innerHtml:rg("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Ku(m(t.dropdownBehaviours,[Ev((function(){return t.disabled||r.providers.isDisabled()})),Ov(),Fx.config({}),tp.config({}),np("dropdown-events",[Nv(t,o),Rv(t,o)]),np("menubutton-update-display-text",[$r(ik,(function(t,n){a.bind((function(n){return n.getOpt(t)})).each((function(t){tp.set(t,[ra(r.providers.translate(n.event.text))])}))})),$r(ak,(function(t,n){u.bind((function(n){return n.getOpt(t)})).each((function(t){tp.set(t,[nk(n.event.icon,r.providers.icons)])}))}))])])),eventOrder:Nt(ok,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Ku([Xm.config({mode:"special",onLeft:c,onRight:c})]),lazySink:r.getSink,toggleClass:e+"--active",parts:{menu:oh(0,t.columns,t.presets)},fetch:function(n){return ax(i(t.fetch,n))}}))).asSpec()},ck=function(t){return"separator"===t.type},sk={type:"separator"},lk=function(t,n){var e=U(t,(function(t,e){return function(t){return w(t)}(e)?""===e?t:"|"===e?t.length>0&&!ck(t[t.length-1])?t.concat([sk]):t:Tt(n,e.toLowerCase())?t.concat([n[e.toLowerCase()]]):t:t.concat([e])}),[]);return e.length>0&&ck(e[e.length-1])&&e.pop(),e},fk=function(t,n){return function(t){return Tt(t,"getSubmenuItems")}(t)?function(t,n){var e=t.getSubmenuItems(),r=dk(e,n);return{item:t,menus:Nt(r.menus,$t(t.value,r.items)),expansions:Nt(r.expansions,$t(t.value,t.value))}}(t,n):{item:t,menus:{},expansions:{}}},dk=function(t,n){var e=lk(w(t)?t.split(" "):t,n);return j(e,(function(t,e){var r=function(t){if(ck(t))return t;var n=Ot(t,"value").getOrThunk((function(){return Ko("generated-menu-item")}));return Nt({value:n},t)}(e),o=fk(r,n);return{menus:Nt(t.menus,o.menus),items:[o.item].concat(t.items),expansions:Nt(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},mk=function(t,n,e,r){var o=Ko("primary-menu"),i=dk(t,e.shared.providers.menuItems());if(0===i.items.length)return b.none();var a=ey(o,i.items,n,e,r),u=wt(i.menus,(function(t,r){return ey(r,t,n,e,!1)})),c=Nt(u,$t(o,a));return b.from(Fp.tieredData(o,c,i.expansions))},pk=function(t){return{isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){return Jh.set(t,n)},setActive:function(n){var e=t.element;n?(Ai(e,"tox-tbtn--enabled"),Io(e,"aria-pressed",!0)):(Ti(e,"tox-tbtn--enabled"),Vo(e,"aria-pressed"))},isActive:function(){return Ei(t.element,"tox-tbtn--enabled")}}},gk=function(t,n,e,r){return uk({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(n,r){t.fetch((function(t){r(mk(t,qg.CLOSE_ON_EXECUTE,e,!1))}))},onSetup:t.onSetup,getApi:pk,columns:1,presets:"normal",classes:[],dropdownBehaviours:[zy.config({})]},n,e.shared)},hk=function(t,n,e){var r=function(t){return function(r){var o=!r.isActive();r.setActive(o),t.storage.set(o),e.shared.getSink().each((function(e){n().getOpt(e).each((function(n){ec(n.element),Ir(n,Fy,{name:t.name,value:t.storage.get()})}))}))}},o=function(t){return function(n){n.setActive(t.storage.get())}};return function(n){n(L(t,(function(t){var n=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return f(f({type:t.type,active:!1},n),{onAction:r(t),onSetup:o(t)})})))}},vk=function(t,n,e,r,o,i){void 0===e&&(e=[]);var a=n.fold((function(){return{}}),(function(t){return{action:t}})),u=f({buttonBehaviours:Ku([Ev((function(){return t.disabled||i.isDisabled()})),Ov(),zy.config({}),np("button press",[Wr("click"),Wr("mousedown")])].concat(e)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),c=Nt(u,{dom:r});return Nt(c,{components:o})},bk=function(t,n,e,r){void 0===r&&(r=[]);var o={tag:"button",classes:["tox-tbtn"],attributes:t.tooltip.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})},i=t.icon.map((function(t){return tk(t,e.icons)})),a=Iv([i]);return vk(t,n,r,o,a,e)},yk=function(t,n,e,r){void 0===r&&(r=[]);var o=bk(t,b.some(n),e,r);return tg.sketch(o)},xk=function(t,n,e,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=e.translate(t.text),a=t.icon?t.icon.map((function(t){return tk(t,e.icons)})):b.none(),u=a.isSome()?Iv([a]):[],c=a.isSome()?{}:{innerHtml:i},s=m(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],o),l=f(f({tag:"button",classes:s},c),{attributes:{title:i}});return vk(t,n,r,l,u,e)},wk=function(t,n,e,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=xk(t,b.some(n),e,r,o);return tg.sketch(i)},Ck=function(t,n){return function(e){"custom"===n?Ir(e,Fy,{name:t,value:{}}):"submit"===n?Pr(e,Vy):"cancel"===n?Pr(e,Hy):console.error("Unknown button type: ",n)}},_k=function(t,e,r){if(function(t,n){return"menu"===n}(0,e)){var o=t,i=f(f({},t),{onSetup:function(e){return e.setDisabled(t.disabled),n},fetch:hk(o.items,(function(){return a}),r)}),a=ng(gk(i,"tox-tbtn",r,b.none()));return a.asSpec()}if(function(t,n){return"custom"===n||"cancel"===n||"submit"===n}(0,e)){var u=Ck(t.name,e),c=f(f({},t),{borderless:!1});return wk(c,u,r.shared.providers,[])}console.error("Unknown footer button type: ",e)},kk=function(t,n){var e,r,o=Ck(t.name,"custom");return e=b.none(),r=Ty.parts.field(f({factory:tg},xk(t,b.some(o),n,[n_(""),jC()]))),Ny(e,r,[],[])},Sk=r([Qn("field1Name","field1"),Qn("field2Name","field2"),au("onLockedChange"),eu(["lockClass"]),Qn("locked",!1),Pl("coupledFieldBehaviours",[Uf,Ml])]),Ak=function(t,n){return cf({factory:Ty,name:t,overrides:function(t){return{fieldBehaviours:Ku([np("coupled-input-behaviour",[$r(or(),(function(e){(function(t,n,e){return Cf(t,n,e).bind(Uf.getCurrent)})(e,t,n).each((function(n){Cf(e,t,"lock").each((function(r){bp.isOn(r)&&t.onLockedChange(e,n,r)}))}))}))])])}}})},Ok=r([Ak("field1","field2"),Ak("field2","field1"),cf({factory:tg,schema:[In("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Ku([bp.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Tk=If({name:"FormCoupledInputs",configFields:Sk(),partFields:Ok(),factory:function(t,n,e,r){return{uid:t.uid,dom:t.dom,components:n,behaviours:Il(t.coupledFieldBehaviours,[Uf.config({find:b.some}),Ml.config({store:{mode:"manual",getValue:function(n){var e,r=Of(n,t,["field1","field2"]);return(e={})[t.field1Name]=Ml.getValue(r.field1()),e[t.field2Name]=Ml.getValue(r.field2()),e},setValue:function(n,e){var r=Of(n,t,["field1","field2"]);Et(e,t.field1Name)&&Ml.setValue(r.field1(),e[t.field1Name]),Et(e,t.field2Name)&&Ml.setValue(r.field2(),e[t.field2Name])}}})]),apis:{getField1:function(n){return Cf(n,t,"field1")},getField2:function(n){return Cf(n,t,"field2")},getLock:function(n){return Cf(n,t,"lock")}}}},apis:{getField1:function(t,n){return t.getField1(n)},getField2:function(t,n){return t.getField2(n)},getLock:function(t,n){return t.getLock(n)}}}),Ek=function(t){var n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(null!==n){var e=parseFloat(n[1]),r=n[2];return it.value({value:e,unit:r})}return it.error(t)},Dk=function(t,n){var e={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Object.prototype.hasOwnProperty.call(e,t)};return t.unit===n?b.some(t.value):r(t.unit)&&r(n)?e[t.unit]===e[n]?b.some(t.value):b.some(t.value/e[t.unit]*e[n]):b.none()},zk=function(t){return b.none()},Mk=function(t,n){var e,r,o,i=Ek(t).toOptional(),a=Ek(n).toOptional();return(e=i,r=a,o=function(t,n){return Dk(t,n.unit).map((function(t){return n.value/t})).map((function(t){return function(t,n){return function(e){return Dk(e,n).map((function(e){return{value:e*t,unit:n}}))}}(t,n.unit)})).getOr(zk)},e.isSome()&&r.isSome()?b.some(o(e.getOrDie(),r.getOrDie())):b.none()).getOr(zk)},Nk=function(t,n){var e=zk,r=Ko("ratio-event"),o=Tk.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:n.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:rg("lock",n.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:rg("unlock",n.icons)}}],buttonBehaviours:Ku([Jh.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ov(),zy.config({})])}),i=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},a=function(e){return Ty.parts.field({factory:Jy,inputClasses:["tox-textfield"],inputBehaviours:Ku([Jh.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ov(),zy.config({}),np("size-input-events",[$r(tr(),(function(t,n){Ir(t,r,{isField1:e})})),$r(ir(),(function(n,e){Ir(n,Iy,{name:t.name})}))])]),selectOnFocus:!1})},u=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}}},c=Tk.parts.field1(i([Ty.parts.label(u("Width")),a(!0)])),s=Tk.parts.field2(i([Ty.parts.label(u("Height")),a(!1)]));return Tk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,s,i([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,n,r){Ek(Ml.getValue(t)).each((function(t){e(t).each((function(t){Ml.setValue(n,function(t){var n,e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},r=t.value.toFixed((n=t.unit)in e?e[n]:1);return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit}(t))}))}))},coupledFieldBehaviours:Ku([Jh.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(t){Tk.getField1(t).bind(Ty.getField).each(Jh.disable),Tk.getField2(t).bind(Ty.getField).each(Jh.disable),Tk.getLock(t).each(Jh.disable)},onEnabled:function(t){Tk.getField1(t).bind(Ty.getField).each(Jh.enable),Tk.getField2(t).bind(Ty.getField).each(Jh.enable),Tk.getLock(t).each(Jh.enable)}}),Ov(),np("size-input-events2",[$r(r,(function(t,n){var r=n.event.isField1,o=r?Tk.getField1(t):Tk.getField2(t),i=r?Tk.getField2(t):Tk.getField1(t),a=o.map(Ml.getValue).getOr(""),u=i.map(Ml.getValue).getOr("");e=Mk(a,u)}))])])})},Rk={undo:r(Ko("undo")),redo:r(Ko("redo")),zoom:r(Ko("zoom")),back:r(Ko("back")),apply:r(Ko("apply")),swap:r(Ko("swap")),transform:r(Ko("transform")),tempTransform:r(Ko("temp-transform")),transformApply:r(Ko("transform-apply"))},Bk=r("save-state"),Pk=r("disable"),Ik=r("enable"),Lk={formActionEvent:Fy,saveState:Bk,disable:Pk,enable:Ik},Hk=function(t,e){var o=function(t,n,r,o){return ng(wk({name:t,text:t,disabled:r,primary:o,icon:b.none(),borderless:!1},n,e))},i=function(t,n,r,o){return ng(yk({name:t,icon:b.some(t),tooltip:b.some(n),disabled:o,primary:!1,borderless:!1},r,e))},a=function(t,n){t.map((function(t){var e=t.get(n);e.hasConfigured(Jh)&&Jh.disable(e)}))},u=function(t,n){t.map((function(t){var e=t.get(n);e.hasConfigured(Jh)&&Jh.enable(e)}))},c={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},s=n,l=function(t,n,e){Ir(t,n,e)},f=function(t){return Pr(t,Lk.disable())},d=function(t){return Pr(t,Lk.enable())},m=function(t,n){f(t),l(t,Rk.transform(),{transform:n}),d(t)},p=function(t){return function(){tt.getOpt(t).each((function(t){tp.set(t,[Q])}))}},g=function(t,n){f(t),l(t,Rk.transformApply(),{transform:n,swap:p(t)}),d(t)},h=function(){return o("Back",(function(t){return l(t,Rk.back(),{swap:p(t)})}),!1,!1)},v=function(){return ng({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Ku([Jh.config({})])})},y=function(){return o("Apply",(function(t){return l(t,Rk.apply(),{swap:p(t)})}),!0,!0)},x=[h(),v(),o("Apply",(function(n){g(n,(function(n){var e=t.getRect();return Y_(n,e.x,e.y,e.w,e.h)})),t.hideCrop()}),!1,!0)],w=ky.sketch({dom:c,components:x.map((function(t){return t.asSpec()})),containerBehaviours:Ku([np("image-tools-crop-buttons-events",[$r(Lk.disable(),(function(t,n){a(x,t)})),$r(Lk.enable(),(function(t,n){u(x,t)}))])])}),C=ng(Nk({name:"size",label:b.none(),constrain:!0,disabled:!1},e)),_=[h(),v(),C,v(),o("Apply",(function(t){C.getOpt(t).each((function(n){var e=Ml.getValue(n),r=function(t,n){return function(e){return J_(e,t,n)}}(parseInt(e.width,10),parseInt(e.height,10));g(t,r)}))}),!1,!0)],k=ky.sketch({dom:c,components:_.map((function(t){return t.asSpec()})),containerBehaviours:Ku([np("image-tools-resize-buttons-events",[$r(Lk.disable(),(function(t,n){a(_,t)})),$r(Lk.enable(),(function(t,n){u(_,t)}))])])}),S=function(t,n){return function(e){return t(e,n)}},A=S(X_,"h"),O=S(X_,"v"),T=S(Q_,-90),E=S(Q_,90),D=function(t,n){!function(t,n){f(t),l(t,Rk.tempTransform(),{transform:n}),d(t)}(t,n)},z=[h(),v(),i("flip-horizontally","Flip horizontally",(function(t){D(t,A)}),!1),i("flip-vertically","Flip vertically",(function(t){D(t,O)}),!1),i("rotate-left","Rotate counterclockwise",(function(t){D(t,T)}),!1),i("rotate-right","Rotate clockwise",(function(t){D(t,E)}),!1),v(),y()],M=ky.sketch({dom:c,components:z.map((function(t){return t.asSpec()})),containerBehaviours:Ku([np("image-tools-fliprotate-buttons-events",[$r(Lk.disable(),(function(t,n){a(z,t)})),$r(Lk.enable(),(function(t,n){u(z,t)}))])])}),N=function(t,n,o,i,a){var u=DC.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}),c=DC.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=DC.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ng(DC.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o,maxX:a,getInitialValue:r({x:i})},components:[u,c,s],sliderBehaviours:Ku([ap.config({})]),onChoose:n}))},R=function(t,n,e,r,o){return N(t,(function(t,e,r){var o=S(n,r.x/100);m(t,o)}),e,r,o)},B=function(t,n,e,r,o){var i=function(t,n,e,r,o){return[h(),R(t,n,e,r,o),y()]}(t,n,e,r,o);return ky.sketch({dom:c,components:i.map((function(t){return t.asSpec()})),containerBehaviours:Ku([np("image-tools-filter-panel-buttons-events",[$r(Lk.disable(),(function(t,n){a(i,t)})),$r(Lk.enable(),(function(t,n){u(i,t)}))])])})},P=[h(),v(),y()],I=ky.sketch({dom:c,components:P.map((function(t){return t.asSpec()}))}),L=B("Brightness",G_,-100,0,100),H=B("Contrast",K_,-100,0,100),F=B("Gamma",q_,-100,0,100),V=function(t,n,e){return function(r){return function(t,n,e,r){return P_(t,n,e,r)}(r,t,n,e)}},j=function(t){return N(t,(function(t,n,e){var r=U.getOpt(t),o=$.getOpt(t),i=W.getOpt(t);r.each((function(n){o.each((function(e){i.each((function(r){var o=Ml.getValue(n).x/100,i=Ml.getValue(r).x/100,a=Ml.getValue(e).x/100,u=V(o,i,a);m(t,u)}))}))}))}),0,100,200)},U=j("R"),W=j("G"),$=j("B"),q=[h(),U,W,$,y()],G=ky.sketch({dom:c,components:q.map((function(t){return t.asSpec()}))}),K=function(t,n,e){return function(r){l(r,Rk.swap(),{transform:n,swap:function(){tt.getOpt(r).each((function(n){tp.set(n,[t]),e(n)}))}})}},X=b.some($_),Y=b.some(W_),J=[i("crop","Crop",K(w,b.none(),(function(n){t.showCrop()})),!1),i("resize","Resize",K(k,b.none(),(function(n){C.getOpt(n).each((function(n){var e=t.getMeasurements(),r=e.width,o=e.height;Ml.setValue(n,{width:r,height:o})}))})),!1),i("orientation","Orientation",K(M,b.none(),s),!1),i("brightness","Brightness",K(L,b.none(),s),!1),i("sharpen","Sharpen",K(I,X,s),!1),i("contrast","Contrast",K(H,b.none(),s),!1),i("color-levels","Color levels",K(G,b.none(),s),!1),i("gamma","Gamma",K(F,b.none(),s),!1),i("invert","Invert",K(I,Y,s),!1)],Q=ky.sketch({dom:c,components:J.map((function(t){return t.asSpec()}))}),Z=ky.sketch({dom:{tag:"div"},components:[Q],containerBehaviours:Ku([tp.config({})])}),tt=ng(Z);return{memContainer:tt,getApplyButton:function(t){return tt.getOpt(t).map((function(t){var n=t.components()[0];return n.components()[n.components().length-1]}))}}},Fk=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Vk=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),jk=tinymce.util.Tools.resolve("tinymce.util.Observable"),Uk=tinymce.util.Tools.resolve("tinymce.util.VK"),Wk=function(t){var n,e;if(t.changedTouches)for(n="screenX screenY pageX pageY clientX clientY".split(" "),e=0;e<n.length;e++)t[n[e]]=t.changedTouches[0][n[e]]};function $k(t,n){var e,r,o,i,a=n.document||document,u=a.getElementById(n.handle||t),c=function(t){if(Wk(t),t.button!==r)return s(t);t.deltaX=t.screenX-o,t.deltaY=t.screenY-i,t.preventDefault(),n.drag(t)},s=function(t){Wk(t),Vk(a).off("mousemove touchmove",c).off("mouseup touchend",s),e.remove(),n.stop&&n.stop(t)};return Vk(u).on("mousedown touchstart",(function(t){var l,f=function(t){var n=Math.max,e=t.documentElement,r=t.body,o=n(e.scrollWidth,r.scrollWidth),i=n(e.clientWidth,r.clientWidth),a=n(e.offsetWidth,r.offsetWidth),u=n(e.scrollHeight,r.scrollHeight),c=n(e.clientHeight,r.clientHeight);return{width:o<a?i:o,height:u<n(e.offsetHeight,r.offsetHeight)?c:u}}(a);Wk(t),t.preventDefault(),r=t.button;var d=u;o=t.screenX,i=t.screenY,l=window.getComputedStyle?window.getComputedStyle(d,null).getPropertyValue("cursor"):d.runtimeStyle.cursor,e=Vk("<div></div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:l}).appendTo(a.body),Vk(a).on("mousemove touchmove",c).on("mouseup touchend",s),n.start(t)})),{destroy:function(){Vk(u).off()}}}var qk=0,Gk=function(t,n,e,r,o){var i,a="tox-crid-"+qk++,u=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],c=["top","right","bottom","left"],s=function(t,n){return{x:n.x-t.x,y:n.y-t.y,w:n.w,h:n.h}},l=function(n,r,o,i){var a,u,c,l,f;a=r.x,u=r.y,c=r.w,l=r.h,a+=o*n.deltaX,u+=i*n.deltaY,(c+=o*n.deltaW)<20&&(c=20),(l+=i*n.deltaH)<20&&(l=20),f=t=Fk.clamp({x:a,y:u,w:c,h:l},e,"move"===n.name),f=s(e,f),p.fire("updateRect",{rect:f}),m(f)},f=function(t){var e=function(t,n){n.h<0&&(n.h=0),n.w<0&&(n.w=0),Vk("#"+a+"-"+t,r).css({left:n.x,top:n.y,width:n.w,height:n.h})};KC.each(u,(function(n){Vk("#"+a+"-"+n.name,r).css({left:t.w*n.xMul+t.x,top:t.h*n.yMul+t.y})})),e("top",{x:n.x,y:n.y,w:n.w,h:t.y-n.y}),e("right",{x:t.x+t.w,y:t.y,w:n.w-t.x-t.w+n.x,h:t.h}),e("bottom",{x:n.x,y:t.y+t.h,w:n.w,h:n.h-t.y-t.h+n.y}),e("left",{x:n.x,y:t.y,w:t.x-n.x,h:t.h}),e("move",t)},d=function(n){f(t=n)},m=function(t){var n,r;d((n=e,{x:(r=t).x+n.x,y:r.y+n.y,w:r.w,h:r.h}))};Vk('<div id="'+a+'" class="tox-croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),KC.each(c,(function(t){Vk("#"+a,r).append('<div id="'+a+"-"+t+'"class="tox-croprect-block" style="display: none" data-mce-bogus="all">')})),KC.each(u,(function(t){Vk("#"+a,r).append('<div id="'+a+"-"+t.name+'" class="tox-croprect-handle tox-croprect-handle-'+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')})),i=KC.map(u,(function(n){var e;return $k(a,{document:r.ownerDocument,handle:a+"-"+n.name,start:function(){e=t},drag:function(t){l(n,e,t.deltaX,t.deltaY)}})})),f(t),Vk(r).on("focusin focusout",(function(t){Vk(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")})),Vk(r).on("keydown",(function(n){var e;KC.each(u,(function(t){if(n.target.id===a+"-"+t.name)return e=t,!1}));var r=function(t,n,r,o,i){t.stopPropagation(),t.preventDefault(),l(e,r,o,i)};switch(n.keyCode){case Uk.LEFT:r(n,0,t,-10,0);break;case Uk.RIGHT:r(n,0,t,10,0);break;case Uk.UP:r(n,0,t,0,-10);break;case Uk.DOWN:r(n,0,t,0,10);break;case Uk.ENTER:case Uk.SPACEBAR:n.preventDefault(),o()}}));var p=KC.extend({toggleVisibility:function(t){var n=KC.map(u,(function(t){return"#"+a+"-"+t.name})).concat(KC.map(c,(function(t){return"#"+a+"-"+t}))).join(",");t?Vk(n,r).show():Vk(n,r).hide()},setClampRect:function(n){e=n,f(t)},setRect:d,getInnerRect:function(){return s(e,t)},setInnerRect:m,setViewPortRect:function(e){n=e,f(t)},destroy:function(){KC.each(i,(function(t){t.destroy()})),i=[]}},jk);return p},Kk=function(t){var e=ng({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),r=ce(1),o=ce(b.none()),i=ce({x:0,y:0,w:1,h:1}),a=ce({x:0,y:0,w:1,h:1}),u=function(t,n){l.getOpt(t).each((function(t){var a=r.get(),u=ba(t.element),c=la(t.element),s=n.dom.naturalWidth*a,l=n.dom.naturalHeight*a,f=Math.max(0,u/2-s/2),d=Math.max(0,c/2-l/2),m={left:f.toString()+"px",top:d.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"};Hi(n,m),e.getOpt(t).each((function(t){Hi(t.element,m)})),o.get().each((function(t){var n=i.get();t.setRect({x:n.x*a+f,y:n.y*a+d,w:n.w*a,h:n.h*a}),t.setClampRect({x:f,y:d,w:s,h:l}),t.setViewPortRect({x:0,y:0,w:u,h:c})}))}))},c=function(t,n){var e,o=le.fromTag("img");return Io(o,"src",n),(e=o.dom,new xg((function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)}))).then((function(){return l.getOpt(t).map((function(t){var n=oa({element:o});tp.replaceAt(t,1,b.some(n));var e=a.get(),c={x:0,y:0,w:o.dom.naturalWidth,h:o.dom.naturalHeight};a.set(c);var s=Fk.inflate(c,-20,-20);return i.set(s),e.w===c.w&&e.h===c.h||function(t,n){l.getOpt(t).each((function(t){var e=ba(t.element),o=la(t.element),i=n.dom.naturalWidth,a=n.dom.naturalHeight,u=Math.min(e/i,o/a);u>=1?r.set(1):r.set(u)}))}(t,o),u(t,o),o}))}))},s=ky.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Ku([np("image-panel-crop-events",[Zr((function(t){l.getOpt(t).each((function(t){var e=t.element.dom,a=Gk({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,n);a.toggleVisibility(!1),a.on("updateRect",(function(t){var n=t.rect,e=r.get(),o={x:Math.round(n.x/e),y:Math.round(n.y/e),w:Math.round(n.w/e),h:Math.round(n.h/e)};i.set(o)})),o.set(b.some(a))}))}))])])}],containerBehaviours:Ku([tp.config({}),np("image-panel-events",[Zr((function(n){c(n,t)}))])])}),l=ng(s);return{memContainer:l,updateSrc:c,zoom:function(t,n){var e=r.get(),o=n>0?Math.min(2,e+.1):Math.max(.1,e-.1);r.set(o),l.getOpt(t).each((function(t){var n=t.components()[1].element;u(t,n)}))},showCrop:function(){o.get().each((function(t){t.toggleVisibility(!0)}))},hideCrop:function(){o.get().each((function(t){t.toggleVisibility(!1)}))},getRect:function(){return i.get()},getMeasurements:function(){var t=a.get();return{width:t.w,height:t.h}}}},Xk=function(t,n,e,r,o){return yk({name:t,icon:b.some(n),disabled:e,tooltip:b.some(t),primary:!1,borderless:!1},r,o)},Yk=function(t,n){n?Jh.enable(t):Jh.disable(t)};var Jk,Qk=function(t){var e,r,o,i,a=ce(t),u=ce(b.none()),c=(r=-1,{data:e=[],add:function(t){var n=e.splice(++r);return e.push(t),{state:t,removed:n}},undo:function(){if(o())return e[--r]},redo:function(){if(i())return e[++r]},canUndo:o=function(){return r>0},canRedo:i=function(){return-1!==r&&r<e.length-1}});c.add(t);var s=function(t){a.set(t)},l=function(t){return{blob:t,url:URL.createObjectURL(t)}},f=function(t){URL.revokeObjectURL(t.url)},d=function(){u.get().each(f),u.set(b.none())},m=function(t){var n=l(t);s(n);var e,r=c.add(n).removed;return e=r,KC.each(e,f),n.url};return{getBlobState:function(){return a.get()},setBlobState:s,addBlobState:m,getTempState:function(){return u.get().fold((function(){return a.get()}),(function(t){return t}))},updateTempState:function(t){var n=l(t);return d(),u.set(b.some(n)),n.url},addTempState:function(t){var n=l(t);return u.set(b.some(n)),n.url},applyTempState:function(t){return u.get().fold(n,(function(n){m(n.blob),t()}))},destroyTempState:d,undo:function(){var t=c.undo();return s(t),t.url},redo:function(){var t=c.redo();return s(t),t.url},getHistoryStates:function(){return{undoEnabled:c.canUndo(),redoEnabled:c.canRedo()}}}},Zk=function(t,e){var r=Qk(t.currentState),o=function(t){var n=r.getHistoryStates();m.updateButtonUndoStates(t,n.undoEnabled,n.redoEnabled),Ir(t,Lk.formActionEvent,{name:Lk.saveState(),value:n.undoEnabled})},i=function(t){return t.toBlob()},a=function(t){Ir(t,Lk.formActionEvent,{name:Lk.disable(),value:{}})},u=function(t){p.getApplyButton(t).each((function(t){Jh.enable(t)})),Ir(t,Lk.formActionEvent,{name:Lk.enable(),value:{}})},c=function(t,n){return a(t),d.updateSrc(t,n)},s=function(t,n,e,r,s){return a(t),function(t){return k_(t)}(n).then(e).then(i).then(r).then((function(n){return c(t,n).then((function(n){return o(t),s(),u(t),n}))})).catch((function(n){return console.log(n),u(t),n}))},l=function(t,n,e){var o=r.getBlobState().blob;s(t,o,n,(function(t){return r.updateTempState(t)}),e)},f=function(t){var n=r.getBlobState().url;return r.destroyTempState(),o(t),n},d=Kk(t.currentState.url),m=function(t){var n=ng(Xk("Undo","undo",!0,(function(t){Ir(t,Rk.undo(),{direction:1})}),t)),e=ng(Xk("Redo","redo",!0,(function(t){Ir(t,Rk.redo(),{direction:1})}),t));return{container:ky.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),e.asSpec(),Xk("Zoom in","zoom-in",!1,(function(t){Ir(t,Rk.zoom(),{direction:1})}),t),Xk("Zoom out","zoom-out",!1,(function(t){Ir(t,Rk.zoom(),{direction:-1})}),t)]}),updateButtonUndoStates:function(t,r,o){n.getOpt(t).each((function(t){Yk(t,r)})),e.getOpt(t).each((function(t){Yk(t,o)}))}}}(e),p=Hk(d,e);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[p.memContainer.asSpec(),d.memContainer.asSpec(),m.container],behaviours:Ku([Ml.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),np("image-tools-events",[$r(Rk.undo(),(function(t,n){var e=r.undo();c(t,e).then((function(n){u(t),o(t)}))})),$r(Rk.redo(),(function(t,n){var e=r.redo();c(t,e).then((function(n){u(t),o(t)}))})),$r(Rk.zoom(),(function(t,n){var e=n.event.direction;d.zoom(t,e)})),$r(Rk.back(),(function(t,n){!function(t){var n=f(t);c(t,n).then((function(n){u(t)}))}(t),(0,n.event.swap)(),d.hideCrop()})),$r(Rk.apply(),(function(t,n){r.applyTempState((function(){f(t),(0,n.event.swap)()}))})),$r(Rk.transform(),(function(t,e){return l(t,e.event.transform,n)})),$r(Rk.tempTransform(),(function(t,e){return function(t,e){var o=r.getTempState().blob;s(t,o,e,(function(t){return r.addTempState(t)}),n)}(t,e.event.transform)})),$r(Rk.transformApply(),(function(t,n){return function(t,n,e){var o=r.getBlobState().blob;s(t,o,n,(function(n){var e=r.addBlobState(n);return f(t),e}),e)}(t,n.event.transform,n.event.swap)})),$r(Rk.swap(),(function(t,n){!function(t){m.updateButtonUndoStates(t,!1,!1)}(t);var e=n.event.transform,r=n.event.swap;e.fold((function(){r()}),(function(n){l(t,n,r)}))}))]),jC()])}},tS=function(t){return!Tt(t,"items")},nS=function(t,n,e,r){return L(e,(function(e){return tS(e)?{type:"togglemenuitem",text:e.text,value:e.value,active:e.value===r,onAction:function(){Ml.setValue(t,e.value),Ir(t,Iy,{name:n}),ap.focus(t)}}:{type:"nestedmenuitem",text:e.text,getSubmenuItems:function(){return nS(t,n,e.items,r)}}}))},eS=function(t,n){return et(t,(function(t){return tS(t)?Hf(t.value===n,t):eS(t.items,n)}))},rS=Pf({name:"HtmlSelect",configFields:[In("options"),Nl("selectBehaviours",[ap,Ml]),Qn("selectClasses",[]),Qn("selectAttributes",{}),qn("data")],factory:function(t,n){var e=L(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),r=t.data.map((function(t){return $t("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:e,behaviours:Bl(t.selectBehaviours,[ap.config({}),Ml.config({store:f({mode:"manual",getValue:function(t){return Ki(t.element)},setValue:function(n,e){W(t.options,(function(t){return t.value===e})).isSome()&&Xi(n.element,e)}},r)})])}}}),oS=function(t,n){var e=t.label.map((function(t){return Py(t,n)})),o=[Jh.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ov(),Xm.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return Pr(t,Vy),b.some(!0)}}),np("textfield-change",[$r(or(),(function(n,e){Ir(n,Iy,{name:t.name})})),$r(mr(),(function(n,e){Ir(n,Iy,{name:t.name})}))]),zy.config({})],i=t.validation.map((function(t){return vx.config({getRoot:function(t){return po(t.element)},invalidClass:"tox-invalid",validator:{validate:function(n){var e=Ml.getValue(n),r=t.validator(e);return ux(!0===r?it.value(e):it.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray(),a=t.placeholder.fold(r({}),(function(t){return{placeholder:n.translate(t)}})),u=t.inputMode.fold(r({}),(function(t){return{inputmode:t}})),c=f(f({},a),u),s=Ty.parts.field({tag:!0===t.multiline?"textarea":"input",inputAttributes:c,inputClasses:[t.classname],inputBehaviours:Ku(q([o,i])),selectOnFocus:!1,factory:Jy}),l=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),d=[Jh.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(t){Ty.getField(t).each(Jh.disable)},onEnabled:function(t){Ty.getField(t).each(Jh.enable)}}),Ov()];return Ny(e,s,l,d)},iS=Object.freeze({__proto__:null,events:function(t,n){var e=t.stream.streams.setup(t,n);return jr([$r(t.event,e),to((function(){return n.cancel()}))].concat(t.cancelEvent.map((function(t){return[$r(t,(function(){return n.cancel()}))]})).getOr([])))}}),aS=function(t){var n=ce(null);return fi({readState:function(){return{timer:null!==n.get()?"set":"unset"}},setTimer:function(t){n.set(t)},cancel:function(){var t=n.get();null!==t&&t.cancel()}})},uS=Object.freeze({__proto__:null,throttle:aS,init:function(t){return t.stream.streams.state(t)}}),cS=[Ln("stream",On("mode",{throttle:[In("delay"),Qn("stopEvent",!0),cu("streams",{setup:function(t,n){var e=t.stream,r=sg(t.onStream,e.delay);return n.setTimer(r),function(t,n){r.throttle(t,n),e.stopEvent&&n.stop()}},state:aS})]})),Qn("event","input"),qn("cancelEvent"),au("onStream")],sS=Yu({fields:cS,name:"streaming",active:iS,state:uS}),lS=function(t,n,e){var r=Ml.getValue(e);Ml.setValue(n,r),dS(n)},fS=function(t,n){var e=t.element,r=Ki(e),o=e.dom;"number"!==Lo(e,"type")&&n(o,r)},dS=function(t){fS(t,(function(t,n){return t.setSelectionRange(n.length,n.length)}))},mS=function(t,n,e){if(t.selectsOver){var r=Ml.getValue(n),o=t.getDisplayText(r),i=Ml.getValue(e);return 0===t.getDisplayText(i).indexOf(o)?b.some((function(){lS(0,n,e),function(t,n){fS(t,(function(t,e){return t.setSelectionRange(n,e.length)}))}(n,o.length)})):b.none()}return b.none()},pS=r("alloy.typeahead.itemexecute"),gS=r([qn("lazySink"),In("fetch"),Qn("minChars",5),Qn("responseTime",1e3),ou("onOpen"),Qn("getHotspot",b.some),Qn("getAnchorOverrides",r({})),Qn("layouts",b.none()),Qn("eventOrder",{}),ae("model",{},[Qn("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),Qn("selectsOver",!0),Qn("populateFromBrowse",!0)]),ou("onSetValue"),iu("onExecute"),ou("onItemExecute"),Qn("inputClasses",[]),Qn("inputAttributes",{}),Qn("inputStyles",{}),Qn("matchWidth",!0),Qn("useMinWidth",!1),Qn("dismissOnBlur",!0),eu(["openClass"]),qn("initialData"),Nl("typeaheadBehaviours",[ap,Ml,sS,Xm,bp,xx]),ue("previewing",(function(){return ce(!0)}))].concat(Gy()).concat(Bx())),hS=r([sf({schema:[nu()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(n,e){t.previewing.get()?n.getSystem().getByUid(t.uid).each((function(r){mS(t.model,r,e).fold((function(){return td.dehighlight(n,e)}),(function(t){return t()}))})):n.getSystem().getByUid(t.uid).each((function(n){t.model.populateFromBrowse&&lS(t.model,n,e)})),t.previewing.set(!1)},onExecute:function(n,e){return n.getSystem().getByUid(t.uid).toOptional().map((function(t){return Ir(t,pS(),{item:e}),!0}))},onHover:function(n,e){t.previewing.set(!1),n.getSystem().getByUid(t.uid).each((function(n){t.model.populateFromBrowse&&lS(t.model,n,e)}))}}}})]),vS=If({name:"Typeahead",configFields:gS(),partFields:hS(),factory:function(t,e,r,o){var i=function(e,r,i){t.previewing.set(!1);var a=xx.getCoupled(e,"sandbox");if(dl.isOpen(a))Uf.getCurrent(a).each((function(t){td.getHighlighted(t).fold((function(){i(t)}),(function(){Vr(a,t.element,"keydown",r)}))}));else{Ox(t,u(e),e,a,o,(function(t){Uf.getCurrent(t).each(i)}),tx.HighlightFirst).get(n)}},a=Ky(t),u=function(t){return function(n){return n.map((function(n){var e=At(n.menus),r=G(e,(function(t){return V(t.items,(function(t){return"item"===t.type}))}));return Ml.getState(t).update(L(r,(function(t){return t.data}))),n}))}},c=[ap.config({}),Ml.config({onSetValue:t.onSetValue,store:f({mode:"dataset",getDataKey:function(t){return Ki(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(n,e){Xi(n.element,t.model.getDisplayText(e))}},t.initialData.map((function(t){return $t("initialValue",t)})).getOr({}))}),sS.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(e,r){var i=xx.getCoupled(e,"sandbox");if(ap.isFocused(e)&&Ki(e.element).length>=t.minChars){var a=Uf.getCurrent(i).bind((function(t){return td.getHighlighted(t).map(Ml.getValue)}));t.previewing.set(!0);Ox(t,u(e),e,i,o,(function(n){Uf.getCurrent(i).each((function(n){a.fold((function(){t.model.selectsOver&&td.highlightFirst(n)}),(function(t){td.highlightBy(n,(function(n){return Ml.getValue(n).value===t.value})),td.getHighlighted(n).orThunk((function(){return td.highlightFirst(n),b.none()}))}))}))}),tx.HighlightFirst).get(n)}},cancelEvent:xr()}),Xm.config({mode:"special",onDown:function(t,n){return i(t,n,td.highlightFirst),b.some(!0)},onEscape:function(t){var n=xx.getCoupled(t,"sandbox");return dl.isOpen(n)?(dl.close(n),b.some(!0)):b.none()},onUp:function(t,n){return i(t,n,td.highlightLast),b.some(!0)},onEnter:function(n){var e=xx.getCoupled(n,"sandbox"),r=dl.isOpen(e);if(r&&!t.previewing.get())return Uf.getCurrent(e).bind((function(t){return td.getHighlighted(t)})).map((function(t){return Ir(n,pS(),{item:t}),!0}));var o=Ml.getValue(n);return Pr(n,xr()),t.onExecute(e,n,o),r&&dl.close(e),b.some(!0)}}),bp.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),xx.config({others:{sandbox:function(n){return Nx(t,n,{onOpen:function(){return bp.on(n)},onClose:function(){return bp.off(n)}})}}}),np("typeaheadevents",[eo((function(e){var r=n;Ex(t,u(e),e,o,r,tx.HighlightFirst).get(n)})),$r(pS(),(function(n,e){var r=xx.getCoupled(n,"sandbox");lS(t.model,n,e.event.item),Pr(n,xr()),t.onItemExecute(n,r,e.event.item,Ml.getValue(n)),dl.close(r),dS(n)}))].concat(t.dismissOnBlur?[$r(dr(),(function(t){var n=xx.getCoupled(t,"sandbox");oc(n.element).isNone()&&dl.close(n)}))]:[]))];return{uid:t.uid,dom:Yy(Nt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:f(f({},a),Bl(t.typeaheadBehaviours,c)),eventOrder:t.eventOrder}}}),bS=function(t){return f(f({},t),{toCached:function(){return bS(t.toCached())},bindFuture:function(n){return bS(t.bind((function(t){return t.fold((function(t){return ux(it.error(t))}),(function(t){return n(t)}))})))},bindResult:function(n){return bS(t.map((function(t){return t.bind(n)})))},mapResult:function(n){return bS(t.map((function(t){return t.map(n)})))},mapError:function(n){return bS(t.map((function(t){return t.mapError(n)})))},foldResult:function(n,e){return t.map((function(t){return t.fold(n,e)}))},withTimeout:function(n,e){return bS(ax((function(r){var o=!1,i=setTimeout((function(){o=!0,r(it.error(e()))}),n);t.get((function(t){o||(clearTimeout(i),r(t))}))})))}})},yS=function(t){return bS(ax(t))},xS=yS,wS={type:"separator"},CS=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:n}},_S=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:n}},kS=function(t,n){return function(t){return L(t,CS)}(function(t,n){return V(n,(function(n){return n.type===t}))}(t,n))},SS=function(t){return kS("header",t.targets)},AS=function(t){return kS("anchor",t.targets)},OS=function(t){return b.from(t.anchorTop).map((function(t){return _S("<top>",t)})).toArray()},TS=function(t){return b.from(t.anchorBottom).map((function(t){return _S("<bottom>",t)})).toArray()},ES=function(t,n){var e=t.toLowerCase();return V(n,(function(t){var n=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text;return ve(n.toLowerCase(),e)||ve(t.value.toLowerCase(),e)}))},DS=function(t,n,e){var r=Ml.getValue(n),o=void 0!==r.meta.text?r.meta.text:r.value;return e.getLinkInformation().fold((function(){return[]}),(function(n){var r,i=ES(o,function(t){return L(t,(function(t){return _S(t,t)}))}(e.getHistory(t)));return"file"===t?(r=[i,ES(o,SS(n)),ES(o,q([OS(n),AS(n),TS(n)]))],U(r,(function(t,n){return 0===t.length||0===n.length?t.concat(n):t.concat(wS,n)}),[])):i}))},zS=Ko("aria-invalid"),MS=function(t){return function(n,e,r){return Ot(e,"name").fold((function(){return t(e,r)}),(function(o){return n.field(o,t(e,r))}))}},NS={bar:MS((function(t,n){return function(t,n){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:L(t.items,n.interpreter)}}(t,n.shared)})),collection:MS((function(t,n){return qy(t,n.shared.providers)})),alertbanner:MS((function(t,n){return function(t,n){return ky.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[tg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:rg(t.icon,n.icons),attributes:{title:n.translate(t.iconTooltip)}},action:function(n){Ir(n,Fy,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:n.translate(t.text)}}]})}(t,n.shared.providers)})),input:MS((function(t,n){return function(t,n){return oS({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:b.none(),maximized:t.maximized},n)}(t,n.shared.providers)})),textarea:MS((function(t,n){return function(t,n){return oS({name:t.name,multiline:!0,label:t.label,inputMode:b.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:b.none(),maximized:t.maximized},n)}(t,n.shared.providers)})),label:MS((function(t,n){return function(t,n){var e={dom:{tag:"label",innerHtml:n.providers.translate(t.label),classes:["tox-label"]}},r=L(t.items,n.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[e].concat(r),behaviours:Ku([jC(),tp.config({}),t_(b.none()),Xm.config({mode:"acyclic"})])}}(t,n.shared)})),iframe:function(t){return function(n,e,r){var o=Nt(e,{source:"dynamic"});return MS(t)(n,o,r)}}((function(t,n){return f_(t,n.shared.providers)})),button:MS((function(t,n){return kk(t,n.shared.providers)})),checkbox:MS((function(t,n){return function(t,n){var e=Ml.config({store:{mode:"manual",getValue:function(t){return t.element.dom.checked},setValue:function(t,n){t.element.dom.checked=n}}}),r=function(t){return t.element.dom.click(),b.some(!0)},i=Ty.parts.field({factory:{sketch:o},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ku([jC(),Jh.config({disabled:function(){return t.disabled||n.isDisabled()}}),zy.config({}),ap.config({}),e,Xm.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),np("checkbox-events",[$r(ir(),(function(n,e){Ir(n,Iy,{name:t.name})}))])])}),a=Ty.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:n.translate(t.label)},behaviours:Ku([Fx.config({})])}),u=function(t){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:rg("checked"===t?"selected":"unselected",n.icons)}}},c=ng({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]});return Ty.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[i,c.asSpec(),a],fieldBehaviours:Ku([Jh.config({disabled:function(){return t.disabled||n.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){Ty.getField(t).each(Jh.disable)},onEnabled:function(t){Ty.getField(t).each(Jh.enable)}}),Ov()])})}(t,n.shared.providers)})),colorinput:MS((function(t,n){return Wx(t,n.shared,n.colorinput)})),colorpicker:MS((function(t){var n=function(t){return"tox-"+t},e=VC(qC,n),r=ng(e.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(t){Ir(t,Fy,{name:"hex-valid",value:!0})},onInvalidHex:function(t){Ir(t,Fy,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[r.asSpec()],behaviours:Ku([Ml.config({store:{mode:"manual",getValue:function(t){var n=r.get(t);return Uf.getCurrent(n).bind((function(t){return Ml.getValue(t).hex})).map((function(t){return"#"+t})).getOr("")},setValue:function(t,n){var e=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(n),o=r.get(t);Uf.getCurrent(o).fold((function(){console.log("Can not find form")}),(function(t){Ml.setValue(t,{hex:b.from(e[1]).getOr("")}),BC.getField(t,"hex").each((function(t){Pr(t,or())}))}))}}}),jC()])}})),dropzone:MS((function(t,n){return e_(t,n.shared.providers)})),grid:MS((function(t,n){return function(t,n){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:L(t.items,n.interpreter)}}(t,n.shared)})),listbox:MS((function(t,e){return function(t,e){var o=e.shared.providers,i=Z(t.items).filter(tS),a=t.label.map((function(t){return Py(t,o)})),u={dom:{tag:"div",classes:["tox-listboxfield"]},components:[Ty.parts.field({dom:{},factory:{sketch:function(o){return uk({uid:o.uid,text:i.map((function(t){return t.text})),icon:b.none(),tooltip:t.label,role:b.none(),fetch:function(n,r){var o=nS(n,t.name,t.items,Ml.getValue(n));r(mk(o,qg.CLOSE_ON_EXECUTE,e,!1))},onSetup:r(n),getApi:r({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[zy.config({}),Ml.config({store:{mode:"manual",initialValue:i.map((function(t){return t.value})).getOr(""),getValue:function(t){return Lo(t.element,"data-value")},setValue:function(n,e){eS(t.items,e).each((function(t){Io(n.element,"data-value",t.value),Ir(n,ik,{text:t.text})}))}}})]},"tox-listbox",e.shared)}}})]};return Ty.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:q([a.toArray(),[u]]),fieldBehaviours:Ku([Jh.config({disabled:r(t.disabled),onDisabled:function(t){Ty.getField(t).each(Jh.disable)},onEnabled:function(t){Ty.getField(t).each(Jh.enable)}})])})}(t,e)})),selectbox:MS((function(t,n){return function(t,n){var e=L(t.items,(function(t){return{text:n.translate(t.text),value:t.value}})),r=t.label.map((function(t){return Py(t,n)})),o=Ty.parts.field({dom:{},selectAttributes:{size:t.size},options:e,factory:rS,selectBehaviours:Ku([Jh.config({disabled:function(){return t.disabled||n.isDisabled()}}),zy.config({}),np("selectbox-change",[$r(ir(),(function(n,e){Ir(n,Iy,{name:t.name})}))])])}),i=t.size>1?b.none():b.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:rg("chevron-down",n.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:q([[o],i.toArray()])};return Ty.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:q([r.toArray(),[a]]),fieldBehaviours:Ku([Jh.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(t){Ty.getField(t).each(Jh.disable)},onEnabled:function(t){Ty.getField(t).each(Jh.enable)}}),Ov()])})}(t,n.shared.providers)})),sizeinput:MS((function(t,n){return Nk(t,n.shared.providers)})),urlinput:MS((function(t,e){return function(t,e,r){var o,i=e.shared.providers,a=function(n){var e=Ml.getValue(n);r.addToHistory(e.value,t.filetype)},u=Ty.parts.field({factory:vS,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":zS,type:"url"},minChars:0,responseTime:0,fetch:function(n){var o=DS(t.filetype,n,r),i=mk(o,qg.BUBBLE_TO_SANDBOX,e,!1);return ux(i)},getHotspot:function(t){return p.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(vx)&&vx.run(t).get(n)},typeaheadBehaviours:Ku(q([r.getValidationHandler().map((function(n){return vx.config({getRoot:function(t){return po(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,n){s.getOpt(t).each((function(t){Io(t.element,"title",i.translate(n))}))}},validator:{validate:function(e){var r=Ml.getValue(e);return xS((function(e){n({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var n=it.error(t.message);e(n)}else{var r=it.value(t.message);e(r)}}))}))},validateOnLoad:!1}})})).toArray(),[Jh.config({disabled:function(){return t.disabled||i.isDisabled()}}),zy.config({}),np("urlinput-events",q(["file"===t.filetype?[$r(or(),(function(n){Ir(n,Iy,{name:t.name})}))]:[],[$r(ir(),(function(n){Ir(n,Iy,{name:t.name}),a(n)})),$r(mr(),(function(n){Ir(n,Iy,{name:t.name}),a(n)}))]]))]])),eventOrder:(o={},o[or()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:oh(0,0,"normal")},onExecute:function(t,n,e){Ir(n,Vy,{})},onItemExecute:function(n,e,r,o){a(n),Ir(n,Iy,{name:t.name})}}),c=t.label.map((function(t){return Py(t,i)})),s=ng(function(t,n,e,r){return void 0===e&&(e=t),void 0===r&&(r=t),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],innerHtml:rg(e,i.icons),attributes:f({title:i.translate(r),"aria-live":"polite"},n.fold((function(){return{}}),(function(t){return{id:t}})))}}}("invalid",b.some(zS),"warning")),l=ng({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]}),d=r.getUrlPicker(t.filetype),m=Ko("browser.url.event"),p=ng({dom:{tag:"div",classes:["tox-control-wrap"]},components:[u,l.asSpec()],behaviours:Ku([Jh.config({disabled:function(){return t.disabled||i.isDisabled()}})])}),g=ng(wk({name:t.name,icon:b.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},(function(t){return Pr(t,m)}),i,[],["tox-browse-url"]));return Ty.sketch({dom:By([]),components:c.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:q([[p.asSpec()],d.map((function(){return g.asSpec()})).toArray()])}]),fieldBehaviours:Ku([Jh.config({disabled:function(){return t.disabled||i.isDisabled()},onDisabled:function(t){Ty.getField(t).each(Jh.disable),g.getOpt(t).each(Jh.disable)},onEnabled:function(t){Ty.getField(t).each(Jh.enable),g.getOpt(t).each(Jh.enable)}}),Ov(),np("url-input-events",[$r(m,(function(n){Uf.getCurrent(n).each((function(e){var r=Ml.getValue(e),o=f({fieldname:t.name},r);d.each((function(r){r(o).get((function(r){Ml.setValue(e,r),Ir(n,Iy,{name:t.name})}))}))}))}))])])})}(t,e,e.urlinput)})),customeditor:MS((function(t){var n=ce(b.none()),e=ng({dom:{tag:t.tag}}),r=ce(b.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ku([np("custom-editor-events",[Zr((function(o){e.getOpt(o).each((function(e){(!function(t){return Object.prototype.hasOwnProperty.call(t,"init")}(t)?GC.load(t.scriptId,t.scriptUrl).then((function(n){return n(e.element.dom,t.settings)})):t.init(e.element.dom)).then((function(t){r.get().each((function(n){t.setValue(n)})),r.set(b.none()),n.set(b.some(t))}))}))}))]),Ml.config({store:{mode:"manual",getValue:function(){return n.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,e){n.get().fold((function(){r.set(b.some(e))}),(function(t){return t.setValue(e)}))}}}),jC()]),components:[e.asSpec()]}})),htmlpanel:MS((function(t){return"presentation"===t.presets?ky.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ky.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Ku([zy.config({}),ap.config({})])})})),imagetools:MS((function(t,n){return Zk(t,n.shared.providers)})),table:MS((function(t,n){return function(t,n){var e,r,o=function(t){return{dom:{tag:"th",innerHtml:n.translate(t)}}},i=function(t){return{dom:{tag:"td",innerHtml:n.translate(t)}}},a=function(t){return{dom:{tag:"tr"},components:L(t,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=t.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:L(r,o)}]}),(e=t.cells,{dom:{tag:"tbody"},components:L(e,a)})],behaviours:Ku([zy.config({}),ap.config({})])}}(t,n.shared.providers)})),panel:MS((function(t,n){return function(t,n){return{dom:{tag:"div",classes:t.classes},components:L(t.items,n.shared.interpreter)}}(t,n)}))},RS={field:function(t,n){return n}},BS=function(t,n,e){var r=Nt(e,{shared:{interpreter:function(n){return PS(t,n,r)}}});return PS(t,n,r)},PS=function(t,n,e){return Ot(NS,n.type).fold((function(){return console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n}),(function(r){return r(t,n,e)}))},IS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},LS=function(t,n,e){var r=Tc(-12,12,IS),o={maxHeightFunction:kc()};return function(){return e()?{anchor:"node",root:Co(t()),node:b.from(t()),bubble:r,layouts:{onRtl:function(){return[Yp]},onLtr:function(){return[Xp]}},overrides:o}:{anchor:"hotspot",hotspot:n(),bubble:r,layouts:{onRtl:function(){return[Tu]},onLtr:function(){return[Eu]}},overrides:o}}},HS=function(t,n,e){return function(){return e()?{anchor:"node",root:Co(t()),node:b.from(t()),layouts:{onRtl:function(){return[Jp]},onLtr:function(){return[Jp]}}}:{anchor:"hotspot",hotspot:n(),layouts:{onRtl:function(){return[Nu]},onLtr:function(){return[Nu]}}}}},FS=function(t,n){return function(){return{anchor:"selection",root:n(),getSelection:function(){var n=t.selection.getRng();return b.some(os.range(le.fromDom(n.startContainer),n.startOffset,le.fromDom(n.endContainer),n.endOffset))}}}},VS=function(t){return function(n){return{anchor:"node",root:t(),node:n}}},jS=function(t,n,e){var r=hv(t),o=function(){return le.fromDom(t.getBody())},i=function(){return le.fromDom(t.getContentAreaContainer())},a=function(){return r||!e()};return{inlineDialog:LS(i,n,a),banner:HS(i,n,a),cursor:FS(t,o),node:VS(o)}},US=function(t){return function(n,e){Ib(t)(n,e)}},WS=function(t){return function(){return Ob(t)}},$S=function(t){return function(){return Tb(t)}},qS=function(t){return function(){return Db(t)}},GS=function(t){return{colorPicker:US(t),hasCustomColors:WS(t),getColors:$S(t),getColorCols:qS(t)}},KS=function(t){return function(){return function(t){return t.getParam("draggable_modal",!1,"boolean")}(t)}},XS=function(t){return{isDraggableModal:KS(t)}},YS=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],JS=function(t){return U(t,(function(t,n){if(Tt(n,"items")){var e=JS(n.items);return{customFormats:t.customFormats.concat(e.customFormats),formats:t.formats.concat([{title:n.title,items:e.formats}])}}if(function(t){return Tt(t,"inline")}(n)||function(t){return Tt(t,"block")}(n)||function(t){return Tt(t,"selector")}(n)){var r="custom-"+(w(n.name)?n.name:n.title.toLowerCase());return{customFormats:t.customFormats.concat([{name:r,format:n}]),formats:t.formats.concat([{title:n.title,format:r,icon:n.icon}])}}return f(f({},t),{formats:t.formats.concat(n)})}),{customFormats:[],formats:[]})},QS=function(t){return function(t){return b.from(t.getParam("style_formats")).filter(_)}(t).map((function(n){var e=function(t,n){var e=JS(n),r=function(n){H(n,(function(n){t.formatter.has(n.name)||t.formatter.register(n.name,n.format)}))};return t.formatter?r(e.customFormats):t.on("init",(function(){r(e.customFormats)})),e.formats}(t,n);return function(t){return t.getParam("style_formats_merge",!1,"boolean")}(t)?YS.concat(e):e})).getOr(YS)},ZS=function(t,n,e){var r={type:"formatter",isSelected:n(t.format),getStylePreview:e(t.format)};return Nt(t,r)},tA=function(t,n,e,r){var o=function(n){return L(n,(function(n){var i=bt(n);if(Et(n,"items")){var a=o(n.items);return Nt(function(t){return Nt(t,{type:"submenu"})}(n),{getStyleItems:function(){return a}})}return Et(n,"format")?function(t){return ZS(t,e,r)}(n):1===i.length&&R(i,"title")?Nt(n,{type:"separator"}):function(n){var o=w(n.name)?n.name:Ko(n.title),i="custom-"+o,a={type:"formatter",format:i,isSelected:e(i),getStylePreview:r(i)},u=Nt(n,a);return t.formatter.register(o,u),u}(n)}))};return o(n)},nA=function(t){var n=function(n){return function(){return t.formatter.match(n)}},e=function(n){return function(){var e=t.formatter.get(n);return void 0!==e?b.some({tag:e.length>0&&(e[0].inline||e[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(n))}):b.none()}},r=function(t){var n=t.items;return void 0!==n&&n.length>0?G(n,r):[t.format]},o=ce([]),i=ce([]),a=ce([]),u=ce([]),c=ce(!1);t.on("PreInit",(function(a){var u=QS(t),c=tA(t,u,n,e);o.set(c),i.set(G(c,r))})),t.on("addStyleModifications",(function(o){var i=tA(t,o.items,n,e);a.set(i),c.set(o.replace),u.set(G(i,r))}));return{getData:function(){var t=c.get()?[]:o.get(),n=a.get();return t.concat(n)},getFlattenedKeys:function(){var t=c.get()?[]:i.get(),n=u.get();return t.concat(n)}}},eA=KC.trim,rA=function(t){return function(n){if(function(t){return A(t)&&1===t.nodeType}(n)){if(n.contentEditable===t)return!0;if(n.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},oA=rA("true"),iA=rA("false"),aA=function(t,n,e,r,o){return{type:t,title:n,url:e,level:r,attach:o}},uA=function(t){return t.innerText||t.textContent},cA=function(t){return function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)}(t)&&lA(t)},sA=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},lA=function(t){return function(t){for(;t=t.parentNode;){var n=t.contentEditable;if(n&&"inherit"!==n)return oA(t)}return!1}(t)&&!iA(t)},fA=function(t){return sA(t)&&lA(t)},dA=function(t){var n=function(t){return t.id?t.id:Ko("h")}(t);return aA("header",uA(t),"#"+n,function(t){return sA(t)?parseInt(t.nodeName.substr(1),10):0}(t),(function(){t.id=n}))},mA=function(t){var e=t.id||t.name,r=uA(t);return aA("anchor",r||"#"+e,"#"+e,0,n)},pA=function(t){var n,e;return n="h1,h2,h3,h4,h5,h6,a:not([href])",e=t,L(hs(le.fromDom(e),n),(function(t){return t.dom}))},gA=function(t){return eA(t.title).length>0},hA=function(t){var n=pA(t);return V(function(t){return L(V(t,fA),dA)}(n).concat(function(t){return L(V(t,cA),mA)}(n)),gA)},vA="tinymce-url-history",bA=function(t){return w(t)&&/^https?/.test(t)},yA=function(t){return C(t)&&St(t,(function(t){return!(_(n=t)&&n.length<=5&&K(n,bA));var n})).isNone()},xA=function(){var t,n=Cb.getItem(vA);if(null===n)return{};try{t=JSON.parse(n)}catch(t){if(t instanceof SyntaxError)return console.log("Local storage "+vA+" was not valid JSON",t),{};throw t}return yA(t)?t:(console.log("Local storage "+vA+" was not valid format",t),{})},wA=function(t){var n=xA();return Object.prototype.hasOwnProperty.call(n,t)?n[t]:[]},CA=function(t,n){if(bA(t)){var e=xA(),r=Object.prototype.hasOwnProperty.call(e,n)?e[n]:[],o=V(r,(function(n){return n!==t}));e[n]=[t].concat(o).slice(0,5),function(t){if(!yA(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));Cb.setItem(vA,JSON.stringify(t))}(e)}},_A=function(t){return!!t},kA=function(t){return wt(KC.makeMap(t,/[, ]/),_A)},SA=function(t){return b.from(function(t){return t.getParam("file_picker_callback")}(t)).filter(O)},AA=function(t,n){var e=function(t){var n=b.some(function(t){return t.getParam("file_picker_types")}(t)).filter(_A),e=b.some(function(t){return t.getParam("file_browser_callback_types")}(t)).filter(_A),r=n.or(e).map(kA);return SA(t).fold(c,(function(t){return r.fold(s,(function(t){return bt(t).length>0&&t}))}))}(t);return k(e)?e?SA(t):b.none():e[n]?SA(t):b.none()},OA=function(t){return b.from(t).filter(w).getOrUndefined()},TA=function(t){return{getHistory:wA,addToHistory:CA,getLinkInformation:function(){return function(t){return function(t){return!1===t.getParam("typeahead_urls")}(t)?b.none():b.some({targets:hA(t.getBody()),anchorTop:OA(Cv(t)),anchorBottom:OA(_v(t))})}(t)},getValidationHandler:function(){return function(t){return b.from(function(t){var n=t.getParam("file_picker_validator_handler",void 0,"function");return void 0===n?t.getParam("filepicker_validator_handler",void 0,"function"):n}(t))}(t)},getUrlPicker:function(n){return function(t,n){return AA(t,n).map((function(e){return function(r){return ax((function(o){var i=f({filetype:n,fieldname:r.fieldname},b.from(r.meta).getOr({}));e.call(t,(function(t,n){if(!w(t))throw new Error("Expected value to be string");if(void 0!==n&&!C(n))throw new Error("Expected meta to be a object");o({value:t,meta:n})}),r.value,i)}))}}))}(t,n)}}},EA=function(t,n,e){var r=ce(!1),o=function(t){var n=ce(pv(t)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===n.get()},getDockingMode:n.get,setDockingMode:n.set}}(n),i={shared:{providers:{icons:function(){return n.ui.registry.getAll().icons},menuItems:function(){return n.ui.registry.getAll().menuItems},translate:Ih.translate,isDisabled:function(){return n.mode.isReadOnly()||n.ui.isDisabled()},getSetting:n.getParam.bind(n)},interpreter:function(t){return function(t,n){return PS(RS,t,n)}(t,i)},anchors:jS(n,e,o.isPositionedAtTop),header:o,getSink:function(){return it.value(t)}},urlinput:TA(n),styleselect:nA(n),colorinput:GS(n),dialog:XS(n),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}};return i},DA=r((function(t,n){!function(t,n){var e=va.max(t,n,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Li(t,"max-width",e+"px")}(t,Math.floor(n))})),zA=r([In("dom"),Qn("shell",!0),Nl("toolbarBehaviours",[tp])]),MA=r([lf({name:"groups",overrides:function(){return{behaviours:Ku([tp.config({})])}}})]),NA=If({name:"Toolbar",configFields:zA(),partFields:MA(),factory:function(t,n,e,r){var o=function(n){return t.shell?b.some(n):Cf(n,t,"groups")},i=t.shell?{behaviours:[tp.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:i.components,behaviours:Bl(t.toolbarBehaviours,i.behaviours),apis:{setGroups:function(t,n){o(t).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){tp.set(t,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,n,e){t.setGroups(n,e)}}}),RA=function(t,n,e){return{within:t,extra:n,withinWidth:e}},BA=function(t,n,e){var o,i=(o=function(t,n){var r=e(t);return b.some({element:t,start:n,finish:n+r,width:r})},U(t,(function(t,n){return o(n,t.len).fold(r(t),(function(n){return{len:n.finish,list:t.list.concat([n])}}))}),{len:0,list:[]}).list),a=V(i,(function(t){return t.finish<=n})),u=j(a,(function(t,n){return t+n.width}),0);return{within:a,extra:i.slice(a.length),withinWidth:u}},PA=function(t){return L(t,(function(t){return t.element}))},IA=function(t,n,e,r){var o=function(t,n,e){var r=BA(n,t,e);return 0===r.extra.length?b.some(r):b.none()}(t,n,e).getOrThunk((function(){return BA(n,t-e(r),e)})),i=o.within,a=o.extra,u=o.withinWidth;return 1===a.length&&a[0].width<=e(r)?function(t,n,e){var r=PA(t.concat(n));return RA(r,[],e)}(i,a,u):a.length>=1?function(t,n,e,r){var o=PA(t).concat([e]);return RA(o,PA(n),r)}(i,a,r,u):function(t,n,e){return RA(PA(t),[],e)}(i,0,u)},LA=function(t,n){var e=L(n,(function(t){return ua(t)}));NA.setGroups(t,e)},HA=function(t,n,e){var r=_f(t,n,"primary"),o=xx.getCoupled(t,"overflowGroup");Li(r.element,"visibility","hidden");var i=n.builtGroups.get().concat([o]),a=et(i,(function(t){return oc(t.element).bind((function(n){return t.getSystem().getByDom(n).toOptional()}))}));e([]),LA(r,i);var u=ba(r.element),c=IA(u,n.builtGroups.get(),(function(t){return ba(t.element)}),o);0===c.extra.length?(tp.remove(r,o),e([])):(LA(r,c.within),e(c.extra)),qi(r.element,"visibility"),Gi(r.element),a.each(ap.focus)},FA=r([Nl("splitToolbarBehaviours",[xx]),ue("builtGroups",(function(){return ce([])}))]),VA=r([eu(["overflowToggledClass"]),Yn("getOverflowBounds"),In("lazySink"),ue("overflowGroups",(function(){return ce([])}))].concat(FA())),jA=r([cf({factory:NA,schema:zA(),name:"primary"}),sf({schema:zA(),name:"overflow"}),sf({name:"overflow-button"}),sf({name:"overflow-group"})]),UA=r([eu(["toggledClass"]),In("lazySink"),jn("fetch"),Yn("getBounds"),Jn("fireDismissalEventInstead",[Qn("event",Tr())]),Bc()]),WA=r([sf({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ku([bp.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),sf({factory:NA,schema:zA(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Ku([Xm.config({mode:"cyclic",onEscape:function(n){return Cf(n,t,"button").each(ap.focus),b.none()}})])}}})]),$A=function(t,n){var e=xx.getCoupled(t,"toolbarSandbox");dl.isOpen(e)?dl.close(e):dl.open(e,n.toolbar())},qA=function(t,n,e,r){var o=e.getBounds.map((function(t){return t()})),i=e.lazySink(t).getOrDie();Ws.positionWithinBounds(i,{anchor:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:DA()}},n,o)},GA=function(t,n,e,r,o){NA.setGroups(n,o),qA(t,n,e,r),bp.on(t)},KA=If({name:"FloatingToolbarButton",factory:function(t,n,e,r){return f(f({},tg.sketch(f(f({},r.button()),{action:function(t){$A(t,r)},buttonBehaviours:Il({dump:r.button().buttonBehaviours},[xx.config({others:{toolbarSandbox:function(n){return function(t,n,e){var r=ja();return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Ku([Xm.config({mode:"special",onEscape:function(t){return dl.close(t),b.some(!0)}}),dl.config({onOpen:function(o,i){e.fetch().get((function(o){GA(t,i,e,n.layouts,o),r.link(t.element),Xm.focusIn(i)}))},onClose:function(){bp.off(t),ap.focus(t),r.unlink(t.element)},isPartOf:function(n,e,r){return Wa(e,r)||Wa(t,r)},getAttachPoint:function(){return e.lazySink(t).getOrDie()}}),tc.config({channels:f(f({},vl(f({isExtraPart:c},e.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),yl({doReposition:function(){dl.getState(xx.getCoupled(t,"toolbarSandbox")).each((function(r){qA(t,r,e,n.layouts)}))}}))})])}}(n,e,t)}}})])}))),{apis:{setGroups:function(n,r){dl.getState(xx.getCoupled(n,"toolbarSandbox")).each((function(o){GA(n,o,t,e.layouts,r)}))},reposition:function(n){dl.getState(xx.getCoupled(n,"toolbarSandbox")).each((function(r){qA(n,r,t,e.layouts)}))},toggle:function(t){$A(t,r)},getToolbar:function(t){return dl.getState(xx.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return dl.isOpen(xx.getCoupled(t,"toolbarSandbox"))}}})},configFields:UA(),partFields:WA(),apis:{setGroups:function(t,n,e){t.setGroups(n,e)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},getToolbar:function(t,n){return t.getToolbar(n)},isOpen:function(t,n){return t.isOpen(n)}}}),XA=r([In("items"),eu(["itemSelector"]),Nl("tgroupBehaviours",[Xm])]),YA=r([ff({name:"items",unit:"item"})]),JA=If({name:"ToolbarGroup",configFields:XA(),partFields:YA(),factory:function(t,n,e,r){return{uid:t.uid,dom:t.dom,components:n,behaviours:Bl(t.tgroupBehaviours,[Xm.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),QA=function(t){return L(t,(function(t){return ua(t)}))},ZA=function(t,n,e){HA(t,e,(function(r){e.overflowGroups.set(r),n.getOpt(t).each((function(t){KA.setGroups(t,QA(r))}))}))},tO=If({name:"SplitFloatingToolbar",configFields:VA(),partFields:jA(),factory:function(t,n,e,r){var o=ng(KA.sketch({fetch:function(){return ax((function(n){n(QA(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[Eu,Tu]},onRtl:function(){return[Tu,Eu]},onBottomLtr:function(){return[zu,Du]},onBottomRtl:function(){return[Du,zu]}},getBounds:e.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:t.uid,dom:t.dom,components:n,behaviours:Bl(t.splitToolbarBehaviours,[xx.config({others:{overflowGroup:function(){return JA.sketch(f(f({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(n,e){t.builtGroups.set(L(e,n.getSystem().build)),ZA(n,o,t)},refresh:function(n){return ZA(n,o,t)},toggle:function(t){o.getOpt(t).each((function(t){KA.toggle(t)}))},isOpen:function(t){return o.getOpt(t).map(KA.isOpen).getOr(!1)},reposition:function(t){o.getOpt(t).each((function(t){KA.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind(KA.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,n,e){t.setGroups(n,e)},refresh:function(t,n){t.refresh(n)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)},getOverflow:function(t,n){return t.getOverflow(n)}}}),nO=function(t,n){return n.getAnimationRoot.fold((function(){return t.element}),(function(n){return n(t)}))},eO=function(t){return t.dimension.property},rO=function(t,n){return t.dimension.getDimension(n)},oO=function(t,n){var e=nO(t,n);zi(e,[n.shrinkingClass,n.growingClass])},iO=function(t,n){Ti(t.element,n.openClass),Ai(t.element,n.closedClass),Li(t.element,eO(n),"0px"),Gi(t.element)},aO=function(t,n){Ti(t.element,n.closedClass),Ai(t.element,n.openClass),qi(t.element,eO(n))},uO=function(t,n,e,r){e.setCollapsed(),Li(t.element,eO(n),rO(n,t.element)),Gi(t.element),oO(t,n),iO(t,n),n.onStartShrink(t),n.onShrunk(t)},cO=function(t,n,e,r){var o=r.getOrThunk((function(){return rO(n,t.element)}));e.setCollapsed(),Li(t.element,eO(n),o),Gi(t.element);var i=nO(t,n);Ti(i,n.growingClass),Ai(i,n.shrinkingClass),iO(t,n),n.onStartShrink(t)},sO=function(t,n,e){var r=rO(n,t.element);("0px"===r?uO:cO)(t,n,e,b.some(r))},lO=function(t,n,e){var r=nO(t,n),o=Ei(r,n.shrinkingClass),i=rO(n,t.element);aO(t,n);var a=rO(n,t.element);(o?function(){Li(t.element,eO(n),i),Gi(t.element)}:function(){iO(t,n)})(),Ti(r,n.shrinkingClass),Ai(r,n.growingClass),aO(t,n),Li(t.element,eO(n),a),e.setExpanded(),n.onStartGrow(t)},fO=function(t,n,e){var r=nO(t,n);return!0===Ei(r,n.growingClass)},dO=function(t,n,e){var r=nO(t,n);return!0===Ei(r,n.shrinkingClass)},mO=Object.freeze({__proto__:null,refresh:function(t,n,e){if(e.isExpanded()){qi(t.element,eO(n));var r=rO(n,t.element);Li(t.element,eO(n),r)}},grow:function(t,n,e){e.isExpanded()||lO(t,n,e)},shrink:function(t,n,e){e.isExpanded()&&sO(t,n,e)},immediateShrink:function(t,n,e){e.isExpanded()&&uO(t,n,e,b.none())},hasGrown:function(t,n,e){return e.isExpanded()},hasShrunk:function(t,n,e){return e.isCollapsed()},isGrowing:fO,isShrinking:dO,isTransitioning:function(t,n,e){return fO(t,n)||dO(t,n)},toggleGrow:function(t,n,e){(e.isExpanded()?sO:lO)(t,n,e)},disableTransitions:oO}),pO=Object.freeze({__proto__:null,exhibit:function(t,n,e){var r=n.expanded;return mi(r?{classes:[n.openClass],styles:{}}:{classes:[n.closedClass],styles:$t(n.dimension.property,"0px")})},events:function(t,n){return jr([Qr(ur(),(function(e,r){r.event.raw.propertyName===t.dimension.property&&(oO(e,t),n.isExpanded()&&qi(e.element,t.dimension.property),(n.isExpanded()?t.onGrown:t.onShrunk)(e))}))])}}),gO=[In("closedClass"),In("openClass"),In("shrinkingClass"),In("growingClass"),qn("getAnimationRoot"),ou("onShrunk"),ou("onStartShrink"),ou("onGrown"),ou("onStartGrow"),Qn("expanded",!1),Ln("dimension",On("property",{width:[cu("property","width"),cu("getDimension",(function(t){return ba(t)+"px"}))],height:[cu("property","height"),cu("getDimension",(function(t){return la(t)+"px"}))]}))],hO=Yu({fields:gO,name:"sliding",active:pO,apis:mO,state:Object.freeze({__proto__:null,init:function(t){var n=ce(t.expanded);return fi({isExpanded:function(){return!0===n.get()},isCollapsed:function(){return!1===n.get()},setCollapsed:i(n.set,!1),setExpanded:i(n.set,!0),readState:function(){return"expanded: "+n.get()}})}})}),vO=r([eu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ou("onOpened"),ou("onClosed")].concat(FA())),bO=r([cf({factory:NA,schema:zA(),name:"primary"}),cf({factory:NA,schema:zA(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Ku([hO.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(n){Cf(n,t,"overflow-button").each((function(t){bp.off(t),ap.focus(t)})),t.onClosed(n)},onGrown:function(n){Xm.focusIn(n),t.onOpened(n)},onStartGrow:function(n){Cf(n,t,"overflow-button").each(bp.on)}}),Xm.config({mode:"acyclic",onEscape:function(n){return Cf(n,t,"overflow-button").each(ap.focus),b.some(!0)}})])}}}),sf({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Ku([bp.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),sf({name:"overflow-group"})]),yO=function(t,n){Cf(t,n,"overflow-button").bind((function(){return Cf(t,n,"overflow")})).each((function(e){xO(t,n),hO.toggleGrow(e)}))},xO=function(t,n){Cf(t,n,"overflow").each((function(e){HA(t,n,(function(t){var n=L(t,(function(t){return ua(t)}));NA.setGroups(e,n)})),Cf(t,n,"overflow-button").each((function(t){hO.hasGrown(e)&&bp.on(t)})),hO.refresh(e)}))},wO=If({name:"SplitSlidingToolbar",configFields:vO(),partFields:bO(),factory:function(t,n,e,r){return{uid:t.uid,dom:t.dom,components:n,behaviours:Bl(t.splitToolbarBehaviours,[xx.config({others:{overflowGroup:function(t){return JA.sketch(f(f({},r["overflow-group"]()),{items:[tg.sketch(f(f({},r["overflow-button"]()),{action:function(n){Pr(t,"alloy.toolbar.toggle")}}))]}))}}}),np("toolbar-toggle-events",[$r("alloy.toolbar.toggle",(function(n){yO(n,t)}))])]),apis:{setGroups:function(n,e){!function(n,e){var r=L(e,n.getSystem().build);t.builtGroups.set(r)}(n,e),xO(n,t)},refresh:function(n){return xO(n,t)},toggle:function(n){return yO(n,t)},isOpen:function(n){return function(t,n){return Cf(t,n,"overflow").map(hO.hasGrown).getOr(!1)}(n,t)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,n,e){t.setGroups(n,e)},refresh:function(t,n){t.refresh(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)}}}),CO=r(Ko("toolbar-height-change")),_O=function(t){var n=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:f({tag:"div",classes:["tox-toolbar__group"]},n),components:[JA.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Ku([zy.config({}),ap.config({})])}},kO=function(t){return JA.sketch(_O(t))},SO=function(t,n){var e=Zr((function(n){var e=L(t.initGroups,kO);NA.setGroups(n,e)}));return Ku([zv(t.providers.isDisabled),Ov(),Xm.config({mode:n,onEscape:t.onEscape,selector:".tox-toolbar__group"}),np("toolbar-events",[e])])},AO=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":_O({title:b.none(),items:[]}),"overflow-button":bk({name:"more",icon:b.some("more-drawer"),disabled:!1,tooltip:b.some("More..."),primary:!1,borderless:!1},b.none(),t.providers)},splitToolbarBehaviours:SO(t,n)}},OO=function(t){var n=AO(t),e=tO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return tO.sketch(f(f({},n),{lazySink:t.getSink,getOverflowBounds:function(){var n=t.moreDrawerData.lazyHeader().element,e=Ma(n),r=fo(n),o=Ma(r),i=Math.max(r.dom.scrollHeight,o.height);return Da(e.x+4,o.y,e.width-8,i)},parts:f(f({},n.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[e],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},TO=function(t){var n=wO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),e=wO.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=AO(t);return wO.sketch(f(f({},r),{components:[n,e],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([CO()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([CO()],{type:"closed"})}}))},EO=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return NA.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===$g.scrolling?["tox-toolbar--scrolling"]:[])},components:[NA.parts.groups({})],toolbarBehaviours:SO(t,n)})},DO=un([Fn("type"),Ln("items",sn([bn([Fn("name"),$n("items",zn)]),zn]))].concat(Dg)),zO=[Xn("text"),Xn("tooltip"),Xn("icon"),jn("fetch"),oe("onSetup",(function(){return n}))],MO=un(m([Fn("type")],zO)),NO=function(t){return Cn("menubutton",MO,t)},RO=un([Fn("type"),Xn("tooltip"),Xn("icon"),Xn("text"),Yn("select"),jn("fetch"),oe("onSetup",(function(){return n})),ee("presets","normal",["normal","color","listpreview"]),Qn("columns",1),jn("onAction"),jn("onItemAction")]),BO=Object.freeze({__proto__:null,events:function(t,n){var e=function(e,r){t.updateState.each((function(t){var o=t(e,r);n.set(o)})),t.renderComponents.each((function(t){var o=t(r,n.get()),i=L(o,e.getSystem().build);Ks(e,i)}))};return jr([$r(pr(),(function(n,r){var o=r;if(!o.universal){var i=t.channel;R(o.channels,i)&&e(n,o.data)}})),Zr((function(n,r){t.initialData.each((function(t){e(n,t)}))}))])}}),PO=Object.freeze({__proto__:null,getState:function(t,n,e){return e}}),IO=[In("channel"),qn("renderComponents"),qn("updateState"),qn("initialData")],LO=Yu({fields:IO,name:"reflecting",active:BO,apis:PO,state:Object.freeze({__proto__:null,init:function(){var t=ce(b.none());return{readState:function(){return t.get().fold((function(){return"none"}),(function(t){return t}))},get:function(){return t.get()},set:function(n){return t.set(n)},clear:function(){return t.set(b.none())}}}})}),HO=r([In("toggleClass"),In("fetch"),au("onExecute"),Qn("getHotspot",b.some),Qn("getAnchorOverrides",r({})),Bc(),au("onItemExecute"),qn("lazySink"),In("dom"),ou("onOpen"),Nl("splitDropdownBehaviours",[xx,Xm,ap]),Qn("matchWidth",!1),Qn("useMinWidth",!1),Qn("eventOrder",{}),qn("role")].concat(Bx())),FO=cf({factory:tg,schema:[In("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Ku([ap.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each(Lr)},buttonBehaviours:Ku([bp.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),VO=cf({factory:tg,schema:[In("dom")],name:"button",defaults:function(){return{buttonBehaviours:Ku([ap.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each((function(e){t.onExecute(e,n)}))}}}}),jO=r([FO,VO,lf({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[In("text")],name:"aria-descriptor"}),sf({schema:[nu()],name:"menu",defaults:function(t){return{onExecute:function(n,e){n.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,n,e)}))}}}}),Cx()]),UO=If({name:"SplitDropdown",configFields:HO(),partFields:jO(),factory:function(t,e,r,o){var i,a=function(t){Uf.getCurrent(t).each((function(t){td.highlightFirst(t),Xm.focusIn(t)}))},u=function(e){Ex(t,(function(t){return t}),e,o,a,tx.HighlightFirst).get(n)},c=function(n){var e=_f(n,t,"button");return Lr(e),b.some(!0)},s=f(f({},jr([Zr((function(n,e){Cf(n,t,"aria-descriptor").each((function(t){var e=Ko("aria");Io(t.element,"id",e),Io(n.element,"aria-describedby",e)}))}))])),xp(b.some(u))),l={repositionMenus:function(t){bp.isOn(t)&&Rx(t)}};return{uid:t.uid,dom:t.dom,components:e,apis:l,eventOrder:f(f({},t.eventOrder),(i={},i[gr()]=["disabling","toggling","alloy.base.behaviour"],i)),events:s,behaviours:Bl(t.splitDropdownBehaviours,[xx.config({others:{sandbox:function(n){var e=_f(n,t,"arrow");return Nx(t,n,{onOpen:function(){bp.on(e),bp.on(n)},onClose:function(){bp.off(e),bp.off(n)}})}}}),Xm.config({mode:"special",onSpace:c,onEnter:c,onDown:function(t){return u(t),b.some(!0)}}),ap.config({}),bp.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(t,n){return t.repositionMenus(n)}}}),WO=function(t){return{isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){return Jh.set(t,n)}}},$O=function(t){return{setActive:function(n){bp.set(t,n)},isActive:function(){return bp.isOn(t)},isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){return Jh.set(t,n)}}},qO=function(t,n){return t.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})},GO=Ko("focus-button"),KO=["checklist","ordered-list"],XO=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],YO=function(t,n,e,r,o,i){var a,u=function(t){return Ih.isRtl()&&R(KO,t)?t+"-rtl":t},c=Ih.isRtl()&&t.exists((function(t){return R(XO,t)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(n.isSome()?["tox-tbtn--select"]:[]).concat(c?["tox-tbtn__icon-rtl"]:[]),attributes:qO(e,i)},components:Iv([t.map((function(t){return tk(u(t),i.icons)})),n.map((function(t){return ek(t,"tox-tbtn",i)}))]),eventOrder:(a={},a[Xe()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Ku([zv(i.isDisabled),Ov(),np("common-button-display-events",[$r(Xe(),(function(t,n){n.event.prevent(),Pr(t,GO)}))])].concat(r.map((function(e){return LO.config({channel:e,initialData:{icon:t,text:n},renderComponents:function(t,n){return Iv([t.icon.map((function(t){return tk(u(t),i.icons)})),t.text.map((function(t){return ek(t,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}},JO=function(t,e,r){var o,i=ce(n),a=YO(t.icon,t.text,t.tooltip,b.none(),b.none(),r);return tg.sketch({dom:a.dom,components:a.components,eventOrder:ok,buttonBehaviours:Ku([np("toolbar-button-events",[(o={onAction:t.onAction,getApi:e.getApi},eo((function(t,n){Mv(o,t)((function(n){Ir(t,rk,{buttonApi:n}),o.onAction(n)}))}))),Nv(e,i),Rv(e,i)]),zv((function(){return t.disabled||r.isDisabled()})),Ov()].concat(e.toolbarButtonBehaviours))})},QO=function(t,n,e){return JO(t,{toolbarButtonBehaviours:[].concat(e.length>0?[np("toolbarButtonWith",e)]:[]),getApi:WO,onSetup:t.onSetup},n)},ZO=function(t,n,e){return Nt(JO(t,{toolbarButtonBehaviours:[tp.config({}),bp.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(e.length>0?[np("toolbarToggleButtonWith",e)]:[]),getApi:$O,onSetup:t.onSetup},n))},tT=function(t,n,e){return function(r){return ax((function(t){return n.fetch(t)})).map((function(o){return b.from(ry(Nt(Lb(Ko("menu-value"),o,(function(e){n.onItemAction(t(r),e)}),n.columns,n.presets,qg.CLOSE_ON_EXECUTE,n.select.getOr(c),e),{movement:Fb(n.columns,n.presets),menuBehaviours:Oh("auto"!==n.columns?[]:[Zr((function(t,e){Sh(t,4,Qg(n.presets)).each((function(n){var e=n.numRows,r=n.numColumns;Xm.setGridSize(t,e,r)}))}))])})))}))}},nT=function(t,n){return $r(rk,(function(e,r){var o=function(t){return{hide:function(){return Pr(t,yr())},getValue:function(){return Ml.getValue(t)}}}(t.get(e));n.onAction(o,r.event.buttonApi)}))},eT=function(t,e,r){var o={backstage:{shared:{providers:r}}};return"contextformtogglebutton"===e.type?function(t,e,r){var o=e.original,i=(o.primary,d(o,["primary"])),a=_n(Bg(f(f({},i),{type:"togglebutton",onAction:n})));return ZO(a,r.backstage.shared.providers,[nT(t,e)])}(t,e,o):function(t,e,r){var o=e.original,i=(o.primary,d(o,["primary"])),a=_n(Mg(f(f({},i),{type:"button",onAction:n})));return QO(a,r.backstage.shared.providers,[nT(t,e)])}(t,e,o)},rT=function(t,n){var e=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),r=ng(Jy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:e,selectOnFocus:!0,inputBehaviours:Ku([Xm.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){return Lr(t),!0}))},onLeft:function(t,n){return n.cut(),b.none()},onRight:function(t,n){return n.cut(),b.none()}})])})),o=function(t,n,e){var r=L(n,(function(n){return ng(eT(t,n,e))}));return{asSpecs:function(){return L(r,(function(t){return t.asSpec()}))},findPrimary:function(t){return et(n,(function(n,e){return n.primary?b.from(r[e]).bind((function(n){return n.getOpt(t)})).filter(a(Jh.isDisabled)):b.none()}))}}}(r,t.commands,n);return[{title:b.none(),items:[r.asSpec()]},{title:b.none(),items:o.asSpecs()}]},oT=rT,iT=function(t,n){var e=Aa(window),r=za(le.fromDom(t.getContentAreaContainer())),o=iv(t)||av(t)||cv(t),i=function(t,n){var e=Math.max(n.x,t.x),r=t.right-e,o=n.width-(e-n.x);return{x:e,width:Math.min(r,o)}}(r,e),a=i.x,u=i.width;if(t.inline&&!o)return Da(a,e.y,u,e.height);var c=function(t,n,e,r){var o=le.fromDom(t.getContainer()),i=Fa(o,".tox-editor-header").getOr(o),a=za(i),u=a.y>=n.bottom,c=r&&!u;if(t.inline&&c)return{y:Math.max(a.bottom,e.y),bottom:e.bottom};if(t.inline&&!c)return{y:e.y,bottom:Math.min(a.y,e.bottom)};var s=za(o);return c?{y:Math.max(a.bottom,e.y),bottom:Math.min(s.bottom,e.bottom)}:{y:Math.max(s.y,e.y),bottom:Math.min(a.y,e.bottom)}}(t,r,e,n.header.isPositionedAtTop()),s=c.y,l=c.bottom;return Da(a,s,u,l-s)},aT=function(t,n){var e=V(n,(function(n){return n.predicate(t.dom)})),r=F(e,(function(t){return"contexttoolbar"===t.type}));return{contextToolbars:r.pass,contextForms:r.fail}},uT=function(t,n,e){var r=aT(t,n);if(r.contextForms.length>0)return b.some({elem:t,toolbars:[r.contextForms[0]]});var o=aT(t,e);if(o.contextForms.length>0)return b.some({elem:t,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=function(t){if(t.length<=1)return t;var n=function(n){return B(t,(function(t){return t.position===n}))},e=function(n){return V(t,(function(t){return t.position===n}))},r=n("selection"),o=n("node");if(r||o){if(o&&r){var i=e("node"),a=L(e("selection"),(function(t){return f(f({},t),{position:"node"})}));return i.concat(a)}return e(r?"selection":"node")}return e("line")}(r.contextToolbars.concat(o.contextToolbars));return b.some({elem:t,toolbars:i})}return b.none()},cT=function(t,n,e){return t(n)?b.none():He(n,(function(t){var n=aT(t,e.inNodeScope),r=n.contextToolbars,o=n.contextForms,i=o.length>0?o:function(t){if(t.length<=1)return t;var n=function(n){return W(t,(function(t){return t.position===n}))};return n("selection").orThunk((function(){return n("node")})).orThunk((function(){return n("line")})).map((function(t){return t.position})).fold((function(){return[]}),(function(n){return V(t,(function(t){return t.position===n}))}))}(r);return i.length>0?b.some({elem:t,toolbars:i}):b.none()}),t)},sT=function(t,n){var e={},r=[],o=[],i={},a={},u=function(t,u){var c=_n(Cn("ContextForm",jg,u));e[t]=c,c.launch.map((function(e){i["form:"+t]=f(f({},u.launch),{type:"contextformtogglebutton"===e.type?"togglebutton":"button",onAction:function(){n(c)}})})),"editor"===c.scope?o.push(c):r.push(c),a[t]=c},c=function(t,n){var e;(e=n,Cn("ContextToolbar",Ug,e)).each((function(e){"editor"===n.scope?o.push(e):r.push(e),a[t]=e}))},s=bt(t);return H(s,(function(n){var e=t[n];"contextform"===e.type?u(n,e):"contexttoolbar"===e.type&&c(n,e)})),{forms:e,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},lT=Ko("forward-slide"),fT=Ko("backward-slide"),dT=Ko("change-slide-event"),mT=function(t,n,e){var r=function(t,r,i,a){var u=n.shared.providers.translate(t.title);if("separator"===t.type)return b.some({type:"separator",text:u});if("submenu"===t.type){var c=G(t.getStyleItems(),(function(t){return o(t,r,a)}));return 0===r&&c.length<=0?b.none():b.some({type:"nestedmenuitem",text:u,disabled:c.length<=0,getSubmenuItems:function(){return G(t.getStyleItems(),(function(t){return o(t,r,a)}))}})}return b.some(f({type:"togglemenuitem",text:u,icon:t.icon,active:t.isSelected(a),disabled:i,onAction:e.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},o=function(t,n,o){var i="formatter"===t.type&&e.isInvalid(t);return 0===n?i?[]:r(t,n,!1,o).toArray():r(t,n,i,o).toArray()},i=function(t){var n=e.getCurrentValue(),r=e.shouldHide?0:1;return G(t,(function(t){return o(t,r,n)}))};return{validateItems:i,getFetch:function(t,n){return function(e,r){var o=n(),a=i(o);r(mk(a,qg.CLOSE_ON_EXECUTE,t,!1))}}}},pT=function(t,n,e){var r=e.dataset,o="basic"===r.type?function(){return L(r.data,(function(t){return ZS(t,e.isSelectedFor,e.getPreviewFor)}))}:r.getData;return{items:mT(0,n,e),getStyleItems:o}},gT=function(t,e,r){var o=pT(0,e,r),i=o.items,a=o.getStyleItems;return uk({text:r.icon.isSome()?b.none():b.some(""),icon:r.icon,tooltip:b.from(r.tooltip),role:b.none(),fetch:i.getFetch(e,a),onSetup:function(e){return r.setInitialValue.each((function(t){return t(e.getComponent())})),r.nodeChangeHandler.map((function(n){var r=n(e.getComponent());return t.on("NodeChange",r),function(){t.off("NodeChange",r)}})).getOr(n)},getApi:function(t){return{getComponent:function(){return t}}},columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)};!function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"}(Jk||(Jk={}));var hT,vT,bT,yT=function(t,n,e,r){return{type:"basic",data:function(t){return L(t,(function(t){var n=t,e=t,r=t.split("=");return r.length>1&&(n=r[0],e=r[1]),{title:n,format:e}}))}(function(t,n){return n===Jk.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")}(t.getParam(n,e,"string"),r))}},xT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],wT=function(t){var n=function(n){var e=W(xT,(function(n){return t.formatter.match(n.format)})).fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}));Ir(n,ak,{icon:"align-"+e})},e=b.some((function(t){return function(){return n(t)}})),r=b.some((function(t){return n(t)})),o={type:"basic",data:xT};return{tooltip:"Align",icon:b.some("align-left"),isSelectedFor:function(n){return function(){return t.formatter.match(n)}},getCurrentValue:b.none,getPreviewFor:function(t){return function(){return b.none()}},onAction:function(n){return function(){return W(xT,(function(t){return t.format===n.format})).each((function(n){return t.execCommand(n.command)}))}},setInitialValue:r,nodeChangeHandler:e,dataset:o,shouldHide:!1,isInvalid:function(n){return!t.formatter.canApply(n.format)}}},CT=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],_T=function(t){var n=t.split(/\s*,\s*/);return L(n,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},kT=function(t){var n=function(){var n=function(t){return t?_T(t)[0]:""},e=t.queryCommandValue("FontName"),r=i.data,o=e?e.toLowerCase():"";return{matchOpt:W(r,(function(t){var e=t.format;return e.toLowerCase()===o||n(e).toLowerCase()===n(o).toLowerCase()})).orThunk((function(){return function(t){var n;return 0===t.indexOf("-apple-system")&&(n=_T(t.toLowerCase()),K(CT,(function(t){return n.indexOf(t.toLowerCase())>-1})))}(o)?b.from({title:"System Font",format:o}):b.none()})),font:e}},e=function(t){var e=n(),r=e.matchOpt,o=e.font,i=r.fold((function(){return o}),(function(t){return t.title}));Ir(t,ik,{text:i})},r=b.some((function(t){return function(){return e(t)}})),o=b.some((function(t){return e(t)})),i=yT(t,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Jk.SemiColon);return{tooltip:"Fonts",icon:b.none(),isSelectedFor:function(t){return function(n){return n.exists((function(n){return n.format===t}))}},getCurrentValue:function(){return n().matchOpt},getPreviewFor:function(t){return function(){return b.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},onAction:function(n){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,n.format)}))}},setInitialValue:o,nodeChangeHandler:r,dataset:i,shouldHide:!1,isInvalid:c}},ST={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},AT={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},OT=function(t,n){return/[0-9.]+px$/.test(t)?function(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e}(72*parseInt(t,10)/96,n||0)+"pt":Ot(AT,t).getOr(t)},TT=function(t){var n=function(){var n=b.none(),e=u.data,r=t.queryCommandValue("FontSize");if(r)for(var o=function(t){var o=OT(r,t),i=function(t){return Ot(ST,t).getOr("")}(o);n=W(e,(function(t){return t.format===r||t.format===o||t.format===i}))},i=3;n.isNone()&&i>=0;i--)o(i);return{matchOpt:n,size:r}},e=r(b.none),o=function(t){var e=n(),r=e.matchOpt,o=e.size,i=r.fold((function(){return o}),(function(t){return t.title}));Ir(t,ik,{text:i})},i=b.some((function(t){return function(){return o(t)}})),a=b.some((function(t){return o(t)})),u=yT(t,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",Jk.Space);return{tooltip:"Font sizes",icon:b.none(),isSelectedFor:function(t){return function(n){return n.exists((function(n){return n.format===t}))}},getPreviewFor:e,getCurrentValue:function(){return n().matchOpt},onAction:function(n){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,n.format)}))}},setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:c}},ET=function(t,n){var e=n(),r=L(e,(function(t){return t.format}));return b.from(t.formatter.closest(r)).bind((function(t){return W(e,(function(n){return n.format===t}))})).orThunk((function(){return Hf(t.formatter.match("p"),{title:"Paragraph",format:"p"})}))},DT=function(t){var n=ce(b.none()),e=function(){return n.get().each(t)};return{clear:function(){e(),n.set(b.none())},isSet:function(){return n.get().isSome()},set:function(t){e(),n.set(b.some(t))}}},zT=function(){return DT((function(t){return t.destroy()}))},MT=function(){return DT((function(t){return t.unbind()}))},NT=function(t,n){return function(e){var r=MT(),o=function(){e.setActive(t.formatter.match(n));var o=t.formatter.formatChanged(n,e.setActive);r.set(o)};return t.initialized?o():t.on("init",o),r.clear}},RT=function(t){return function(n){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,n.format)}))}}},BT=function(t){var n=function(n){var e=ET(t,(function(){return o.data})).fold((function(){return"Paragraph"}),(function(t){return t.title}));Ir(n,ik,{text:e})},e=b.some((function(t){return function(){return n(t)}})),r=b.some((function(t){return n(t)})),o=yT(t,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Jk.SemiColon);return{tooltip:"Blocks",icon:b.none(),isSelectedFor:function(n){return function(){return t.formatter.match(n)}},getCurrentValue:b.none,getPreviewFor:function(n){return function(){var e=t.formatter.get(n);return b.some({tag:e.length>0&&(e[0].inline||e[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(n))})}},onAction:RT(t),setInitialValue:r,nodeChangeHandler:e,dataset:o,shouldHide:!1,isInvalid:function(n){return!t.formatter.canApply(n.format)}}},PT=function(t,n){var e=function(n){var e=function(t){var n=t.items;return void 0!==n&&n.length>0?G(n,e):[{title:t.title,format:t.format}]},r=G(QS(t),e),o=ET(t,(function(){return r})).fold((function(){return"Paragraph"}),(function(t){return t.title}));Ir(n,ik,{text:o})},r=b.some((function(t){return function(){return e(t)}})),o=b.some((function(t){return e(t)}));return{tooltip:"Formats",icon:b.none(),isSelectedFor:function(n){return function(){return t.formatter.match(n)}},getCurrentValue:b.none,getPreviewFor:function(n){return function(){var e=t.formatter.get(n);return void 0!==e?b.some({tag:e.length>0&&(e[0].inline||e[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(n))}):b.none()}},onAction:RT(t),setInitialValue:o,nodeChangeHandler:r,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(n){return!t.formatter.canApply(n.format)},dataset:n}},IT=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],LT=function(t,n){return function(e,r,o){var i=t(e).mapError((function(t){return Sn(t)})).getOrDie();return n(i,r,o)}},HT={button:LT(Mg,(function(t,n){return e=t,r=n.backstage.shared.providers,QO(e,r,[]);var e,r})),togglebutton:LT(Bg,(function(t,n){return e=t,r=n.backstage.shared.providers,ZO(e,r,[]);var e,r})),menubutton:LT(NO,(function(t,n){return gk(t,"tox-tbtn",n.backstage,b.none())})),splitbutton:LT((function(t){return Cn("SplitButton",RO,t)}),(function(t,e){return function(t,e){var r,o=Ko("channel-update-split-dropdown-display"),i=function(t){return{isDisabled:function(){return Jh.isDisabled(t)},setDisabled:function(n){return Jh.set(t,n)},setIconFill:function(n,e){Fa(t.element,'svg path[id="'+n+'"], rect[id="'+n+'"]').each((function(t){Io(t,"fill",e)}))},setIconStroke:function(n,e){Fa(t.element,'svg path[id="'+n+'"], rect[id="'+n+'"]').each((function(t){Io(t,"stroke",e)}))},setActive:function(n){Io(t.element,"aria-pressed",n),Fa(t.element,"span").each((function(e){t.getSystem().getByDom(e).each((function(t){return bp.set(t,n)}))}))},isActive:function(){return Fa(t.element,"span").exists((function(n){return t.getSystem().getByDom(n).exists(bp.isOn)}))}}},a=ce(n),u={getApi:i,onSetup:t.onSetup};return UO.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:f({"aria-pressed":!1},qO(t.tooltip,e.providers))},onExecute:function(n){t.onAction(i(n))},onItemExecute:function(t,n,e){},splitDropdownBehaviours:Ku([Dv(e.providers.isDisabled),Ov(),np("split-dropdown-events",[$r(GO,ap.focus),Nv(u,a),Rv(u,a)]),Fx.config({})]),eventOrder:(r={},r[Ar()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:tT(i,t,e.providers),parts:{menu:oh(0,t.columns,t.presets)},components:[UO.parts.button(YO(t.icon,t.text,b.none(),b.some(o),b.some([bp.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),e.providers)),UO.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:rg("chevron-down",e.providers.icons)},buttonBehaviours:Ku([Dv(e.providers.isDisabled),Ov()])}),UO.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})}(t,e.backstage.shared)})),grouptoolbarbutton:LT((function(t){return Cn("GroupToolbarButton",DO,t)}),(function(t,n,e){var r,o=e.ui.registry.getAll().buttons,i=((r={})[Nc]=n.backstage.shared.header.isPositionedAtTop()?$a.TopToBottom:$a.BottomToTop,r);switch(lv(e)){case $g.floating:return function(t,n,e,r){var o=n.shared;return KA.sketch({lazySink:o.getSink,fetch:function(){return ax((function(n){n(L(e(t.items),kO))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:YO(t.icon,t.text,t.tooltip,b.none(),b.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}(t,n.backstage,(function(t){return UT(e,{buttons:o,toolbar:t,allowToolbarGroups:!1},n,b.none())}),i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,n){return function(t,n){var e=f({type:"advanced"},n.styleselect);return gT(t,n,PT(t,e))}(t,n.backstage)},fontsizeSelectButton:function(t,n){return function(t,n){return gT(t,n,TT(t))}(t,n.backstage)},fontSelectButton:function(t,n){return function(t,n){return gT(t,n,kT(t))}(t,n.backstage)},formatButton:function(t,n){return function(t,n){return gT(t,n,BT(t))}(t,n.backstage)},alignMenuButton:function(t,n){return function(t,n){return gT(t,n,wT(t))}(t,n.backstage)}},FT={styleselect:HT.styleSelectButton,fontsizeselect:HT.fontsizeSelectButton,fontselect:HT.fontSelectButton,formatselect:HT.formatButton,align:HT.alignMenuButton},VT=function(t){var n,e=t.toolbar,r=t.buttons;return!1===e?[]:void 0===e||!0===e?function(t){var n=L(IT,(function(n){var e=V(n.items,(function(n){return Tt(t,n)||Tt(FT,n)}));return{name:n.name,items:e}}));return V(n,(function(t){return t.items.length>0}))}(r):w(e)?(n=e.split("|"),L(n,(function(t){return{items:t.trim().split(" ")}}))):function(t){return E(t,(function(t){return Tt(t,"name")&&Tt(t,"items")}))}(e)?e:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},jT=function(t,n,e,r,o,i){return Ot(n,e.toLowerCase()).orThunk((function(){return i.bind((function(t){return et(t,(function(t){return Ot(n,t+e.toLowerCase())}))}))})).fold((function(){return Ot(FT,e.toLowerCase()).map((function(n){return n(t,o)})).orThunk((function(){return b.none()}))}),(function(n){return"grouptoolbarbutton"!==n.type||r?function(t,n,e){return Ot(HT,t.type).fold((function(){return console.error("skipping button defined by",t),b.none()}),(function(r){return b.some(r(t,n,e))}))}(n,o,t):(console.warn("Ignoring the '"+e+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),b.none())}))},UT=function(t,n,e,r){var o=VT(n),i=L(o,(function(o){var i=G(o.items,(function(o){return 0===o.trim().length?[]:jT(t,n.buttons,o,n.allowToolbarGroups,e,r).toArray()}));return{title:b.from(t.translate(o.name)),items:i}}));return V(i,(function(t){return t.items.length>0}))},WT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},$T={maxHeightFunction:kc(),maxWidthFunction:DA()},qT={onLtr:function(){return[Mu,Nu,Du,Tu,zu,Eu,Jp,Qp,Xp,Gp,Yp,Kp]},onRtl:function(){return[Mu,Nu,zu,Eu,Du,Tu,Jp,Qp,Yp,Kp,Xp,Gp]}},GT={onLtr:function(){return[Nu,Tu,Eu,Du,zu,Mu,Jp,Qp,Xp,Gp,Yp,Kp]},onRtl:function(){return[Nu,Eu,Tu,zu,Du,Mu,Jp,Qp,Yp,Kp,Xp,Gp]}},KT=function(t,e,r,o){var i,a,u=Me().deviceType.isTouch,c=aa((i={sink:r,onEscape:function(){return t.focus(),b.some(!0)}},a=ce([]),Vp.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){a.set([]),Vp.getContent(t).each((function(t){qi(t.element,"visibility")})),Ti(t.element,"tox-pop--resizing"),qi(t.element,"width")},inlineBehaviours:Ku([np("context-toolbar-events",[Qr(ur(),(function(t,n){Ti(t.element,"tox-pop--resizing"),qi(t.element,"width")})),$r(dT,(function(t,n){var e=t.element;qi(e,"width");var r=ba(e);Vp.setContent(t,n.event.contents),Ai(e,"tox-pop--resizing");var o=ba(e);Li(e,"width",r+"px"),Vp.getContent(t).each((function(t){n.event.focus.bind((function(t){return ec(t),oc(e)})).orThunk((function(){return Xm.focusIn(t),rc(wo(e))}))})),Zp.setTimeout((function(){Li(t.element,"width",o+"px")}),0)})),$r(lT,(function(t,n){Vp.getContent(t).each((function(n){a.set(a.get().concat([{bar:n,focus:rc(wo(t.element))}]))})),Ir(t,dT,{contents:n.event.forwardContents,focus:b.none()})})),$r(fT,(function(t,n){tt(a.get()).each((function(n){a.set(a.get().slice(0,a.get().length-1)),Ir(t,dT,{contents:ua(n.bar),focus:n.focus})}))}))]),Xm.config({mode:"special",onEscape:function(t){return tt(a.get()).fold((function(){return i.onEscape()}),(function(n){return Pr(t,fT),b.some(!0)}))}})]),lazySink:function(){return it.value(i.sink)}}))),s=function(){return iT(t,o.backstage.shared)},l=function(){if(u()&&o.backstage.isContextMenuOpen())return!0;var n,e,r,i,a,c,l=(n=h.get().filter((function(t){return Ni(le.fromDom(t))})).map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()})),e=t.inline?_a().top:Ma(le.fromDom(t.getBody())).y,{y:n.top+e,bottom:n.bottom+e}),f=s();return r=l.y,i=l.bottom,a=f.y,c=f.bottom,!(Math.max(r,a)<=Math.min(i,c))},d=function(){g.set(b.none()),Vp.hide(c)},m=function(){Vp.hide(c)},p=function(){g.get().each((function(t){var n=c.element;qi(n,"display"),l()?Li(n,"display","none"):Ws.positionWithinBounds(r,t,c,b.some(s()))}))},g=ce(b.none()),h=ce(b.none()),v=ce(null),y=function(n){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[n],behaviours:Ku([Xm.config({mode:"acyclic"}),np("pop-dialog-wrap-events",[Zr((function(n){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Xm.focusIn(n)}))})),to((function(n){t.shortcuts.remove("ctrl+F9")}))])])}},x=Bt((function(){return sT(e,(function(t){var n=w([t]);Ir(c,lT,{forwardContents:y(n)})}))})),w=function(n){var e=t.ui.registry.getAll().buttons,r=x(),i=f(f({},e),r.formNavigators),a=lv(t)===$g.scrolling?$g.scrolling:$g.default,u=q(L(n,(function(n){return"contexttoolbar"===n.type?function(n,e){return UT(t,{buttons:n,toolbar:e.items,allowToolbarGroups:!1},o,b.some(["form:"]))}(i,n):function(t,n){return oT(t,n)}(n,o.backstage.shared.providers)})));return EO({type:a,uid:Ko("context-toolbar"),initGroups:u,onEscape:b.none,cyclicKeying:!0,providers:o.backstage.shared.providers})};t.on("contexttoolbar-show",(function(n){var e=x();Ot(e.lookupTable,n.toolbarKey).each((function(e){_([e],n.target===t?b.none():b.some(n)),Vp.getContent(c).each(Xm.focusIn)}))}));var C=function(t,n){var e="node"===t?o.backstage.shared.anchors.node(n):o.backstage.shared.anchors.cursor();return Nt(e,function(t,n){return"line"===t?{bubble:Tc(12,0,WT),layouts:{onLtr:function(){return[Ru]},onRtl:function(){return[Bu]}},overrides:$T}:{bubble:Tc(0,12,WT),layouts:n?GT:qT,overrides:$T}}(t,u()))},_=function(t,n){if(S(),!u()||!o.backstage.isContextMenuOpen()){var e=w(t),r=n.map(le.fromDom),i=C(t[0].position,r);g.set(b.some(i)),h.set(n);var a=c.element;qi(a,"display"),Vp.showWithinBounds(c,i,y(e),(function(){return b.some(s())})),l()&&Li(a,"display","none")}},k=function(){t.hasFocus()&&function(t,n){var e=le.fromDom(n.getBody()),r=function(t){return Be(t,e)},o=le.fromDom(n.selection.getNode());return function(t){return!r(t)&&!Ie(e,t)}(o)?b.none():uT(o,t.inNodeScope,t.inEditorScope).orThunk((function(){return cT(r,o,t)}))}(x(),t).fold(d,(function(t){_(t.toolbars,b.some(t.elem.dom))}))},S=function(){var t=v.get();null!==t&&(Zp.clearTimeout(t),v.set(null))},A=function(){S(),v.set(Zp.setEditorTimeout(t,k,0))};t.on("init",(function(){t.on("contexttoolbar-hide",m),t.on("ScrollContent ScrollWindow longpress",p),t.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){A()})),t.on("focusout",(function(n){Zp.setEditorTimeout(t,(function(){oc(r.element).isNone()&&oc(c.element).isNone()&&d()}),0)})),t.on("SwitchMode",(function(){t.mode.isReadOnly()&&d()})),t.on("AfterProgressState",(function(n){n.state?d():t.hasFocus()&&A()})),t.on("NodeChange",(function(t){oc(c.element).fold(A,n)}))}))},XT=Df,YT=mf,JT=r([Qn("shell",!1),In("makeItem"),Qn("setupItem",n),Pl("listBehaviours",[tp])]),QT=lf({name:"items",overrides:function(){return{behaviours:Ku([tp.config({})])}}}),ZT=r([QT]),tE=r("CustomList"),nE=If({name:tE(),configFields:JT(),partFields:ZT(),factory:function(t,n,e,r){var o=t.shell?{behaviours:[tp.config({})],components:[]}:{behaviours:[],components:n},i=function(n){return t.shell?b.some(n):Cf(n,t,"items")};return{uid:t.uid,dom:t.dom,components:o.components,behaviours:Bl(t.listBehaviours,o.behaviours),apis:{setItems:function(n,e){i(n).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=tp.contents(r),i=e.length,a=i-o.length,u=a>0?P(a,(function(){return t.makeItem()})):[],c=o.slice(i);H(c,(function(t){return tp.remove(r,t)})),H(u,(function(t){return tp.append(r,t)}));var s=tp.contents(r);H(s,(function(r,o){t.setupItem(n,r,e[o],o)}))}))}}}},apis:{setItems:function(t,n,e){t.setItems(n,e)}}}),eE=n,rE=c,oE=r([]),iE=Object.freeze({__proto__:null,setup:eE,isDocked:rE,getBehaviours:oE}),aE=function(t){return(Ui(t,"position").is("fixed")?b.none():go(t)).orThunk((function(){var n=le.fromTag("span");return po(t).bind((function(t){Eo(t,n);var e=go(n);return Mo(n),e}))}))},uE=function(t){return aE(t).map(ga).getOrThunk((function(){return ma(0,0)}))},cE=Dt([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),sE=function(t,n){var e=t.element;Ai(e,n.transitionClass),Ti(e,n.fadeOutClass),Ai(e,n.fadeInClass),n.onShow(t)},lE=function(t,n){var e=t.element;Ai(e,n.transitionClass),Ti(e,n.fadeInClass),Ai(e,n.fadeOutClass),n.onHide(t)},fE=function(t,n,e){return K(t,(function(t){switch(t){case"bottom":return function(t,n){return t.bottom<=n.bottom}(n,e);case"top":return function(t,n){return t.y>=n.y}(n,e)}}))},dE=function(t,n){return n.getInitialPosition().map((function(n){return Da(n.bounds.x,n.bounds.y,ba(t),la(t))}))},mE=function(t,n,e){return e.getInitialPosition().bind((function(r){switch(e.setInitialPosition(b.none()),r.position){case"static":return b.some(cE.static());case"absolute":var o=aE(t).map(za).getOrThunk((function(){return za(Ri())}));return b.some(cE.absolute(ac("absolute",Ot(r.style,"left").map((function(t){return n.x-o.x})),Ot(r.style,"top").map((function(t){return n.y-o.y})),Ot(r.style,"right").map((function(t){return o.right-n.right})),Ot(r.style,"bottom").map((function(t){return o.bottom-n.bottom})))));default:return b.none()}}))},pE=function(t,n,e){var r=za(t);if(fE(e.getModes(),r,n))return b.none();!function(t,n,e){e.setInitialPosition(b.some({style:Wi(t),position:Vi(t,"position")||"static",bounds:n}))}(t,r,e);var o=Na(),i=r.x-o.x,a=n.y-o.y,u=o.bottom-n.bottom,c=r.y<=n.y;return b.some(cE.fixed(ac("fixed",b.some(i),c?b.some(a):b.none(),b.none(),c?b.none():b.some(u))))},gE=function(t,n,e){var r=t.element;return Ui(r,"position").is("fixed")?function(t,n,e){return dE(t,e).filter((function(t){return fE(e.getModes(),t,n)})).bind((function(n){return mE(t,n,e)}))}(r,n,e):pE(r,n,e)},hE=function(t,n){H(["left","right","top","bottom","position"],(function(n){return qi(t.element,n)})),n.onUndocked(t)},vE=function(t,n,e){uc(t.element,e),("fixed"===e.position?n.onDocked:n.onUndocked)(t)},bE=function(t,n,e,r,o){void 0===o&&(o=!1),n.contextual.each((function(n){n.lazyContext(t).each((function(i){var a=function(t,n){return t.y<n.bottom&&t.bottom>n.y}(i,r);a!==e.isVisible()&&(e.setVisible(a),o&&!a?(Di(t.element,[n.fadeOutClass]),n.onHide(t)):(a?sE:lE)(t,n))}))}))},yE=function(t,e,r){var o=t.element;r.setDocked(!1),function(t,n){var e=t.element;return dE(e,n).bind((function(t){return mE(e,t,n)}))}(t,r).each((function(r){r.fold((function(){return hE(t,e)}),(function(n){return vE(t,e,n)}),n)})),r.setVisible(!0),e.contextual.each((function(n){zi(o,[n.fadeInClass,n.fadeOutClass,n.transitionClass]),n.onShow(t)})),xE(t,e,r)},xE=function(t,n,e){t.getSystem().isConnected()&&function(t,n,e){var r=n.lazyViewport(t),o=e.isDocked();o&&bE(t,n,e,r),gE(t,r,e).each((function(i){e.setDocked(!o),i.fold((function(){return hE(t,n)}),(function(e){return vE(t,n,e)}),(function(o){bE(t,n,e,r,!0),vE(t,n,o)}))}))}(t,n,e)},wE=function(t,n,e){e.isDocked()&&yE(t,n,e)},CE=Object.freeze({__proto__:null,refresh:xE,reset:wE,isDocked:function(t,n,e){return e.isDocked()},getModes:function(t,n,e){return e.getModes()},setModes:function(t,n,e,r){return e.setModes(r)}}),_E=Object.freeze({__proto__:null,events:function(t,n){return jr([Qr(ur(),(function(e,r){t.contextual.each((function(t){Ei(e.element,t.transitionClass)&&(zi(e.element,[t.transitionClass,t.fadeInClass]),(n.isVisible()?t.onShown:t.onHidden)(e));r.stop()}))})),$r(kr(),(function(e,r){xE(e,t,n)})),$r(Sr(),(function(e,r){wE(e,t,n)}))])}}),kE=[Jn("contextual",[Fn("fadeInClass"),Fn("fadeOutClass"),Fn("transitionClass"),jn("lazyContext"),ou("onShow"),ou("onShown"),ou("onHide"),ou("onHidden")]),oe("lazyViewport",Na),ie("modes",["top","bottom"],zn),ou("onDocked"),ou("onUndocked")],SE=Object.freeze({__proto__:null,init:function(t){var n=ce(!1),e=ce(!0),r=ce(b.none()),o=ce(t.modes);return fi({isDocked:n.get,setDocked:n.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:e.get,setVisible:e.set,getModes:o.get,setModes:o.set,readState:function(){return"docked:  "+n.get()+", visible: "+e.get()+", modes: "+o.get().join(",")}})}}),AE=Yu({fields:kE,name:"docking",active:_E,apis:CE,state:SE}),OE={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},TE=function(t){var n=t.element;po(n).each((function(e){var r="padding-"+AE.getModes(t)[0];if(AE.isDocked(t)){var o=ba(e);Li(n,"width",o+"px"),Li(e,r,function(t){return fa(t)+(parseInt(Vi(t,"margin-top"),10)||0)+(parseInt(Vi(t,"margin-bottom"),10)||0)}(n)+"px")}else qi(n,"width"),qi(e,r)}))},EE=function(t,n){n?(Ti(t,OE.fadeOutClass),Di(t,[OE.transitionClass,OE.fadeInClass])):(Ti(t,OE.fadeInClass),Di(t,[OE.fadeOutClass,OE.transitionClass]))},DE=function(t,n){var e=le.fromDom(t.getContainer());n?(Ai(e,"tox-tinymce--toolbar-sticky-on"),Ti(e,"tox-tinymce--toolbar-sticky-off")):(Ai(e,"tox-tinymce--toolbar-sticky-off"),Ti(e,"tox-tinymce--toolbar-sticky-on"))},zE=function(t,n){var e=ce(b.none()),r=n.getSink,o=function(t){r().each((function(n){return t(n.element)}))},i=function(n){t.inline||TE(n),DE(t,AE.isDocked(n)),n.getSystem().broadcastOn([pl()],{}),r().each((function(t){return t.getSystem().broadcastOn([pl()],{})}))},a=t.inline?[]:function(){var t;return[tc.config({channels:(t={},t[CO()]={onReceive:TE},t)})]}();return m([ap.config({}),AE.config({contextual:f({lazyContext:function(n){var e,r,o=fa(n.element),i=t.inline?t.getContentAreaContainer():t.getContainer(),a=za(le.fromDom(i)),u=a.height-o,c=a.y+(e=n,r="top",R(AE.getModes(e),r)?0:o);return b.some(Da(a.x,c,a.width,u))},onShow:function(){o((function(t){return EE(t,!0)}))},onShown:function(t){o((function(t){return zi(t,[OE.transitionClass,OE.fadeInClass])})),e.get().each((function(n){var r,o,i;r=t.element,i=so(o=n),rc(i).filter((function(t){return!Be(o,t)})).filter((function(t){return Be(t,le.fromDom(i.dom.body))||Ie(r,t)})).each((function(){return ec(o)})),e.set(b.none())}))},onHide:function(t){e.set(function(t,n){return oc(t).orThunk((function(){return n().toOptional().bind((function(t){return oc(t.element)}))}))}(t.element,r)),o((function(t){return EE(t,!1)}))},onHidden:function(){o((function(t){return zi(t,[OE.transitionClass])}))}},OE),modes:[n.header.getDockingMode()],onDocked:i,onUndocked:i})],a)},ME=Object.freeze({__proto__:null,setup:function(t,n,e){t.inline||(n.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){e().each(AE.reset)})),t.on("ResizeWindow ResizeEditor",(function(){e().each(TE)})),t.on("SkinLoaded",(function(){e().each((function(t){AE.isDocked(t)?AE.reset(t):AE.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){e().each(AE.reset)}))),t.on("AfterScrollIntoView",(function(t){e().each((function(n){AE.refresh(n);var e=n.element;Ud(e)&&function(t,n){var e=so(n),r=e.dom.defaultView.innerHeight,o=_a(e),i=le.fromDom(t.elm),a=Ma(i),u=la(i),c=a.y,s=c+u,l=ga(n),f=la(n),d=l.top,m=d+f,p=Math.abs(d-o.top)<2,g=Math.abs(m-(o.top+r))<2;if(p&&c<m)ka(o.left,c-f,e);else if(g&&s>d){var h=c-r+u+f;ka(o.left,h,e)}}(t,e)}))})),t.on("PostRender",(function(){DE(t,!1)}))},isDocked:function(t){return t().map(AE.isDocked).getOr(!1)},getBehaviours:zE}),NE=Pf({factory:function(t,n){var e={focus:Xm.focusIn,setMenus:function(t,e){var r=L(e,(function(t){var e={type:"menubutton",text:t.text,fetch:function(n){n(t.getItems())}},r=NO(e).mapError((function(t){return Sn(t)})).getOrDie();return gk(r,"tox-mbtn",n.backstage,b.some("menuitem"))}));tp.set(t,r)}};return{uid:t.uid,dom:t.dom,components:[],behaviours:Ku([tp.config({}),np("menubar-events",[Zr((function(n){t.onSetup(n)})),$r(Ze(),(function(t,n){Fa(t.element,".tox-mbtn--active").each((function(e){Va(n.event.target,".tox-mbtn").each((function(n){Be(e,n)||t.getSystem().getByDom(e).each((function(e){t.getSystem().getByDom(n).each((function(t){Lx.expand(t),Lx.close(e),ap.focus(t)}))}))}))}))})),$r(Dr(),(function(t,n){n.event.prevFocus.bind((function(n){return t.getSystem().getByDom(n).toOptional()})).each((function(e){n.event.newFocus.bind((function(n){return t.getSystem().getByDom(n).toOptional()})).each((function(t){Lx.isOpen(e)&&(Lx.expand(t),Lx.close(e))}))}))}))]),Xm.config({mode:"flow",selector:".tox-mbtn",onEscape:function(n){return t.onEscape(n),b.some(!0)}}),zy.config({})]),apis:e,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[In("dom"),In("uid"),In("onEscape"),In("backstage"),Qn("onSetup",n)],apis:{focus:function(t,n){t.focus(n)},setMenus:function(t,n,e){t.setMenus(n,e)}}}),RE=[Nl("slotBehaviours",[])],BE=function(t){return"<alloy.field."+t+">"},PE=function(t,n){var e,r=function(n){return Af(t)},o=function(n,e){return function(r,o){return Cf(r,t,o).map((function(t){return n(t,o)})).getOr(e)}},i=function(t,n){return"true"!==Lo(t.element,"aria-hidden")},a=o(i,!1),u=o((function(t,n){if(i(t)){var e=t.element;Li(e,"display","none"),Io(e,"aria-hidden","true"),Ir(t,zr(),{name:n,visible:!1})}})),c=(e=u,function(t,n){H(n,(function(n){return e(t,n)}))}),s=o((function(t,n){if(!i(t)){var e=t.element;qi(e,"display"),Vo(e,"aria-hidden"),Ir(t,zr(),{name:n,visible:!0})}})),l={getSlotNames:r,getSlot:function(n,e){return Cf(n,t,e)},isShowing:a,hideSlot:u,hideAllSlots:function(t){return c(t,r())},showSlot:s};return{uid:t.uid,dom:t.dom,components:n,behaviours:Rl(t.slotBehaviours),apis:l}},IE=wt({getSlotNames:function(t,n){return t.getSlotNames(n)},getSlot:function(t,n,e){return t.getSlot(n,e)},isShowing:function(t,n,e){return t.isShowing(n,e)},hideSlot:function(t,n,e){return t.hideSlot(n,e)},hideAllSlots:function(t,n){return t.hideAllSlots(n)},showSlot:function(t,n,e){return t.showSlot(n,e)}},(function(t){return si(t)})),LE=f(f({},IE),{sketch:function(t){var n=function(){var t=[];return{slot:function(n,e){return t.push(n),vf("container",BE(n),e)},record:function(){return t}}}(),e=t(n),r=n.record(),o=L(r,(function(t){return cf({name:t,pname:BE(t)})}));return Mf("container",RE,o,PE,e)}}),HE=un([Xn("icon"),Xn("tooltip"),oe("onShow",n),oe("onHide",n),oe("onSetup",(function(){return n}))]),FE=function(t){return{element:function(){return t.element.dom}}},VE=function(t,e){var r=L(bt(e),(function(t){var n=e[t],r=_n(function(t){return Cn("sidebar",HE,t)}(n));return{name:t,getApi:FE,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return L(r,(function(e){var o=ce(n);return t.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Oh([Nv(e,o),Rv(e,o),$r(zr(),(function(t,n){var e=n.event;W(r,(function(t){return t.name===e.name})).each((function(n){(e.visible?n.onShow:n.onHide)(n.getApi(t))}))}))])})}))},jE=function(t){return LE.sketch((function(n){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:VE(n,t),slotBehaviours:Oh([Zr((function(t){return LE.hideAllSlots(t)}))])}}))},UE=function(t){return Uf.getCurrent(t).bind((function(t){return hO.isGrowing(t)||hO.hasGrown(t)?Uf.getCurrent(t).bind((function(t){return W(LE.getSlotNames(t),(function(n){return LE.isShowing(t,n)}))})):b.none()}))},WE=Ko("FixSizeEvent"),$E=Ko("AutoSizeEvent"),qE=function(t){var n=le.fromHtml(t),e=ho(n),r=function(t){var n=void 0!==t.dom.attributes?t.dom.attributes:[];return U(n,(function(t,n){var e;return"class"===n.name?t:f(f({},t),((e={})[n.name]=n.value,e))}),{})}(n),o=function(t){return Array.prototype.slice.call(t.dom.classList,0)}(n),i=0===e.length?{}:{innerHtml:Ro(n)};return f({tag:ro(n),classes:o,attributes:r},i)},GE=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:qE('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Ku([Xm.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),ap.config({})])}},KE=function(t,n,e){var r=ce(!1),o=ce(b.none()),i=function(o){o!==r.get()&&(!function(t,n,e){var r=t.element;!0===n?(tp.set(t,[GE(e)]),qi(r,"display"),Vo(r,"aria-hidden")):(tp.set(t,[]),Li(r,"display","none"),Io(r,"aria-hidden","true"))}(n(),o,e.providers),r.set(o),t.fire("AfterProgressState",{state:o}))};t.on("ProgressState",(function(n){if(o.get().each(Zp.clearTimeout),T(n.time)){var e=Zp.setEditorTimeout(t,(function(){return i(n.state)}),n.time);o.set(b.some(e))}else i(n.state),o.set(b.none())}))},XE=YT.optional({factory:NE,name:"menubar",schema:[In("backstage")]}),YE=YT.optional({factory:{sketch:function(t){return nE.sketch({uid:t.uid,dom:t.dom,listBehaviours:Ku([Xm.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return EO({type:t.type,uid:Ko("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),b.some(!0)}})},setupItem:function(t,n,e,r){NA.setGroups(n,e)},shell:!0})}},name:"multiple-toolbar",schema:[In("dom"),In("onEscape")]}),JE=YT.optional({factory:{sketch:function(t){return function(t){return t.type===$g.sliding?TO:t.type===$g.floating?OO:EO}(t)({type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),b.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes})}},name:"toolbar",schema:[In("dom"),In("onEscape"),In("getSink")]}),QE=YT.optional({factory:{sketch:function(t){var n=t.editor,e=t.sticky?zE:oE;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Ku(e(n,t.sharedBackstage))}}},name:"header",schema:[In("dom")]}),ZE=YT.optional({name:"socket",schema:[In("dom")]}),tD=YT.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ku([zy.config({}),ap.config({}),hO.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){Uf.getCurrent(t).each(LE.hideAllSlots),Pr(t,$E)},onGrown:function(t){Pr(t,$E)},onStartGrow:function(t){Ir(t,WE,{width:Ui(t.element,"width").getOr("")})},onStartShrink:function(t){Ir(t,WE,{width:ba(t.element)+"px"})}}),tp.config({}),Uf.config({find:function(t){var n=tp.contents(t);return Z(n)}})])}],behaviours:Ku([WC(0),np("sidebar-sliding-events",[$r(WE,(function(t,n){Li(t.element,"width",n.event.width)})),$r($E,(function(t,n){qi(t.element,"width")}))])])}}},name:"sidebar",schema:[In("dom")]}),nD=YT.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ku([tp.config({})]),components:[]}}},name:"throbber",schema:[In("dom")]}),eD=If({name:"OuterContainer",factory:function(t,n,e){var r={getSocket:function(n){return XT.getPart(n,t,"socket")},setSidebar:function(n,e){XT.getPart(n,t,"sidebar").each((function(t){return function(t,n){Uf.getCurrent(t).each((function(t){return tp.set(t,[jE(n)])}))}(t,e)}))},toggleSidebar:function(n,e){XT.getPart(n,t,"sidebar").each((function(t){return function(t,n){Uf.getCurrent(t).each((function(t){Uf.getCurrent(t).each((function(e){hO.hasGrown(t)?LE.isShowing(e,n)?hO.shrink(t):(LE.hideAllSlots(e),LE.showSlot(e,n)):(LE.hideAllSlots(e),LE.showSlot(e,n),hO.grow(t))}))}))}(t,e)}))},whichSidebar:function(n){return XT.getPart(n,t,"sidebar").bind(UE).getOrNull()},getHeader:function(n){return XT.getPart(n,t,"header")},getToolbar:function(n){return XT.getPart(n,t,"toolbar")},setToolbar:function(n,e){XT.getPart(n,t,"toolbar").each((function(t){t.getApis().setGroups(t,e)}))},setToolbars:function(n,e){XT.getPart(n,t,"multiple-toolbar").each((function(t){nE.setItems(t,e)}))},refreshToolbar:function(n){XT.getPart(n,t,"toolbar").each((function(t){return t.getApis().refresh(t)}))},toggleToolbarDrawer:function(n){XT.getPart(n,t,"toolbar").each((function(t){var n,e;n=t.getApis().toggle,e=function(n){return n(t)},null!=n?b.some(e(n)):b.none()}))},isToolbarDrawerToggled:function(n){return XT.getPart(n,t,"toolbar").bind((function(t){return b.from(t.getApis().isOpen).map((function(n){return n(t)}))})).getOr(!1)},getThrobber:function(n){return XT.getPart(n,t,"throbber")},focusToolbar:function(n){XT.getPart(n,t,"toolbar").orThunk((function(){return XT.getPart(n,t,"multiple-toolbar")})).each((function(t){Xm.focusIn(t)}))},setMenubar:function(n,e){XT.getPart(n,t,"menubar").each((function(t){NE.setMenus(t,e)}))},focusMenubar:function(n){XT.getPart(n,t,"menubar").each((function(t){NE.focus(t)}))}};return{uid:t.uid,dom:t.dom,components:n,apis:r,behaviours:t.behaviours}},configFields:[In("dom"),In("behaviours")],partFields:[QE,XE,JE,YE,ZE,tD,nD],apis:{getSocket:function(t,n){return t.getSocket(n)},setSidebar:function(t,n,e){t.setSidebar(n,e)},toggleSidebar:function(t,n,e){t.toggleSidebar(n,e)},whichSidebar:function(t,n){return t.whichSidebar(n)},getHeader:function(t,n){return t.getHeader(n)},getToolbar:function(t,n){return t.getToolbar(n)},setToolbar:function(t,n,e){var r=L(e,(function(t){return kO(t)}));t.setToolbar(n,r)},setToolbars:function(t,n,e){var r=L(e,(function(t){return L(t,kO)}));t.setToolbars(n,r)},refreshToolbar:function(t,n){return t.refreshToolbar(n)},toggleToolbarDrawer:function(t,n){t.toggleToolbarDrawer(n)},isToolbarDrawerToggled:function(t,n){return t.isToolbarDrawerToggled(n)},getThrobber:function(t,n){return t.getThrobber(n)},setMenubar:function(t,n,e){t.setMenubar(n,e)},focusMenubar:function(t,n){t.focusMenubar(n)},focusToolbar:function(t,n){t.focusToolbar(n)}}}),rD={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},oD=function(t){return"string"==typeof t?t.split(" "):t},iD=function(t,n){var e=f(f({},rD),n.menus),r=bt(n.menus).length>0,o=void 0===n.menubar||!0===n.menubar?oD("file edit view insert format tools table help"):oD(!1===n.menubar?"":n.menubar),i=V(o,(function(t){return r&&n.menus.hasOwnProperty(t)&&n.menus[t].hasOwnProperty("items")||rD.hasOwnProperty(t)})),a=L(i,(function(r){var o=e[r];return function(t,n,e){var r=function(t){return t.getParam("removed_menuitems","")}(e).split(/[ ,]/);return{text:t.title,getItems:function(){return G(t.items,(function(t){var e=t.toLowerCase();return 0===e.trim().length||B(r,(function(t){return t===e}))?[]:"separator"===e||"|"===e?[{type:"separator"}]:n.menuItems[e]?[n.menuItems[e]]:[]}))}}}({title:o.title,items:oD(o.items)},n,t)}));return V(a,(function(t){return t.getItems().length>0&&B(t.getItems(),(function(t){return"separator"!==t.type}))}))},aD=function(t){var n=function(){t._skinLoaded=!0,function(t){t.fire("SkinLoaded")}(t)};return function(){t.initialized?n():t.on("init",n)}},uD=function(t,n,e){return new xg((function(r,o){e.load(n,r,o),t.on("remove",(function(){return e.unload(n)}))}))},cD=function(t,n){return uD(t,n+"/skin.min.css",t.ui.styleSheetLoader)},sD=function(t,n){var e;return(e=le.fromDom(t.getElement()),_o(e).isSome())?uD(t,n+"/skin.shadowdom.min.css",Ph.DOM.styleSheetLoader):xg.resolve()},lD=function(t,n){var e=function(t){var n=t.getParam("skin"),e=t.getParam("skin_url");if(!1!==n){var r=n||"oxide";e=e?t.documentBaseURI.toAbsolute(e):Qh.baseURL+"/skins/ui/"+r}return e}(n);e&&n.contentCSS.push(e+(t?"/content.inline":"/content")+".min.css"),!1===function(t){return!1===t.getParam("skin")}(n)&&w(e)?xg.all([cD(n,e),sD(n,e)]).then(aD(n),function(t,n){return function(){return function(t,n){return t.fire("SkinLoadError",n)}(t,{message:n})}}(n,"Skin could not be loaded")):aD(n)()},fD=i(lD,!1),dD=i(lD,!0),mD=function(t,n,e,r){var o=n.outerContainer,i=e.toolbar,a=e.buttons;if(E(i,w)){var u=i.map((function(n){var o={toolbar:n,buttons:a,allowToolbarGroups:e.allowToolbarGroups};return UT(t,o,{backstage:r},b.none())}));eD.setToolbars(o,u)}else eD.setToolbar(o,UT(t,e,{backstage:r},b.none()))},pD=Me(),gD=pD.os.isiOS()&&pD.os.version.major<=12,hD=Object.freeze({__proto__:null,render:function(t,n,e,r,o){var i=ce(0),a=n.outerContainer;fD(t);var u=le.fromDom(o.targetNode),c=Co(wo(u));!function(t,n){nl(t,n,Oo)}(u,n.mothership),tl(c,n.uiMothership),t.on("PostRender",(function(){mD(t,n,e,r),i.set(t.getWin().innerWidth),eD.setMenubar(a,iD(t,e)),eD.setSidebar(a,e.sidebar),function(t,n){var e=t.dom,r=t.getWin(),o=t.getDoc().documentElement,i=ce(ma(r.innerWidth,r.innerHeight)),a=ce(ma(o.offsetWidth,o.offsetHeight)),u=function(){var n=i.get();n.left===r.innerWidth&&n.top===r.innerHeight||(i.set(ma(r.innerWidth,r.innerHeight)),wb(t))},c=function(){var n=t.getDoc().documentElement,e=a.get();e.left===n.offsetWidth&&e.top===n.offsetHeight||(a.set(ma(n.offsetWidth,n.offsetHeight)),wb(t))},s=function(n){return function(t,n){return t.fire("ScrollContent",n)}(t,n)};e.bind(r,"resize",u),e.bind(r,"scroll",s);var l=uy(le.fromDom(t.getBody()),"load",c),f=n.uiMothership.element;t.on("hide",(function(){Li(f,"display","none")})),t.on("show",(function(){qi(f,"display")})),t.on("NodeChange",c),t.on("remove",(function(){l.unbind(),e.unbind(r,"resize",u),e.unbind(r,"scroll",s),r=null}))}(t,n)}));var s,l,f,d=eD.getSocket(a).getOrDie("Could not find expected socket element");if(gD){Hi(d.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var m=(s=function(){t.fire("ScrollContent")},l=20,f=null,{cancel:function(){null!==f&&(clearTimeout(f),f=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===f&&(f=setTimeout((function(){s.apply(null,t),f=null}),l))}}),p=ay(d.element,"scroll",m.throttle);t.on("remove",p.unbind)}Av(t,n),t.addCommand("ToggleSidebar",(function(n,e){eD.toggleSidebar(a,e),t.fire("ToggleSidebar")})),t.addQueryValueHandler("ToggleSidebar",(function(){return eD.whichSidebar(a)}));var g=lv(t);g!==$g.sliding&&g!==$g.floating||t.on("ResizeWindow ResizeEditor ResizeContent",(function(){var e=t.getWin().innerWidth;e!==i.get()&&(eD.refreshToolbar(n.outerContainer),i.set(e))}));var h={enable:function(){Sv(n,!1)},disable:function(){Sv(n,!0)},isDisabled:function(){return Jh.isDisabled(a)}};return{iframeContainer:d.element.dom,editorContainer:a.element.dom,api:h}}}),vD=function(t){return/^[0-9\.]+(|px)$/i.test(""+t)?b.some(parseInt(""+t,10)):b.none()},bD=function(t){return T(t)?t+"px":t},yD=function(t,n,e){var r=n.filter((function(n){return t<n})),o=e.filter((function(n){return t>n}));return r.or(o).getOr(t)},xD=function(t){return function(t){var n=Zh(t),e=ev(t),r=ov(t);return vD(n).map((function(t){return yD(t,e,r)}))}(t).getOr(Zh(t))},wD=function(t){var n=tv(t),e=nv(t),r=rv(t);return vD(n).map((function(t){return yD(t,e,r)}))},CD=function(t,n,e,r,o){var i=e.uiMothership,a=e.outerContainer,u=Ph.DOM,c=hv(t),s=yv(t),l=rv(t).or(wD(t)),f=r.shared.header,d=f.isPositionedAtTop,m=lv(t),p=m===$g.sliding||m===$g.floating,g=ce(!1),h=function(){return g.get()&&!t.removed},v=function(t){return p?t.fold((function(){return 0}),(function(t){return t.components().length>1?la(t.components()[1].element):0})):0},b=function(){i.broadcastOn([pl()],{})},y=function(t){if(void 0===t&&(t=!1),h()){var e;if(c||(e=l.getOrThunk((function(){var t=vD(Vi(Ri(),"margin-left")).getOr(0);return ba(Ri())-ga(n).left+t})),Li(o.get().element,"max-width",e+"px")),p&&eD.refreshToolbar(a),c||function(){var t=eD.getToolbar(a),e=v(t),r=za(n),i=d()?Math.max(r.y-la(o.get().element)+e,0):r.bottom;Hi(a.element,{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})}(),s){var r=o.get();t?AE.reset(r):AE.refresh(r)}b()}},x=function(e){if(void 0===e&&(e=!0),!c&&s&&h()){var r=f.getDockingMode(),i=function(e){switch(mv(t)){case sv.auto:var r=eD.getToolbar(a),o=v(r),i=la(e.element)-o,u=za(n);if(u.y>i)return"top";var c=fo(n),s=Math.max(c.dom.scrollHeight,la(c));return u.bottom<s-i||Na().bottom<u.bottom-i?"bottom":"top";case sv.bottom:return"bottom";case sv.top:default:return"top"}}(o.get());i!==r&&(!function(t){var n=o.get();AE.setModes(n,[t]),f.setDockingMode(t);var e=d()?$a.TopToBottom:$a.BottomToTop;Io(n.element,Nc,e)}(i),e&&y(!0))}};return{isVisible:h,isPositionedAtTop:d,show:function(){g.set(!0),Li(a.element,"display","flex"),u.addClass(t.getBody(),"mce-edit-focus"),qi(i.element,"display"),x(!1),y()},hide:function(){g.set(!1),e.outerContainer&&(Li(a.element,"display","none"),u.removeClass(t.getBody(),"mce-edit-focus")),Li(i.element,"display","none")},update:y,updateMode:x,repositionPopups:b}},_D=function(t,n){var e=za(t);return{pos:n?e.y:e.bottom,bounds:e}},kD=Object.freeze({__proto__:null,render:function(t,n,e,r,o){var i=n.mothership,a=n.uiMothership,u=n.outerContainer,c=ce(null),s=le.fromDom(o.targetNode),l=CD(t,s,n,r,c),f=function(t){return t.getParam("toolbar_persist",!1,"boolean")}(t);dD(t);var d=function(){if(c.get())l.show();else{c.set(eD.getHeader(u).getOrDie());var o=vv(t);tl(o,i),tl(o,a),mD(t,n,e,r),eD.setMenubar(u,iD(t,e)),l.show(),function(t,n,e,r){var o=ce(_D(n,e.isPositionedAtTop())),i=function(r){var i=_D(n,e.isPositionedAtTop()),a=i.pos,u=i.bounds,c=o.get(),s=c.pos,l=c.bounds,f=u.height!==l.height||u.width!==l.width;o.set({pos:a,bounds:u}),f&&wb(t,r),e.isVisible()&&(s!==a?e.update(!0):f&&(e.updateMode(),e.repositionPopups()))};r||(t.on("activate",e.show),t.on("deactivate",e.hide)),t.on("SkinLoaded ResizeWindow",(function(){return e.update(!0)})),t.on("NodeChange keydown",(function(t){Zp.requestAnimationFrame((function(){return i(t)}))})),t.on("ScrollWindow",(function(){return e.updateMode()}));var a=MT();a.set(uy(le.fromDom(t.getBody()),"load",i)),t.on("remove",(function(){a.clear()}))}(t,s,l,f),t.nodeChanged()}};t.on("show",d),t.on("hide",l.hide),f||(t.on("focus",d),t.on("blur",l.hide)),t.on("init",(function(){(t.hasFocus()||f)&&d()})),Av(t,n);var m={show:function(){l.show()},hide:function(){l.hide()},enable:function(){Sv(n,!1)},disable:function(){Sv(n,!0)},isDisabled:function(){return Jh.isDisabled(u)}};return{editorContainer:u.element.dom,api:m}}}),SD=function(t,n){!function(t,n){var e=pT(0,n,wT(t));t.ui.registry.addNestedMenuItem("align",{text:n.shared.providers.translate("Align"),getSubmenuItems:function(){return e.items.validateItems(e.getStyleItems())}})}(t,n),function(t,n){var e=pT(0,n,kT(t));t.ui.registry.addNestedMenuItem("fontformats",{text:n.shared.providers.translate("Fonts"),getSubmenuItems:function(){return e.items.validateItems(e.getStyleItems())}})}(t,n),function(t,n){var e=f({type:"advanced"},n.styleselect),r=pT(0,n,PT(t,e));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}(t,n),function(t,n){var e=pT(0,n,BT(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return e.items.validateItems(e.getStyleItems())}})}(t,n),function(t,n){var e=pT(0,n,TT(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return e.items.validateItems(e.getStyleItems())}})}(t,n)},AD={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},OD=(vT=["Infinity","[0-9]+\\."+(hT=function(t){return"(?:"+t+")?"})("[0-9]+")+hT("[eE][+-]?[0-9]+"),"\\.[0-9]+"+hT("[eE][+-]?[0-9]+"),"[0-9]+"+hT("[eE][+-]?[0-9]+")].join("|"),new RegExp("^([+-]?(?:"+vT+"))(.*)$")),TD=function(t,n){return b.from(OD.exec(t)).bind((function(t){var e=Number(t[1]),r=t[2];return function(t,n){return B(n,(function(n){return B(AD[n],(function(n){return t===n}))}))}(r,n)?b.some({value:e,unit:r}):b.none()}))},ED=function(t){return function(t,n){return TD(t,n).map((function(t){return t.value+t.unit}))}(t,["fixed","relative","empty"]).getOr(t)},DD=function(t){var n=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")}(t),e=new Map,r=zT(),o=function(){var n=ED(t.queryCommandValue("LineHeight"));b.from(e.get(n)).fold((function(){return r.clear()}),(function(t){r.set({destroy:function(){t.setActive(!1)}}),t.setActive(!0)}))};return t.on("nodeChange",o),L(n,(function(i,a){return{type:"togglemenuitem",text:i,onSetup:function(u){return e.set(ED(i),u),a+1===n.length&&o(),function(){0===a&&(t.off("nodeChange",o),r.clear())}},onAction:function(){return t.execCommand("LineHeight",!1,i)}}}))},zD=function(t){!function(t){t.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return DD(t)}})}(t),function(t){t.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(n){return n(DD(t))}})}(t)},MD=function(t,n){return function(){t.execCommand("mceToggleFormat",!1,n)}},ND=function(t){!function(t){KC.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(n,e){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onSetup:NT(t,n.name),onAction:MD(t,n.name)})}));for(var n=1;n<=6;n++){var e="h"+n;t.ui.registry.addToggleButton(e,{text:e.toUpperCase(),tooltip:"Heading "+n,onSetup:NT(t,e),onAction:MD(t,e)})}}(t),function(t){KC.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(n){t.ui.registry.addButton(n.name,{tooltip:n.text,icon:n.icon,onAction:function(){return t.execCommand(n.action)}})}))}(t),function(t){KC.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(n){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onAction:function(){return t.execCommand(n.action)},onSetup:NT(t,n.name)})}))}(t)},RD=function(t){ND(t),function(t){KC.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(n){t.ui.registry.addMenuItem(n.name,{text:n.text,icon:n.icon,shortcut:n.shortcut,onAction:function(){return t.execCommand(n.action)}})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:MD(t,"code")})}(t)},BD=function(t,n,e){var r=function(){return!!n.undoManager&&n.undoManager[e]()},o=function(){t.setDisabled(n.mode.isReadOnly()||!r())};return t.setDisabled(!r()),n.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return n.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},PD=function(t){!function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(n){return BD(n,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(n){return BD(n,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t),function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(n){return BD(n,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(n){return BD(n,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t)},ID=function(t,n){!function(t){KC.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(n){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,onAction:function(){return t.execCommand(n.cmd)},icon:n.icon,onSetup:NT(t,n.name)})}));var n="alignnone",e="No alignment",r="JustifyNone",o="align-none";t.ui.registry.addButton(n,{tooltip:e,onAction:function(){return t.execCommand(r)},icon:o})}(t),RD(t),SD(t,n),PD(t),function(t){!function(t){t.addCommand("mceApplyTextcolor",(function(n,e){!function(t,n,e){t.undoManager.transact((function(){t.focus(),t.formatter.apply(n,{value:e}),t.nodeChanged()}))}(t,n,e)})),t.addCommand("mceRemoveTextcolor",(function(n){!function(t,n){t.undoManager.transact((function(){t.focus(),t.formatter.remove(n,{value:null},null,!0),t.nodeChanged()}))}(t,n)}))}(t);var n=ce(null),e=ce(null);Bb(t,"forecolor","forecolor","Text color",n),Bb(t,"backcolor","hilitecolor","Background color",e),Pb(t,"forecolor","forecolor","Text color"),Pb(t,"backcolor","hilitecolor","Background color")}(t),function(t){!function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})}(t),function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(n){return function(t,n){t.setActive(n.hasVisual);var e=function(n){t.setActive(n.hasVisual)};return n.on("VisualAid",e),function(){return n.off("VisualAid",e)}}(n,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})}(t)}(t),function(t){!function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(n){return function(t,n){t.setDisabled(!n.queryCommandState("outdent"));var e=function(){t.setDisabled(!n.queryCommandState("outdent"))};return n.on("NodeChange",e),function(){return n.off("NodeChange",e)}}(n,t)},onAction:function(){return t.execCommand("outdent")}}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})}(t)}(t),zD(t)},LD=function(t,n){return{anchor:"makeshift",x:t,y:n}},HD=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},FD=function(t,n){var e=Ph.DOM.getPos(t);return function(t,n,e){return LD(t.x+n,t.y+e)}(n,e.x,e.y)},VD=function(t,n){return"contextmenu"===n.type||"longpress"===n.type?t.inline?function(t){if(HD(t)){var n=t.touches[0];return LD(n.pageX,n.pageY)}return LD(t.pageX,t.pageY)}(n):FD(t.getContentAreaContainer(),function(t){if(HD(t)){var n=t.touches[0];return LD(n.clientX,n.clientY)}return LD(t.clientX,t.clientY)}(n)):jD(t)},jD=function(t){return{anchor:"selection",root:le.fromDom(t.selection.getNode())}},UD=function(t){return{anchor:"node",node:b.some(le.fromDom(t.selection.getNode())),root:le.fromDom(t.getBody())}},WD=function(t,n,e,r,o,i){var a=e(),u=i?UD(t):VD(t,n);mk(a,qg.CLOSE_ON_EXECUTE,r,!1).map((function(t){n.preventDefault(),Vp.showMenuAt(o,u,{menu:{markers:nh("normal")},data:t})}))},$D={onLtr:function(){return[Nu,Tu,Eu,Du,zu,Mu,Jp,Qp,Xp,Gp,Yp,Kp]},onRtl:function(){return[Nu,Eu,Tu,zu,Du,Mu,Jp,Qp,Yp,Kp,Xp,Gp]}},qD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},GD=function(t,n,e,r,o,i,a){var u=i?UD(t):function(t,n){return f({bubble:Tc(0,12,qD),layouts:$D,overrides:{maxWidthFunction:DA(),maxHeightFunction:kc()}},VD(t,n))}(t,n);mk(e,qg.CLOSE_ON_EXECUTE,r,!0).map((function(e){n.preventDefault(),Vp.showMenuWithinBounds(o,u,{menu:{markers:nh("normal"),highlightImmediately:a},data:e,type:"horizontal"},(function(){return b.some(iT(t,r.shared))})),t.fire("contexttoolbar-hide")}))},KD=function(t,n,e,r,o,i){var a=Me(),u=a.os.isiOS(),c=a.os.isOSX(),s=a.os.isAndroid(),l=a.deviceType.isTouch(),f=function(){var a=e();GD(t,n,a,r,o,i,!(s||u||c&&l))};if(!c&&!u||i)s&&!i&&t.selection.setCursorLocation(n.target,0),f();else{var d=function(){!function(t){var n=t.selection.getRng(),e=function(){Zp.setEditorTimeout(t,(function(){t.selection.setRng(n)}),10),i()};t.once("touchend",e);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var o=function(){return i()};t.once("longpresscancel",o);var i=function(){t.off("touchend",e),t.off("longpresscancel",o),t.off("mousedown",r)}}(t),f()};!function(t,n){var e=t.selection;if(e.isCollapsed()||n.touches.length<1)return!1;var r=n.touches[0],o=e.getRng();return ws(t.getWin(),os.domRange(o)).exists((function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY}))}(t,n)?(t.once("selectionchange",d),t.once("touchend",(function(){return t.off("selectionchange",d)}))):d()}},XD=function(t){return"string"==typeof t?t.split(/[ ,]/):t},YD=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},JD=function(t){return function(t,n,e){var r=t.ui.registry.getAll().contextMenus;return b.from(t.getParam(n)).map(XD).getOrThunk((function(){return V(XD(e),(function(t){return Tt(r,t)}))}))}(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},QD=function(t){return w(t)?"|"===t:"separator"===t.type},ZD={type:"separator"},tz=function(t){var n,e=function(t){return{text:t.text,icon:t.icon,disabled:t.disabled,shortcut:t.shortcut}};if(w(t))return t;switch(t.type){case"separator":return ZD;case"submenu":return f(f({type:"nestedmenuitem"},e(t)),{getSubmenuItems:function(){var n=t.getSubmenuItems();return w(n)?n:L(n,tz)}});default:return f(f({type:"menuitem"},e(t)),{onAction:(n=t.onAction,function(){return n()})})}},nz=function(t,n){if(0===n.length)return t;var e=tt(t).filter((function(t){return!QD(t)})).fold((function(){return[]}),(function(t){return[ZD]}));return t.concat(e).concat(n).concat([ZD])},ez=function(t,n){return"longpress"!==n.type&&(2!==n.button||n.target===t.getBody()&&""===n.pointerType)},rz=function(t,n){return ez(t,n)?t.selection.getStart(!0):n.target},oz=function(t,n,e){var r=Me().deviceType.isTouch,o=aa(Vp.sketch({dom:{tag:"div"},lazySink:n,onEscape:function(){return t.focus()},onShow:function(){return e.setContextMenuState(!0)},onHide:function(){return e.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Ku([np("dismissContextMenu",[$r(Tr(),(function(n,e){dl.close(n),t.focus()}))])])})),i=function(t){return Vp.hide(o)},a=function(n){if(YD(t)&&n.preventDefault(),!function(t,n){return n.ctrlKey&&!YD(t)}(t,n)&&!function(t){return!1===t.getParam("contextmenu")}(t)){var i=function(t,n){var e=function(t){return t.getParam("contextmenu_avoid_overlap","","string")}(t);if(ez(t,n))return!0;if(e){var r=rz(t,n);return sy(le.fromDom(r),e)}return!1}(t,n);(r()?KD:WD)(t,n,(function(){var e=rz(t,n),r=t.ui.registry.getAll(),o=JD(t);return function(t,n,e){var r=U(n,(function(n,r){return Ot(t,r.toLowerCase()).map((function(t){var r=t.update(e);if(w(r))return nz(n,r.split(" "));if(r.length>0){var o=L(r,tz);return nz(n,o)}return n})).getOrThunk((function(){return n.concat([r])}))}),[]);return r.length>0&&QD(r[r.length-1])&&r.pop(),r}(r.contextMenus,o,e)}),e,o,i)}};t.on("init",(function(){var n="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(r()?"":" ResizeWindow");t.on(n,i),t.on("longpress contextmenu",a)}))},iz=Dt([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),az=function(t){return function(n){return n.translate(-t.left,-t.top)}},uz=function(t){return function(n){return n.translate(t.left,t.top)}},cz=function(t){return function(n,e){return U(t,(function(t,n){return n(t)}),ma(n,e))}},sz=function(t,n,e){return t.fold(cz([uz(e),az(n)]),cz([az(n)]),cz([]))},lz=function(t,n,e){return t.fold(cz([uz(e)]),cz([]),cz([uz(n)]))},fz=function(t,n,e){return t.fold(cz([]),cz([az(e)]),cz([uz(n),az(e)]))},dz=function(t,n,e){var r=t.fold((function(t,n){return{position:b.some("absolute"),left:b.some(t+"px"),top:b.some(n+"px")}}),(function(t,n){return{position:b.some("absolute"),left:b.some(t-e.left+"px"),top:b.some(n-e.top+"px")}}),(function(t,n){return{position:b.some("fixed"),left:b.some(t+"px"),top:b.some(n+"px")}}));return f({right:b.none(),bottom:b.none()},r)},mz=function(t,n,e,r){var o=function(t,o){return function(i,a){var u=t(n,e,r);return o(i.getOr(u.left),a.getOr(u.top))}};return t.fold(o(fz,pz),o(lz,gz),o(sz,hz))},pz=iz.offset,gz=iz.absolute,hz=iz.fixed,vz=function(t,n){var e=Lo(t,n);return S(e)?NaN:parseInt(e,10)},bz=function(t,n,e,r){return function(t,n){var e=t.element,r=vz(e,n.leftAttr),o=vz(e,n.topAttr);return isNaN(r)||isNaN(o)?b.none():b.some(ma(r,o))}(t,n).fold((function(){return e}),(function(t){return hz(t.left+r.left,t.top+r.top)}))},yz=function(t,n,e,r,o,i){var a=bz(t,n,e,r),u=n.mustSnap?Cz(t,n,a,o,i):_z(t,n,a,o,i),c=sz(a,o,i);return function(t,n,e){var r=t.element;Io(r,n.leftAttr,e.left+"px"),Io(r,n.topAttr,e.top+"px")}(t,n,c),u.fold((function(){return{coord:hz(c.left,c.top),extra:b.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))},xz=function(t,n){!function(t,n){var e=t.element;Vo(e,n.leftAttr),Vo(e,n.topAttr)}(t,n)},wz=function(t,n,e,r){return et(t,(function(t){var o=t.sensor;return function(t,n,e,r,o,i){var a=lz(t,o,i),u=lz(n,o,i);return Math.abs(a.left-u.left)<=e&&Math.abs(a.top-u.top)<=r}(n,o,t.range.left,t.range.top,e,r)?b.some({output:mz(t.output,n,e,r),extra:t.extra}):b.none()}))},Cz=function(t,n,e,r,o){var i=n.getSnapPoints(t);return wz(i,e,r,o).orThunk((function(){return U(i,(function(t,n){var i=n.sensor,a=function(t,n,e,r,o,i){var a=lz(t,o,i),u=lz(n,o,i),c=Math.abs(a.left-u.left),s=Math.abs(a.top-u.top);return ma(c,s)}(e,i,n.range.left,n.range.top,r,o);return t.deltas.fold((function(){return{deltas:b.some(a),snap:b.some(n)}}),(function(e){return(a.left+a.top)/2<=(e.left+e.top)/2?{deltas:b.some(a),snap:b.some(n)}:t}))}),{deltas:b.none(),snap:b.none()}).snap.map((function(t){return{output:mz(t.output,e,r,o),extra:t.extra}}))}))},_z=function(t,n,e,r,o){var i=n.getSnapPoints(t);return wz(i,e,r,o)},kz=Object.freeze({__proto__:null,snapTo:function(t,n,e,r){var o=n.getTarget(t.element);if(n.repositionTarget){var i=so(t.element),a=_a(i),u=uE(o),c=function(t,n,e){return{coord:mz(t.output,t.output,n,e),extra:t.extra}}(r,a,u),s=dz(c.coord,0,u);Fi(o,s)}}}),Sz=function(t,n){t.getSystem().addToGui(n),function(t){po(t.element).filter(io).each((function(n){Ui(n,"z-index").each((function(t){Io(n,"data-initial-z-index",t)})),Li(n,"z-index",Vi(t.element,"z-index"))}))}(n)},Az=function(t){!function(t){po(t.element).filter(io).each((function(t){Ho(t,"data-initial-z-index").fold((function(){return qi(t,"z-index")}),(function(n){return Li(t,"z-index",n)})),Vo(t,"data-initial-z-index")}))}(t),t.getSystem().removeFromGui(t)},Oz=function(t,n,e){return t.getSystem().build(ky.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[n]},events:e}))},Tz=Jn("snaps",[In("getSnapPoints"),ou("onSensor"),In("leftAttr"),In("topAttr"),Qn("lazyViewport",Na),Qn("mustSnap",!1)]),Ez=[Qn("useFixed",c),In("blockerClass"),Qn("getTarget",o),Qn("onDrag",n),Qn("repositionTarget",!0),Qn("onDrop",n),oe("getBounds",Na),Tz],Dz=function(t){return(n=Ui(t,"left"),e=Ui(t,"top"),r=Ui(t,"position"),o=function(t,n,e){return("fixed"===e?hz:pz)(parseInt(t,10),parseInt(n,10))},n.isSome()&&e.isSome()&&r.isSome()?b.some(o(n.getOrDie(),e.getOrDie(),r.getOrDie())):b.none()).getOrThunk((function(){var n=ga(t);return gz(n.left,n.top)}));var n,e,r,o},zz=function(t,n,e,r,o,i,a){return function(t,n,e,r,o){var i=o.bounds,a=lz(n,e,r),u=vc(a.left,i.x,i.x+i.width-o.width),c=vc(a.top,i.y,i.y+i.height-o.height),s=gz(u,c);return n.fold((function(){var t=fz(s,e,r);return pz(t.left,t.top)}),(function(){return s}),(function(){var t=sz(s,e,r);return hz(t.left,t.top)}))}(0,n.fold((function(){var t,n,a,u=(t=e,n=i.left,a=i.top,t.fold((function(t,e){return pz(t+n,e+a)}),(function(t,e){return gz(t+n,e+a)}),(function(t,e){return hz(t+n,e+a)}))),c=sz(u,r,o);return hz(c.left,c.top)}),(function(n){var a=yz(t,n,e,i,r,o);return a.extra.each((function(e){n.onSensor(t,e)})),a.coord})),r,o,a)},Mz=function(t,n){return{bounds:t.getBounds(),height:fa(n.element),width:ya(n.element)}},Nz=function(t,n,e,r,o){var i=e.update(r,o),a=e.getStartData().getOrThunk((function(){return Mz(n,t)}));i.each((function(e){!function(t,n,e,r){var o=n.getTarget(t.element);if(n.repositionTarget){var i=so(t.element),a=_a(i),u=uE(o),c=Dz(o),s=zz(t,n.snaps,c,a,u,r,e),l=dz(s,0,u);Fi(o,l)}n.onDrag(t,o,r)}(t,n,a,e)}))},Rz=function(t,n,e,r){n.each(Az),e.snaps.each((function(n){xz(t,n)}));var o=e.getTarget(t.element);r.reset(),e.onDrop(t,o)},Bz=function(t){return function(n,e){var r=function(t){e.setStartData(Mz(n,t))};return jr(m([$r(kr(),(function(t){e.getStartData().each((function(){return r(t)}))}))],t(n,e,r)))}},Pz=Object.freeze({__proto__:null,getData:function(t){return b.from(ma(t.x,t.y))},getDelta:function(t,n){return ma(n.left-t.left,n.top-t.top)}}),Iz=function(t,n,e){return[$r(Xe(),(function(r,o){if(0===o.event.raw.button){o.stop();var i=function(){return Rz(r,b.some(c),t,n)},a=ly(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(e){a.cancel(),Nz(r,t,n,Pz,e)}},c=Oz(r,t.blockerClass,function(t){return jr([$r(Xe(),t.forceDrop),$r(Qe(),t.drop),$r(Ye(),(function(n,e){t.move(e.event)})),$r(Je(),t.delayDrop)])}(u));e(r),Sz(r,c)}}))]},Lz=m(Ez,[cu("dragger",{handlers:Bz(Iz)})]),Hz=Object.freeze({__proto__:null,getData:function(t){var n=t.raw.touches;return 1===n.length?function(t){var n=t[0];return b.some(ma(n.clientX,n.clientY))}(n):b.none()},getDelta:function(t,n){return ma(n.left-t.left,n.top-t.top)}}),Fz=function(t,e,r){var o=ce(b.none());return[$r($e(),(function(i,a){a.stop();var u=function(){Rz(i,o.get(),t,e),o.set(b.none())},c={drop:u,delayDrop:n,forceDrop:u,move:function(n){Nz(i,t,e,Hz,n)}},s=Oz(i,t.blockerClass,function(t){return jr([$r($e(),t.forceDrop),$r(Ge(),t.drop),$r(Ke(),t.drop),$r(qe(),(function(n,e){t.move(e.event)}))])}(c));o.set(b.some(s));r(i),Sz(i,s)})),$r(qe(),(function(n,r){r.stop(),Nz(n,t,e,Hz,r.event)})),$r(Ge(),(function(n,r){r.stop(),Rz(n,o.get(),t,e),o.set(b.none())})),$r(Ke(),(function(n){Rz(n,o.get(),t,e),o.set(b.none())}))]},Vz=Lz,jz=m(Ez,[cu("dragger",{handlers:Bz(Fz)})]),Uz=m(Ez,[cu("dragger",{handlers:Bz((function(t,n,e){return m(Iz(t,n,e),Fz(t,n,e))}))})]),Wz=Qu({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:Vz,touch:jz,mouseOrTouch:Uz}),name:"dragging",active:{events:function(t,n){return t.dragger.handlers(t,n)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:b.from(t.extra)}}},state:Object.freeze({__proto__:null,init:function(){var t=b.none(),n=b.none(),e=r({});return fi({readState:e,reset:function(){t=b.none(),n=b.none()},update:function(n,e){return n.getData(e).bind((function(e){return function(n,e){var r=t.map((function(t){return n.getDelta(t,e)}));return t=b.some(e),r}(n,e)}))},getStartData:function(){return n},setStartData:function(t){n=b.some(t)}})}}),apis:kz}),$z=function(t,n,e,r,o,i){return t.fold((function(){return Wz.snap({sensor:gz(e-20,r-20),range:ma(o,i),output:gz(b.some(e),b.some(r)),extra:{td:n}})}),(function(t){var o=e-20,i=r-20,a=t.element.dom.getBoundingClientRect();return Wz.snap({sensor:gz(o,i),range:ma(40,40),output:gz(b.some(e-a.width/2),b.some(r-a.height/2)),extra:{td:n}})}))},qz=function(t,n,e){return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,r){var o=r.td;(function(t,n){return t.exists((function(t){return Be(t,n)}))})(n.get(),o)||(n.set(b.some(o)),e(o))},mustSnap:!0}},Gz=function(t){return ng(tg.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ku([Wz.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Fx.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},Kz=function(t,n){var e=ce([]),r=ce([]),o=ce(!1),i=ce(b.none()),a=ce(b.none()),u=function(t){var e=Ma(t);return $z(f.getOpt(n),t,e.x,e.y,e.width,e.height)},c=function(t){var e=Ma(t);return $z(d.getOpt(n),t,e.right,e.bottom,e.width,e.height)},s=qz((function(){return L(e.get(),(function(t){return u(t)}))}),i,(function(n){a.get().each((function(e){t.fire("TableSelectorChange",{start:n,finish:e})}))})),l=qz((function(){return L(r.get(),(function(t){return c(t)}))}),a,(function(n){i.get().each((function(e){t.fire("TableSelectorChange",{start:e,finish:n})}))})),f=Gz(s),d=Gz(l),m=aa(f.asSpec()),p=aa(d.asSpec()),g=function(n,e,r,o){var i=r(e);Wz.snapTo(n,i);!function(n,e,r,o){var i=e.dom.getBoundingClientRect();qi(n.element,"display");var a=mo(le.fromDom(t.getBody())).dom.innerHeight,u=r(i),c=o(i,a);(u||c)&&Li(n.element,"display","none")}(n,e,(function(t){return t[o]<0}),(function(t,n){return t[o]>n}))},h=function(t){return g(m,t,u,"top")},v=function(t){return g(p,t,c,"bottom")};Me().deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){o.get()||(Xs(n,m),Xs(n,p),o.set(!0)),i.set(b.some(t.start)),a.set(b.some(t.finish)),t.otherCells.each((function(n){e.set(n.upOrLeftCells),r.set(n.downOrRightCells),h(t.start),v(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(h),a.get().each(v)})),t.on("TableSelectionClear",(function(){o.get()&&(Qs(m),Qs(p),o.set(!1)),i.set(b.none()),a.set(b.none())})))};!function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"}(bT||(bT={}));var Xz=function(t,n,e){var r=le.fromDom(t.getContainer()),o=function(t,n,e,r,o){var i={};return i.height=yD(r+n.top,ev(t),ov(t)),e===bT.Both&&(i.width=yD(o+n.left,nv(t),rv(t))),i}(t,n,e,la(r),ba(r));xt(o,(function(t,n){return Li(r,n,bD(t))})),function(t){t.fire("ResizeEditor")}(t)},Yz=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},Jz=function(t,n,e){n.delimiter||(n.delimiter="»");return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ku([Xm.config({mode:"flow",selector:"div[role=button]"}),Jh.config({disabled:e.isDisabled}),Ov(),zy.config({}),tp.config({}),np("elementPathEvents",[Zr((function(r,o){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Xm.focusIn(r)})),t.on("NodeChange",(function(o){var i,a,u=function(n){for(var e=[],r=n.length;r-- >0;){var o=n[r];if(1===o.nodeType&&!Yz(o)){var i=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||e.push({name:i.name,element:o}),i.isPropagationStopped())break}}return e}(o.parents);u.length>0?tp.set(r,(i=L(u||[],(function(n,r){return tg.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:n.name},action:function(e){t.focus(),t.selection.select(n.element),t.nodeChanged()},buttonBehaviours:Ku([Ev(e.isDisabled),Ov()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+n.delimiter+" "}},U(i.slice(1),(function(t,n){var e=t;return e.push(a),e.push(n),e}),[i[0]]))):tp.set(r,[])}))}))])]),components:[]}},Qz=function(t,n){var e=function(){var e,r=[];return t.getParam("elementpath",!0,"boolean")&&r.push(Jz(t,{},n)),t.hasPlugin("wordcount")&&r.push(function(t,n){var e,r=function(t,e,r){return tp.set(t,[ra(n.translate(["{0} "+r,e[r]]))])};return tg.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ku([Ev(n.isDisabled),Ov(),zy.config({}),tp.config({}),Ml.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),np("wordcount-events",[eo((function(t){var n=Ml.getValue(t),e="words"===n.mode?"characters":"words";Ml.setValue(t,{mode:e,count:n.count}),r(t,n.count,e)})),Zr((function(n){t.on("wordCountUpdate",(function(t){var e=Ml.getValue(n).mode;Ml.setValue(n,{mode:e,count:t.wordCount}),r(n,t.wordCount,e)}))}))])]),eventOrder:(e={},e[gr()]=["disabling","alloy.base.behaviour","wordcount-events"],e)})}(t,n)),t.getParam("branding",!0,"boolean")&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(e=Ih.translate(["Powered by {0}","Tiny"]))+'">'+e+"</a>"}}),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var r=e(),o=function(t){var n=!t.hasPlugin("autoresize"),e=t.getParam("resize",n);return!1===e?bT.None:"both"===e?bT.Both:bT.Vertical}(t);return o!==bT.None&&r.push(function(e){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:n.translate("Resize"),"aria-hidden":"true"},innerHtml:rg("resize-handle",n.icons)},behaviours:Ku([Wz.config({mode:"mouse",repositionTarget:!1,onDrag:function(n,r,o){Xz(t,o,e)},blockerClass:"tox-blocker"})])}}(o)),r}()}},Zz=function(t){var e,r,o,i,a=t.inline,u=a?kD:hD,c=yv(t)?ME:iE,s=b.none(),l=Me(),d=l.browser.isIE()?["tox-platform-ie"]:[],m=l.deviceType.isTouch()?["tox-platform-touch"]:[],p=pv(t),g=vv(t),h=Ih.isRtl()?{attributes:{dir:"rtl"}}:{},v={attributes:(e={},e[Nc]=p?$a.BottomToTop:$a.TopToBottom,e)},y=function(){return s.bind(eD.getHeader)},x=function(){Li(G.element,"width",document.body.clientWidth+"px")},w=aa((r=Be(Ri(),g)&&"grid"===Vi(g,"display"),o={dom:f({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(d).concat(m)},h),behaviours:Ku([Ws.config({useFixed:function(){return c.isDocked(y)}})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:jr([$r(Sr(),x)])},Nt(o,r?i:{}))),C=function(){return it.value(w)},_=ng({dom:{tag:"div",classes:["tox-anchorbar"]}}),k=function(){return s.bind((function(t){return eD.getThrobber(t)})).getOrDie("Could not find throbber element")},S=EA(w,t,(function(){return s.bind((function(t){return _.getOpt(t)})).getOrDie("Could not find a anchor bar element")})),A=eD.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:S,onEscape:function(){t.focus()}}),O=lv(t),T=eD.parts.toolbar(f({dom:{tag:"div",classes:["tox-toolbar"]},getSink:C,providers:S.shared.providers,onEscape:function(){t.focus()},type:O,lazyToolbar:function(){return s.bind((function(t){return eD.getToolbar(t)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return y().getOrDie("Could not find header element")}},v)),E=eD.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:S.shared.providers,onEscape:function(){t.focus()},type:O}),D=eD.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),z=eD.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),M=eD.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:S}),N=t.getParam("statusbar",!0,"boolean")&&!a?b.some(Qz(t,S.shared.providers)):b.none(),R={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[D,z]},B=cv(t),P=av(t),I=iv(t),L=eD.parts.header({dom:f({tag:"div",classes:["tox-editor-header"]},v),components:q([I?[A]:[],B?[E]:P?[T]:[],hv(t)?[]:[_.asSpec()]]),sticky:yv(t),editor:t,sharedBackstage:S.shared}),F=q([p?[]:[L],a?[]:[R],p?[L]:[]]),V=q([[{dom:{tag:"div",classes:["tox-editor-container"]},components:F}],a?[]:N.toArray(),[M]]),j=bv(t),U=f(f({role:"application"},Ih.isRtl()?{dir:"rtl"}:{}),j?{"aria-hidden":"true"}:{}),W=aa(eD.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(p?["tox-tinymce--toolbar-bottom"]:[]).concat(m).concat(d),styles:f({visibility:"hidden"},j?{opacity:"0",border:"0"}:{}),attributes:U},components:V,behaviours:Ku([Ov(),Jh.config({disableClass:"tox-tinymce--disabled"}),Xm.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));s=b.some(W),t.shortcuts.add("alt+F9","focus menubar",(function(){eD.focusMenubar(W)})),t.shortcuts.add("alt+F10","focus toolbar",(function(){eD.focusToolbar(W)})),t.addCommand("ToggleToolbarDrawer",(function(){eD.toggleToolbarDrawer(W)})),t.addQueryStateHandler("ToggleToolbarDrawer",(function(){return eD.isToolbarDrawerToggled(W)}));var $=Sy(W),G=Sy(w);!function(t,n,e){var r=function(t,r){H([n,e],(function(n){n.broadcastEvent(t,r)}))},o=function(t,r){H([n,e],(function(n){n.broadcastOn([t],r)}))},i=function(t){return o(ml(),{target:t.target})},a=ay(le.fromDom(document),"touchstart",i),u=ay(le.fromDom(document),"touchmove",(function(t){return r(Cr(),t)})),c=ay(le.fromDom(document),"touchend",(function(t){return r(_r(),t)})),s=ay(le.fromDom(document),"mousedown",i),l=ay(le.fromDom(document),"mouseup",(function(t){0===t.raw.button&&o(gl(),{target:t.target})})),f=function(t){return o(ml(),{target:le.fromDom(t.target)})},d=function(t){0===t.button&&o(gl(),{target:le.fromDom(t.target)})},m=function(t){return r(kr(),cy(t))},p=function(t){o(pl(),{}),r(Sr(),cy(t))},g=function(){return o(pl(),{})},h=function(n){n.state&&o(ml(),{target:le.fromDom(t.getContainer())})};t.on("PostRender",(function(){t.on("click",f),t.on("tap",f),t.on("mouseup",d),t.on("ScrollWindow",m),t.on("ResizeWindow",p),t.on("ResizeEditor",g),t.on("AfterProgressState",h)})),t.on("remove",(function(){t.off("click",f),t.off("tap",f),t.off("mouseup",d),t.off("ScrollWindow",m),t.off("ResizeWindow",p),t.off("ResizeEditor",g),t.off("AfterProgressState",h),s.unbind(),a.unbind(),u.unbind(),c.unbind(),l.unbind()})),t.on("detach",(function(){el(n),el(e),n.destroy(),e.destroy()}))}(t,$,G);var K=function(){var n=bD(xD(t)),e=bD(function(t){return wD(t).getOr(tv(t))}(t));return t.inline||($i("div","width",e)&&Li(W.element,"width",e),$i("div","height",n)?Li(W.element,"height",n):Li(W.element,"height","200px")),n};return{mothership:$,uiMothership:G,backstage:S,renderUI:function(){c.setup(t,S.shared,y),ID(t,S),oz(t,C,S),function(t){var n=t.ui.registry.getAll().sidebars;H(bt(n),(function(e){var r=n[e],o=function(){return b.from(t.queryCommandValue("ToggleSidebar")).is(e)};t.ui.registry.addToggleButton(e,{icon:r.icon,tooltip:r.tooltip,onAction:function(n){t.execCommand("ToggleSidebar",!1,e),n.setActive(o())},onSetup:function(n){var e=function(){return n.setActive(o())};return t.on("ToggleSidebar",e),function(){t.off("ToggleSidebar",e)}}})}))}(t),KE(t,k,S.shared),wt(function(t){return t.getParam("toolbar_groups",{},"object")}(t),(function(n,e){t.ui.registry.addGroupToolbarButton(e,n)}));var n=t.ui.registry.getAll(),e=n.buttons,r=n.menuItems,o=n.contextToolbars,i=n.sidebars,a=uv(t),s={menuItems:r,menus:xv(t),menubar:wv(t),toolbar:a.getOrThunk((function(){return function(t){return t.getParam("toolbar",!0)}(t)})),allowToolbarGroups:O===$g.floating,buttons:e,sidebar:i};KT(t,o,w,{backstage:S}),Kz(t,w);var l=t.getElement(),f=K(),d={mothership:$,uiMothership:G,outerContainer:W},m={targetNode:l,height:f};return u.render(t,d,s,S,m)},getUi:function(){return{channels:{broadcastAll:G.broadcast,broadcastOn:G.broadcastOn,register:n}}}}},tM=r([In("lazySink"),qn("dragBlockClass"),oe("getBounds",Na),Qn("useTabstopAt",s),Qn("eventOrder",{}),Nl("modalBehaviours",[Xm]),iu("onExecute"),uu("onEscape")]),nM={sketch:o},eM=r([lf({name:"draghandle",overrides:function(t,n){return{behaviours:Ku([Wz.config({mode:"mouse",getTarget:function(t){return Ha(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(n,null,2)).message),getBounds:t.getDragBounds})])}}}),cf({schema:[In("dom")],name:"title"}),cf({factory:nM,schema:[In("dom")],name:"close"}),cf({factory:nM,schema:[In("dom")],name:"body"}),lf({factory:nM,schema:[In("dom")],name:"footer"}),sf({factory:{sketch:function(t,n){return f(f({},t),{dom:n.dom,components:n.components})}},schema:[Qn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Qn("components",[])],name:"blocker"})]),rM=Object.freeze({__proto__:null,block:function(t,n,e,r){Io(t.element,"aria-busy",!0);var o=n.getRoot(t).getOr(t),i=Ku([Xm.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),ap.config({})]),a=r(o,i),u=o.getSystem().build(a);tp.append(o,ua(u)),u.hasConfigured(Xm)&&Xm.focusIn(u),e.isBlocked()||n.onBlock(t),e.blockWith((function(){return tp.remove(o,u)}))},unblock:function(t,n,e){Vo(t.element,"aria-busy"),e.isBlocked()&&n.onUnblock(t),e.clear()}}),oM=[oe("getRoot",b.none),ou("onBlock"),ou("onUnblock")],iM=Yu({fields:oM,name:"blocking",apis:rM,state:Object.freeze({__proto__:null,init:function(){var t=zT();return fi({readState:t.isSet,blockWith:function(n){t.set({destroy:n})},clear:t.clear,isBlocked:t.isSet})}})}),aM=If({name:"ModalDialog",configFields:tM(),partFields:eM(),factory:function(t,n,e,r){var i,a=ce(b.none()),u=Ko("modal-events"),c=f(f({},t.eventOrder),((i={})[Ar()]=[u].concat(t.eventOrder["alloy.system.attached"]||[]),i));return{uid:t.uid,dom:t.dom,components:n,apis:{show:function(n){a.set(b.some(n));var e=t.lazySink(n).getOrDie(),o=r.blocker(),i=e.getSystem().build(f(f({},o),{components:o.components.concat([ua(n)]),behaviours:Ku([ap.config({}),np("dialog-blocker-events",[Qr(tr(),(function(){Xm.focusIn(n)}))])])}));Xs(e,i),Xm.focusIn(n)},hide:function(t){a.set(b.none()),po(t.element).each((function(n){t.getSystem().getByDom(n).each((function(t){Qs(t)}))}))},getBody:function(n){return _f(n,t,"body")},getFooter:function(n){return _f(n,t,"footer")},setIdle:function(t){iM.unblock(t)},setBusy:function(t,n){iM.block(t,n)}},eventOrder:c,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Bl(t.modalBehaviours,[tp.config({}),Xm.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),iM.config({getRoot:a.get}),np(u,[Zr((function(n){var e,r,i,a,u,c;e=n.element,r=_f(n,t,"title").element,i=Ho(e,"id").fold((function(){var t=Ko("dialog-label");return Io(r,"id",t),t}),o),Io(e,"aria-labelledby",i),a=n.element,u=_f(n,t,"body").element,c=b.from(Lo(a,"id")).fold((function(){var t=Ko("dialog-describe");return Io(u,"id",t),t}),o),Io(a,"aria-describedby",c)}))])])}},apis:{show:function(t,n){t.show(n)},hide:function(t,n){t.hide(n)},getBody:function(t,n){return t.getBody(n)},getFooter:function(t,n){return t.getFooter(n)},setBusy:function(t,n,e){t.setBusy(n,e)},setIdle:function(t,n){t.setIdle(n)}}}),uM=un([Fn("type"),Fn("name")].concat(bh)),cM=Mn,sM=[pn("name","name",Vt((function(){return Ko("button-name")})),zn),Xn("icon"),ee("align","end",["start","end"]),re("primary",!1),re("disabled",!1)],lM=m(sM,[Fn("text")]),fM=m([Vn("type",["submit","cancel","custom"])],lM),dM=m([Vn("type",["menu"]),Xn("text"),Xn("tooltip"),Xn("icon"),$n("items",uM)],sM),mM=On("type",{submit:fM,cancel:fM,custom:fM,menu:dM}),pM=[Fn("type"),Fn("text"),Vn("level",["info","warn","error","success"]),Fn("icon"),Qn("url","")],gM=un(pM),hM=[Fn("type"),Fn("text"),re("disabled",!1),re("primary",!1),pn("name","name",Vt((function(){return Ko("button-name")})),zn),Xn("icon"),re("borderless",!1)],vM=un(hM),bM=[Fn("type"),Fn("name"),Fn("label"),re("disabled",!1)],yM=un(bM),xM=Mn,wM=[Fn("type"),Fn("name")],CM=wM.concat([Xn("label")]),_M=CM.concat([Qn("columns","auto")]),kM=un(_M),SM=bn([Fn("value"),Fn("text"),Fn("icon")]),AM=un(CM),OM=zn,TM=un(CM),EM=zn,DM=wM.concat([ne("tag","textarea"),Fn("scriptId"),Fn("scriptUrl"),function(t,n){return Zn(t,n,Bn)}("settings",void 0)]),zM=wM.concat([ne("tag","textarea"),jn("init")]),MM=xn((function(t){return Cn("customeditor.old",an(zM),t).orThunk((function(){return Cn("customeditor.new",an(DM),t)}))})),NM=zn,RM=un(CM),BM=cn(vn),PM=function(t){return[Fn("type"),Hn("columns"),t]},IM=[Fn("type"),Fn("html"),ee("presets","presentation",["presentation","document"])],LM=un(IM),HM=CM.concat([re("sandboxed",!0)]),FM=un(HM),VM=zn,jM=CM.concat([Ln("currentState",un([In("blob"),Fn("url")]))]),UM=un(jM),WM=CM.concat([Xn("inputMode"),Xn("placeholder"),re("maximized",!1),re("disabled",!1)]),$M=un(WM),qM=zn,GM=function(t){return[Fn("type"),Fn("label"),t]},KM=[Fn("text"),Fn("value")],XM=[Fn("text"),$n("items",function(t,n){return e=n,r=Bt((function(){return e()})),{extract:function(t,n,e){return r().extract(t,n,e)},toString:function(){return r().toString()}};var e,r}(0,(function(){return YM})))],YM=sn([un(KM),un(XM)]),JM=CM.concat([$n("items",YM),re("disabled",!1)]),QM=un(JM),ZM=zn,tN=CM.concat([Wn("items",[Fn("text"),Fn("value")]),te("size",1),re("disabled",!1)]),nN=un(tN),eN=zn,rN=CM.concat([re("constrain",!0),re("disabled",!1)]),oN=un(rN),iN=un([Fn("width"),Fn("height")]),aN=[Fn("type"),$n("header",zn),$n("cells",cn(zn))],uN=un(aN),cN=CM.concat([Xn("placeholder"),re("maximized",!1),re("disabled",!1)]),sN=un(cN),lN=zn,fN=CM.concat([ee("filetype","file",["image","media","file"]),Qn("disabled",!1)]),dN=un(fN),mN=un([Fn("value"),Qn("meta",{})]),pN=function(t){return pn("items","items",Ht(),cn(xn((function(n){return Cn("Checking item of "+t,gN,n).fold((function(t){return it.error(Sn(t))}),(function(t){return it.value(t)}))}))))},gN=yn((function(){return An("type",{alertbanner:gM,bar:un((t=pN("bar"),[Fn("type"),t])),button:vM,checkbox:yM,colorinput:AM,colorpicker:TM,dropzone:RM,grid:un(PM(pN("grid"))),iframe:FM,input:$M,listbox:QM,selectbox:nN,sizeinput:oN,textarea:sN,urlinput:dN,customeditor:MM,htmlpanel:LM,imagetools:UM,collection:kM,label:un(GM(pN("label"))),table:uN,panel:vN});var t})),hN=[Fn("type"),Qn("classes",[]),$n("items",gN)],vN=un(hN),bN=[pn("name","name",Vt((function(){return Ko("tab-name")})),zn),Fn("title"),$n("items",gN)],yN=[Fn("type"),Wn("tabs",bN)],xN=un(yN),wN=lM,CN=mM,_N=un([Fn("title"),Ln("body",An("type",{panel:vN,tabpanel:xN})),ne("size","normal"),$n("buttons",CN),Qn("initialData",{}),oe("onAction",n),oe("onChange",n),oe("onSubmit",n),oe("onClose",n),oe("onCancel",n),Qn("onTabChange",n)]),kN=un(m([Vn("type",["cancel","custom"])],wN)),SN=un([Fn("title"),Fn("url"),Kn("height"),Kn("width"),function(t,n){return Gn(t,cn(n))}("buttons",kN),oe("onAction",n),oe("onCancel",n),oe("onClose",n),oe("onMessage",n)]),AN=function(t){return C(t)?[t].concat(G(At(t),AN)):_(t)?G(t,AN):[]},ON=function(t){return w(t.type)&&w(t.name)},TN={checkbox:xM,colorinput:OM,colorpicker:EM,dropzone:BM,input:qM,iframe:VM,sizeinput:iN,selectbox:eN,listbox:ZM,size:iN,textarea:lN,urlinput:mN,customeditor:NM,collection:SM,togglemenuitem:cM},EN=function(t){var n=function(t){return V(AN(t),ON)}(t),e=G(n,(function(t){return function(t){return b.from(TN[t.type])}(t).fold((function(){return[]}),(function(n){return[Ln(t.name,n)]}))}));return un(e)},DN=function(t){return{internalDialog:_n(Cn("dialog",_N,t)),dataValidator:EN(t),initialData:t.initialData}},zN={open:function(t,n){var e=DN(n);return t(e.internalDialog,e.initialData,e.dataValidator)},openUrl:function(t,n){return t(_n(Cn("dialog",SN,n)))},redial:function(t){return DN(t)}},MN=function(t){var n=[],e={};return xt(t,(function(t,r){t.fold((function(){n.push(r)}),(function(t){e[r]=t}))})),n.length>0?it.error(n):it.value(e)},NN=function(t,n){var e=ng(BC.sketch((function(e){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:L(t.items,(function(t){return BS(e,t,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[e.asSpec()]}],behaviours:Ku([Xm.config({mode:"acyclic",useTabstopAt:a(s_)}),UC(e),QC(e,{postprocess:function(t){return MN(t).fold((function(t){return console.error(t),{}}),(function(t){return t}))}})])}},RN=Pf({name:"TabButton",configFields:[Qn("uid",void 0),In("value"),pn("dom","dom",jt((function(){return{attributes:{role:"tab",id:Ko("aria"),"aria-selected":"false"}}})),Tn()),qn("action"),Qn("domModification",{}),Nl("tabButtonBehaviours",[ap,Xm,Ml]),In("view")],factory:function(t,n){return{uid:t.uid,dom:t.dom,components:t.components,events:xp(t.action),behaviours:Bl(t.tabButtonBehaviours,[ap.config({}),Xm.config({mode:"execution",useSpace:!0,useEnter:!0}),Ml.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}}),BN=r([In("tabs"),In("dom"),Qn("clickToDismiss",!1),Nl("tabbarBehaviours",[td,Xm]),eu(["tabClass","selectedClass"])]),PN=ff({factory:RN,name:"tabs",unit:"tab",overrides:function(t){var e=function(t,n){td.dehighlight(t,n),Ir(t,Nr(),{tabbar:t,button:n})},r=function(t,n){td.highlight(t,n),Ir(t,Mr(),{tabbar:t,button:n})};return{action:function(o){var i=o.getSystem().getByUid(t.uid).getOrDie(),a=td.isHighlighted(i,o);(a&&t.clickToDismiss?e:a?n:r)(i,o)},domModification:{classes:[t.markers.tabClass]}}}}),IN=r([PN]),LN=If({name:"Tabbar",configFields:BN(),partFields:IN(),factory:function(t,n,e,r){return{uid:t.uid,dom:t.dom,components:n,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Bl(t.tabbarBehaviours,[td.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,n){Io(n.element,"aria-selected","true")},onDehighlight:function(t,n){Io(n.element,"aria-selected","false")}}),Xm.config({mode:"flow",getInitial:function(t){return td.getHighlighted(t).map((function(t){return t.element}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}}}),HN=Pf({name:"Tabview",configFields:[Nl("tabviewBehaviours",[tp])],factory:function(t,n){return{uid:t.uid,dom:t.dom,behaviours:Bl(t.tabviewBehaviours,[tp.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),FN=r([Qn("selectFirst",!0),ou("onChangeTab"),ou("onDismissTab"),Qn("tabs",[]),Nl("tabSectionBehaviours",[])]),VN=cf({factory:LN,schema:[In("dom"),Un("markers",[In("tabClass"),In("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),jN=cf({factory:HN,name:"tabview"}),UN=r([VN,jN]),WN=If({name:"TabSection",configFields:FN(),partFields:UN(),factory:function(t,n,e,r){var o=function(n,e){Cf(n,t,"tabbar").each((function(t){e(t).each(Lr)}))};return{uid:t.uid,dom:t.dom,components:n,behaviours:Rl(t.tabSectionBehaviours),events:jr(q([t.selectFirst?[Zr((function(t,n){o(t,td.getFirst)}))]:[],[$r(Mr(),(function(n,e){!function(n){var e=Ml.getValue(n);Cf(n,t,"tabview").each((function(r){W(t.tabs,(function(t){return t.value===e})).each((function(e){var o=e.view();Ho(n.element,"id").each((function(t){Io(r.element,"aria-labelledby",t)})),tp.set(r,o),t.onChangeTab(r,n,o)}))}))}(e.event.button)})),$r(Nr(),(function(n,e){var r=e.event.button;t.onDismissTab(n,r)}))]])),apis:{getViewItems:function(n){return Cf(n,t,"tabview").map((function(t){return tp.contents(t)})).getOr([])},showTab:function(t,n){o(t,(function(t){var e=td.getCandidates(t);return W(e,(function(t){return Ml.getValue(t)===n})).filter((function(n){return!td.isHighlighted(t,n)}))}))}}}},apis:{getViewItems:function(t,n){return t.getViewItems(n)},showTab:function(t,n,e){t.showTab(n,e)}}}),$N=function(t,n){Li(t,"height",n+"px"),Me().browser.isIE()?qi(t,"flex-basis"):Li(t,"flex-basis",n+"px")},qN=function(t,n,e){Ha(t,'[role="dialog"]').each((function(t){Fa(t,'[role="tablist"]').each((function(r){e.get().map((function(e){return Li(n,"height","0"),Li(n,"flex-basis","0"),Math.min(e,function(t,n,e){var r,o=fo(t).dom,i=Ha(t,".tox-dialog-wrap").getOr(t);r="fixed"===Vi(i,"position")?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var a=la(n),u=n.dom.offsetLeft>=e.dom.offsetLeft+ba(e)?Math.max(la(e),a):a,c=parseInt(Vi(t,"margin-top"),10)||0,s=parseInt(Vi(t,"margin-bottom"),10)||0;return r-(la(t)+c+s-u)}(t,n,r))})).each((function(t){$N(n,t)}))}))}))},GN=function(t){return Fa(t,'[role="tabpanel"]')},KN=function(t){var n;return{smartTabHeight:(n=ce(b.none()),{extraEvents:[Zr((function(e){var r=e.element;GN(r).each((function(o){Li(o,"visibility","hidden"),e.getSystem().getByDom(o).toOptional().each((function(e){var r=function(t){return Z(J(t,(function(t,n){return t>n?-1:t<n?1:0})))}(function(t,n,e){return L(t,(function(r,o){tp.set(e,t[o].view());var i=n.dom.getBoundingClientRect();return tp.set(e,[]),i.height}))}(t,o,e));n.set(r)})),qN(r,o,n),qi(o,"visibility"),function(t,n){Z(t).each((function(t){return WN.showTab(n,t.value)}))}(t,e),Zp.requestAnimationFrame((function(){qN(r,o,n)}))}))})),$r(Sr(),(function(t){var e=t.element;GN(e).each((function(t){qN(e,t,n)}))})),$r($y,(function(t,e){var r=t.element;GN(r).each((function(t){var e=rc(wo(t));Li(t,"visibility","hidden");var o=Ui(t,"height").map((function(t){return parseInt(t,10)}));qi(t,"height"),qi(t,"flex-basis");var i=t.dom.getBoundingClientRect().height;o.forall((function(t){return i>t}))?(n.set(b.from(i)),qN(r,t,n)):o.each((function(n){$N(t,n)})),qi(t,"visibility"),e.each(ec)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}},XN=function(t,n){var e=ce({}),r=function(t){var n=Ml.getValue(t),r=MN(n).getOr({}),o=e.get(),i=Nt(o,r);e.set(i)},o=function(t){var n=e.get();Ml.setValue(t,n)},i=ce(null),u=L(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:n.shared.providers.translate(t.title)},view:function(){return[BC.sketch((function(e){return{dom:{tag:"div",classes:["tox-form"]},components:L(t.items,(function(t){return BS(e,t,n)})),formBehaviours:Ku([Xm.config({mode:"acyclic",useTabstopAt:a(s_)}),np("TabView.form.events",[Zr(o),to(r)]),tc.config({channels:qt([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:o}}])})])}}))]}}})),c=KN(u).smartTabHeight;return WN.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,n,e){var r=Ml.getValue(n);Ir(t,Wy,{name:r,oldName:i.get()}),i.set(r)},tabs:u,components:[WN.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[LN.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ku([zy.config({})])}),WN.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:c.selectFirst,tabSectionBehaviours:Ku([np("tabpanel",c.extraEvents),Xm.config({mode:"acyclic"}),Uf.config({find:function(t){return Z(WN.getViewItems(t))}}),Ml.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn(["send-data-to-section"],{}),e.get()},setValue:function(t,n){e.set(n),t.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},YN=Ko("update-dialog"),JN=Ko("update-title"),QN=Ko("update-body"),ZN=Ko("update-footer"),tR=Ko("body-send-message"),nR=function(t,n,e,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:f(f({},n.map((function(t){return{id:t}})).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:Ku([WC(0),LO.config({channel:QN,updateState:function(t,n){return b.some({isTabPanel:function(){return"tabpanel"===n.body.type}})},renderComponents:function(t){switch(t.body.type){case"tabpanel":return[XN(t.body,e)];default:return[NN(t.body,e)]}},initialData:t})])}},eR=Fv.deviceType.isTouch(),rR=function(t,n){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,n]}},oR=function(t,n){return aM.parts.close(tg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close")}},action:t,buttonBehaviours:Ku([zy.config({})])}))},iR=function(){return aM.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},aR=function(t,n){return aM.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:qE("<p>"+n.translate(t)+"</p>")}]}]})},uR=function(t){return aM.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},cR=function(t,n){return[ky.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ky.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:n})]},sR=function(t){var n,e="tox-dialog",r=e+"-wrap",o=r+"__backdrop",i=e+"__disable-scroll";return aM.sketch({lazySink:t.lazySink,onEscape:function(n){return t.onEscape(n),b.some(!0)},useTabstopAt:function(t){return!s_(t)},dom:{tag:"div",classes:[e].concat(t.extraClasses),styles:f({position:"relative"},t.extraStyles)},components:m([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:qE('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:eR?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Ku(m([ap.config({}),np("dialog-events",t.dialogEvents.concat([Qr(tr(),(function(t,n){Xm.focusIn(t)}))])),np("scroll-lock",[Zr((function(){Ai(Ri(),i)})),to((function(){Ti(Ri(),i)}))])],t.extraBehaviours)),eventOrder:f((n={},n[gr()]=["dialog-events"],n[Ar()]=["scroll-lock","dialog-events","alloy.base.behaviour"],n[Or()]=["alloy.base.behaviour","dialog-events","scroll-lock"],n),t.eventOrder)})},lR=function(t){return tg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:rg("close",t.icons)}}],action:function(t){Pr(t,Hy)}})},fR=function(t,n,e){var r=function(t){return[ra(e.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:f({},n.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:Ku([LO.config({channel:JN,renderComponents:r})])}},dR=function(){return{dom:qE('<div class="tox-dialog__draghandle"></div>')}},mR=function(t,n){return function(t,n){var e=aM.parts.title(fR(t,b.none(),n)),r=aM.parts.draghandle(dR()),o=aM.parts.close(lR(n)),i=[e].concat(t.draggable?[r]:[]).concat([o]);return ky.sketch({dom:qE('<div class="tox-dialog__header"></div>'),components:i})}({title:n.shared.providers.translate(t),draggable:n.dialog.isDraggableModal()},n.shared.providers)},pR=function(t,n,e){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":e.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:qE('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},gR=function(t,n,e){return{onClose:function(){return e.closeWindow()},onBlock:function(e){aM.setBusy(t(),(function(t,r){return pR(e.message,r,n)}))},onUnblock:function(){aM.setIdle(t())}}},hR=function(t,n,e,r){var o;return aa(sR(f(f({},t),{lazySink:r.shared.getSink,extraBehaviours:m([LO.config({channel:YN,updateState:function(t,n){return b.some(n)},initialData:n}),n_({})],t.extraBehaviours),onEscape:function(t){Pr(t,Hy)},dialogEvents:e,eventOrder:(o={},o[pr()]=[LO.name(),tc.name()],o[Ar()]=["scroll-lock",LO.name(),"messages","dialog-events","alloy.base.behaviour"],o[Or()]=["alloy.base.behaviour","dialog-events","messages",LO.name(),"scroll-lock"],o)})))},vR=function(t){return L(t,(function(t){return"menu"===t.type?function(t){var n=L(t.items,(function(t){var n=ce(!1);return f(f({},t),{storage:n})}));return f(f({},t),{items:n})}(t):t}))},bR=function(t){return U(t,(function(t,n){return"menu"===n.type?U(n.items,(function(t,n){return t[n.name]=n.storage,t}),t):t}),{})},yR=function(t,n){return[Xr(tr(),c_),t(Ly,(function(t,e){n.onClose(),e.onClose()})),t(Hy,(function(t,n,e,r){n.onCancel(t),Pr(r,Ly)})),$r(Uy,(function(t,e){return n.onUnblock()})),$r(jy,(function(t,e){return n.onBlock(e.event)}))]},xR=function(t,n){var e=function(n,e){return $r(n,(function(n,o){r(n,(function(r,i){e(t(),r,o.event,n)}))}))},r=function(t,n){LO.getState(t).get().each((function(e){n(e,t)}))};return m(yR(e,n),[e(Fy,(function(t,n,e){n.onAction(t,{name:e.name})}))])},wR=function(t,n,e){var r=function(n,e){return $r(n,(function(n,r){o(n,(function(o,i){e(t(),o,r.event,n)}))}))},o=function(t,n){LO.getState(t).get().each((function(e){n(e.internalDialog,t)}))};return m(yR(r,n),[r(Vy,(function(t,n){return n.onSubmit(t)})),r(Iy,(function(t,n,e){n.onChange(t,{name:e.name})})),r(Fy,(function(t,n,r,o){var i=function(){return Xm.focusIn(o)},a=function(t){return Fo(t,"disabled")||Ho(t,"aria-disabled").exists((function(t){return"true"===t}))},u=wo(o.element),c=rc(u);n.onAction(t,{name:r.name,value:r.value}),rc(u).fold(i,(function(t){a(t)||c.exists((function(n){return Ie(t,n)&&a(n)}))?i():e().toOptional().filter((function(n){return!Ie(n.element,t)})).each(i)}))})),r(Wy,(function(t,n,e){n.onTabChange(t,{newTabName:e.name,oldTabName:e.oldName})})),to((function(n){var e=t();Ml.setValue(n,e.getData())}))])},CR=function(t,n){var e=n.map((function(t){return t.footerButtons})).getOr([]),r=F(e,(function(t){return"start"===t.align})),o=function(t,n){return ky.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:L(n,(function(t){return t.memento.asSpec()}))})};return[o("start",r.pass),o("end",r.fail)]},_R=function(t,n){return{dom:qE('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ku([LO.config({channel:ZN,initialData:t,updateState:function(t,e){var r=L(e.buttons,(function(t){var e=ng(function(t,n){return _k(t,t.type,n)}(t,n));return{name:t.name,align:t.align,memento:e}}));return b.some({lookupByName:function(t,n){return function(t,n,e){return W(n,(function(t){return t.name===e})).bind((function(n){return n.memento.getOpt(t)}))}(t,r,n)},footerButtons:r})},renderComponents:CR})])}},kR=function(t,n){return aM.parts.footer(_R(t,n))},SR=function(t,n){if(t.getRoot().getSystem().isConnected()){var e=Uf.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return BC.getField(e,n).fold((function(){var r=t.getFooter();return LO.getState(r).get().bind((function(t){return t.lookupByName(e,n)}))}),(function(t){return b.some(t)}))}return b.none()},AR=function(t,n,e){var r=function(n){var e=t.getRoot();e.getSystem().isConnected()&&n(e)},o={getData:function(){var n=t.getRoot(),r=n.getSystem().isConnected()?t.getFormWrapper():n,o=Ml.getValue(r),i=wt(e,(function(t){return t.get()}));return f(f({},o),i)},setData:function(n){r((function(r){var i=o.getData(),a=f(f({},i),n),u=function(t,n){var e=t.getRoot();return LO.getState(e).get().map((function(t){return _n(Cn("data",t.dataValidator,n))})).getOr(n)}(t,a),c=t.getFormWrapper();Ml.setValue(c,u),xt(e,(function(t,n){Tt(a,n)&&t.set(a[n])}))}))},disable:function(n){SR(t,n).each(Jh.disable)},enable:function(n){SR(t,n).each(Jh.enable)},focus:function(n){SR(t,n).each(ap.focus)},block:function(t){if(!w(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(n){Ir(n,jy,{message:t})}))},unblock:function(){r((function(t){Pr(t,Uy)}))},showTab:function(n){r((function(e){var r=t.getBody();LO.getState(r).get().exists((function(t){return t.isTabPanel()}))&&Uf.getCurrent(r).each((function(t){WN.showTab(t,n)}))}))},redial:function(t){r((function(e){var r=n(t);e.getSystem().broadcastOn([YN],r),e.getSystem().broadcastOn([JN],r.internalDialog),e.getSystem().broadcastOn([QN],r.internalDialog),e.getSystem().broadcastOn([ZN],r.internalDialog),o.setData(r.initialData)}))},close:function(){r((function(t){Pr(t,Ly)}))}};return o},OR=function(t,n,e){var r=mR(t.internalDialog.title,e),o=function(t,n){var e=nR(t,b.none(),n,!1);return aM.parts.body(e)}({body:t.internalDialog.body},e),i=vR(t.internalDialog.buttons),a=bR(i),u=kR({buttons:i},e),c=wR((function(){return d}),gR((function(){return f}),e.shared.providers,n),e.shared.getSink),s=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(t.internalDialog.size),l={header:r,body:o,footer:b.some(u),extraClasses:s,extraBehaviours:[],extraStyles:{}},f=hR(l,t,c,e),d=AR({getRoot:function(){return f},getBody:function(){return aM.getBody(f)},getFooter:function(){return aM.getFooter(f)},getFormWrapper:function(){var t=aM.getBody(f);return Uf.getCurrent(t).getOr(t)}},n.redial,a);return{dialog:f,instanceApi:d}},TR=function(t,n,e,r){var o,i,a,u,c,s=Ko("dialog-label"),l=Ko("dialog-content"),f=ng((a={title:t.internalDialog.title,draggable:!0},u=s,c=e.shared.providers,ky.sketch({dom:qE('<div class="tox-dialog__header"></div>'),components:[fR(a,b.some(u),c),dR(),lR(c)],containerBehaviours:Ku([Wz.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return Va(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),d=ng(function(t,n,e,r){return nR(t,b.some(n),e,r)}({body:t.internalDialog.body},l,e,r)),m=vR(t.internalDialog.buttons),p=bR(m),g=ng(function(t,n){return _R(t,n)}({buttons:m},e)),h=wR((function(){return y}),{onBlock:function(t){iM.block(v,(function(n,r){return pR(t.message,r,e.shared.providers)}))},onUnblock:function(){iM.unblock(v)},onClose:function(){return n.closeWindow()}},e.shared.getSink),v=aa({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=s,o["aria-describedby"]=""+l,o)},eventOrder:(i={},i[pr()]=[LO.name(),tc.name()],i[gr()]=["execute-on-form"],i[Ar()]=["reflecting","execute-on-form"],i),behaviours:Ku([Xm.config({mode:"cyclic",onEscape:function(t){return Pr(t,Ly),b.some(!0)},useTabstopAt:function(t){return!s_(t)&&("button"!==ro(t)||"disabled"!==Lo(t,"disabled"))}}),LO.config({channel:YN,updateState:function(t,n){return b.some(n)},initialData:t}),ap.config({}),np("execute-on-form",h.concat([Qr(tr(),(function(t,n){Xm.focusIn(t)}))])),iM.config({getRoot:function(){return b.some(v)}}),tp.config({}),n_({})]),components:[f.asSpec(),d.asSpec(),g.asSpec()]}),y=AR({getRoot:function(){return v},getFooter:function(){return g.get(v)},getBody:function(){return d.get(v)},getFormWrapper:function(){var t=d.get(v);return Uf.getCurrent(t).getOr(t)}},n.redial,p);return{dialog:v,instanceApi:y}},ER=tinymce.util.Tools.resolve("tinymce.util.URI"),DR=["insertContent","setContent","execCommand","close","block","unblock"],zR=function(t){return C(t)&&-1!==DR.indexOf(t.mceAction)},MR=function(t,n,e,r){var o,i,u,c=mR(t.title,r),s=function(t){var n={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[a_({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Ku([zy.config({}),ap.config({})])})]}],behaviours:Ku([Xm.config({mode:"acyclic",useTabstopAt:a(s_)})])};return aM.parts.body(n)}(t),l=t.buttons.bind((function(t){return 0===t.length?b.none():b.some(kR({buttons:t},r))})),d=xR((function(){return _}),gR((function(){return x}),r.shared.providers,n)),m=f(f({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),p=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],g=new ER(t.url,{base_uri:new ER(window.location.href)}),h=g.protocol+"://"+g.host+(g.port?":"+g.port:""),v=ce(b.none()),y=[np("messages",[Zr((function(){var n=ay(le.fromDom(window),"message",(function(n){if(g.isSameOrigin(new ER(n.raw.origin))){var r=n.raw.data;zR(r)?function(t,n,e){switch(e.mceAction){case"insertContent":t.insertContent(e.content);break;case"setContent":t.setContent(e.content);break;case"execCommand":var r=!!k(e.ui)&&e.ui;t.execCommand(e.cmd,r,e.value);break;case"close":n.close();break;case"block":n.block(e.message);break;case"unblock":n.unblock()}}(e,_,r):function(t){return!zR(t)&&C(t)&&Tt(t,"mceAction")}(r)&&t.onMessage(_,r)}}));v.set(b.some(n))})),to((function(){v.get().each((function(t){return t.unbind()}))}))]),tc.config({channels:(o={},o[tR]={onReceive:function(t,n){Fa(t.element,"iframe").each((function(t){t.dom.contentWindow.postMessage(n,h)}))}},o)})],x=hR({header:c,body:s,footer:l,extraClasses:p,extraBehaviours:y,extraStyles:m},t,d,r),_=(i=x,u=function(t){i.getSystem().isConnected()&&t(i)},{block:function(t){if(!w(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u((function(n){Ir(n,jy,{message:t})}))},unblock:function(){u((function(t){Pr(t,Uy)}))},close:function(){u((function(t){Pr(t,Ly)}))},sendMessage:function(t){u((function(n){n.getSystem().broadcastOn([tR],t)}))}});return{dialog:x,instanceApi:_}},NR=function(t,n,e){return n&&e?[]:[AE.config({contextual:{lazyContext:function(){return b.some(za(le.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},RR=function(t){var n=t.backstage,e=t.editor,r=yv(e),o=function(t){var n=t.backstage.shared;return{open:function(e,r){var o=function(){aM.hide(c),r()},i=ng(_k({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:b.none()},"cancel",t.backstage)),a=iR(),u=oR(o,n.providers),c=aa(sR({lazySink:function(){return n.getSink()},header:rR(a,u),body:aR(e,n.providers),footer:b.some(uR(cR([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[$r(Hy,o)],eventOrder:{}}));aM.show(c);var s=i.get(c);ap.focus(s)}}}(t),i=function(t){var n=t.backstage.shared;return{open:function(e,r){var o=function(t){aM.hide(s),r(t)},i=ng(_k({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:b.none()},"submit",t.backstage)),a=_k({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:b.none()},"cancel",t.backstage),u=iR(),c=oR((function(){return o(!1)}),n.providers),s=aa(sR({lazySink:function(){return n.getSink()},header:rR(u,c),body:aR(e,n.providers),footer:b.some(uR(cR([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[$r(Hy,(function(){return o(!1)})),$r(Vy,(function(){return o(!0)}))],eventOrder:{}}));aM.show(s);var l=i.get(s);ap.focus(l)}}}(t),a=function(t,r){return zN.openUrl((function(t){var o=MR(t,{closeWindow:function(){aM.hide(o.dialog),r(o.instanceApi)}},e,n);return aM.show(o.dialog),o.instanceApi}),t)},u=function(t,e){return zN.open((function(t,r,o){var i=r,a=OR({dataValidator:o,initialData:i,internalDialog:t},{redial:zN.redial,closeWindow:function(){aM.hide(a.dialog),e(a.instanceApi)}},n);return aM.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),t)},c=function(t,o,i,a){return zN.open((function(t,u,c){var s,l=_n(Cn("data",c,u)),d=(s=ce(b.none()),{clear:function(){return s.set(b.none())},set:function(t){return s.set(b.some(t))},isSet:function(){return s.get().isSome()},on:function(t){return s.get().each(t)}}),p=n.shared.header.isPositionedAtTop(),g=function(){return d.on((function(t){Vp.reposition(t),AE.refresh(t)}))},h=TR({dataValidator:c,initialData:l,internalDialog:t},{redial:zN.redial,closeWindow:function(){d.on(Vp.hide),e.off("ResizeEditor",g),d.clear(),i(h.instanceApi)}},n,a),v=aa(Vp.sketch(f(f({lazySink:n.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},p?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Ku(m([np("window-manager-inline-events",[$r(Tr(),(function(t,n){Pr(h.dialog,Hy)}))])],NR(e,r,p))),isExtraPart:function(t,n){return function(t){return sy(t,".tox-alert-dialog")||sy(t,".tox-confirm-dialog")}(n)}})));return d.set(v),Vp.showWithin(v,o,ua(h.dialog),b.some(Ri())),r&&p||(AE.refresh(v),e.on("ResizeEditor",g)),h.instanceApi.setData(l),Xm.focusIn(h.dialog),h.instanceApi}),t)};return{open:function(t,e,r){return void 0!==e&&"toolbar"===e.inline?c(t,n.shared.anchors.inlineDialog(),r,e.ariaAttrs):void 0!==e&&"cursor"===e.inline?c(t,n.shared.anchors.cursor(),r,e.ariaAttrs):u(t,r)},openUrl:function(t,n){return a(t,n)},alert:function(t,n){o.open(t,(function(){n()}))},close:function(t){t.close()},confirm:function(t,n){i.open(t,(function(t){n(t)}))}}};l.add("silver",(function(t){var n=Zz(t),e=n.uiMothership,o=n.backstage,i=n.renderUI,a=n.getUi;oy(t,o.shared);var u=RR({editor:t,backstage:o});return{renderUI:i,getWindowManagerImpl:r(u),getNotificationManagerImpl:function(){return ug(0,{backstage:o},e)},ui:a()}}))}()}).call(this,e(1))},function(t,n,e){var r=e(16);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,e(4).default)("84424d3e",r,!1,{})},function(t,n,e){var r=e(17);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(3)(r,o);r.locals&&(t.exports=r.locals)},function(t,n,e){(t.exports=e(2)(!1)).push([t.i,'/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n */\n.tox {\n  box-shadow: none;\n  box-sizing: content-box;\n  color: #222f3e;\n  cursor: auto;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: normal;\n  -webkit-tap-highlight-color: transparent;\n  text-decoration: none;\n  text-shadow: none;\n  text-transform: none;\n  vertical-align: initial;\n  white-space: normal;\n}\n.tox *:not(svg):not(rect) {\n  box-sizing: inherit;\n  color: inherit;\n  cursor: inherit;\n  direction: inherit;\n  font-family: inherit;\n  font-size: inherit;\n  font-style: inherit;\n  font-weight: inherit;\n  line-height: inherit;\n  -webkit-tap-highlight-color: inherit;\n  text-align: inherit;\n  text-decoration: inherit;\n  text-shadow: inherit;\n  text-transform: inherit;\n  vertical-align: inherit;\n  white-space: inherit;\n}\n.tox *:not(svg):not(rect) {\n  /* stylelint-disable-line no-duplicate-selectors */\n  background: transparent;\n  border: 0;\n  box-shadow: none;\n  float: none;\n  height: auto;\n  margin: 0;\n  max-width: none;\n  outline: 0;\n  padding: 0;\n  position: static;\n  width: auto;\n}\n.tox:not([dir=rtl]) {\n  direction: ltr;\n  text-align: left;\n}\n.tox[dir=rtl] {\n  direction: rtl;\n  text-align: right;\n}\n.tox-tinymce {\n  border: 1px solid #cccccc;\n  border-radius: 0;\n  box-shadow: none;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n  overflow: hidden;\n  position: relative;\n  visibility: inherit !important;\n}\n.tox-tinymce-inline {\n  border: none;\n  box-shadow: none;\n}\n.tox-tinymce-inline .tox-editor-header {\n  background-color: transparent;\n  border: 1px solid #cccccc;\n  border-radius: 0;\n  box-shadow: none;\n}\n.tox-tinymce-aux {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n  z-index: 1300;\n}\n.tox-tinymce *:focus,\n.tox-tinymce-aux *:focus {\n  outline: none;\n}\nbutton::-moz-focus-inner {\n  border: 0;\n}\n.tox .accessibility-issue__header {\n  align-items: center;\n  display: flex;\n  margin-bottom: 4px;\n}\n.tox .accessibility-issue__description {\n  align-items: stretch;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  display: flex;\n  justify-content: space-between;\n}\n.tox .accessibility-issue__description > div {\n  padding-bottom: 4px;\n}\n.tox .accessibility-issue__description > div > div {\n  align-items: center;\n  display: flex;\n  margin-bottom: 4px;\n}\n.tox .accessibility-issue__description > *:last-child:not(:only-child) {\n  border-color: #cccccc;\n  border-style: solid;\n}\n.tox .accessibility-issue__repair {\n  margin-top: 16px;\n}\n.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description {\n  background-color: rgba(32, 122, 183, 0.1);\n  border-color: rgba(32, 122, 183, 0.4);\n  color: #222f3e;\n}\n.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description > *:last-child {\n  border-color: rgba(32, 122, 183, 0.4);\n}\n.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2 {\n  color: #207ab7;\n}\n.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg {\n  fill: #207ab7;\n}\n.tox .tox-dialog__body-content .accessibility-issue--info a .tox-icon {\n  color: #207ab7;\n}\n.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description {\n  background-color: rgba(255, 165, 0, 0.1);\n  border-color: rgba(255, 165, 0, 0.5);\n  color: #222f3e;\n}\n.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description > *:last-child {\n  border-color: rgba(255, 165, 0, 0.5);\n}\n.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2 {\n  color: #cc8500;\n}\n.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg {\n  fill: #cc8500;\n}\n.tox .tox-dialog__body-content .accessibility-issue--warn a .tox-icon {\n  color: #cc8500;\n}\n.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description {\n  background-color: rgba(204, 0, 0, 0.1);\n  border-color: rgba(204, 0, 0, 0.4);\n  color: #222f3e;\n}\n.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description > *:last-child {\n  border-color: rgba(204, 0, 0, 0.4);\n}\n.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2 {\n  color: #c00;\n}\n.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg {\n  fill: #c00;\n}\n.tox .tox-dialog__body-content .accessibility-issue--error a .tox-icon {\n  color: #c00;\n}\n.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description {\n  background-color: rgba(120, 171, 70, 0.1);\n  border-color: rgba(120, 171, 70, 0.4);\n  color: #222f3e;\n}\n.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description > *:last-child {\n  border-color: rgba(120, 171, 70, 0.4);\n}\n.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2 {\n  color: #78AB46;\n}\n.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg {\n  fill: #78AB46;\n}\n.tox .tox-dialog__body-content .accessibility-issue--success a .tox-icon {\n  color: #78AB46;\n}\n.tox .tox-dialog__body-content .accessibility-issue__header h1,\n.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2 {\n  margin-top: 0;\n}\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button {\n  margin-left: 4px;\n}\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header > *:nth-last-child(2) {\n  margin-left: auto;\n}\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description {\n  padding: 4px 4px 4px 8px;\n}\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description > *:last-child {\n  border-left-width: 1px;\n  padding-left: 4px;\n}\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button {\n  margin-right: 4px;\n}\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header > *:nth-last-child(2) {\n  margin-right: auto;\n}\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description {\n  padding: 4px 8px 4px 4px;\n}\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description > *:last-child {\n  border-right-width: 1px;\n  padding-right: 4px;\n}\n.tox .tox-anchorbar {\n  display: flex;\n  flex: 0 0 auto;\n}\n.tox .tox-bar {\n  display: flex;\n  flex: 0 0 auto;\n}\n.tox .tox-button {\n  background-color: #207ab7;\n  background-image: none;\n  background-position: 0 0;\n  background-repeat: repeat;\n  border-color: #207ab7;\n  border-radius: 3px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: none;\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: bold;\n  letter-spacing: normal;\n  line-height: 24px;\n  margin: 0;\n  outline: none;\n  padding: 4px 16px;\n  text-align: center;\n  text-decoration: none;\n  text-transform: capitalize;\n  white-space: nowrap;\n}\n.tox .tox-button[disabled] {\n  background-color: #207ab7;\n  background-image: none;\n  border-color: #207ab7;\n  box-shadow: none;\n  color: rgba(255, 255, 255, 0.5);\n  cursor: not-allowed;\n}\n.tox .tox-button:focus:not(:disabled) {\n  background-color: #1c6ca1;\n  background-image: none;\n  border-color: #1c6ca1;\n  box-shadow: none;\n  color: #fff;\n}\n.tox .tox-button:hover:not(:disabled) {\n  background-color: #1c6ca1;\n  background-image: none;\n  border-color: #1c6ca1;\n  box-shadow: none;\n  color: #fff;\n}\n.tox .tox-button:active:not(:disabled) {\n  background-color: #185d8c;\n  background-image: none;\n  border-color: #185d8c;\n  box-shadow: none;\n  color: #fff;\n}\n.tox .tox-button--secondary {\n  background-color: #f0f0f0;\n  background-image: none;\n  background-position: 0 0;\n  background-repeat: repeat;\n  border-color: #f0f0f0;\n  border-radius: 3px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: none;\n  color: #222f3e;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: bold;\n  letter-spacing: normal;\n  outline: none;\n  padding: 4px 16px;\n  text-decoration: none;\n  text-transform: capitalize;\n}\n.tox .tox-button--secondary[disabled] {\n  background-color: #f0f0f0;\n  background-image: none;\n  border-color: #f0f0f0;\n  box-shadow: none;\n  color: rgba(34, 47, 62, 0.5);\n}\n.tox .tox-button--secondary:focus:not(:disabled) {\n  background-color: #e3e3e3;\n  background-image: none;\n  border-color: #e3e3e3;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-button--secondary:hover:not(:disabled) {\n  background-color: #e3e3e3;\n  background-image: none;\n  border-color: #e3e3e3;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-button--secondary:active:not(:disabled) {\n  background-color: #d6d6d6;\n  background-image: none;\n  border-color: #d6d6d6;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-button--icon,\n.tox .tox-button.tox-button--icon,\n.tox .tox-button.tox-button--secondary.tox-button--icon {\n  padding: 4px;\n}\n.tox .tox-button--icon .tox-icon svg,\n.tox .tox-button.tox-button--icon .tox-icon svg,\n.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg {\n  display: block;\n  fill: currentColor;\n}\n.tox .tox-button-link {\n  background: 0;\n  border: none;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: inline-block;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n  font-size: 16px;\n  font-weight: normal;\n  line-height: 1.3;\n  margin: 0;\n  padding: 0;\n  white-space: nowrap;\n}\n.tox .tox-button-link--sm {\n  font-size: 14px;\n}\n.tox .tox-button--naked {\n  background-color: transparent;\n  border-color: transparent;\n  box-shadow: unset;\n  color: #222f3e;\n}\n.tox .tox-button--naked[disabled] {\n  background-color: #f0f0f0;\n  border-color: #f0f0f0;\n  box-shadow: none;\n  color: rgba(34, 47, 62, 0.5);\n}\n.tox .tox-button--naked:hover:not(:disabled) {\n  background-color: #e3e3e3;\n  border-color: #e3e3e3;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-button--naked:focus:not(:disabled) {\n  background-color: #e3e3e3;\n  border-color: #e3e3e3;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-button--naked:active:not(:disabled) {\n  background-color: #d6d6d6;\n  border-color: #d6d6d6;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-button--naked .tox-icon svg {\n  fill: currentColor;\n}\n.tox .tox-button--naked.tox-button--icon:hover:not(:disabled) {\n  color: #222f3e;\n}\n.tox .tox-checkbox {\n  align-items: center;\n  border-radius: 3px;\n  cursor: pointer;\n  display: flex;\n  height: 36px;\n  min-width: 36px;\n}\n.tox .tox-checkbox__input {\n  /* Hide from view but visible to screen readers */\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  top: auto;\n  width: 1px;\n}\n.tox .tox-checkbox__icons {\n  align-items: center;\n  border-radius: 3px;\n  box-shadow: 0 0 0 2px transparent;\n  box-sizing: content-box;\n  display: flex;\n  height: 24px;\n  justify-content: center;\n  padding: calc(4px - 1px);\n  width: 24px;\n}\n.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\n  display: block;\n  fill: rgba(34, 47, 62, 0.3);\n}\n.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\n  display: none;\n  fill: #207ab7;\n}\n.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg {\n  display: none;\n  fill: #207ab7;\n}\n.tox .tox-checkbox--disabled {\n  color: rgba(34, 47, 62, 0.5);\n  cursor: not-allowed;\n}\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg {\n  fill: rgba(34, 47, 62, 0.5);\n}\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\n  fill: rgba(34, 47, 62, 0.5);\n}\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\n  fill: rgba(34, 47, 62, 0.5);\n}\n.tox input.tox-checkbox__input:checked + .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\n  display: none;\n}\n.tox input.tox-checkbox__input:checked + .tox-checkbox__icons .tox-checkbox-icon__checked svg {\n  display: block;\n}\n.tox input.tox-checkbox__input:indeterminate + .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\n  display: none;\n}\n.tox input.tox-checkbox__input:indeterminate + .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\n  display: block;\n}\n.tox input.tox-checkbox__input:focus + .tox-checkbox__icons {\n  border-radius: 3px;\n  box-shadow: inset 0 0 0 1px #207ab7;\n  padding: calc(4px - 1px);\n}\n.tox:not([dir=rtl]) .tox-checkbox__label {\n  margin-left: 4px;\n}\n.tox:not([dir=rtl]) .tox-checkbox__input {\n  left: -10000px;\n}\n.tox:not([dir=rtl]) .tox-bar .tox-checkbox {\n  margin-left: 4px;\n}\n.tox[dir=rtl] .tox-checkbox__label {\n  margin-right: 4px;\n}\n.tox[dir=rtl] .tox-checkbox__input {\n  right: -10000px;\n}\n.tox[dir=rtl] .tox-bar .tox-checkbox {\n  margin-right: 4px;\n}\n.tox {\n  /* stylelint-disable-next-line no-descending-specificity */\n}\n.tox .tox-collection--toolbar .tox-collection__group {\n  display: flex;\n  padding: 0;\n}\n.tox .tox-collection--grid .tox-collection__group {\n  display: flex;\n  flex-wrap: wrap;\n  max-height: 208px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding: 0;\n}\n.tox .tox-collection--list .tox-collection__group {\n  border-bottom-width: 0;\n  border-color: #cccccc;\n  border-left-width: 0;\n  border-right-width: 0;\n  border-style: solid;\n  border-top-width: 1px;\n  padding: 4px 0;\n}\n.tox .tox-collection--list .tox-collection__group:first-child {\n  border-top-width: 0;\n}\n.tox .tox-collection__group-heading {\n  background-color: #e6e6e6;\n  color: rgba(34, 47, 62, 0.7);\n  cursor: default;\n  font-size: 12px;\n  font-style: normal;\n  font-weight: normal;\n  margin-bottom: 4px;\n  margin-top: -4px;\n  padding: 4px 8px;\n  text-transform: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.tox .tox-collection__item {\n  align-items: center;\n  color: #222f3e;\n  cursor: pointer;\n  display: flex;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.tox .tox-collection--list .tox-collection__item {\n  padding: 4px 8px;\n}\n.tox .tox-collection--toolbar .tox-collection__item {\n  border-radius: 3px;\n  padding: 4px;\n}\n.tox .tox-collection--grid .tox-collection__item {\n  border-radius: 3px;\n  padding: 4px;\n}\n.tox .tox-collection--list .tox-collection__item--enabled {\n  background-color: #fff;\n  color: #222f3e;\n}\n.tox .tox-collection--list .tox-collection__item--active {\n  background-color: #dee0e2;\n}\n.tox .tox-collection--toolbar .tox-collection__item--enabled {\n  background-color: #c8cbcf;\n  color: #222f3e;\n}\n.tox .tox-collection--toolbar .tox-collection__item--active {\n  background-color: #dee0e2;\n}\n.tox .tox-collection--grid .tox-collection__item--enabled {\n  background-color: #c8cbcf;\n  color: #222f3e;\n}\n.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\n  background-color: #dee0e2;\n  color: #222f3e;\n}\n.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\n  color: #222f3e;\n}\n.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\n  color: #222f3e;\n}\n.tox .tox-collection__item--state-disabled {\n  background-color: transparent;\n  color: rgba(34, 47, 62, 0.5);\n  cursor: not-allowed;\n}\n.tox .tox-collection__item-icon,\n.tox .tox-collection__item-checkmark {\n  align-items: center;\n  display: flex;\n  height: 24px;\n  justify-content: center;\n  width: 24px;\n}\n.tox .tox-collection__item-icon svg,\n.tox .tox-collection__item-checkmark svg {\n  fill: currentColor;\n}\n.tox .tox-collection--toolbar-lg .tox-collection__item-icon {\n  height: 48px;\n  width: 48px;\n}\n.tox .tox-collection__item-label {\n  color: currentColor;\n  display: inline-block;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 24px;\n  text-transform: none;\n  word-break: break-all;\n}\n.tox .tox-collection__item-accessory {\n  color: rgba(34, 47, 62, 0.7);\n  display: inline-block;\n  font-size: 14px;\n  height: 24px;\n  line-height: 24px;\n  text-transform: none;\n}\n.tox .tox-collection__item-caret {\n  align-items: center;\n  display: flex;\n  min-height: 24px;\n}\n.tox .tox-collection__item-caret::after {\n  content: \'\';\n  font-size: 0;\n  min-height: inherit;\n}\n.tox .tox-collection__item-caret svg {\n  fill: #222f3e;\n}\n.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg {\n  display: none;\n}\n.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory + .tox-collection__item-checkmark {\n  display: none;\n}\n.tox .tox-collection--horizontal {\n  background-color: #fff;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n  display: flex;\n  flex: 0 0 auto;\n  flex-shrink: 0;\n  flex-wrap: nowrap;\n  margin-bottom: 0;\n  overflow-x: auto;\n  padding: 0;\n}\n.tox .tox-collection--horizontal .tox-collection__group {\n  align-items: center;\n  display: flex;\n  flex-wrap: nowrap;\n  margin: 0;\n  padding: 0 4px;\n}\n.tox .tox-collection--horizontal .tox-collection__item {\n  height: 34px;\n  margin: 2px 0 3px 0;\n  padding: 0 4px;\n}\n.tox .tox-collection--horizontal .tox-collection__item-label {\n  white-space: nowrap;\n}\n.tox .tox-collection--horizontal .tox-collection__item-caret {\n  margin-left: 4px;\n}\n.tox .tox-collection__item-container {\n  display: flex;\n}\n.tox .tox-collection__item-container--row {\n  align-items: center;\n  flex: 1 1 auto;\n  flex-direction: row;\n}\n.tox .tox-collection__item-container--row.tox-collection__item-container--align-left {\n  margin-right: auto;\n}\n.tox .tox-collection__item-container--row.tox-collection__item-container--align-right {\n  justify-content: flex-end;\n  margin-left: auto;\n}\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top {\n  align-items: flex-start;\n  margin-bottom: auto;\n}\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle {\n  align-items: center;\n}\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom {\n  align-items: flex-end;\n  margin-top: auto;\n}\n.tox .tox-collection__item-container--column {\n  -ms-grid-row-align: center;\n      align-self: center;\n  flex: 1 1 auto;\n  flex-direction: column;\n}\n.tox .tox-collection__item-container--column.tox-collection__item-container--align-left {\n  align-items: flex-start;\n}\n.tox .tox-collection__item-container--column.tox-collection__item-container--align-right {\n  align-items: flex-end;\n}\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top {\n  align-self: flex-start;\n}\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle {\n  -ms-grid-row-align: center;\n      align-self: center;\n}\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom {\n  align-self: flex-end;\n}\n.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type) {\n  border-right: 1px solid #cccccc;\n}\n.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item > *:not(:first-child) {\n  margin-left: 8px;\n}\n.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item > .tox-collection__item-label:first-child {\n  margin-left: 4px;\n}\n.tox:not([dir=rtl]) .tox-collection__item-accessory {\n  margin-left: 16px;\n  text-align: right;\n}\n.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret {\n  margin-left: 16px;\n}\n.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type) {\n  border-left: 1px solid #cccccc;\n}\n.tox[dir=rtl] .tox-collection--list .tox-collection__item > *:not(:first-child) {\n  margin-right: 8px;\n}\n.tox[dir=rtl] .tox-collection--list .tox-collection__item > .tox-collection__item-label:first-child {\n  margin-right: 4px;\n}\n.tox[dir=rtl] .tox-collection__item-icon-rtl {\n  /* stylelint-disable-next-line no-descending-specificity */\n}\n.tox[dir=rtl] .tox-collection__item-icon-rtl .tox-collection__item-icon svg {\n  transform: rotateY(180deg);\n}\n.tox[dir=rtl] .tox-collection__item-accessory {\n  margin-right: 16px;\n  text-align: left;\n}\n.tox[dir=rtl] .tox-collection .tox-collection__item-caret {\n  margin-right: 16px;\n  transform: rotateY(180deg);\n}\n.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret {\n  margin-right: 4px;\n}\n.tox .tox-color-picker-container {\n  display: flex;\n  flex-direction: row;\n  height: 225px;\n  margin: 0;\n}\n.tox .tox-sv-palette {\n  box-sizing: border-box;\n  display: flex;\n  height: 100%;\n}\n.tox .tox-sv-palette-spectrum {\n  height: 100%;\n}\n.tox .tox-sv-palette,\n.tox .tox-sv-palette-spectrum {\n  width: 225px;\n}\n.tox .tox-sv-palette-thumb {\n  background: none;\n  border: 1px solid black;\n  border-radius: 50%;\n  box-sizing: content-box;\n  height: 12px;\n  position: absolute;\n  width: 12px;\n}\n.tox .tox-sv-palette-inner-thumb {\n  border: 1px solid white;\n  border-radius: 50%;\n  height: 10px;\n  position: absolute;\n  width: 10px;\n}\n.tox .tox-hue-slider {\n  box-sizing: border-box;\n  height: 100%;\n  width: 25px;\n}\n.tox .tox-hue-slider-spectrum {\n  background: linear-gradient(to bottom, #f00, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, #f00);\n  height: 100%;\n  width: 100%;\n}\n.tox .tox-hue-slider,\n.tox .tox-hue-slider-spectrum {\n  width: 20px;\n}\n.tox .tox-hue-slider-thumb {\n  background: white;\n  border: 1px solid black;\n  box-sizing: content-box;\n  height: 4px;\n  width: 100%;\n}\n.tox .tox-rgb-form {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.tox .tox-rgb-form div {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 5px;\n  width: inherit;\n}\n.tox .tox-rgb-form input {\n  width: 6em;\n}\n.tox .tox-rgb-form input.tox-invalid {\n  /* Need !important to override Chrome\'s focus styling unfortunately */\n  border: 1px solid red !important;\n}\n.tox .tox-rgb-form .tox-rgba-preview {\n  border: 1px solid black;\n  flex-grow: 2;\n  margin-bottom: 0;\n}\n.tox:not([dir=rtl]) .tox-sv-palette {\n  margin-right: 15px;\n}\n.tox:not([dir=rtl]) .tox-hue-slider {\n  margin-right: 15px;\n}\n.tox:not([dir=rtl]) .tox-hue-slider-thumb {\n  margin-left: -1px;\n}\n.tox:not([dir=rtl]) .tox-rgb-form label {\n  margin-right: 0.5em;\n}\n.tox[dir=rtl] .tox-sv-palette {\n  margin-left: 15px;\n}\n.tox[dir=rtl] .tox-hue-slider {\n  margin-left: 15px;\n}\n.tox[dir=rtl] .tox-hue-slider-thumb {\n  margin-right: -1px;\n}\n.tox[dir=rtl] .tox-rgb-form label {\n  margin-left: 0.5em;\n}\n.tox .tox-toolbar .tox-swatches,\n.tox .tox-toolbar__primary .tox-swatches,\n.tox .tox-toolbar__overflow .tox-swatches {\n  margin: 2px 0 3px 4px;\n}\n.tox .tox-collection--list .tox-collection__group .tox-swatches-menu {\n  border: 0;\n  margin: -4px 0;\n}\n.tox .tox-swatches__row {\n  display: flex;\n}\n.tox .tox-swatch {\n  height: 30px;\n  transition: transform 0.15s, box-shadow 0.15s;\n  width: 30px;\n}\n.tox .tox-swatch:hover,\n.tox .tox-swatch:focus {\n  box-shadow: 0 0 0 1px rgba(127, 127, 127, 0.3) inset;\n  transform: scale(0.8);\n}\n.tox .tox-swatch--remove {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n.tox .tox-swatch--remove svg path {\n  stroke: #e74c3c;\n}\n.tox .tox-swatches__picker-btn {\n  align-items: center;\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: flex;\n  height: 30px;\n  justify-content: center;\n  outline: none;\n  padding: 0;\n  width: 30px;\n}\n.tox .tox-swatches__picker-btn svg {\n  height: 24px;\n  width: 24px;\n}\n.tox .tox-swatches__picker-btn:hover {\n  background: #dee0e2;\n}\n.tox:not([dir=rtl]) .tox-swatches__picker-btn {\n  margin-left: auto;\n}\n.tox[dir=rtl] .tox-swatches__picker-btn {\n  margin-right: auto;\n}\n.tox .tox-comment-thread {\n  background: #fff;\n  position: relative;\n}\n.tox .tox-comment-thread > *:not(:first-child) {\n  margin-top: 8px;\n}\n.tox .tox-comment {\n  background: #fff;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\n  padding: 8px 8px 16px 8px;\n  position: relative;\n}\n.tox .tox-comment__header {\n  align-items: center;\n  color: #222f3e;\n  display: flex;\n  justify-content: space-between;\n}\n.tox .tox-comment__date {\n  color: rgba(34, 47, 62, 0.7);\n  font-size: 12px;\n}\n.tox .tox-comment__body {\n  color: #222f3e;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.3;\n  margin-top: 8px;\n  position: relative;\n  text-transform: initial;\n}\n.tox .tox-comment__body textarea {\n  resize: none;\n  white-space: normal;\n  width: 100%;\n}\n.tox .tox-comment__expander {\n  padding-top: 8px;\n}\n.tox .tox-comment__expander p {\n  color: rgba(34, 47, 62, 0.7);\n  font-size: 14px;\n  font-style: normal;\n}\n.tox .tox-comment__body p {\n  margin: 0;\n}\n.tox .tox-comment__buttonspacing {\n  padding-top: 16px;\n  text-align: center;\n}\n.tox .tox-comment-thread__overlay::after {\n  background: #fff;\n  bottom: 0;\n  content: "";\n  display: flex;\n  left: 0;\n  opacity: 0.9;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 5;\n}\n.tox .tox-comment__reply {\n  display: flex;\n  flex-shrink: 0;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  margin-top: 8px;\n}\n.tox .tox-comment__reply > *:first-child {\n  margin-bottom: 8px;\n  width: 100%;\n}\n.tox .tox-comment__edit {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  margin-top: 16px;\n}\n.tox .tox-comment__gradient::after {\n  background: linear-gradient(rgba(255, 255, 255, 0), #fff);\n  bottom: 0;\n  content: "";\n  display: block;\n  height: 5em;\n  margin-top: -40px;\n  position: absolute;\n  width: 100%;\n}\n.tox .tox-comment__overlay {\n  background: #fff;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  left: 0;\n  opacity: 0.9;\n  position: absolute;\n  right: 0;\n  text-align: center;\n  top: 0;\n  z-index: 5;\n}\n.tox .tox-comment__loading-text {\n  align-items: center;\n  color: #222f3e;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n.tox .tox-comment__loading-text > div {\n  padding-bottom: 16px;\n}\n.tox .tox-comment__overlaytext {\n  bottom: 0;\n  flex-direction: column;\n  font-size: 14px;\n  left: 0;\n  padding: 1em;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 10;\n}\n.tox .tox-comment__overlaytext p {\n  background-color: #fff;\n  box-shadow: 0 0 8px 8px #fff;\n  color: #222f3e;\n  text-align: center;\n}\n.tox .tox-comment__overlaytext div:nth-of-type(2) {\n  font-size: 0.8em;\n}\n.tox .tox-comment__busy-spinner {\n  align-items: center;\n  background-color: #fff;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 20;\n}\n.tox .tox-comment__scroll {\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 1;\n  overflow: auto;\n}\n.tox .tox-conversations {\n  margin: 8px;\n}\n.tox:not([dir=rtl]) .tox-comment__edit {\n  margin-left: 8px;\n}\n.tox:not([dir=rtl]) .tox-comment__buttonspacing > *:last-child,\n.tox:not([dir=rtl]) .tox-comment__edit > *:last-child,\n.tox:not([dir=rtl]) .tox-comment__reply > *:last-child {\n  margin-left: 8px;\n}\n.tox[dir=rtl] .tox-comment__edit {\n  margin-right: 8px;\n}\n.tox[dir=rtl] .tox-comment__buttonspacing > *:last-child,\n.tox[dir=rtl] .tox-comment__edit > *:last-child,\n.tox[dir=rtl] .tox-comment__reply > *:last-child {\n  margin-right: 8px;\n}\n.tox .tox-user {\n  align-items: center;\n  display: flex;\n}\n.tox .tox-user__avatar svg {\n  fill: rgba(34, 47, 62, 0.7);\n}\n.tox .tox-user__name {\n  color: rgba(34, 47, 62, 0.7);\n  font-size: 12px;\n  font-style: normal;\n  font-weight: bold;\n  text-transform: uppercase;\n}\n.tox:not([dir=rtl]) .tox-user__avatar svg {\n  margin-right: 8px;\n}\n.tox:not([dir=rtl]) .tox-user__avatar + .tox-user__name {\n  margin-left: 8px;\n}\n.tox[dir=rtl] .tox-user__avatar svg {\n  margin-left: 8px;\n}\n.tox[dir=rtl] .tox-user__avatar + .tox-user__name {\n  margin-right: 8px;\n}\n.tox .tox-dialog-wrap {\n  align-items: center;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  z-index: 1100;\n}\n.tox .tox-dialog-wrap__backdrop {\n  background-color: rgba(255, 255, 255, 0.75);\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 1;\n}\n.tox .tox-dialog-wrap__backdrop--opaque {\n  background-color: #fff;\n}\n.tox .tox-dialog {\n  background-color: #fff;\n  border-color: #cccccc;\n  border-radius: 3px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: 0 16px 16px -10px rgba(34, 47, 62, 0.15), 0 0 40px 1px rgba(34, 47, 62, 0.15);\n  display: flex;\n  flex-direction: column;\n  max-height: 100%;\n  max-width: 480px;\n  overflow: hidden;\n  position: relative;\n  width: 95vw;\n  z-index: 2;\n}\n@media only screen and (max-width:767px) {\n  body:not(.tox-force-desktop) .tox .tox-dialog {\n    align-self: flex-start;\n    margin: 8px auto;\n    width: calc(100vw - 16px);\n  }\n}\n.tox .tox-dialog-inline {\n  z-index: 1100;\n}\n.tox .tox-dialog__header {\n  align-items: center;\n  background-color: #fff;\n  border-bottom: none;\n  color: #222f3e;\n  display: flex;\n  font-size: 16px;\n  justify-content: space-between;\n  padding: 8px 16px 0 16px;\n  position: relative;\n}\n.tox .tox-dialog__header .tox-button {\n  z-index: 1;\n}\n.tox .tox-dialog__draghandle {\n  cursor: -webkit-grab;\n  cursor: grab;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n.tox .tox-dialog__draghandle:active {\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.tox .tox-dialog__dismiss {\n  margin-left: auto;\n}\n.tox .tox-dialog__title {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n  font-size: 20px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.3;\n  margin: 0;\n  text-transform: none;\n}\n.tox .tox-dialog__body {\n  color: #222f3e;\n  display: flex;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.3;\n  min-width: 0;\n  text-align: left;\n  text-transform: none;\n}\n@media only screen and (max-width:767px) {\n  body:not(.tox-force-desktop) .tox .tox-dialog__body {\n    flex-direction: column;\n  }\n}\n.tox .tox-dialog__body-nav {\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n}\n@media only screen and (max-width:767px) {\n  body:not(.tox-force-desktop) .tox .tox-dialog__body-nav {\n    flex-direction: row;\n    -webkit-overflow-scrolling: touch;\n    overflow-x: auto;\n    padding-bottom: 0;\n  }\n}\n.tox .tox-dialog__body-nav-item {\n  border-bottom: 2px solid transparent;\n  color: rgba(34, 47, 62, 0.7);\n  display: inline-block;\n  font-size: 14px;\n  line-height: 1.3;\n  margin-bottom: 8px;\n  text-decoration: none;\n  white-space: nowrap;\n}\n.tox .tox-dialog__body-nav-item:focus {\n  background-color: rgba(32, 122, 183, 0.1);\n}\n.tox .tox-dialog__body-nav-item--active {\n  border-bottom: 2px solid #207ab7;\n  color: #207ab7;\n}\n.tox .tox-dialog__body-content {\n  box-sizing: border-box;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  -ms-flex-preferred-size: auto;\n  max-height: 650px;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  padding: 16px 16px;\n}\n.tox .tox-dialog__body-content > * {\n  margin-bottom: 0;\n  margin-top: 16px;\n}\n.tox .tox-dialog__body-content > *:first-child {\n  margin-top: 0;\n}\n.tox .tox-dialog__body-content > *:last-child {\n  margin-bottom: 0;\n}\n.tox .tox-dialog__body-content > *:only-child {\n  margin-bottom: 0;\n  margin-top: 0;\n}\n.tox .tox-dialog__body-content a {\n  color: #207ab7;\n  cursor: pointer;\n  text-decoration: none;\n}\n.tox .tox-dialog__body-content a:hover,\n.tox .tox-dialog__body-content a:focus {\n  color: #185d8c;\n  text-decoration: none;\n}\n.tox .tox-dialog__body-content a:active {\n  color: #185d8c;\n  text-decoration: none;\n}\n.tox .tox-dialog__body-content svg {\n  fill: #222f3e;\n}\n.tox .tox-dialog__body-content ul {\n  display: block;\n  list-style-type: disc;\n  margin-bottom: 16px;\n  -webkit-margin-end: 0;\n          margin-inline-end: 0;\n  -webkit-margin-start: 0;\n          margin-inline-start: 0;\n  -webkit-padding-start: 2.5rem;\n          padding-inline-start: 2.5rem;\n}\n.tox .tox-dialog__body-content .tox-form__group h1 {\n  color: #222f3e;\n  font-size: 20px;\n  font-style: normal;\n  font-weight: bold;\n  letter-spacing: normal;\n  margin-bottom: 16px;\n  margin-top: 2rem;\n  text-transform: none;\n}\n.tox .tox-dialog__body-content .tox-form__group h2 {\n  color: #222f3e;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: bold;\n  letter-spacing: normal;\n  margin-bottom: 16px;\n  margin-top: 2rem;\n  text-transform: none;\n}\n.tox .tox-dialog__body-content .tox-form__group p {\n  margin-bottom: 16px;\n}\n.tox .tox-dialog__body-content .tox-form__group h1:first-child,\n.tox .tox-dialog__body-content .tox-form__group h2:first-child,\n.tox .tox-dialog__body-content .tox-form__group p:first-child {\n  margin-top: 0;\n}\n.tox .tox-dialog__body-content .tox-form__group h1:last-child,\n.tox .tox-dialog__body-content .tox-form__group h2:last-child,\n.tox .tox-dialog__body-content .tox-form__group p:last-child {\n  margin-bottom: 0;\n}\n.tox .tox-dialog__body-content .tox-form__group h1:only-child,\n.tox .tox-dialog__body-content .tox-form__group h2:only-child,\n.tox .tox-dialog__body-content .tox-form__group p:only-child {\n  margin-bottom: 0;\n  margin-top: 0;\n}\n.tox .tox-dialog--width-lg {\n  height: 650px;\n  max-width: 1200px;\n}\n.tox .tox-dialog--width-md {\n  max-width: 800px;\n}\n.tox .tox-dialog--width-md .tox-dialog__body-content {\n  overflow: auto;\n}\n.tox .tox-dialog__body-content--centered {\n  text-align: center;\n}\n.tox .tox-dialog__footer {\n  align-items: center;\n  background-color: #fff;\n  border-top: 1px solid #cccccc;\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 16px;\n}\n.tox .tox-dialog__footer-start,\n.tox .tox-dialog__footer-end {\n  display: flex;\n}\n.tox .tox-dialog__busy-spinner {\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.75);\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 3;\n}\n.tox .tox-dialog__table {\n  border-collapse: collapse;\n  width: 100%;\n}\n.tox .tox-dialog__table thead th {\n  font-weight: bold;\n  padding-bottom: 8px;\n}\n.tox .tox-dialog__table tbody tr {\n  border-bottom: 1px solid #cccccc;\n}\n.tox .tox-dialog__table tbody tr:last-child {\n  border-bottom: none;\n}\n.tox .tox-dialog__table td {\n  padding-bottom: 8px;\n  padding-top: 8px;\n}\n.tox .tox-dialog__popups {\n  position: absolute;\n  width: 100%;\n  z-index: 1100;\n}\n.tox .tox-dialog__body-iframe {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-dialog__body-iframe .tox-navobj {\n  display: flex;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2) {\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n  height: 100%;\n}\n.tox .tox-dialog-dock-fadeout {\n  opacity: 0;\n  visibility: hidden;\n}\n.tox .tox-dialog-dock-fadein {\n  opacity: 1;\n  visibility: visible;\n}\n.tox .tox-dialog-dock-transition {\n  transition: visibility 0s linear 0.3s, opacity 0.3s ease;\n}\n.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein {\n  transition-delay: 0s;\n}\n.tox.tox-platform-ie {\n  /* IE11 CSS styles go here */\n}\n.tox.tox-platform-ie .tox-dialog-wrap {\n  position: -ms-device-fixed;\n}\n@media only screen and (max-width:767px) {\n  body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav {\n    margin-right: 0;\n  }\n}\n@media only screen and (max-width:767px) {\n  body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child) {\n    margin-left: 8px;\n  }\n}\n.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start > *,\n.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end > * {\n  margin-left: 8px;\n}\n.tox[dir=rtl] .tox-dialog__body {\n  text-align: right;\n}\n@media only screen and (max-width:767px) {\n  body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav {\n    margin-left: 0;\n  }\n}\n@media only screen and (max-width:767px) {\n  body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child) {\n    margin-right: 8px;\n  }\n}\n.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start > *,\n.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end > * {\n  margin-right: 8px;\n}\nbody.tox-dialog__disable-scroll {\n  overflow: hidden;\n}\n.tox .tox-dropzone-container {\n  display: flex;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-dropzone {\n  align-items: center;\n  background: #fff;\n  border: 2px dashed #cccccc;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  justify-content: center;\n  min-height: 100px;\n  padding: 10px;\n}\n.tox .tox-dropzone p {\n  color: rgba(34, 47, 62, 0.7);\n  margin: 0 0 16px 0;\n}\n.tox .tox-edit-area {\n  display: flex;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n  overflow: hidden;\n  position: relative;\n}\n.tox .tox-edit-area__iframe {\n  background-color: #fff;\n  border: 0;\n  box-sizing: border-box;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n  height: 100%;\n  position: absolute;\n  width: 100%;\n}\n.tox.tox-inline-edit-area {\n  border: 1px dotted #cccccc;\n}\n.tox .tox-editor-container {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  overflow: hidden;\n}\n.tox .tox-editor-header {\n  z-index: 1;\n}\n.tox:not(.tox-tinymce-inline) .tox-editor-header {\n  box-shadow: none;\n  transition: box-shadow 0.5s;\n}\n.tox.tox-tinymce--toolbar-bottom .tox-editor-header,\n.tox.tox-tinymce-inline .tox-editor-header {\n  margin-bottom: -1px;\n}\n.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header {\n  background-color: transparent;\n  box-shadow: 0 4px 4px -3px rgba(0, 0, 0, 0.25);\n}\n.tox-editor-dock-fadeout {\n  opacity: 0;\n  visibility: hidden;\n}\n.tox-editor-dock-fadein {\n  opacity: 1;\n  visibility: visible;\n}\n.tox-editor-dock-transition {\n  transition: visibility 0s linear 0.25s, opacity 0.25s ease;\n}\n.tox-editor-dock-transition.tox-editor-dock-fadein {\n  transition-delay: 0s;\n}\n.tox .tox-control-wrap {\n  flex: 1;\n  position: relative;\n}\n.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,\n.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,\n.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid {\n  display: none;\n}\n.tox .tox-control-wrap svg {\n  display: block;\n}\n.tox .tox-control-wrap__status-icon-wrap {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.tox .tox-control-wrap__status-icon-invalid svg {\n  fill: #c00;\n}\n.tox .tox-control-wrap__status-icon-unknown svg {\n  fill: orange;\n}\n.tox .tox-control-wrap__status-icon-valid svg {\n  fill: green;\n}\n.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,\n.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,\n.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield {\n  padding-right: 32px;\n}\n.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap {\n  right: 4px;\n}\n.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,\n.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,\n.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield {\n  padding-left: 32px;\n}\n.tox[dir=rtl] .tox-control-wrap__status-icon-wrap {\n  left: 4px;\n}\n.tox .tox-autocompleter {\n  max-width: 25em;\n}\n.tox .tox-autocompleter .tox-menu {\n  max-width: 25em;\n}\n.tox .tox-autocompleter .tox-autocompleter-highlight {\n  font-weight: bold;\n}\n.tox .tox-color-input {\n  display: flex;\n  position: relative;\n  z-index: 1;\n}\n.tox .tox-color-input .tox-textfield {\n  z-index: -1;\n}\n.tox .tox-color-input span {\n  border-color: rgba(34, 47, 62, 0.2);\n  border-radius: 3px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: none;\n  box-sizing: border-box;\n  height: 24px;\n  position: absolute;\n  top: 6px;\n  width: 24px;\n}\n.tox .tox-color-input span:hover:not([aria-disabled=true]),\n.tox .tox-color-input span:focus:not([aria-disabled=true]) {\n  border-color: #207ab7;\n  cursor: pointer;\n}\n.tox .tox-color-input span::before {\n  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%), linear-gradient(-45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%), linear-gradient(-45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%);\n  background-position: 0 0, 0 6px, 6px -6px, -6px 0;\n  background-size: 12px 12px;\n  border: 1px solid #fff;\n  border-radius: 3px;\n  box-sizing: border-box;\n  content: \'\';\n  height: 24px;\n  left: -1px;\n  position: absolute;\n  top: -1px;\n  width: 24px;\n  z-index: -1;\n}\n.tox .tox-color-input span[aria-disabled=true] {\n  cursor: not-allowed;\n}\n.tox:not([dir=rtl]) .tox-color-input {\n  /* stylelint-disable-next-line no-descending-specificity */\n}\n.tox:not([dir=rtl]) .tox-color-input .tox-textfield {\n  padding-left: 36px;\n}\n.tox:not([dir=rtl]) .tox-color-input span {\n  left: 6px;\n}\n.tox[dir="rtl"] .tox-color-input {\n  /* stylelint-disable-next-line no-descending-specificity */\n}\n.tox[dir="rtl"] .tox-color-input .tox-textfield {\n  padding-right: 36px;\n}\n.tox[dir="rtl"] .tox-color-input span {\n  right: 6px;\n}\n.tox .tox-label,\n.tox .tox-toolbar-label {\n  color: rgba(34, 47, 62, 0.7);\n  display: block;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.3;\n  padding: 0 8px 0 0;\n  text-transform: none;\n  white-space: nowrap;\n}\n.tox .tox-toolbar-label {\n  padding: 0 8px;\n}\n.tox[dir=rtl] .tox-label {\n  padding: 0 0 0 8px;\n}\n.tox .tox-form {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-form__group {\n  box-sizing: border-box;\n  margin-bottom: 4px;\n}\n.tox .tox-form-group--maximize {\n  flex: 1;\n}\n.tox .tox-form__group--error {\n  color: #c00;\n}\n.tox .tox-form__group--collection {\n  display: flex;\n}\n.tox .tox-form__grid {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.tox .tox-form__grid--2col > .tox-form__group {\n  width: calc(50% - (8px / 2));\n}\n.tox .tox-form__grid--3col > .tox-form__group {\n  width: calc(100% / 3 - (8px / 2));\n}\n.tox .tox-form__grid--4col > .tox-form__group {\n  width: calc(25% - (8px / 2));\n}\n.tox .tox-form__controls-h-stack {\n  align-items: center;\n  display: flex;\n}\n.tox .tox-form__group--inline {\n  align-items: center;\n  display: flex;\n}\n.tox .tox-form__group--stretched {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-form__group--stretched .tox-textarea {\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-form__group--stretched .tox-navobj {\n  display: flex;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-form__group--stretched .tox-navobj :nth-child(2) {\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n  height: 100%;\n}\n.tox:not([dir=rtl]) .tox-form__controls-h-stack > *:not(:first-child) {\n  margin-left: 4px;\n}\n.tox[dir=rtl] .tox-form__controls-h-stack > *:not(:first-child) {\n  margin-right: 4px;\n}\n.tox .tox-lock.tox-locked .tox-lock-icon__unlock,\n.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock {\n  display: none;\n}\n.tox .tox-textfield,\n.tox .tox-toolbar-textfield,\n.tox .tox-listboxfield .tox-listbox--select,\n.tox .tox-textarea {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  background-color: #fff;\n  border-color: #cccccc;\n  border-radius: 3px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: none;\n  box-sizing: border-box;\n  color: #222f3e;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n  font-size: 16px;\n  line-height: 24px;\n  margin: 0;\n  min-height: 34px;\n  outline: none;\n  padding: 5px 4.75px;\n  resize: none;\n  width: 100%;\n}\n.tox .tox-textfield[disabled],\n.tox .tox-textarea[disabled] {\n  background-color: #f2f2f2;\n  color: rgba(34, 47, 62, 0.85);\n  cursor: not-allowed;\n}\n.tox .tox-textfield:focus,\n.tox .tox-listboxfield .tox-listbox--select:focus,\n.tox .tox-textarea:focus {\n  background-color: #fff;\n  border-color: #207ab7;\n  box-shadow: none;\n  outline: none;\n}\n.tox .tox-toolbar-textfield {\n  border-width: 0;\n  margin-bottom: 3px;\n  margin-top: 2px;\n  max-width: 250px;\n}\n.tox .tox-naked-btn {\n  background-color: transparent;\n  border: 0;\n  border-color: transparent;\n  box-shadow: unset;\n  color: #207ab7;\n  cursor: pointer;\n  display: block;\n  margin: 0;\n  padding: 0;\n}\n.tox .tox-naked-btn svg {\n  display: block;\n  fill: #222f3e;\n}\n.tox:not([dir=rtl]) .tox-toolbar-textfield + * {\n  margin-left: 4px;\n}\n.tox[dir=rtl] .tox-toolbar-textfield + * {\n  margin-right: 4px;\n}\n.tox .tox-listboxfield {\n  cursor: pointer;\n  position: relative;\n}\n.tox .tox-listboxfield .tox-listbox--select[disabled] {\n  background-color: #f2f2f2;\n  color: rgba(34, 47, 62, 0.85);\n  cursor: not-allowed;\n}\n.tox .tox-listbox__select-label {\n  cursor: default;\n  flex: 1;\n  margin: 0 4px;\n}\n.tox .tox-listbox__select-chevron {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  width: 16px;\n}\n.tox .tox-listbox__select-chevron svg {\n  fill: #222f3e;\n}\n.tox .tox-listboxfield .tox-listbox--select {\n  align-items: center;\n  display: flex;\n}\n.tox:not([dir=rtl]) .tox-listboxfield svg {\n  right: 8px;\n}\n.tox[dir=rtl] .tox-listboxfield svg {\n  left: 8px;\n}\n.tox .tox-selectfield {\n  cursor: pointer;\n  position: relative;\n}\n.tox .tox-selectfield select {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  background-color: #fff;\n  border-color: #cccccc;\n  border-radius: 3px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: none;\n  box-sizing: border-box;\n  color: #222f3e;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n  font-size: 16px;\n  line-height: 24px;\n  margin: 0;\n  min-height: 34px;\n  outline: none;\n  padding: 5px 4.75px;\n  resize: none;\n  width: 100%;\n}\n.tox .tox-selectfield select[disabled] {\n  background-color: #f2f2f2;\n  color: rgba(34, 47, 62, 0.85);\n  cursor: not-allowed;\n}\n.tox .tox-selectfield select::-ms-expand {\n  display: none;\n}\n.tox .tox-selectfield select:focus {\n  background-color: #fff;\n  border-color: #207ab7;\n  box-shadow: none;\n  outline: none;\n}\n.tox .tox-selectfield svg {\n  pointer-events: none;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.tox:not([dir=rtl]) .tox-selectfield select[size="0"],\n.tox:not([dir=rtl]) .tox-selectfield select[size="1"] {\n  padding-right: 24px;\n}\n.tox:not([dir=rtl]) .tox-selectfield svg {\n  right: 8px;\n}\n.tox[dir=rtl] .tox-selectfield select[size="0"],\n.tox[dir=rtl] .tox-selectfield select[size="1"] {\n  padding-left: 24px;\n}\n.tox[dir=rtl] .tox-selectfield svg {\n  left: 8px;\n}\n.tox .tox-textarea {\n  -webkit-appearance: textarea;\n     -moz-appearance: textarea;\n          appearance: textarea;\n  white-space: pre-wrap;\n}\n.tox-fullscreen {\n  border: 0;\n  height: 100%;\n  left: 0;\n  margin: 0;\n  overflow: hidden;\n  -ms-scroll-chaining: none;\n      overscroll-behavior: none;\n  padding: 0;\n  position: fixed;\n  top: 0;\n  touch-action: pinch-zoom;\n  width: 100%;\n}\n.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle {\n  display: none;\n}\n.tox.tox-tinymce.tox-fullscreen {\n  background-color: transparent;\n  z-index: 1200;\n}\n.tox-shadowhost.tox-fullscreen {\n  z-index: 1200;\n}\n.tox-fullscreen .tox.tox-tinymce-aux,\n.tox-fullscreen ~ .tox.tox-tinymce-aux {\n  z-index: 1201;\n}\n.tox .tox-help__more-link {\n  list-style: none;\n  margin-top: 1em;\n}\n.tox .tox-image-tools {\n  width: 100%;\n}\n.tox .tox-image-tools__toolbar {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n.tox .tox-image-tools__image {\n  background-color: #666;\n  height: 380px;\n  overflow: auto;\n  position: relative;\n  width: 100%;\n}\n.tox .tox-image-tools__image,\n.tox .tox-image-tools__image + .tox-image-tools__toolbar {\n  margin-top: 8px;\n}\n.tox .tox-image-tools__image-bg {\n  background: url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==);\n}\n.tox .tox-image-tools__toolbar > .tox-spacer {\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-croprect-block {\n  background: black;\n  filter: alpha(opacity=50);\n  opacity: 0.5;\n  position: absolute;\n  zoom: 1;\n}\n.tox .tox-croprect-handle {\n  border: 2px solid white;\n  height: 20px;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 20px;\n}\n.tox .tox-croprect-handle-move {\n  border: 0;\n  cursor: move;\n  position: absolute;\n}\n.tox .tox-croprect-handle-nw {\n  border-width: 2px 0 0 2px;\n  cursor: nw-resize;\n  left: 100px;\n  margin: -2px 0 0 -2px;\n  top: 100px;\n}\n.tox .tox-croprect-handle-ne {\n  border-width: 2px 2px 0 0;\n  cursor: ne-resize;\n  left: 200px;\n  margin: -2px 0 0 -20px;\n  top: 100px;\n}\n.tox .tox-croprect-handle-sw {\n  border-width: 0 0 2px 2px;\n  cursor: sw-resize;\n  left: 100px;\n  margin: -20px 2px 0 -2px;\n  top: 200px;\n}\n.tox .tox-croprect-handle-se {\n  border-width: 0 2px 2px 0;\n  cursor: se-resize;\n  left: 200px;\n  margin: -20px 0 0 -20px;\n  top: 200px;\n}\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-slider:not(:first-of-type) {\n  margin-left: 8px;\n}\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-button + .tox-slider {\n  margin-left: 32px;\n}\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-slider + .tox-button {\n  margin-left: 32px;\n}\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-slider:not(:first-of-type) {\n  margin-right: 8px;\n}\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-button + .tox-slider {\n  margin-right: 32px;\n}\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-slider + .tox-button {\n  margin-right: 32px;\n}\n.tox .tox-insert-table-picker {\n  display: flex;\n  flex-wrap: wrap;\n  width: 170px;\n}\n.tox .tox-insert-table-picker > div {\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 0 1px 1px 0;\n  box-sizing: border-box;\n  height: 17px;\n  width: 17px;\n}\n.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker {\n  margin: -4px 0;\n}\n.tox .tox-insert-table-picker .tox-insert-table-picker__selected {\n  background-color: rgba(32, 122, 183, 0.5);\n  border-color: rgba(32, 122, 183, 0.5);\n}\n.tox .tox-insert-table-picker__label {\n  color: rgba(34, 47, 62, 0.7);\n  display: block;\n  font-size: 14px;\n  padding: 4px;\n  text-align: center;\n  width: 100%;\n}\n.tox:not([dir=rtl]) {\n  /* stylelint-disable-next-line no-descending-specificity */\n}\n.tox:not([dir=rtl]) .tox-insert-table-picker > div:nth-child(10n) {\n  border-right: 0;\n}\n.tox[dir=rtl] {\n  /* stylelint-disable-next-line no-descending-specificity */\n}\n.tox[dir=rtl] .tox-insert-table-picker > div:nth-child(10n+1) {\n  border-right: 0;\n}\n.tox {\n  /* stylelint-disable */\n  /* stylelint-enable */\n}\n.tox .tox-menu {\n  background-color: #fff;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\n  display: inline-block;\n  overflow: hidden;\n  vertical-align: top;\n  z-index: 1150;\n}\n.tox .tox-menu.tox-collection.tox-collection--list {\n  padding: 0;\n}\n.tox .tox-menu.tox-collection.tox-collection--toolbar {\n  padding: 4px;\n}\n.tox .tox-menu.tox-collection.tox-collection--grid {\n  padding: 4px;\n}\n.tox .tox-menu__label h1,\n.tox .tox-menu__label h2,\n.tox .tox-menu__label h3,\n.tox .tox-menu__label h4,\n.tox .tox-menu__label h5,\n.tox .tox-menu__label h6,\n.tox .tox-menu__label p,\n.tox .tox-menu__label blockquote,\n.tox .tox-menu__label code {\n  margin: 0;\n}\n.tox .tox-menubar {\n  background: url("data:image/svg+xml;charset=utf8,%3Csvg height=\'39px\' viewBox=\'0 0 40 39px\' width=\'40\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Crect x=\'0\' y=\'38px\' width=\'100\' height=\'1\' fill=\'%23cccccc\'/%3E%3C/svg%3E") left 0 top 0 #fff;\n  background-color: #fff;\n  display: flex;\n  flex: 0 0 auto;\n  flex-shrink: 0;\n  flex-wrap: wrap;\n  padding: 0 4px 0 4px;\n}\n.tox.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-menubar {\n  border-top: 1px solid #cccccc;\n}\n/* Deprecated. Remove in next major release */\n.tox .tox-mbtn {\n  align-items: center;\n  background: transparent;\n  border: 0;\n  border-radius: 3px;\n  box-shadow: none;\n  color: #222f3e;\n  display: flex;\n  flex: 0 0 auto;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: normal;\n  height: 34px;\n  justify-content: center;\n  margin: 2px 0 3px 0;\n  outline: none;\n  overflow: hidden;\n  padding: 0 4px;\n  text-transform: none;\n  width: auto;\n}\n.tox .tox-mbtn[disabled] {\n  background-color: transparent;\n  border: 0;\n  box-shadow: none;\n  color: rgba(34, 47, 62, 0.5);\n  cursor: not-allowed;\n}\n.tox .tox-mbtn:focus:not(:disabled) {\n  background: #dee0e2;\n  border: 0;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-mbtn--active {\n  background: #c8cbcf;\n  border: 0;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active) {\n  background: #dee0e2;\n  border: 0;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-mbtn__select-label {\n  cursor: default;\n  font-weight: normal;\n  margin: 0 4px;\n}\n.tox .tox-mbtn[disabled] .tox-mbtn__select-label {\n  cursor: not-allowed;\n}\n.tox .tox-mbtn__select-chevron {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  width: 16px;\n  display: none;\n}\n.tox .tox-notification {\n  border-radius: 3px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: none;\n  box-sizing: border-box;\n  display: -ms-grid;\n  display: grid;\n  font-size: 14px;\n  font-weight: normal;\n  -ms-grid-columns: minmax(40px, 1fr) auto minmax(40px, 1fr);\n      grid-template-columns: minmax(40px, 1fr) auto minmax(40px, 1fr);\n  margin-top: 4px;\n  opacity: 0;\n  padding: 4px;\n  transition: transform 100ms ease-in, opacity 150ms ease-in;\n}\n.tox .tox-notification p {\n  font-size: 14px;\n  font-weight: normal;\n}\n.tox .tox-notification a {\n  text-decoration: underline;\n}\n.tox .tox-notification--in {\n  opacity: 1;\n}\n.tox .tox-notification--success {\n  background-color: #e4eeda;\n  border-color: #d7e6c8;\n  color: #222f3e;\n}\n.tox .tox-notification--success p {\n  color: #222f3e;\n}\n.tox .tox-notification--success a {\n  color: #547831;\n}\n.tox .tox-notification--success svg {\n  fill: #222f3e;\n}\n.tox .tox-notification--error {\n  background-color: #f8dede;\n  border-color: #f2bfbf;\n  color: #222f3e;\n}\n.tox .tox-notification--error p {\n  color: #222f3e;\n}\n.tox .tox-notification--error a {\n  color: #c00;\n}\n.tox .tox-notification--error svg {\n  fill: #222f3e;\n}\n.tox .tox-notification--warn,\n.tox .tox-notification--warning {\n  background-color: #fffaea;\n  border-color: #ffe89d;\n  color: #222f3e;\n}\n.tox .tox-notification--warn p,\n.tox .tox-notification--warning p {\n  color: #222f3e;\n}\n.tox .tox-notification--warn a,\n.tox .tox-notification--warning a {\n  color: #222f3e;\n}\n.tox .tox-notification--warn svg,\n.tox .tox-notification--warning svg {\n  fill: #222f3e;\n}\n.tox .tox-notification--info {\n  background-color: #d9edf7;\n  border-color: #779ecb;\n  color: #222f3e;\n}\n.tox .tox-notification--info p {\n  color: #222f3e;\n}\n.tox .tox-notification--info a {\n  color: #222f3e;\n}\n.tox .tox-notification--info svg {\n  fill: #222f3e;\n}\n.tox .tox-notification__body {\n  -ms-grid-row-align: center;\n      align-self: center;\n  color: #222f3e;\n  font-size: 14px;\n  -ms-grid-column-span: 1;\n  grid-column-end: 3;\n  -ms-grid-column: 2;\n      grid-column-start: 2;\n  -ms-grid-row-span: 1;\n  grid-row-end: 2;\n  -ms-grid-row: 1;\n      grid-row-start: 1;\n  text-align: center;\n  white-space: normal;\n  word-break: break-all;\n  word-break: break-word;\n}\n.tox .tox-notification__body > * {\n  margin: 0;\n}\n.tox .tox-notification__body > * + * {\n  margin-top: 1rem;\n}\n.tox .tox-notification__icon {\n  -ms-grid-row-align: center;\n      align-self: center;\n  -ms-grid-column-span: 1;\n  grid-column-end: 2;\n  -ms-grid-column: 1;\n      grid-column-start: 1;\n  -ms-grid-row-span: 1;\n  grid-row-end: 2;\n  -ms-grid-row: 1;\n      grid-row-start: 1;\n  -ms-grid-column-align: end;\n      justify-self: end;\n}\n.tox .tox-notification__icon svg {\n  display: block;\n}\n.tox .tox-notification__dismiss {\n  -ms-grid-row-align: start;\n      align-self: start;\n  -ms-grid-column-span: 1;\n  grid-column-end: 4;\n  -ms-grid-column: 3;\n      grid-column-start: 3;\n  -ms-grid-row-span: 1;\n  grid-row-end: 2;\n  -ms-grid-row: 1;\n      grid-row-start: 1;\n  -ms-grid-column-align: end;\n      justify-self: end;\n}\n.tox .tox-notification .tox-progress-bar {\n  -ms-grid-column-span: 3;\n  grid-column-end: 4;\n  -ms-grid-column: 1;\n      grid-column-start: 1;\n  -ms-grid-row-span: 1;\n  grid-row-end: 3;\n  -ms-grid-row: 2;\n      grid-row-start: 2;\n  -ms-grid-column-align: center;\n      justify-self: center;\n}\n.tox .tox-pop {\n  display: inline-block;\n  position: relative;\n}\n.tox .tox-pop--resizing {\n  transition: width 0.1s ease;\n}\n.tox .tox-pop--resizing .tox-toolbar {\n  flex-wrap: nowrap;\n}\n.tox .tox-pop__dialog {\n  background-color: #fff;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n  min-width: 0;\n  overflow: hidden;\n}\n.tox .tox-pop__dialog > *:not(.tox-toolbar) {\n  margin: 4px 4px 4px 8px;\n}\n.tox .tox-pop__dialog .tox-toolbar {\n  background-color: transparent;\n  margin-bottom: -1px;\n}\n.tox .tox-pop::before,\n.tox .tox-pop::after {\n  border-style: solid;\n  content: \'\';\n  display: block;\n  height: 0;\n  position: absolute;\n  width: 0;\n}\n.tox .tox-pop.tox-pop--bottom::before,\n.tox .tox-pop.tox-pop--bottom::after {\n  left: 50%;\n  top: 100%;\n}\n.tox .tox-pop.tox-pop--bottom::after {\n  border-color: #fff transparent transparent transparent;\n  border-width: 8px;\n  margin-left: -8px;\n  margin-top: -1px;\n}\n.tox .tox-pop.tox-pop--bottom::before {\n  border-color: #cccccc transparent transparent transparent;\n  border-width: 9px;\n  margin-left: -9px;\n}\n.tox .tox-pop.tox-pop--top::before,\n.tox .tox-pop.tox-pop--top::after {\n  left: 50%;\n  top: 0;\n  transform: translateY(-100%);\n}\n.tox .tox-pop.tox-pop--top::after {\n  border-color: transparent transparent #fff transparent;\n  border-width: 8px;\n  margin-left: -8px;\n  margin-top: 1px;\n}\n.tox .tox-pop.tox-pop--top::before {\n  border-color: transparent transparent #cccccc transparent;\n  border-width: 9px;\n  margin-left: -9px;\n}\n.tox .tox-pop.tox-pop--left::before,\n.tox .tox-pop.tox-pop--left::after {\n  left: 0;\n  top: calc(50% - 1px);\n  transform: translateY(-50%);\n}\n.tox .tox-pop.tox-pop--left::after {\n  border-color: transparent #fff transparent transparent;\n  border-width: 8px;\n  margin-left: -15px;\n}\n.tox .tox-pop.tox-pop--left::before {\n  border-color: transparent #cccccc transparent transparent;\n  border-width: 10px;\n  margin-left: -19px;\n}\n.tox .tox-pop.tox-pop--right::before,\n.tox .tox-pop.tox-pop--right::after {\n  left: 100%;\n  top: calc(50% + 1px);\n  transform: translateY(-50%);\n}\n.tox .tox-pop.tox-pop--right::after {\n  border-color: transparent transparent transparent #fff;\n  border-width: 8px;\n  margin-left: -1px;\n}\n.tox .tox-pop.tox-pop--right::before {\n  border-color: transparent transparent transparent #cccccc;\n  border-width: 10px;\n  margin-left: -1px;\n}\n.tox .tox-pop.tox-pop--align-left::before,\n.tox .tox-pop.tox-pop--align-left::after {\n  left: 20px;\n}\n.tox .tox-pop.tox-pop--align-right::before,\n.tox .tox-pop.tox-pop--align-right::after {\n  left: calc(100% - 20px);\n}\n.tox .tox-sidebar-wrap {\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  -ms-flex-preferred-size: 0;\n  min-height: 0;\n}\n.tox .tox-sidebar {\n  background-color: #fff;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n}\n.tox .tox-sidebar__slider {\n  display: flex;\n  overflow: hidden;\n}\n.tox .tox-sidebar__pane-container {\n  display: flex;\n}\n.tox .tox-sidebar__pane {\n  display: flex;\n}\n.tox .tox-sidebar--sliding-closed {\n  opacity: 0;\n}\n.tox .tox-sidebar--sliding-open {\n  opacity: 1;\n}\n.tox .tox-sidebar--sliding-growing,\n.tox .tox-sidebar--sliding-shrinking {\n  transition: width 0.5s ease, opacity 0.5s ease;\n}\n.tox .tox-selector {\n  background-color: #4099ff;\n  border-color: #4099ff;\n  border-style: solid;\n  border-width: 1px;\n  box-sizing: border-box;\n  display: inline-block;\n  height: 10px;\n  position: absolute;\n  width: 10px;\n}\n.tox.tox-platform-touch .tox-selector {\n  height: 12px;\n  width: 12px;\n}\n.tox .tox-slider {\n  align-items: center;\n  display: flex;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n  height: 24px;\n  justify-content: center;\n  position: relative;\n}\n.tox .tox-slider__rail {\n  background-color: transparent;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  height: 10px;\n  min-width: 120px;\n  width: 100%;\n}\n.tox .tox-slider__handle {\n  background-color: #207ab7;\n  border: 2px solid #185d8c;\n  border-radius: 3px;\n  box-shadow: none;\n  height: 24px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  width: 14px;\n}\n.tox .tox-source-code {\n  overflow: auto;\n}\n.tox .tox-spinner {\n  display: flex;\n}\n.tox .tox-spinner > div {\n  -webkit-animation: tam-bouncing-dots 1.5s ease-in-out 0s infinite both;\n          animation: tam-bouncing-dots 1.5s ease-in-out 0s infinite both;\n  background-color: rgba(34, 47, 62, 0.7);\n  border-radius: 100%;\n  height: 8px;\n  width: 8px;\n}\n.tox .tox-spinner > div:nth-child(1) {\n  -webkit-animation-delay: -0.32s;\n          animation-delay: -0.32s;\n}\n.tox .tox-spinner > div:nth-child(2) {\n  -webkit-animation-delay: -0.16s;\n          animation-delay: -0.16s;\n}\n@-webkit-keyframes tam-bouncing-dots {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n@keyframes tam-bouncing-dots {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n.tox:not([dir=rtl]) .tox-spinner > div:not(:first-child) {\n  margin-left: 4px;\n}\n.tox[dir=rtl] .tox-spinner > div:not(:first-child) {\n  margin-right: 4px;\n}\n.tox .tox-statusbar {\n  align-items: center;\n  background-color: #fff;\n  border-top: 1px solid #cccccc;\n  color: rgba(34, 47, 62, 0.7);\n  display: flex;\n  flex: 0 0 auto;\n  font-size: 12px;\n  font-weight: normal;\n  height: 18px;\n  overflow: hidden;\n  padding: 0 8px;\n  position: relative;\n  text-transform: uppercase;\n}\n.tox .tox-statusbar__text-container {\n  display: flex;\n  flex: 1 1 auto;\n  justify-content: flex-end;\n  overflow: hidden;\n}\n.tox .tox-statusbar__path {\n  display: flex;\n  flex: 1 1 auto;\n  margin-right: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.tox .tox-statusbar__path > * {\n  display: inline;\n  white-space: nowrap;\n}\n.tox .tox-statusbar__wordcount {\n  flex: 0 0 auto;\n  margin-left: 1ch;\n}\n.tox .tox-statusbar a,\n.tox .tox-statusbar__path-item,\n.tox .tox-statusbar__wordcount {\n  color: rgba(34, 47, 62, 0.7);\n  text-decoration: none;\n}\n.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),\n.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),\n.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]),\n.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),\n.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),\n.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]) {\n  cursor: pointer;\n  text-decoration: underline;\n}\n.tox .tox-statusbar__resize-handle {\n  align-items: flex-end;\n  align-self: stretch;\n  cursor: nwse-resize;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: flex-end;\n  margin-left: auto;\n  margin-right: -8px;\n  padding-left: 1ch;\n}\n.tox .tox-statusbar__resize-handle svg {\n  display: block;\n  fill: rgba(34, 47, 62, 0.7);\n}\n.tox:not([dir=rtl]) .tox-statusbar__path > * {\n  margin-right: 4px;\n}\n.tox:not([dir=rtl]) .tox-statusbar__branding {\n  margin-left: 1ch;\n}\n.tox[dir=rtl] .tox-statusbar {\n  flex-direction: row-reverse;\n}\n.tox[dir=rtl] .tox-statusbar__path > * {\n  margin-left: 4px;\n}\n.tox .tox-throbber {\n  z-index: 1299;\n}\n.tox .tox-throbber__busy-spinner {\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.6);\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.tox .tox-tbtn {\n  align-items: center;\n  background: transparent;\n  border: 0;\n  border-radius: 3px;\n  box-shadow: none;\n  color: #222f3e;\n  display: flex;\n  flex: 0 0 auto;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: normal;\n  height: 34px;\n  justify-content: center;\n  margin: 2px 0 3px 0;\n  outline: none;\n  overflow: hidden;\n  padding: 0;\n  text-transform: none;\n  width: 34px;\n}\n.tox .tox-tbtn svg {\n  display: block;\n  fill: #222f3e;\n}\n.tox .tox-tbtn.tox-tbtn-more {\n  padding-left: 5px;\n  padding-right: 5px;\n  width: inherit;\n}\n.tox .tox-tbtn:focus {\n  background: #dee0e2;\n  border: 0;\n  box-shadow: none;\n}\n.tox .tox-tbtn:hover {\n  background: #dee0e2;\n  border: 0;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-tbtn:hover svg {\n  fill: #222f3e;\n}\n.tox .tox-tbtn:active {\n  background: #c8cbcf;\n  border: 0;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-tbtn:active svg {\n  fill: #222f3e;\n}\n.tox .tox-tbtn--disabled,\n.tox .tox-tbtn--disabled:hover,\n.tox .tox-tbtn:disabled,\n.tox .tox-tbtn:disabled:hover {\n  background: transparent;\n  border: 0;\n  box-shadow: none;\n  color: rgba(34, 47, 62, 0.5);\n  cursor: not-allowed;\n}\n.tox .tox-tbtn--disabled svg,\n.tox .tox-tbtn--disabled:hover svg,\n.tox .tox-tbtn:disabled svg,\n.tox .tox-tbtn:disabled:hover svg {\n  /* stylelint-disable-line no-descending-specificity */\n  fill: rgba(34, 47, 62, 0.5);\n}\n.tox .tox-tbtn--enabled,\n.tox .tox-tbtn--enabled:hover {\n  background: #c8cbcf;\n  border: 0;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-tbtn--enabled > *,\n.tox .tox-tbtn--enabled:hover > * {\n  transform: none;\n}\n.tox .tox-tbtn--enabled svg,\n.tox .tox-tbtn--enabled:hover svg {\n  /* stylelint-disable-line no-descending-specificity */\n  fill: #222f3e;\n}\n.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) {\n  color: #222f3e;\n}\n.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg {\n  fill: #222f3e;\n}\n.tox .tox-tbtn:active > * {\n  transform: none;\n}\n.tox .tox-tbtn--md {\n  height: 51px;\n  width: 51px;\n}\n.tox .tox-tbtn--lg {\n  flex-direction: column;\n  height: 68px;\n  width: 68px;\n}\n.tox .tox-tbtn--return {\n  -ms-grid-row-align: stretch;\n      align-self: stretch;\n  height: unset;\n  width: 16px;\n}\n.tox .tox-tbtn--labeled {\n  padding: 0 4px;\n  width: unset;\n}\n.tox .tox-tbtn__vlabel {\n  display: block;\n  font-size: 10px;\n  font-weight: normal;\n  letter-spacing: -0.025em;\n  margin-bottom: 4px;\n  white-space: nowrap;\n}\n.tox .tox-tbtn--select {\n  margin: 2px 0 3px 0;\n  padding: 0 4px;\n  width: auto;\n}\n.tox .tox-tbtn__select-label {\n  cursor: default;\n  font-weight: normal;\n  margin: 0 4px;\n}\n.tox .tox-tbtn__select-chevron {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  width: 16px;\n}\n.tox .tox-tbtn__select-chevron svg {\n  fill: rgba(34, 47, 62, 0.5);\n}\n.tox .tox-tbtn--bespoke .tox-tbtn__select-label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 7em;\n}\n.tox .tox-split-button {\n  border: 0;\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  margin: 2px 0 3px 0;\n  overflow: hidden;\n}\n.tox .tox-split-button:hover {\n  box-shadow: 0 0 0 1px #dee0e2 inset;\n}\n.tox .tox-split-button:focus {\n  background: #dee0e2;\n  box-shadow: none;\n  color: #222f3e;\n}\n.tox .tox-split-button > * {\n  border-radius: 0;\n}\n.tox .tox-split-button__chevron {\n  width: 16px;\n}\n.tox .tox-split-button__chevron svg {\n  fill: rgba(34, 47, 62, 0.5);\n}\n.tox .tox-split-button .tox-tbtn {\n  margin: 0;\n}\n.tox.tox-platform-touch .tox-split-button .tox-tbtn:first-child {\n  width: 30px;\n}\n.tox.tox-platform-touch .tox-split-button__chevron {\n  width: 20px;\n}\n.tox .tox-split-button.tox-tbtn--disabled:hover,\n.tox .tox-split-button.tox-tbtn--disabled:focus,\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus {\n  background: transparent;\n  box-shadow: none;\n  color: rgba(34, 47, 62, 0.5);\n}\n.tox .tox-toolbar-overlord {\n  background-color: #fff;\n}\n.tox .tox-toolbar,\n.tox .tox-toolbar__primary,\n.tox .tox-toolbar__overflow {\n  background: url("data:image/svg+xml;charset=utf8,%3Csvg height=\'39px\' viewBox=\'0 0 40 39px\' width=\'40\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Crect x=\'0\' y=\'38px\' width=\'100\' height=\'1\' fill=\'%23cccccc\'/%3E%3C/svg%3E") left 0 top 0 #fff;\n  background-color: #fff;\n  display: flex;\n  flex: 0 0 auto;\n  flex-shrink: 0;\n  flex-wrap: wrap;\n  padding: 0 0;\n}\n.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed {\n  height: 0;\n  opacity: 0;\n  padding-bottom: 0;\n  padding-top: 0;\n  visibility: hidden;\n}\n.tox .tox-toolbar__overflow--growing {\n  transition: height 0.3s ease, opacity 0.2s linear 0.1s;\n}\n.tox .tox-toolbar__overflow--shrinking {\n  transition: opacity 0.3s ease, height 0.2s linear 0.1s, visibility 0s linear 0.3s;\n}\n.tox .tox-menubar + .tox-toolbar,\n.tox .tox-menubar + .tox-toolbar-overlord .tox-toolbar__primary {\n  border-top: 1px solid #cccccc;\n  margin-top: -1px;\n}\n.tox .tox-toolbar--scrolling {\n  flex-wrap: nowrap;\n  overflow-x: auto;\n}\n.tox .tox-pop .tox-toolbar {\n  border-width: 0;\n}\n.tox .tox-toolbar--no-divider {\n  background-image: none;\n}\n.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar:first-child,\n.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar-overlord:first-child .tox-toolbar__primary {\n  border-top: 1px solid #cccccc;\n}\n.tox.tox-tinymce-aux .tox-toolbar__overflow {\n  background-color: #fff;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n}\n.tox[dir=rtl] .tox-tbtn__icon-rtl svg {\n  transform: rotateY(180deg);\n}\n.tox .tox-toolbar__group {\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 0;\n  padding: 0 4px 0 4px;\n}\n.tox .tox-toolbar__group--pull-right {\n  margin-left: auto;\n}\n.tox .tox-toolbar--scrolling .tox-toolbar__group {\n  flex-shrink: 0;\n  flex-wrap: nowrap;\n}\n.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type) {\n  border-right: 1px solid #cccccc;\n}\n.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type) {\n  border-left: 1px solid #cccccc;\n}\n.tox .tox-tooltip {\n  display: inline-block;\n  padding: 8px;\n  position: relative;\n}\n.tox .tox-tooltip__body {\n  background-color: #222f3e;\n  border-radius: 3px;\n  box-shadow: 0 2px 4px rgba(34, 47, 62, 0.3);\n  color: rgba(255, 255, 255, 0.75);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: normal;\n  padding: 4px 8px;\n  text-transform: none;\n}\n.tox .tox-tooltip__arrow {\n  position: absolute;\n}\n.tox .tox-tooltip--down .tox-tooltip__arrow {\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-top: 8px solid #222f3e;\n  bottom: 0;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%);\n}\n.tox .tox-tooltip--up .tox-tooltip__arrow {\n  border-bottom: 8px solid #222f3e;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  left: 50%;\n  position: absolute;\n  top: 0;\n  transform: translateX(-50%);\n}\n.tox .tox-tooltip--right .tox-tooltip__arrow {\n  border-bottom: 8px solid transparent;\n  border-left: 8px solid #222f3e;\n  border-top: 8px solid transparent;\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.tox .tox-tooltip--left .tox-tooltip__arrow {\n  border-bottom: 8px solid transparent;\n  border-right: 8px solid #222f3e;\n  border-top: 8px solid transparent;\n  left: 0;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.tox .tox-well {\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  padding: 8px;\n  width: 100%;\n}\n.tox .tox-well > *:first-child {\n  margin-top: 0;\n}\n.tox .tox-well > *:last-child {\n  margin-bottom: 0;\n}\n.tox .tox-well > *:only-child {\n  margin: 0;\n}\n.tox .tox-custom-editor {\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  display: flex;\n  flex: 1;\n  position: relative;\n}\n/* stylelint-disable */\n.tox {\n  /* stylelint-enable */\n}\n.tox .tox-dialog-loading::before {\n  background-color: rgba(0, 0, 0, 0.5);\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: 100%;\n  z-index: 1000;\n}\n.tox .tox-tab {\n  cursor: pointer;\n}\n.tox .tox-dialog__content-js {\n  display: flex;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-dialog__body-content .tox-collection {\n  display: flex;\n  flex: 1;\n  -ms-flex-preferred-size: auto;\n}\n.tox .tox-image-tools-edit-panel {\n  height: 60px;\n}\n.tox .tox-image-tools__sidebar {\n  height: 60px;\n}\n',""])},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,r=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,n){var o,i=n.trim().replace(/^"(.*)"$/,(function(t,n){return n})).replace(/^'(.*)'$/,(function(t,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?e+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,n,e){var r=e(20);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,e(4).default)("348db197",r,!1,{})},function(t,n,e){var r=e(21);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(3)(r,o);r.locals&&(t.exports=r.locals)},function(t,n,e){(t.exports=e(2)(!1)).push([t.i,'/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n */\n.mce-content-body .mce-item-anchor {\n  background: transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D\'8\'%20height%3D\'12\'%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%3E%3Cpath%20d%3D\'M0%200L8%200%208%2012%204.09117821%209%200%2012z\'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;\n  cursor: default;\n  display: inline-block;\n  height: 12px !important;\n  padding: 0 2px;\n  -webkit-user-modify: read-only;\n  -moz-user-modify: read-only;\n  -webkit-user-select: all;\n  -moz-user-select: all;\n  -ms-user-select: all;\n      user-select: all;\n  width: 8px !important;\n}\n.mce-content-body .mce-item-anchor[data-mce-selected] {\n  outline-offset: 1px;\n}\n.tox-comments-visible .tox-comment {\n  background-color: #fff0b7;\n}\n.tox-comments-visible .tox-comment--active {\n  background-color: #ffe168;\n}\n.tox-checklist > li:not(.tox-checklist--hidden) {\n  list-style: none;\n  margin: 0.25em 0;\n}\n.tox-checklist > li:not(.tox-checklist--hidden)::before {\n  content: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");\n  cursor: pointer;\n  height: 1em;\n  margin-left: -1.5em;\n  margin-top: 0.125em;\n  position: absolute;\n  width: 1em;\n}\n.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before {\n  content: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");\n}\n[dir=rtl] .tox-checklist > li:not(.tox-checklist--hidden)::before {\n  margin-left: 0;\n  margin-right: -1.5em;\n}\n/* stylelint-disable */\n/* http://prismjs.com/ */\n/**\n * prism.js default theme for JavaScript, CSS and HTML\n * Based on dabblet (http://dabblet.com)\n * @author Lea Verou\n */\ncode[class*="language-"],\npre[class*="language-"] {\n  color: black;\n  background: none;\n  text-shadow: 0 1px white;\n  font-family: Consolas, Monaco, \'Andale Mono\', \'Ubuntu Mono\', monospace;\n  font-size: 1em;\n  text-align: left;\n  white-space: pre;\n  word-spacing: normal;\n  word-break: normal;\n  word-wrap: normal;\n  line-height: 1.5;\n  -moz-tab-size: 4;\n  -o-tab-size: 4;\n     tab-size: 4;\n  -webkit-hyphens: none;\n  -ms-hyphens: none;\n  hyphens: none;\n}\npre[class*="language-"]::-moz-selection,\npre[class*="language-"] ::-moz-selection,\ncode[class*="language-"]::-moz-selection,\ncode[class*="language-"] ::-moz-selection {\n  text-shadow: none;\n  background: #b3d4fc;\n}\npre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection, code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {\n  text-shadow: none;\n  background: #b3d4fc;\n}\npre[class*="language-"]::selection,\npre[class*="language-"] ::selection,\ncode[class*="language-"]::selection,\ncode[class*="language-"] ::selection {\n  text-shadow: none;\n  background: #b3d4fc;\n}\n@media print {\n  code[class*="language-"],\n  pre[class*="language-"] {\n    text-shadow: none;\n  }\n}\n/* Code blocks */\npre[class*="language-"] {\n  padding: 1em;\n  margin: 0.5em 0;\n  overflow: auto;\n}\n:not(pre) > code[class*="language-"],\npre[class*="language-"] {\n  background: #f5f2f0;\n}\n/* Inline code */\n:not(pre) > code[class*="language-"] {\n  padding: 0.1em;\n  border-radius: 0.3em;\n  white-space: normal;\n}\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n  color: slategray;\n}\n.token.punctuation {\n  color: #999;\n}\n.namespace {\n  opacity: 0.7;\n}\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol,\n.token.deleted {\n  color: #905;\n}\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n  color: #690;\n}\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string {\n  color: #9a6e3a;\n  background: hsla(0, 0%, 100%, 0.5);\n}\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n  color: #07a;\n}\n.token.function,\n.token.class-name {\n  color: #DD4A68;\n}\n.token.regex,\n.token.important,\n.token.variable {\n  color: #e90;\n}\n.token.important,\n.token.bold {\n  font-weight: bold;\n}\n.token.italic {\n  font-style: italic;\n}\n.token.entity {\n  cursor: help;\n}\n/* stylelint-enable */\n.mce-content-body {\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n}\n.mce-content-body .mce-visual-caret {\n  background-color: black;\n  background-color: currentColor;\n  position: absolute;\n}\n.mce-content-body .mce-visual-caret-hidden {\n  display: none;\n}\n.mce-content-body *[data-mce-caret] {\n  left: -1000px;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  right: auto;\n  top: 0;\n}\n.mce-content-body .mce-offscreen-selection {\n  left: -2000000px;\n  max-width: 1000000px;\n  position: absolute;\n}\n.mce-content-body *[contentEditable=false] {\n  cursor: default;\n}\n.mce-content-body *[contentEditable=true] {\n  cursor: text;\n}\n.tox-cursor-format-painter {\n  cursor: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"), default;\n}\n.mce-content-body figure.align-left {\n  float: left;\n}\n.mce-content-body figure.align-right {\n  float: right;\n}\n.mce-content-body figure.image.align-center {\n  display: table;\n  margin-left: auto;\n  margin-right: auto;\n}\n.mce-preview-object {\n  border: 1px solid gray;\n  display: inline-block;\n  line-height: 0;\n  margin: 0 2px 0 2px;\n  position: relative;\n}\n.mce-preview-object .mce-shim {\n  background: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n.mce-preview-object[data-mce-selected="2"] .mce-shim {\n  display: none;\n}\n.mce-object {\n  background: transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;\n  border: 1px dashed #aaa;\n}\n.mce-pagebreak {\n  border: 1px dashed #aaa;\n  cursor: default;\n  display: block;\n  height: 5px;\n  margin-top: 15px;\n  page-break-before: always;\n  width: 100%;\n}\n@media print {\n  .mce-pagebreak {\n    border: 0;\n  }\n}\n.tiny-pageembed .mce-shim {\n  background: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n.tiny-pageembed[data-mce-selected="2"] .mce-shim {\n  display: none;\n}\n.tiny-pageembed {\n  display: inline-block;\n  position: relative;\n}\n.tiny-pageembed--21by9,\n.tiny-pageembed--16by9,\n.tiny-pageembed--4by3,\n.tiny-pageembed--1by1 {\n  display: block;\n  overflow: hidden;\n  padding: 0;\n  position: relative;\n  width: 100%;\n}\n.tiny-pageembed--21by9 {\n  padding-top: 42.857143%;\n}\n.tiny-pageembed--16by9 {\n  padding-top: 56.25%;\n}\n.tiny-pageembed--4by3 {\n  padding-top: 75%;\n}\n.tiny-pageembed--1by1 {\n  padding-top: 100%;\n}\n.tiny-pageembed--21by9 iframe,\n.tiny-pageembed--16by9 iframe,\n.tiny-pageembed--4by3 iframe,\n.tiny-pageembed--1by1 iframe {\n  border: 0;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n.mce-content-body[data-mce-placeholder] {\n  position: relative;\n}\n.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before {\n  color: rgba(34, 47, 62, 0.7);\n  content: attr(data-mce-placeholder);\n  position: absolute;\n}\n.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before {\n  left: 1px;\n}\n.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before {\n  right: 1px;\n}\n.mce-content-body div.mce-resizehandle {\n  background-color: #4099ff;\n  border-color: #4099ff;\n  border-style: solid;\n  border-width: 1px;\n  box-sizing: border-box;\n  height: 10px;\n  position: absolute;\n  width: 10px;\n  z-index: 10000;\n}\n.mce-content-body div.mce-resizehandle:hover {\n  background-color: #4099ff;\n}\n.mce-content-body div.mce-resizehandle:nth-of-type(1) {\n  cursor: nwse-resize;\n}\n.mce-content-body div.mce-resizehandle:nth-of-type(2) {\n  cursor: nesw-resize;\n}\n.mce-content-body div.mce-resizehandle:nth-of-type(3) {\n  cursor: nwse-resize;\n}\n.mce-content-body div.mce-resizehandle:nth-of-type(4) {\n  cursor: nesw-resize;\n}\n.mce-content-body .mce-resize-backdrop {\n  z-index: 10000;\n}\n.mce-content-body .mce-clonedresizable {\n  cursor: default;\n  opacity: 0.5;\n  outline: 1px dashed black;\n  position: absolute;\n  z-index: 10001;\n}\n.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,\n.mce-content-body .mce-clonedresizable.mce-resizetable-columns td {\n  border: 0;\n}\n.mce-content-body .mce-resize-helper {\n  background: #555;\n  background: rgba(0, 0, 0, 0.75);\n  border: 1px;\n  border-radius: 3px;\n  color: white;\n  display: none;\n  font-family: sans-serif;\n  font-size: 12px;\n  line-height: 14px;\n  margin: 5px 10px;\n  padding: 5px;\n  position: absolute;\n  white-space: nowrap;\n  z-index: 10002;\n}\n.tox-rtc-user-selection {\n  position: relative;\n}\n.tox-rtc-user-cursor {\n  bottom: 0;\n  cursor: default;\n  position: absolute;\n  top: 0;\n  width: 2px;\n}\n.tox-rtc-user-cursor::before {\n  background-color: inherit;\n  border-radius: 50%;\n  content: \'\';\n  display: block;\n  height: 8px;\n  position: absolute;\n  right: -3px;\n  top: -3px;\n  width: 8px;\n}\n.tox-rtc-user-cursor:hover::after {\n  background-color: inherit;\n  border-radius: 100px;\n  box-sizing: border-box;\n  color: #fff;\n  content: attr(data-user);\n  display: block;\n  font-size: 12px;\n  font-weight: bold;\n  left: -5px;\n  min-height: 8px;\n  min-width: 8px;\n  padding: 0 12px;\n  position: absolute;\n  top: -11px;\n  white-space: nowrap;\n  z-index: 1000;\n}\n.tox-rtc-user-selection--1 .tox-rtc-user-cursor {\n  background-color: #2dc26b;\n}\n.tox-rtc-user-selection--2 .tox-rtc-user-cursor {\n  background-color: #e03e2d;\n}\n.tox-rtc-user-selection--3 .tox-rtc-user-cursor {\n  background-color: #f1c40f;\n}\n.tox-rtc-user-selection--4 .tox-rtc-user-cursor {\n  background-color: #3598db;\n}\n.tox-rtc-user-selection--5 .tox-rtc-user-cursor {\n  background-color: #b96ad9;\n}\n.tox-rtc-user-selection--6 .tox-rtc-user-cursor {\n  background-color: #e67e23;\n}\n.tox-rtc-user-selection--7 .tox-rtc-user-cursor {\n  background-color: #aaa69d;\n}\n.tox-rtc-user-selection--8 .tox-rtc-user-cursor {\n  background-color: #f368e0;\n}\n.tox-rtc-remote-image {\n  background: #eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;\n  border: 1px solid #ccc;\n  min-height: 240px;\n  min-width: 320px;\n}\n.mce-match-marker {\n  background: #aaa;\n  color: #fff;\n}\n.mce-match-marker-selected {\n  background: #39f;\n  color: #fff;\n}\n.mce-match-marker-selected::-moz-selection {\n  background: #39f;\n  color: #fff;\n}\n.mce-match-marker-selected::selection {\n  background: #39f;\n  color: #fff;\n}\n.mce-content-body img[data-mce-selected],\n.mce-content-body video[data-mce-selected],\n.mce-content-body audio[data-mce-selected],\n.mce-content-body object[data-mce-selected],\n.mce-content-body embed[data-mce-selected],\n.mce-content-body table[data-mce-selected] {\n  outline: 3px solid #b4d7ff;\n}\n.mce-content-body hr[data-mce-selected] {\n  outline: 3px solid #b4d7ff;\n  outline-offset: 1px;\n}\n.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus {\n  outline: 3px solid #b4d7ff;\n}\n.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover {\n  outline: 3px solid #b4d7ff;\n}\n.mce-content-body *[contentEditable=false][data-mce-selected] {\n  cursor: not-allowed;\n  outline: 3px solid #b4d7ff;\n}\n.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,\n.mce-content-body.mce-content-readonly *[contentEditable=true]:hover {\n  outline: none;\n}\n.mce-content-body *[data-mce-selected="inline-boundary"] {\n  background-color: #b4d7ff;\n}\n.mce-content-body .mce-edit-focus {\n  outline: 3px solid #b4d7ff;\n}\n.mce-content-body td[data-mce-selected],\n.mce-content-body th[data-mce-selected] {\n  position: relative;\n}\n.mce-content-body td[data-mce-selected]::-moz-selection,\n.mce-content-body th[data-mce-selected]::-moz-selection {\n  background: none;\n}\n.mce-content-body td[data-mce-selected]::-moz-selection, .mce-content-body th[data-mce-selected]::-moz-selection {\n  background: none;\n}\n.mce-content-body td[data-mce-selected]::selection,\n.mce-content-body th[data-mce-selected]::selection {\n  background: none;\n}\n.mce-content-body td[data-mce-selected] *,\n.mce-content-body th[data-mce-selected] * {\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.mce-content-body td[data-mce-selected]::after,\n.mce-content-body th[data-mce-selected]::after {\n  background-color: rgba(180, 215, 255, 0.7);\n  border: 1px solid rgba(180, 215, 255, 0.7);\n  bottom: -1px;\n  content: \'\';\n  left: -1px;\n  mix-blend-mode: multiply;\n  position: absolute;\n  right: -1px;\n  top: -1px;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .mce-content-body td[data-mce-selected]::after,\n  .mce-content-body th[data-mce-selected]::after {\n    border-color: rgba(0, 84, 180, 0.7);\n  }\n}\n.mce-content-body img::-moz-selection {\n  background: none;\n}\n.mce-content-body img::selection {\n  background: none;\n}\n.ephox-snooker-resizer-bar {\n  background-color: #b4d7ff;\n  opacity: 0;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ephox-snooker-resizer-cols {\n  cursor: col-resize;\n}\n.ephox-snooker-resizer-rows {\n  cursor: row-resize;\n}\n.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging {\n  opacity: 1;\n}\n.mce-spellchecker-word {\n  background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D\'4\'%20height%3D\'4\'%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%3E%3Cpath%20stroke%3D\'%23ff0000\'%20fill%3D\'none\'%20stroke-linecap%3D\'round\'%20stroke-opacity%3D\'.75\'%20d%3D\'M0%203L2%201%204%203\'%2F%3E%3C%2Fsvg%3E%0A");\n  background-position: 0 calc(100% + 1px);\n  background-repeat: repeat-x;\n  background-size: auto 6px;\n  cursor: default;\n  height: 2rem;\n}\n.mce-spellchecker-grammar {\n  background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D\'4\'%20height%3D\'4\'%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%3E%3Cpath%20stroke%3D\'%2300A835\'%20fill%3D\'none\'%20stroke-linecap%3D\'round\'%20d%3D\'M0%203L2%201%204%203\'%2F%3E%3C%2Fsvg%3E%0A");\n  background-position: 0 calc(100% + 1px);\n  background-repeat: repeat-x;\n  background-size: auto 6px;\n  cursor: default;\n}\n.mce-toc {\n  border: 1px solid gray;\n}\n.mce-toc h2 {\n  margin: 4px;\n}\n.mce-toc li {\n  list-style-type: none;\n}\ntable[style*="border-width: 0px"],\n.mce-item-table:not([border]),\n.mce-item-table[border="0"],\ntable[style*="border-width: 0px"] td,\n.mce-item-table:not([border]) td,\n.mce-item-table[border="0"] td,\ntable[style*="border-width: 0px"] th,\n.mce-item-table:not([border]) th,\n.mce-item-table[border="0"] th,\ntable[style*="border-width: 0px"] caption,\n.mce-item-table:not([border]) caption,\n.mce-item-table[border="0"] caption {\n  border: 1px dashed #bbb;\n}\n.mce-visualblocks p,\n.mce-visualblocks h1,\n.mce-visualblocks h2,\n.mce-visualblocks h3,\n.mce-visualblocks h4,\n.mce-visualblocks h5,\n.mce-visualblocks h6,\n.mce-visualblocks div:not([data-mce-bogus]),\n.mce-visualblocks section,\n.mce-visualblocks article,\n.mce-visualblocks blockquote,\n.mce-visualblocks address,\n.mce-visualblocks pre,\n.mce-visualblocks figure,\n.mce-visualblocks figcaption,\n.mce-visualblocks hgroup,\n.mce-visualblocks aside,\n.mce-visualblocks ul,\n.mce-visualblocks ol,\n.mce-visualblocks dl {\n  background-repeat: no-repeat;\n  border: 1px dashed #bbb;\n  margin-left: 3px;\n  padding-top: 10px;\n}\n.mce-visualblocks p {\n  background-image: url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7);\n}\n.mce-visualblocks h1 {\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==);\n}\n.mce-visualblocks h2 {\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==);\n}\n.mce-visualblocks h3 {\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7);\n}\n.mce-visualblocks h4 {\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==);\n}\n.mce-visualblocks h5 {\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==);\n}\n.mce-visualblocks h6 {\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==);\n}\n.mce-visualblocks div:not([data-mce-bogus]) {\n  background-image: url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7);\n}\n.mce-visualblocks section {\n  background-image: url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=);\n}\n.mce-visualblocks article {\n  background-image: url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7);\n}\n.mce-visualblocks blockquote {\n  background-image: url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7);\n}\n.mce-visualblocks address {\n  background-image: url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=);\n}\n.mce-visualblocks pre {\n  background-image: url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==);\n}\n.mce-visualblocks figure {\n  background-image: url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7);\n}\n.mce-visualblocks figcaption {\n  border: 1px dashed #bbb;\n}\n.mce-visualblocks hgroup {\n  background-image: url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7);\n}\n.mce-visualblocks aside {\n  background-image: url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=);\n}\n.mce-visualblocks ul {\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==);\n}\n.mce-visualblocks ol {\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==);\n}\n.mce-visualblocks dl {\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==);\n}\n.mce-visualblocks:not([dir=rtl]) p,\n.mce-visualblocks:not([dir=rtl]) h1,\n.mce-visualblocks:not([dir=rtl]) h2,\n.mce-visualblocks:not([dir=rtl]) h3,\n.mce-visualblocks:not([dir=rtl]) h4,\n.mce-visualblocks:not([dir=rtl]) h5,\n.mce-visualblocks:not([dir=rtl]) h6,\n.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),\n.mce-visualblocks:not([dir=rtl]) section,\n.mce-visualblocks:not([dir=rtl]) article,\n.mce-visualblocks:not([dir=rtl]) blockquote,\n.mce-visualblocks:not([dir=rtl]) address,\n.mce-visualblocks:not([dir=rtl]) pre,\n.mce-visualblocks:not([dir=rtl]) figure,\n.mce-visualblocks:not([dir=rtl]) figcaption,\n.mce-visualblocks:not([dir=rtl]) hgroup,\n.mce-visualblocks:not([dir=rtl]) aside,\n.mce-visualblocks:not([dir=rtl]) ul,\n.mce-visualblocks:not([dir=rtl]) ol,\n.mce-visualblocks:not([dir=rtl]) dl {\n  margin-left: 3px;\n}\n.mce-visualblocks[dir=rtl] p,\n.mce-visualblocks[dir=rtl] h1,\n.mce-visualblocks[dir=rtl] h2,\n.mce-visualblocks[dir=rtl] h3,\n.mce-visualblocks[dir=rtl] h4,\n.mce-visualblocks[dir=rtl] h5,\n.mce-visualblocks[dir=rtl] h6,\n.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),\n.mce-visualblocks[dir=rtl] section,\n.mce-visualblocks[dir=rtl] article,\n.mce-visualblocks[dir=rtl] blockquote,\n.mce-visualblocks[dir=rtl] address,\n.mce-visualblocks[dir=rtl] pre,\n.mce-visualblocks[dir=rtl] figure,\n.mce-visualblocks[dir=rtl] figcaption,\n.mce-visualblocks[dir=rtl] hgroup,\n.mce-visualblocks[dir=rtl] aside,\n.mce-visualblocks[dir=rtl] ul,\n.mce-visualblocks[dir=rtl] ol,\n.mce-visualblocks[dir=rtl] dl {\n  background-position-x: right;\n  margin-right: 3px;\n}\n.mce-nbsp,\n.mce-shy {\n  background: #aaa;\n}\n.mce-shy::after {\n  content: \'-\';\n}\nbody {\n  font-family: sans-serif;\n}\ntable {\n  border-collapse: collapse;\n}\n',""])},function(t,n,e){e(23)},function(t,n){!function(){"use strict";var t,n,e,r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(t,n,e){var r="UL"===n?"InsertUnorderedList":"InsertOrderedList";t.execCommand(r,!1,!1===e?null:{"list-style-type":e})},i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(){},u=function(t){return function(){return t}},c=u(!1),s=u(!0),l=function(){return f},f=(t=function(t){return t.isNone()},{fold:function(t,n){return t()},is:c,isSome:c,isNone:s,getOr:e=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:e,orThunk:n,map:l,each:a,bind:l,exists:c,forall:s,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:u("none()")}),d=function(t){var n=u(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:s,isNone:c,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return d(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(c,(function(n){return e(t,n)}))}};return o},m=function(t){return null==t?f:d(t)},p=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},g=function(t,n,e){var r=function(t,n){for(var e=0;e<t.length;e++){if(n(t[e]))return e}return-1}(n.parents,p),o=-1!==r?n.parents.slice(0,r):n.parents,a=i.grep(o,function(t){return function(n){return n&&/^(OL|UL|DL)$/.test(n.nodeName)&&function(t,n){return t.$.contains(t.getBody(),n)}(t,n)}}(t));return a.length>0&&a[0].nodeName===e},h=function(t,n,e,r,a,u){t.ui.registry.addSplitButton(n,{tooltip:e,icon:"OL"===a?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(t){t(i.map(u,(function(t){return{type:"choiceitem",value:"default"===t?"":t,icon:"list-"+("OL"===a?"num":"bull")+"-"+("disc"===t||"decimal"===t?"default":t),text:function(t){return t.replace(/\-/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))}(t)}})))},onAction:function(){return t.execCommand(r)},onItemAction:function(n,e){o(t,a,e)},select:function(n){return function(t){var n=t.dom.getParent(t.selection.getNode(),"ol,ul"),e=t.dom.getStyle(n,"listStyleType");return m(e)}(t).map((function(t){return n===t})).getOr(!1)},onSetup:function(n){var e=function(e){n.setActive(g(t,e,a))};return t.on("NodeChange",e),function(){return t.off("NodeChange",e)}}})},v=function(t,n,e,r,o,i){i.length>1?h(t,n,e,r,o,i):function(t,n,e,r,o,i){t.ui.registry.addToggleButton(n,{active:!1,tooltip:e,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:function(n){var e=function(e){n.setActive(g(t,e,o))};return t.on("NodeChange",e),function(){return t.off("NodeChange",e)}},onAction:function(){return t.execCommand(r)}})}(t,n,e,r,o)};r.add("advlist",(function(t){t.hasPlugin("lists")?(function(t){v(t,"numlist","Numbered list","InsertOrderedList","OL",function(t){var n=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return n?n.split(/[ ,]/):[]}(t)),v(t,"bullist","Bullet list","InsertUnorderedList","UL",function(t){var n=t.getParam("advlist_bullet_styles","default,circle,square");return n?n.split(/[ ,]/):[]}(t))}(t),function(t){t.addCommand("ApplyUnorderedListStyle",(function(n,e){o(t,"UL",e["list-style-type"])})),t.addCommand("ApplyOrderedListStyle",(function(n,e){o(t,"OL",e["list-style-type"])}))}(t)):console.error("Please use the Lists plugin together with the Advanced List plugin.")}))}()},function(t,n,e){e(25)},function(t,n){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),e=function(t,n){if(n<0&&(n=0),3===t.nodeType){var e=t.data.length;n>e&&(n=e)}return n},r=function(t,n,r){1!==n.nodeType||n.hasChildNodes()?t.setStart(n,e(n,r)):t.setStartBefore(n)},o=function(t,n,r){1!==n.nodeType||n.hasChildNodes()?t.setEnd(n,e(n,r)):t.setEndAfter(n)},i=function(t,n,e){var i,a,u,c,s,l,f,d=function(t){return t.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)}(t),m=function(t){return t.getParam("default_link_target",!1)}(t);if("A"!==t.selection.getNode().tagName){var p=t.selection.getRng().cloneRange();if(p.startOffset<5){if(!(s=p.endContainer.previousSibling)){if(!p.endContainer.firstChild||!p.endContainer.firstChild.nextSibling)return;s=p.endContainer.firstChild.nextSibling}if(l=s.length,r(p,s,l),o(p,s,l),p.endOffset<5)return;i=p.endOffset,a=s}else{if(3!==(a=p.endContainer).nodeType&&a.firstChild){for(;3!==a.nodeType&&a.firstChild;)a=a.firstChild;3===a.nodeType&&(r(p,a,0),o(p,a,a.nodeValue.length))}i=1===p.endOffset?2:p.endOffset-1-n}var g=i;do{r(p,a,i>=2?i-2:0),o(p,a,i>=1?i-1:0),i-=1,f=p.toString()}while(" "!==f&&""!==f&&160!==f.charCodeAt(0)&&i-2>=0&&f!==e);!function(t,n){return t===n||" "===t||160===t.charCodeAt(0)}(p.toString(),e)?0===p.startOffset?(r(p,a,0),o(p,a,g)):(r(p,a,i),o(p,a,g)):(r(p,a,i),o(p,a,g),i+=1),"."===(c=p.toString()).charAt(c.length-1)&&o(p,a,g-1);var h=(c=p.toString().trim()).match(d),v=function(t){return t.getParam("link_default_protocol","http","string")}(t);h&&("www."===h[1]?h[1]=v+"://www.":/@$/.test(h[1])&&!/^mailto:/.test(h[1])&&(h[1]="mailto:"+h[1]),u=t.selection.getBookmark(),t.selection.setRng(p),t.execCommand("createlink",!1,h[1]+h[2]),!1!==m&&t.dom.setAttrib(t.selection.getNode(),"target",m),t.selection.moveToBookmark(u),t.nodeChanged())}},a=function(t){var e;t.on("keydown",(function(n){if(13===n.keyCode)return function(t){i(t,-1,"")}(t)})),n.browser.isIE()?t.on("focus",(function(){if(!e){e=!0;try{t.execCommand("AutoUrlDetect",!1,!0)}catch(t){}}})):(t.on("keypress",(function(n){if(41===n.keyCode)return function(t){i(t,-1,"(")}(t)})),t.on("keyup",(function(n){if(32===n.keyCode)return function(t){i(t,0,"")}(t)})))};t.add("autolink",(function(t){a(t)}))}()},function(t,n,e){e(27)},function(t,n){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},e=function(t){return function(){return t}},r=function(t){return function(n){return!t(n)}},o=e(!1),i=e(!0),a=function(){return u},u=function(){var t=function(t){return t.isNone()},r=function(t){return t()},u=function(t){return t};return{fold:function(t,n){return t()},is:o,isSome:o,isNone:i,getOr:u,getOrThunk:r,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:e(null),getOrUndefined:e(void 0),or:u,orThunk:r,map:a,each:n,bind:a,exists:o,forall:i,filter:a,equals:t,equals_:t,toArray:function(){return[]},toString:e("none()")}}(),c=function(t){var n=e(t),r=function(){return s},a=function(n){return n(t)},s={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:i,isNone:o,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:r,orThunk:r,map:function(n){return c(n(t))},each:function(n){n(t)},bind:a,exists:a,forall:a,filter:function(n){return n(t)?s:u},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(o,(function(n){return e(t,n)}))}};return s},s={some:c,none:a,from:function(t){return null==t?u:c(t)}},l=function(t){return function(n){return r=typeof(e=n),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===t;var e,r}},f=function(t){return function(n){return typeof n===t}},d=l("string"),m=l("array"),p=f("boolean"),g=f("function"),h=f("number"),v=Array.prototype.slice,b=Array.prototype.push,y=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},x=function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}},w=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},C=function(t,n,e){return x(t,(function(t){e=n(e,t)})),e},_=function(t,n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r))return s.some(i);if(e(i,r))break}return s.none()},k=function(t,n){return _(t,n,o)},S=function(t,n){return function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!m(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);b.apply(n,t[e])}return n}(y(t,n))},A=function(t){var n=v.call(t,0);return n.reverse(),n},O=function(t,n){return n>=0&&n<t.length?s.some(t[n]):s.none()},T=function(t){return O(t,0)},E=function(t){return O(t,t.length-1)},D=function(){return(D=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};var z,M,N,R,B=function(){return P(0,0)},P=function(t,n){return{major:t,minor:n}},I={nu:P,detect:function(t,n){var e=String(n).toLowerCase();return 0===t.length?B():function(t,n){var e=function(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(r.test(n))return r}}(t,n);if(!e)return{major:0,minor:0};var r=function(t){return Number(n.replace(e,"$"+t))};return P(r(1),r(2))}(t,e)},unknown:B},L=function(t,n){var e=String(n).toLowerCase();return k(t,(function(t){return t.search(e)}))},H=function(t,n){return L(t,n).map((function(t){var e=I.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},F=function(t,n){return L(t,n).map((function(t){var e=I.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},V=function(t,n){return-1!==t.indexOf(n)},j=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,U=function(t){return function(n){return V(n,t)}},W=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return V(t,"edge/")&&V(t,"chrome")&&V(t,"safari")&&V(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,j],search:function(t){return V(t,"chrome")&&!V(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return V(t,"msie")||V(t,"trident")}},{name:"Opera",versionRegexes:[j,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:U("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:U("firefox")},{name:"Safari",versionRegexes:[j,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(V(t,"safari")||V(t,"mobile/"))&&V(t,"applewebkit")}}],$=[{name:"Windows",search:U("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return V(t,"iphone")||V(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:U("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:U("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:U("linux"),versionRegexes:[]},{name:"Solaris",search:U("sunos"),versionRegexes:[]},{name:"FreeBSD",search:U("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:U("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],q={browsers:e(W),oses:e($)},G=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},K={unknown:function(){return G({current:void 0,version:I.unknown()})},nu:G,edge:e("Edge"),chrome:e("Chrome"),ie:e("IE"),opera:e("Opera"),firefox:e("Firefox"),safari:e("Safari")},X=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},Y={unknown:function(){return X({current:void 0,version:I.unknown()})},nu:X,windows:e("Windows"),ios:e("iOS"),android:e("Android"),linux:e("Linux"),osx:e("OSX"),solaris:e("Solaris"),freebsd:e("FreeBSD"),chromeos:e("ChromeOS")},J=function(t,n){var r=q.browsers(),o=q.oses(),i=H(r,t).fold(K.unknown,K.nu),a=F(o,t).fold(Y.unknown,Y.nu),u=function(t,n,r,o){var i=t.isiOS()&&!0===/ipad/i.test(r),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),c=u||o("(pointer:coarse)"),s=i||!a&&u&&o("(min-device-width:768px)"),l=a||u&&!s,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),d=!l&&!s&&!f;return{isiPad:e(i),isiPhone:e(a),isTablet:e(s),isPhone:e(l),isTouch:e(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:e(f),isDesktop:e(d)}}(a,i,t,n);return{browser:i,os:a,deviceType:u}},Q=function(t){return window.matchMedia(t).matches},Z=(z=function(){return J(navigator.userAgent,Q)},N=!1,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return N||(N=!0,M=z.apply(null,t)),M}),tt=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},nt={fromHtml:function(t,n){var e=(n||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||e.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return tt(e.childNodes[0])},fromTag:function(t,n){var e=(n||document).createElement(t);return tt(e)},fromText:function(t,n){var e=(n||document).createTextNode(t);return tt(e)},fromDom:tt,fromPoint:function(t,n,e){return s.from(t.dom.elementFromPoint(n,e)).map(tt)}},et=function(t,n){return t.dom===n.dom},rt=function(t,n){return e=t.dom,r=n.dom,function(t,n,e){return 0!=(t.compareDocumentPosition(n)&e)}(e,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var e,r},ot=function(t,n){return Z().browser.isIE()?rt(t,n):function(t,n){var e=t.dom,r=n.dom;return e!==r&&e.contains(r)}(t,n)},it=function(t,n){var e=t.dom;if(1!==e.nodeType)return!1;var r=e;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},at=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ut=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ct=tinymce.util.Tools.resolve("tinymce.util.VK"),st=Object.keys,lt=function(t,n){for(var e=st(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}},ft=function(t,e){var r={};return function(t,n,e,r){lt(t,(function(t,o){(n(t,o)?e:r)(t,o)}))}(t,e,function(t){return function(n,e){t[e]=n}}(r),n),r},dt=("undefined"!=typeof window?window:Function("return this;")(),function(t){return t.dom.nodeName.toLowerCase()}),mt=(R=1,function(t){return function(t){return t.dom.nodeType}(t)===R}),pt=function(t,n){var e=t.dom;lt(n,(function(t,n){!function(t,n,e){if(!(d(e)||p(e)||h(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")}(e,n,t)}))},gt=function(t){return C(t.dom.attributes,(function(t,n){return t[n.name]=n.value,t}),{})},ht=function(t){return s.from(t.dom.parentNode).map(nt.fromDom)},vt=function(t){return y(t.dom.childNodes,nt.fromDom)},bt=function(t,n){var e=t.dom.childNodes;return s.from(e[n]).map(nt.fromDom)},yt=function(t){return bt(t,0)},xt=function(t){return bt(t,t.dom.childNodes.length-1)},wt=function(t,n){ht(t).each((function(e){e.dom.insertBefore(n.dom,t.dom)}))},Ct=function(t,n){t.dom.appendChild(n.dom)},_t=function(t,n){x(n,(function(n){Ct(t,n)}))},kt=function(t){var n=t.dom;null!==n.parentNode&&n.parentNode.removeChild(n)},St=function(t){return function(t,n){return nt.fromDom(t.dom.cloneNode(n))}(t,!0)},At=function(t,n){var e=function(t,n){var e=nt.fromTag(n),r=gt(t);return pt(e,r),e}(t,n);wt(t,e);var r=vt(t);return _t(e,r),kt(t),e},Ot=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Tt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Et=function(t){return function(n){return n&&n.nodeName.toLowerCase()===t}},Dt=function(t){return function(n){return n&&t.test(n.nodeName)}},zt=function(t){return t&&3===t.nodeType},Mt=Dt(/^(OL|UL|DL)$/),Nt=Dt(/^(OL|UL)$/),Rt=Et("ol"),Bt=Dt(/^(LI|DT|DD)$/),Pt=Dt(/^(DT|DD)$/),It=Dt(/^(TH|TD)$/),Lt=Et("br"),Ht=function(t,n){return n&&!!t.schema.getTextBlockElements()[n.nodeName]},Ft=function(t,n){return t&&t.nodeName in n},Vt=function(t,n,e){var r=t.isEmpty(n);return!(e&&t.select("span[data-mce-type=bookmark]",n).length>0)&&r},jt=function(t,n){return t.isChildOf(n,t.getRoot())},Ut=function(t,n){var e,r,o,i=t.dom,a=t.schema.getBlockElements(),u=i.createFragment(),c=function(t){var n=t.getParam("forced_root_block","p");return!1===n?"":!0===n?"p":n}(t);if(c&&((r=i.create(c)).tagName===c.toUpperCase()&&i.setAttribs(r,function(t){return t.getParam("forced_root_block_attrs",{})}(t)),Ft(n.firstChild,a)||u.appendChild(r)),n)for(;e=n.firstChild;){var s=e.nodeName;o||"SPAN"===s&&"bookmark"===e.getAttribute("data-mce-type")||(o=!0),Ft(e,a)?(u.appendChild(e),r=null):c?(r||(r=i.create(c),u.appendChild(r)),r.appendChild(e)):u.appendChild(e)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},Wt=Ot.DOM,$t=function(t,n){it(n,"dd")?At(n,"dt"):it(n,"dt")&&ht(n).each((function(e){return function(t,n,e){var r=Wt.select('span[data-mce-type="bookmark"]',n),o=Ut(t,e),i=Wt.createRng();i.setStartAfter(e),i.setEndAfter(n);for(var a,u=i.extractContents(),c=u.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&t.dom.isEmpty(c)){Wt.remove(c);break}t.dom.isEmpty(u)||Wt.insertAfter(u,n),Wt.insertAfter(o,n),Vt(t.dom,e.parentNode)&&(a=e.parentNode,Tt.each(r,(function(t){a.parentNode.insertBefore(t,e.parentNode)})),Wt.remove(a)),Wt.remove(e),Vt(t.dom,n)&&Wt.remove(n)}(t,e.dom,n.dom)}))},qt=function(t){it(t,"dt")&&At(t,"dd")},Gt=function(t,n){if(zt(t))return{container:t,offset:n};var e=at.getNode(t,n);return zt(e)?{container:e,offset:n>=t.childNodes.length?e.data.length:0}:e.previousSibling&&zt(e.previousSibling)?{container:e.previousSibling,offset:e.previousSibling.data.length}:e.nextSibling&&zt(e.nextSibling)?{container:e.nextSibling,offset:0}:{container:t,offset:n}},Kt=function(t){var n=t.cloneRange(),e=Gt(t.startContainer,t.startOffset);n.setStart(e.container,e.offset);var r=Gt(t.endContainer,t.endOffset);return n.setEnd(r.container,r.offset),n},Xt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Yt=function(t,n){var e=n||t.selection.getStart(!0);return t.dom.getParent(e,"OL,UL,DL",Zt(t,e))},Jt=function(t){var n=Yt(t),e=t.selection.getSelectedBlocks();return function(t,n){return t&&1===n.length&&n[0]===t}(n,e)?function(t){return Tt.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return Mt(t)}))}(n):Tt.grep(e,(function(t){return Mt(t)&&n!==t}))},Qt=function(t){var n=t.selection.getSelectedBlocks();return Tt.grep(function(t,n){var e=Tt.map(n,(function(n){var e=t.dom.getParent(n,"li,dd,dt",Zt(t,n));return e||n}));return Xt.unique(e)}(t,n),(function(t){return Bt(t)}))},Zt=function(t,n){var e=t.dom.getParents(n,"TD,TH");return e.length>0?e[0]:t.getBody()},tn=function(t,n){var e=t.dom.getParents(n,"ol,ul",Zt(t,n));return E(e)},nn=function(t){var n=function(t){var n=tn(t,t.selection.getStart()),e=w(t.selection.getSelectedBlocks(),Nt);return n.toArray().concat(e)}(t);return en(t,n)},en=function(t,n){var e=y(n,(function(n){return tn(t,n).getOr(n)}));return Xt.unique(e)},rn=function(t,n,e){return t.isSome()&&n.isSome()?s.some(e(t.getOrDie(),n.getOrDie())):s.none()},on=function(t,n,e){return t.fire("ListMutation",{action:n,element:e})},an=function(t,n,e){if(!d(e))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",e,":: Element ",t),new Error("CSS value must be a string: "+e);(function(t){return void 0!==t.style&&g(t.style.getPropertyValue)})(t)&&t.style.setProperty(n,e)},un=function(t,n){Ct(t.item,n.list)},cn=function(t,n){var e={list:nt.fromTag(n,t),item:nt.fromTag("li",t)};return Ct(e.list,e.item),e},sn=function(t,n,e){var r=n.slice(0,e.depth);return E(r).each((function(n){!function(t,n){Ct(t.list,n),t.item=n}(n,function(t,n,e){var r=nt.fromTag("li",t);return pt(r,n),_t(r,e),r}(t,e.itemAttributes,e.content)),function(t,n){dt(t.list)!==n.listType&&(t.list=At(t.list,n.listType)),pt(t.list,n.listAttributes)}(n,e)})),r},ln=function(t,n,e){var r,o=function(t,n,e){for(var r=[],o=0;o<e;o++)r.push(cn(t,n.listType));return r}(t,e,e.depth-n.length);return function(t){for(var n=1;n<t.length;n++)un(t[n-1],t[n])}(o),function(t,n){for(var e=0;e<t.length-1;e++)r=t[e].item,o="list-style-type",i="none",a=void 0,a=r.dom,an(a,o,i);var r,o,i,a;E(t).each((function(t){pt(t.list,n.listAttributes),pt(t.item,n.itemAttributes),_t(t.item,n.content)}))}(o,e),r=o,rn(E(n),T(r),un),n.concat(o)},fn=function(t){return it(t,"OL,UL")},dn=function(t){return yt(t).map(fn).getOr(!1)},mn=function(t){return t.depth>0},pn=function(t){return t.isSelected},gn=function(t){var n=vt(t),e=xt(t).map(fn).getOr(!1)?n.slice(0,-1):n;return y(e,St)},hn=function(t){return x(t,(function(n,e){(function(t,n){var e=t[n].depth,r=function(t){return t.depth===e&&!t.dirty},o=function(t){return t.depth<e};return _(A(t.slice(0,n)),r,o).orThunk((function(){return _(t.slice(n+1),r,o)}))})(t,e).fold((function(){n.dirty&&function(t){t.listAttributes=ft(t.listAttributes,(function(t,n){return"start"!==n}))}(n)}),(function(t){return r=t,(e=n).listType=r.listType,void(e.listAttributes=D({},r.listAttributes));var e,r}))})),t},vn=function(t,n,e,r){return yt(r).filter(fn).fold((function(){n.each((function(t){et(t.start,r)&&e.set(!0)}));var o=function(t,n,e){return ht(t).filter(mt).map((function(r){return{depth:n,dirty:!1,isSelected:e,content:gn(t),itemAttributes:gt(t),listAttributes:gt(r),listType:dt(r)}}))}(r,t,e.get());n.each((function(t){et(t.end,r)&&e.set(!1)}));var i=xt(r).filter(fn).map((function(r){return bn(t,n,e,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return bn(t,n,e,r)}))},bn=function(t,n,e,r){return S(vt(r),(function(r){return(fn(r)?bn:vn)(t+1,n,e,r)}))},yn=function(t,n){var e=hn(n);return y(e,(function(n){var e,r,o,i=(e=n.content,o=(r||document).createDocumentFragment(),x(e,(function(t){o.appendChild(t.dom)})),nt.fromDom(o));return nt.fromDom(Ut(t,i.dom))}))},xn=function(t,n){var e=hn(n);return function(t,n){var e=C(n,(function(n,e){return e.depth>n.length?ln(t,n,e):sn(t,n,e)}),[]);return T(e).map((function(t){return t.list}))}(t.contentDocument,e).toArray()},wn=function(t,n,e){var o=function(t,n){var e,r=(e=!1,{get:function(){return e},set:function(t){e=t}});return y(t,(function(t){return{sourceList:t,entries:bn(0,n,r,t)}}))}(n,function(t){var n=y(Qt(t),nt.fromDom);return rn(k(n,r(dn)),k(A(n),r(dn)),(function(t,n){return{start:t,end:n}}))}(t));x(o,(function(n){!function(t,n){x(w(t,pn),(function(t){return function(t,n){switch(t){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}n.dirty=!0}(n,t)}))}(n.entries,e);var r,o=function(t,n){return S(function(t,n){if(0===t.length)return[];for(var e=n(t[0]),r=[],o=[],i=0,a=t.length;i<a;i++){var u=t[i],c=n(u);c!==e&&(r.push(o),o=[]),e=c,o.push(u)}return 0!==o.length&&r.push(o),r}(n,mn),(function(n){return T(n).map(mn).getOr(!1)?xn(t,n):yn(t,n)}))}(t,n.entries);x(o,(function(n){on(t,"Indent"===e?"IndentList":"OutdentList",n.dom)})),r=n.sourceList,x(o,(function(t){wt(r,t)})),kt(n.sourceList)}))},Cn=function(t,n){var e=y(nn(t),nt.fromDom),r=y(function(t){return w(Qt(t),Pt)}(t),nt.fromDom),o=!1;if(e.length||r.length){var i=t.selection.getBookmark();wn(t,e,n),function(t,n,e){x(e,"Indent"===n?qt:function(n){return $t(t,n)})}(t,n,r),t.selection.moveToBookmark(i),t.selection.setRng(Kt(t.selection.getRng())),t.nodeChanged(),o=!0}return o},_n=function(t){return Cn(t,"Indent")},kn=function(t){return Cn(t,"Outdent")},Sn=function(t){return Cn(t,"Flatten")},An=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),On=Ot.DOM,Tn=function(t){var n={},e=function(e){var r,o,i;o=t[e?"startContainer":"endContainer"],i=t[e?"startOffset":"endOffset"],1===o.nodeType&&(r=On.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),e?o.insertBefore(r,o.childNodes[i]):On.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),n[e?"startContainer":"endContainer"]=o,n[e?"startOffset":"endOffset"]=i};return e(!0),t.collapsed||e(),n},En=function(t){var n=function(n){var e,r,o;e=o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],e&&(1===e.nodeType&&(r=function(t){for(var n=t.parentNode.firstChild,e=0;n;){if(n===t)return e;1===n.nodeType&&"bookmark"===n.getAttribute("data-mce-type")||e++,n=n.nextSibling}return-1}(e),e=e.parentNode,On.remove(o),!e.hasChildNodes()&&On.isBlock(e)&&e.appendChild(On.create("br"))),t[n?"startContainer":"endContainer"]=e,t[n?"startOffset":"endOffset"]=r)};n(!0),n();var e=On.createRng();return e.setStart(t.startContainer,t.startOffset),t.endContainer&&e.setEnd(t.endContainer,t.endOffset),Kt(e)},Dn=function(t){switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},zn=function(t){return/\btox\-/.test(t.className)},Mn=function(t,n,e){var r=function(t){var r=_(t.parents,Mt,It).filter((function(t){return t.nodeName===n&&!zn(t)})).isSome();e(r)},o=t.dom.getParents(t.selection.getNode());return r({parents:o}),t.on("NodeChange",r),function(){return t.off("NodeChange",r)}},Nn=function(t,n){Tt.each(n,(function(n,e){t.setAttribute(e,n)}))},Rn=function(t,n,e){!function(t,n,e){var r=e["list-style-type"]?e["list-style-type"]:null;t.setStyle(n,"list-style-type",r)}(t,n,e),function(t,n,e){Nn(n,e["list-attributes"]),Tt.each(t.select("li",n),(function(t){Nn(t,e["list-item-attributes"])}))}(t,n,e)},Bn=function(t,n,e,r){var o=n[e?"startContainer":"endContainer"],i=n[e?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!e&&Lt(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(Ht(t,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},Pn=function(t,n,e){void 0===e&&(e={});var r=t.selection.getRng(),o="LI",i=Zt(t,t.selection.getStart(!0)),a=t.dom;if("false"!==a.getContentEditable(t.selection.getNode())){"DL"===(n=n.toUpperCase())&&(o="DT");var u=Tn(r),c=function(t,n,e){for(var r,o=[],i=t.dom,a=Bn(t,n,!0,e),u=Bn(t,n,!1,e),c=[],s=a;s&&(c.push(s),s!==u);s=s.nextSibling);return Tt.each(c,(function(n){if(Ht(t,n))return o.push(n),void(r=null);if(i.isBlock(n)||Lt(n))return Lt(n)&&i.remove(n),void(r=null);var a=n.nextSibling;An.isBookmarkNode(n)&&(Mt(a)||Ht(t,a)||!a&&n.parentNode===e)?r=null:(r||(r=i.create("p"),n.parentNode.insertBefore(r,n),o.push(r)),r.appendChild(n))})),o}(t,r,i);Tt.each(c,(function(r){var i,u=r.previousSibling,c=r.parentNode;Bt(c)||(u&&Mt(u)&&u.nodeName===n&&function(t,n,e){var r=t.getStyle(n,"list-style-type"),o=e?e["list-style-type"]:"";return r===(o=null===o?"":o)}(a,u,e)?(i=u,r=a.rename(r,o),u.appendChild(r)):(i=a.create(n),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),function(t,n,e){Tt.each(e,(function(e){var r;return t.setStyle(n,((r={})[e]="",r))}))}(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Rn(a,i,e),Ln(t.dom,i))})),t.selection.setRng(En(u))}},In=function(t,n,e){return function(t,n){return t&&n&&Mt(t)&&t.nodeName===n.nodeName}(n,e)&&function(t,n,e){return t.getStyle(n,"list-style-type",!0)===t.getStyle(e,"list-style-type",!0)}(t,n,e)&&(r=e,n.className===r.className);var r},Ln=function(t,n){var e,r;if(e=n.nextSibling,In(t,n,e)){for(;r=e.firstChild;)n.appendChild(r);t.remove(e)}if(e=n.previousSibling,In(t,n,e)){for(;r=e.lastChild;)n.insertBefore(r,n.firstChild);t.remove(e)}},Hn=function(t,n,e,r,o){var i=Mt(n);if(i&&n.nodeName===r&&!Fn(o))Sn(t);else{Pn(t,r,o);var a=Tn(t.selection.getRng(!0)),u=i?function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}([n],e):e;Tt.each(u,(function(n){!function(t,n,e,r){if(n.nodeName!==e){var o=t.dom.rename(n,e);Rn(t.dom,o,r),on(t,Dn(e),o)}else Rn(t.dom,n,r),on(t,Dn(e),n)}(t,n,r,o)})),t.selection.setRng(En(a))}},Fn=function(t){return"list-style-type"in t},Vn=function(t,n,e){var r=Yt(t),o=Jt(t);e=e||{},o.length>0?Hn(t,r,o,n,e):function(t,n,e,r){if(n!==t.getBody())if(n)if(n.nodeName!==e||Fn(r)||zn(n)){var o=Tn(t.selection.getRng(!0));Rn(t.dom,n,r);var i=t.dom.rename(n,e);Ln(t.dom,i),t.selection.setRng(En(o)),Pn(t,e,r),on(t,Dn(e),i)}else Sn(t);else Pn(t,e,r),on(t,Dn(e),n)}(t,r,n,e)},jn=Ot.DOM,Un=function(t,n){Tt.each(Tt.grep(t.select("ol,ul",n)),(function(n){!function(t,n){var e,r=n.parentNode;"LI"===r.nodeName&&r.firstChild===n&&((e=r.previousSibling)&&"LI"===e.nodeName?(e.appendChild(n),Vt(t,r)&&jn.remove(r)):jn.setStyle(r,"listStyleType","none")),Mt(r)&&(e=r.previousSibling)&&"LI"===e.nodeName&&e.appendChild(n)}(t,n)}))},Wn=function(t,n,e,r){var o=n.startContainer,i=n.startOffset;if(zt(o)&&(e?i<o.data.length:i>0))return o;var a=t.schema.getNonEmptyElements();1===o.nodeType&&(o=at.getNode(o,i));var u=new ut(o,r);for(e&&function(t,n){return!!Lt(n)&&(t.isBlock(n.nextSibling)&&!Lt(n.previousSibling))}(t.dom,o)&&u.next();o=u[e?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(zt(o)&&o.data.length>0)return o}},$n=function(t,n){var e=n.childNodes;return 1===e.length&&!Mt(e[0])&&t.isBlock(e[0])},qn=function(t,n,e){var r,o=$n(t,e)?e.firstChild:e;if(function(t,n){$n(t,n)&&t.remove(n.firstChild,!0)}(t,n),!Vt(t,n,!0))for(;r=n.firstChild;)o.appendChild(r)},Gn=function(t,n,e){var r,o=n.parentNode;if(jt(t,n)&&jt(t,e)){Mt(e.lastChild)&&(r=e.lastChild),o===e.lastChild&&Lt(o.previousSibling)&&t.remove(o.previousSibling);var i=e.lastChild;i&&Lt(i)&&n.hasChildNodes()&&t.remove(i),Vt(t,e,!0)&&t.$(e).empty(),qn(t,n,e),r&&e.appendChild(r);var a=ot(nt.fromDom(e),nt.fromDom(n))?t.getParents(n,Mt,e):[];t.remove(n),x(a,(function(n){Vt(t,n)&&n!==t.getRoot()&&t.remove(n)}))}},Kn=function(t,n,e,r){var o=t.dom;if(o.isEmpty(r))!function(t,n,e){t.dom.$(e).empty(),Gn(t.dom,n,e),t.selection.setCursorLocation(e,0)}(t,e,r);else{var i=Tn(n);Gn(o,e,r),t.selection.setRng(En(i))}},Xn=function(t,n){var e=t.dom,r=t.selection,o=r.getStart(),i=Zt(t,o),a=e.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===t.getBody()&&Vt(e,u))return!0;var c=Kt(r.getRng()),s=e.getParent(Wn(t,c,n,i),"LI",i);if(s&&s!==a)return t.undoManager.transact((function(){var e;n?Kn(t,c,s,a):(e=a).parentNode.firstChild===e?kn(t):function(t,n,e,r){var o=Tn(n);Gn(t.dom,e,r);var i=En(o);t.selection.setRng(i)}(t,c,a,s)})),!0;if(!s&&!n&&0===c.startOffset&&0===c.endOffset)return t.undoManager.transact((function(){Sn(t)})),!0}return!1},Yn=function(t,n){return Xn(t,n)||function(t,n){var e=t.dom,r=t.selection.getStart(),o=Zt(t,r),i=e.getParent(r,e.isBlock,o);if(i&&e.isEmpty(i)){var a=Kt(t.selection.getRng()),u=e.getParent(Wn(t,a,n,o),"LI",o);if(u)return t.undoManager.transact((function(){!function(t,n,e){var r=t.getParent(n.parentNode,t.isBlock,e);t.remove(n),r&&t.isEmpty(r)&&t.remove(r)}(e,i,o),Ln(e,u.parentNode),t.selection.select(u,!0),t.selection.collapse(n)})),!0}return!1}(t,n)},Jn=function(t,n){return t.selection.isCollapsed()?Yn(t,n):function(t){var n=t.selection.getStart(),e=Zt(t,n);return!!(t.dom.getParent(n,"LI,DT,DD",e)||Qt(t).length>0)&&(t.undoManager.transact((function(){t.execCommand("Delete"),Un(t.dom,t.getBody())})),!0)}(t)},Qn=function(t){var n=t.dom,e=Yt(t);Rt(e)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:n.getAttrib(e,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(e){var r=e.getData();t.undoManager.transact((function(){n.setAttrib(Yt(t),"start","1"===r.start?"":r.start)})),e.close()}})},Zn=function(t,n){return function(){var e=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===n}},te=function(t){(function(t){return t.getParam("lists_indent_on_tab",!0)})(t)&&function(t){t.on("keydown",(function(n){n.keyCode!==ct.TAB||ct.metaKeyPressed(n)||t.undoManager.transact((function(){(n.shiftKey?kn(t):_n(t))&&n.preventDefault()}))}))}(t),function(t){t.on("keydown",(function(n){n.keyCode===ct.BACKSPACE?Jn(t,!1)&&n.preventDefault():n.keyCode===ct.DELETE&&Jn(t,!0)&&n.preventDefault()}))}(t)};t.add("lists",(function(t){return!1===t.hasPlugin("rtc",!0)&&(te(t),function(t){t.on("BeforeExecCommand",(function(n){var e=n.command.toLowerCase();"indent"===e?_n(t):"outdent"===e&&kn(t)})),t.addCommand("InsertUnorderedList",(function(n,e){Vn(t,"UL",e)})),t.addCommand("InsertOrderedList",(function(n,e){Vn(t,"OL",e)})),t.addCommand("InsertDefinitionList",(function(n,e){Vn(t,"DL",e)})),t.addCommand("RemoveList",(function(){Sn(t)})),t.addCommand("mceListProps",(function(){Qn(t)})),t.addQueryStateHandler("InsertUnorderedList",Zn(t,"UL")),t.addQueryStateHandler("InsertOrderedList",Zn(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",Zn(t,"DL"))}(t)),function(t){var n=function(n){return function(){return t.execCommand(n)}};t.hasPlugin("advlist")||(t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:n("InsertOrderedList"),onSetup:function(n){return Mn(t,"OL",n.setActive)}}),t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:n("InsertUnorderedList"),onSetup:function(n){return Mn(t,"UL",n.setActive)}}))}(t),function(t){var n={text:"List properties...",icon:"ordered-list",onAction:function(){return Qn(t)},onSetup:function(n){return Mn(t,"OL",(function(t){return n.setDisabled(!t)}))}};t.ui.registry.addMenuItem("listprops",n),t.ui.registry.addContextMenu("lists",{update:function(n){var e=Yt(t,n);return Rt(e)?["listprops"]:[]}})}(t),function(t){return{backspaceDelete:function(n){Jn(t,n)}}}(t)}))}()},function(t,n,e){e(29)},function(t,n){!function(){"use strict";var t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.VK"),r=function(t){return function(n){return r=typeof(e=n),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===t;var e,r}},o=function(t){return function(n){return typeof n===t}},i=r("string"),a=r("array"),u=(t=null,function(n){return t===n}),c=o("boolean"),s=o("function"),l=function(t){var n=t.getParam("link_assume_external_targets",!1);return c(n)&&n?1:!i(n)||"http"!==n&&"https"!==n?0:n},f=function(t){return t.getParam("default_link_target")},d=function(t){return t.getParam("target_list",!0)},m=function(t){return t.getParam("rel_list",[],"array")},p=function(t){return t.getParam("link_title",!0,"boolean")},g=function(t){return t.getParam("allow_unsafe_link_target",!1,"boolean")},h=function(t){return t.getParam("link_default_protocol","http","string")},v=function(){},b=function(t){return function(){return t}},y=b(!1),x=b(!0),w=function(){return C},C=function(){var t=function(t){return t.isNone()},n=function(t){return t()},e=function(t){return t};return{fold:function(t,n){return t()},is:y,isSome:y,isNone:x,getOr:e,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:e,orThunk:n,map:w,each:v,bind:w,exists:y,forall:x,filter:w,equals:t,equals_:t,toArray:function(){return[]},toString:b("none()")}}(),_=function(t){var n=b(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:x,isNone:y,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return _(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:C},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(y,(function(n){return e(t,n)}))}};return o},k={some:_,none:w,from:function(t){return null==t?C:_(t)}},S=Array.prototype.indexOf,A=Array.prototype.push,O=function(t,n){return function(t,n){return S.call(t,n)}(t,n)>-1},T=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!a(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);A.apply(n,t[e])}return n},E=function(t,n){return T(function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r}(t,n))},D=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return k.none()},z=function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n},M=function(t,n){return t?k.some(n):k.none()},N=tinymce.util.Tools.resolve("tinymce.util.Tools"),R=function(t){return i(t.value)?t.value:""},B=function(t,n){var e=[];return N.each(t,(function(t){var r=function(t){return i(t.text)?t.text:i(t.title)?t.title:""}(t);if(void 0!==t.menu){var o=B(t.menu,n);e.push({text:r,items:o})}else{var a=n(t);e.push({text:r,value:a})}})),e},P=function(t){return void 0===t&&(t=R),function(n){return k.from(n).map((function(n){return B(n,t)}))}},I={sanitize:function(t){return P(R)(t)},sanitizeWith:P,createUi:function(t,n){return function(e){return{name:t,type:"listbox",label:n,items:e}}},getValue:R},L=function(){return(L=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},H=Object.keys,F=Object.hasOwnProperty,V=function(t,n,e,r){return function(t,n){for(var e=H(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}}(t,(function(t,o){(n(t,o)?e:r)(t,o)})),{}},j=function(t,n){return F.call(t,n)},U=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),W=function(t){return t&&"a"===t.nodeName.toLowerCase()},$=function(t){return W(t)&&!!K(t)},q=function(t,n){if(t.collapsed)return[];var e=t.cloneContents(),r=new U(e.firstChild,e),o=[],i=e.firstChild;do{n(i)&&o.push(i)}while(i=r.next());return o},G=function(t){return/^\w+:/i.test(t)},K=function(t){var n=t.getAttribute("data-mce-href");return n||t.getAttribute("href")},X=function(t,n){var e=["noopener"],r=t?t.split(/\s+/):[],o=function(t){return t.filter((function(t){return-1===N.inArray(e,t)}))},i=n?function(t){return(t=o(t)).length>0?t.concat(e):e}(r):o(r);return i.length>0?function(t){return N.trim(t.sort().join(" "))}(i):""},Y=function(t,n){return n=n||t.selection.getNode(),tt(n)?t.dom.select("a[href]",n)[0]:t.dom.getParent(n,"a[href]")},J=function(t,n){return function(t){return t.replace(/\uFEFF/g,"")}(n?n.innerText||n.textContent:t.getContent({format:"text"}))},Q=function(t){return N.grep(t,$).length>0},Z=function(t){var n=t.schema.getTextInlineElements();return 0===q(t.selection.getRng(),(function(t){return 1===t.nodeType&&!W(t)&&!j(n,t.nodeName.toLowerCase())})).length},tt=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},nt=function(t,n){var e=L({},n);if(!(m(t).length>0)&&!1===g(t)){var r=X(e.rel,"_blank"===e.target);e.rel=r||null}return k.from(e.target).isNone()&&!1===d(t)&&(e.target=f(t)),e.href=function(t,n){return"http"!==n&&"https"!==n||G(t)?t:n+"://"+t}(e.href,l(t)),e},et=function(t,n,e){var r=t.selection.getNode(),o=Y(t,r),i=nt(t,function(t){return function(t,n,e){return function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}}(t,(function(t){e=n(e,t)})),e}(["title","rel","class","target"],(function(n,e){return t[e].each((function(t){n[e]=t.length>0?t:null})),n}),{href:t.href})}(e));t.undoManager.transact((function(){e.href===n.href&&n.attach(),o?(t.focus(),function(t,n,e,r){e.each((function(t){n.hasOwnProperty("innerText")?n.innerText=t:n.textContent=t})),t.dom.setAttribs(n,r),t.selection.select(n)}(t,o,e.text,i)):function(t,n,e,r){tt(n)?ut(t,n,r):e.fold((function(){t.execCommand("mceInsertLink",!1,r)}),(function(n){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(n)))}))}(t,r,e.text,i)}))},rt=function(t){var n=t.class,e=t.href,r=t.rel,o=t.target,i=t.text,a=t.title;return function(t,n){var e,r={};return V(t,n,(e=r,function(t,n){e[n]=t}),v),r}({class:n.getOrNull(),href:e,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},(function(t,n){return!1===u(t)}))},ot=function(t,n,e){t.hasPlugin("rtc",!0)?t.execCommand("createlink",!1,rt(e)):et(t,n,e)},it=function(t){t.hasPlugin("rtc",!0)?t.execCommand("unlink"):function(t){t.undoManager.transact((function(){var n=t.selection.getNode();tt(n)?at(t,n):function(t){var n=t.dom,e=t.selection,r=e.getBookmark(),o=e.getRng().cloneRange(),i=n.getParent(o.startContainer,"a[href]",t.getBody()),a=n.getParent(o.endContainer,"a[href]",t.getBody());i&&o.setStartBefore(i),a&&o.setEndAfter(a),e.setRng(o),t.execCommand("unlink"),e.moveToBookmark(r)}(t),t.focus()}))}(t)},at=function(t,n){var e=t.dom.select("img",n)[0];if(e){var r=t.dom.getParents(e,"a[href]",n)[0];r&&(r.parentNode.insertBefore(e,r),t.dom.remove(r))}},ut=function(t,n,e){var r=t.dom.select("img",n)[0];if(r){var o=t.dom.create("a",e);r.parentNode.insertBefore(o,r),o.appendChild(r)}},ct=function(t){return j(n=t,e="items")&&void 0!==n[e]&&null!==n[e];var n,e},st=function(t,n){return D(n,(function(n){return ct(n)?st(t,n.items):M(n.value===t,n)}))},lt=function(t,n,e,r){var o=r[n],i=t.length>0;return void 0!==o?st(o,e).map((function(n){return{url:{value:n.value,meta:{text:i?t:n.text,attach:v}},text:i?t:n.text}})):k.none()},ft=function(t,n){var e={text:t.text,title:t.title},r=function(t){var n,r=(n=t.url,M(e.text.length<=0,k.from(n.meta.text).getOr(n.value))),o=function(t){return M(e.title.length<=0,k.from(t.meta.title).getOr(""))}(t.url);return r.isSome()||o.isSome()?k.some(L(L({},r.map((function(t){return{text:t}})).getOr({})),o.map((function(t){return{title:t}})).getOr({}))):k.none()},o=function(t,r){var o,i,a=(o=n,i=r.name,"link"===i?o.link:"anchor"===i?o.anchor:k.none()).getOr([]);return lt(e.text,r.name,a,t)};return{onChange:function(t,n){var i=n.name;return"url"===i?r(t()):O(["anchor","link"],i)?o(t(),n):"text"===i||"title"===i?(e[i]=t()[i],k.none()):k.none()}}},dt=tinymce.util.Tools.resolve("tinymce.util.Delay"),mt=tinymce.util.Tools.resolve("tinymce.util.Promise"),pt=function(t){var n=t.href;return n.indexOf("@")>0&&-1===n.indexOf("/")&&-1===n.indexOf("mailto:")?k.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return L(L({},t),{href:"mailto:"+n})}}):k.none()},gt=function(t,n){return function(e){var r=e.href;return 1===t&&!G(r)||0===t&&/^\s*www(\.|\d\.)/i.test(r)?k.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+n+":// prefix?",preprocess:function(t){return L(L({},t),{href:n+"://"+r})}}):k.none()}},ht=function(t,n){return D([pt,gt(l(t),h(t))],(function(t){return t(n)})).fold((function(){return mt.resolve(n)}),(function(e){return new mt((function(r){!function(t,n,e){var r=t.selection.getRng();dt.setEditorTimeout(t,(function(){t.windowManager.confirm(n,(function(n){t.selection.setRng(r),e(n)}))}))}(t,e.message,(function(t){r(t?e.preprocess(n):n)}))}))}))},vt=function(t){var n=t.dom.select("a:not([href])"),e=E(n,(function(t){var n=t.name||t.id;return n?[{text:n,value:"#"+n}]:[]}));return e.length>0?k.some([{text:"None",value:""}].concat(e)):k.none()},bt=function(t){var n=function(t){return t.getParam("link_class_list",[],"array")}(t);return n.length>0?I.sanitize(n):k.none()},yt=tinymce.util.Tools.resolve("tinymce.util.XHR"),xt=function(t){var n=function(n){return t.convertURL(n.value||n.url,"href")},e=function(t){return t.getParam("link_list")}(t);return new mt((function(t){i(e)?yt.send({url:e,success:function(n){return t(function(t){try{return k.some(JSON.parse(t))}catch(t){return k.none()}}(n))},error:function(n){return t(k.none())}}):s(e)?e((function(n){return t(k.some(n))})):t(k.from(e))})).then((function(t){return t.bind(I.sanitizeWith(n)).map((function(t){if(t.length>0){return[{text:"None",value:""}].concat(t)}return t}))}))},wt=function(t,n){var e=m(t);if(e.length>0){var r=n.is("_blank");return(!1===g(t)?I.sanitizeWith((function(t){return X(I.getValue(t),r)})):I.sanitize)(e)}return k.none()},Ct=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],_t=function(t){var n=d(t);return a(n)?I.sanitize(n).orThunk((function(){return k.some(Ct)})):!1===n?k.none():k.some(Ct)},kt=function(t,n,e){var r=t.getAttrib(n,e);return null!==r&&r.length>0?k.some(r):k.none()},St=function(t,n){return xt(t).then((function(e){var r=function(t,n){var e=t.dom,r=Z(t)?k.some(J(t.selection,n)):k.none(),o=n?k.some(e.getAttrib(n,"href")):k.none(),i=n?k.from(e.getAttrib(n,"target")):k.none(),a=kt(e,n,"rel"),u=kt(e,n,"class");return{url:o,text:r,title:kt(e,n,"title"),target:i,rel:a,linkClass:u}}(t,n);return{anchor:r,catalogs:{targets:_t(t),rels:wt(t,r.target),classes:bt(t),anchor:vt(t),link:e},optNode:k.from(n),flags:{titleEnabled:p(t)}}}))},At=function(t){(function(t){var n=Y(t);return St(t,n)})(t).then((function(n){var e=function(t,n){return function(e){var r=e.getData();if(!r.url.value)return it(t),void e.close();var o=function(t){return k.from(r[t]).filter((function(e){return!n.anchor[t].is(e)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:v};ht(t,i).then((function(n){ot(t,a,n)})),e.close()}}(t,n);return function(t,n,e){var r=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),o=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],i=function(t,n){var e=t.anchor,r=e.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:e.text.getOr(""),title:e.title.getOr(""),anchor:r,link:r,rel:e.rel.getOr(""),target:e.target.or(n).getOr(""),linkClass:e.linkClass.getOr("")}}(t,k.from(f(e))),a=t.catalogs,u=ft(i,a);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:T([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],r,o,z([a.anchor.map(I.createUi("anchor","Anchors")),a.rels.map(I.createUi("rel","Rel")),a.targets.map(I.createUi("target","Open link in...")),a.link.map(I.createUi("link","Link list")),a.classes.map(I.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onChange:function(t,n){var e=n.name;u.onChange(t.getData,{name:e}).each((function(n){t.setData(n)}))},onSubmit:n}}(n,e,t)})).then((function(n){t.windowManager.open(n)}))},Ot=function(t){var n=document.createElement("a");n.target="_blank",n.href=t,n.rel="noreferrer noopener";var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(t,n){document.body.appendChild(t),t.dispatchEvent(n),document.body.removeChild(t)}(n,e)},Tt=function(t,n){return t.dom.getParent(n,"a[href]")},Et=function(t){return Tt(t,t.selection.getStart())},Dt=function(t,n){if(n){var e=K(n);if(/^#/.test(e)){var r=t.$(e);r.length&&t.selection.scrollIntoView(r[0],!0)}else Ot(n.href)}},zt=function(t){return function(){At(t)}},Mt=function(t){return function(){Dt(t,Et(t))}},Nt=function(t,n){return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},Rt=function(t){return function(n){return Nt(t,(function(){n.setActive(!t.mode.isReadOnly()&&null!==Y(t,t.selection.getNode()))}))}},Bt=function(t){return function(n){var e=function(){return n.setDisabled(null===Y(t,t.selection.getNode()))};return e(),Nt(t,e)}},Pt=function(t){return function(n){var e=function(n){return Q(n)||(e=t.selection.getRng(),q(e,$).length>0);var e},r=t.dom.getParents(t.selection.getStart());return n.setDisabled(!e(r)),Nt(t,(function(t){return n.setDisabled(!e(t.parents))}))}};n.add("link",(function(t){!function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:zt(t),onSetup:Rt(t)}),t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Mt(t),onSetup:Bt(t)}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return it(t)},onSetup:Pt(t)})}(t),function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Mt(t),onSetup:Bt(t)}),t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:zt(t)}),t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return it(t)},onSetup:Pt(t)})}(t),function(t){t.ui.registry.addContextMenu("link",{update:function(n){return Q(t.dom.getParents(n,"a"))?"link unlink openlink":"link"}})}(t),function(t){var n=function(n){var e=t.selection.getNode();return n.setDisabled(!Y(t,e)),v};t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Rt(t)},label:"Link",predicate:function(n){return!!Y(t,n)&&function(t){return t.getParam("link_context_toolbar",!1,"boolean")}(t)},initValue:function(){var n=Y(t);return n?K(n):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(n){var e=t.selection.getNode();return n.setActive(!!Y(t,e)),Rt(t)(n)},onAction:function(n){var e=Y(t),r=n.getValue();if(e)t.undoManager.transact((function(){t.dom.setAttrib(e,"href",r),function(t){t.selection.collapse(!1)}(t),n.hide()}));else{var o={href:r,attach:v},i=Z(t)?k.some(J(t.selection,e)).filter((function(t){return t.length>0})).or(k.from(r)):k.none();ot(t,o,{href:r,text:i,title:k.none(),rel:k.none(),target:k.none(),class:k.none()}),n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(n){it(t),n.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(n){Mt(t)(),n.hide()}}]})}(t),function(t){t.on("click",(function(n){var r=Tt(t,n.target);r&&e.metaKeyPressed(n)&&(n.preventDefault(),Dt(t,r))})),t.on("keydown",(function(n){var e=Et(t);e&&13===n.keyCode&&function(t){return!0===t.altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey}(n)&&(n.preventDefault(),Dt(t,e))}))}(t),function(t){t.addCommand("mceLink",(function(){!function(t){return t.getParam("link_quicklink",!1,"boolean")}(t)?zt(t)():t.fire("contexttoolbar-show",{toolbarKey:"quicklink"})}))}(t),function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))}(t)}))}()},function(t,n,e){e(31)},function(t,n){!function(){"use strict";var t,n,e=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},o=function(){},i=function(t){return function(){return t}},a=i(!1),u=i(!0),c=function(){return s},s=function(){var t=function(t){return t.isNone()},n=function(t){return t()},e=function(t){return t};return{fold:function(t,n){return t()},is:a,isSome:a,isNone:u,getOr:e,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:e,orThunk:n,map:c,each:o,bind:c,exists:a,forall:u,filter:c,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")}}(),l=function(t){var n=i(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:u,isNone:a,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return l(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:s},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(a,(function(n){return e(t,n)}))}};return o},f={some:l,none:c,from:function(t){return null==t?s:l(t)}},d=Object.keys,m=Object.hasOwnProperty,p=function(t,n,e,r){return function(t,n){for(var e=d(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}}(t,(function(t,o){(n(t,o)?e:r)(t,o)})),{}},g=function(t,n){return function(t,n){return m.call(t,n)}(t,n)&&void 0!==t[n]&&null!==t[n]},h=function(t){return function(n){return r=typeof(e=n),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===t;var e,r}},v=function(t){return function(n){return typeof n===t}},b=h("string"),y=h("object"),x=h("array"),w=(t=null,function(n){return t===n}),C=v("boolean"),_=function(t){return!function(t){return null==t}(t)},k=v("number"),S=Array.prototype.push,A=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!x(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);S.apply(n,t[e])}return n},O=function(t){return function(t,n){return n>=0&&n<t.length?f.some(t[n]):f.none()}(t,0)},T=("undefined"!=typeof window?window:Function("return this;")(),function(t,n,e){!function(t,n,e){if(!(b(e)||C(e)||k(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")}(t.dom,n,e)}),E=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},D={fromHtml:function(t,n){var e=(n||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||e.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return E(e.childNodes[0])},fromTag:function(t,n){var e=(n||document).createElement(t);return E(e)},fromText:function(t,n){var e=(n||document).createTextNode(t);return E(e)},fromDom:E,fromPoint:function(t,n,e){return f.from(t.dom.elementFromPoint(n,e)).map(E)}},z=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),M=tinymce.util.Tools.resolve("tinymce.util.Promise"),N=tinymce.util.Tools.resolve("tinymce.util.XHR"),R=function(t){return t.getParam("image_dimensions",!0,"boolean")},B=function(t,n){return Math.max(parseInt(t,10),parseInt(n,10))},P=function(t){return t&&(t=t.replace(/px$/,"")),t},I=function(t){return t.length>0&&/^[0-9]+$/.test(t)&&(t+="px"),t},L=function(t){if(t.margin){var n=String(t.margin).split(" ");switch(n.length){case 1:t["margin-top"]=t["margin-top"]||n[0],t["margin-right"]=t["margin-right"]||n[0],t["margin-bottom"]=t["margin-bottom"]||n[0],t["margin-left"]=t["margin-left"]||n[0];break;case 2:t["margin-top"]=t["margin-top"]||n[0],t["margin-right"]=t["margin-right"]||n[1],t["margin-bottom"]=t["margin-bottom"]||n[0],t["margin-left"]=t["margin-left"]||n[1];break;case 3:t["margin-top"]=t["margin-top"]||n[0],t["margin-right"]=t["margin-right"]||n[1],t["margin-bottom"]=t["margin-bottom"]||n[2],t["margin-left"]=t["margin-left"]||n[1];break;case 4:t["margin-top"]=t["margin-top"]||n[0],t["margin-right"]=t["margin-right"]||n[1],t["margin-bottom"]=t["margin-bottom"]||n[2],t["margin-left"]=t["margin-left"]||n[3]}delete t.margin}return t},H=function(t){return"IMG"===t.nodeName&&(t.hasAttribute("data-mce-object")||t.hasAttribute("data-mce-placeholder"))},F=z.DOM,V=function(t){return t.style.marginLeft&&t.style.marginRight&&t.style.marginLeft===t.style.marginRight?P(t.style.marginLeft):""},j=function(t){return t.style.marginTop&&t.style.marginBottom&&t.style.marginTop===t.style.marginBottom?P(t.style.marginTop):""},U=function(t){return t.style.borderWidth?P(t.style.borderWidth):""},W=function(t,n){return t.hasAttribute(n)?t.getAttribute(n):""},$=function(t,n){return t.style[n]?t.style[n]:""},q=function(t){return null!==t.parentNode&&"FIGURE"===t.parentNode.nodeName},G=function(t,n,e){""===e?t.removeAttribute(n):t.setAttribute(n,e)},K=function(t){q(t)?function(t){var n=t.parentNode;F.insertAfter(t,n),F.remove(n)}(t):function(t){var n=F.create("figure",{class:"image"});F.insertAfter(n,t),n.appendChild(t),n.appendChild(F.create("figcaption",{contentEditable:"true"},"Caption")),n.contentEditable="false"}(t)},X=function(t,n){var e=t.getAttribute("style"),r=n(null!==e?e:"");r.length>0?(t.setAttribute("style",r),t.setAttribute("data-mce-style",r)):t.removeAttribute("style")},Y=function(t,n){return function(t,e,r){t.style[e]?(t.style[e]=I(r),X(t,n)):G(t,e,r)}},J=function(t,n){return t.style[n]?P(t.style[n]):W(t,n)},Q=function(t,n){var e=I(n);t.style.marginLeft=e,t.style.marginRight=e},Z=function(t,n){var e=I(n);t.style.marginTop=e,t.style.marginBottom=e},tt=function(t,n){var e=I(n);t.style.borderWidth=e},nt=function(t,n){t.style.borderStyle=n},et=function(t){return"FIGURE"===t.nodeName},rt=function(t){return 0===F.getAttrib(t,"alt").length&&"presentation"===F.getAttrib(t,"role")},ot=function(t){return rt(t)?"":W(t,"alt")},it=function(t,n){var e=document.createElement("img");return G(e,"style",n.style),(V(e)||""!==n.hspace)&&Q(e,n.hspace),(j(e)||""!==n.vspace)&&Z(e,n.vspace),(U(e)||""!==n.border)&&tt(e,n.border),(function(t){return $(t,"borderStyle")}(e)||""!==n.borderStyle)&&nt(e,n.borderStyle),t(e.getAttribute("style"))},at=function(t,n){return{src:W(n,"src"),alt:ot(n),title:W(n,"title"),width:J(n,"width"),height:J(n,"height"),class:W(n,"class"),style:t(W(n,"style")),caption:q(n),hspace:V(n),vspace:j(n),border:U(n),borderStyle:$(n,"borderStyle"),isDecorative:rt(n)}},ut=function(t,n,e,r,o){e[r]!==n[r]&&o(t,r,e[r])},ct=function(t,n,e){if(e){F.setAttrib(t,"role","presentation");var r=D.fromDom(t);T(r,"alt","")}else{if(w(n)){r=D.fromDom(t);o="alt",r.dom.removeAttribute(o)}else{r=D.fromDom(t);T(r,"alt",n)}"presentation"===F.getAttrib(t,"role")&&F.setAttrib(t,"role","")}var o},st=function(t,n){return function(e,r,o){t(e,o),X(e,n)}},lt=function(t,n,e){var r=at(t,e);ut(e,r,n,"caption",(function(t,n,e){return K(t)})),ut(e,r,n,"src",G),ut(e,r,n,"title",G),ut(e,r,n,"width",Y(0,t)),ut(e,r,n,"height",Y(0,t)),ut(e,r,n,"class",G),ut(e,r,n,"style",st((function(t,n){return G(t,"style",n)}),t)),ut(e,r,n,"hspace",st(Q,t)),ut(e,r,n,"vspace",st(Z,t)),ut(e,r,n,"border",st(tt,t)),ut(e,r,n,"borderStyle",st(nt,t)),function(t,n,e){e.alt===n.alt&&e.isDecorative===n.isDecorative||ct(t,e.alt,e.isDecorative)}(e,r,n)},ft=function(t,n){var e=t.dom.styles.parse(n),r=L(e),o=t.dom.styles.parse(t.dom.styles.serialize(r));return t.dom.styles.serialize(o)},dt=function(t){var n=t.selection.getNode(),e=t.dom.getParent(n,"figure.image");return e?t.dom.select("img",e)[0]:n&&("IMG"!==n.nodeName||H(n))?null:n},mt=function(t,n){var e=t.dom,r=function(t,n){var e,r={};return p(t,n,(e=r,function(t,n){e[n]=t}),o),r}(t.schema.getTextBlockElements(),(function(n,e){return!t.schema.isValidChild(e,"figure")})),i=e.getParent(n.parentNode,(function(t){return g(r,t.nodeName)}),t.getBody());return i?e.split(i,n):n},pt=function(t,n){var e=function(t,n){var e=document.createElement("img");if(lt(t,r(r({},n),{caption:!1}),e),ct(e,n.alt,n.isDecorative),n.caption){var o=F.create("figure",{class:"image"});return o.appendChild(e),o.appendChild(F.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return e}((function(n){return ft(t,n)}),n);t.dom.setAttrib(e,"data-mce-id","__mcenew"),t.focus(),t.selection.setContent(e.outerHTML);var o=t.dom.select('*[data-mce-id="__mcenew"]')[0];if(t.dom.setAttrib(o,"data-mce-id",null),et(o)){var i=mt(t,o);t.selection.select(i)}else t.selection.select(o)},gt=function(t,n){var e=dt(t);if(lt((function(n){return ft(t,n)}),n,e),function(t,n){t.dom.setAttrib(n,"src",n.getAttribute("src"))}(t,e),et(e.parentNode)){var r=e.parentNode;mt(t,r),t.selection.select(e.parentNode)}else t.selection.select(e),function(t,n,e){var r=function(){e.onload=e.onerror=null,t.selection&&(t.selection.select(e),t.nodeChanged())};e.onload=function(){n.width||n.height||!R(t)||t.dom.setAttribs(e,{width:String(e.clientWidth),height:String(e.clientHeight)}),r()},e.onerror=r}(t,n,e)},ht=Object.prototype.hasOwnProperty,vt=(n=function(t,n){return y(t)&&y(n)?vt(t,n):n},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)ht.call(i,a)&&(r[a]=n(r[a],i[a]))}return r}),bt=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),yt=tinymce.util.Tools.resolve("tinymce.util.Tools"),xt=function(t){return b(t.value)?t.value:""},wt=function(t,n){var e=[];return yt.each(t,(function(t){var r=function(t){return b(t.text)?t.text:b(t.title)?t.title:""}(t);if(void 0!==t.menu){var o=wt(t.menu,n);e.push({text:r,items:o})}else{var i=n(t);e.push({text:r,value:i})}})),e},Ct=function(t){return void 0===t&&(t=xt),function(n){return n?f.from(n).map((function(n){return wt(n,t)})):f.none()}},_t=function(t,n){return function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return f.none()}(t,(function(t){return function(t){return Object.prototype.hasOwnProperty.call(t,"items")}(t)?_t(t.items,n):t.value===n?f.some(t):f.none()}))},kt=Ct,St=function(t){return Ct(xt)(t)},At=function(t,n){return t.bind((function(t){return _t(t,n)}))},Ot=function(t){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Tt=function(t){var n=kt((function(n){return t.convertURL(n.value||n.url,"src")})),e=new M((function(e){!function(t,n){var e=function(t){return t.getParam("image_list",!1)}(t);"string"==typeof e?N.send({url:e,success:function(t){n(JSON.parse(t))}}):"function"==typeof e?e(n):n(e)}(t,(function(t){e(n(t).map((function(t){return A([[{text:"None",value:""}],t])})))}))})),r=St(function(t){return t.getParam("image_class_list")}(t)),o=function(t){return t.getParam("image_advtab",!1,"boolean")}(t),i=function(t){return t.getParam("image_uploadtab",!0,"boolean")}(t),a=function(t){return _(t.getParam("images_upload_url"))}(t),u=function(t){return _(t.getParam("images_upload_handler"))}(t),c=function(t){var n=dt(t);return n?at((function(n){return ft(t,n)}),n):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}}(t),s=function(t){return t.getParam("image_description",!0,"boolean")}(t),l=function(t){return t.getParam("image_title",!1,"boolean")}(t),d=R(t),m=function(t){return t.getParam("image_caption",!1,"boolean")}(t),p=function(t){return t.getParam("a11y_advanced_options",!1,"boolean")}(t),g=function(t){return t.getParam("automatic_uploads",!0,"boolean")}(t),h=f.some(function(t){return t.getParam("image_prepend_url","","string")}(t)).filter((function(t){return b(t)&&t.length>0}));return e.then((function(t){return{image:c,imageList:t,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:u,hasDescription:s,hasImageTitle:l,hasDimensions:d,hasImageCaption:m,prependURL:h,hasAccessibilityOptions:p,automaticUploads:g}}))},Et=function(t){var n=t.imageList.map((function(t){return{name:"images",type:"listbox",label:"Image list",items:t}})),e={name:"alt",type:"input",label:"Alternative description",disabled:t.hasAccessibilityOptions&&t.image.isDecorative},r=t.classList.map((function(t){return{name:"classes",type:"listbox",label:"Class",items:t}}));return A([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],n.toArray(),t.hasAccessibilityOptions&&t.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],t.hasDescription?[e]:[],t.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],t.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{type:"grid",columns:2,items:A([r.toArray(),t.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]])},Dt=function(t){return{title:"General",name:"general",items:Et(t)}},zt=Et,Mt=function(t){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},Nt=function(t){return{src:{value:t.src,meta:{}},images:t.src,alt:t.alt,title:t.title,dimensions:{width:t.width,height:t.height},classes:t.class,caption:t.caption,style:t.style,vspace:t.vspace,border:t.border,hspace:t.hspace,borderstyle:t.borderStyle,fileinput:[],isDecorative:t.isDecorative}},Rt=function(t,n){return{src:t.src.value,alt:0===t.alt.length&&n?null:t.alt,title:t.title,width:t.dimensions.width,height:t.dimensions.height,class:t.classes,style:t.style,caption:t.caption,hspace:t.hspace,vspace:t.vspace,border:t.border,borderStyle:t.borderstyle,isDecorative:t.isDecorative}},Bt=function(t,n){var e=n.getData();(function(t,n){return/^(?:[a-zA-Z]+:)?\/\//.test(n)?f.none():t.prependURL.bind((function(t){return n.substring(0,t.length)!==t?f.some(t+n):f.none()}))})(t,e.src.value).each((function(t){n.setData({src:{value:t,meta:e.src.meta}})}))},Pt=function(t,n){var e=n.getData(),r=e.src.meta;if(void 0!==r){var o=vt({},e);!function(t,n,e){t.hasDescription&&b(e.alt)&&(n.alt=e.alt),t.hasAccessibilityOptions&&(n.isDecorative=e.isDecorative||n.isDecorative||!1),t.hasImageTitle&&b(e.title)&&(n.title=e.title),t.hasDimensions&&(b(e.width)&&(n.dimensions.width=e.width),b(e.height)&&(n.dimensions.height=e.height)),b(e.class)&&At(t.classList,e.class).each((function(t){n.classes=t.value})),t.hasImageCaption&&C(e.caption)&&(n.caption=e.caption),t.hasAdvTab&&(b(e.style)&&(n.style=e.style),b(e.vspace)&&(n.vspace=e.vspace),b(e.border)&&(n.border=e.border),b(e.hspace)&&(n.hspace=e.hspace),b(e.borderstyle)&&(n.borderstyle=e.borderstyle))}(t,o,r),n.setData(o)}},It=function(t,n,e,r){Bt(n,r),Pt(n,r),function(t,n,e,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!n.hasDimensions||(i.length>0?t.imageSize(i).then((function(t){e.open&&r.setData({dimensions:t})})).catch((function(t){return console.error(t)})):r.setData({dimensions:{width:"",height:""}}))}(t,n,e,r),function(t,n,e){var r=e.getData(),o=At(t.imageList,r.src.value);n.prevImage=o,e.setData({images:o.map((function(t){return t.value})).getOr("")})}(n,e,r)},Lt=function(t,n,e){var r=L(t(e.style)),o=vt({},e);return o.vspace=function(t){return t["margin-top"]&&t["margin-bottom"]&&t["margin-top"]===t["margin-bottom"]?P(String(t["margin-top"])):""}(r),o.hspace=function(t){return t["margin-right"]&&t["margin-left"]&&t["margin-right"]===t["margin-left"]?P(String(t["margin-right"])):""}(r),o.border=function(t){return t["border-width"]?P(String(t["border-width"])):""}(r),o.borderstyle=function(t){return t["border-style"]?String(t["border-style"]):""}(r),o.style=function(t,n,e){return n(t(n(e)))}(t,n,r),o},Ht=function(t,n,e,r){var o=r.getData();r.block("Uploading image"),O(o.fileinput).fold((function(){r.unblock()}),(function(o){var i,a=URL.createObjectURL(o),u=function(){r.unblock(),URL.revokeObjectURL(a)},c=function(o){r.setData({src:{value:o,meta:{}}}),r.showTab("general"),It(t,n,e,r)};(i=o,new M((function(t,n){var e=new FileReader;e.onload=function(){t(e.result)},e.onerror=function(){n(e.error.message)},e.readAsDataURL(i)}))).then((function(e){var i=t.createBlobCache(o,a,e);n.automaticUploads?t.uploadImage(i).then((function(t){c(t.url),u()})).catch((function(n){u(),t.alertErr(n)})):(t.addToBlobCache(i),c(i.blobUri()),r.unblock())}))}))},Ft=function(t,n,e){return function(r,o){"src"===o.name?It(t,n,e,r):"images"===o.name?function(t,n,e,r){var o=r.getData(),i=At(n.imageList,o.images);i.each((function(t){""===o.alt||e.prevImage.map((function(t){return t.text===o.alt})).getOr(!1)?""===t.value?r.setData({src:t,alt:e.prevAlt}):r.setData({src:t,alt:t.text}):r.setData({src:t})})),e.prevImage=i,It(t,n,e,r)}(t,n,e,r):"alt"===o.name?e.prevAlt=r.getData().alt:"style"===o.name?function(t,n){var e=n.getData(),r=Lt(t.parseStyle,t.serializeStyle,e);n.setData(r)}(t,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?function(t,n,e){var r=vt(Nt(n.image),e.getData()),o=it(t.normalizeCss,Rt(r,!1));e.setData({style:o})}(t,n,r):"fileinput"===o.name?Ht(t,n,e,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},Vt=function(t){return function(){t.open=!1}},jt=function(t){return t.hasAdvTab||t.hasUploadUrl||t.hasUploadHandler?{type:"tabpanel",tabs:A([[Dt(t)],t.hasAdvTab?[Ot(t)]:[],t.hasUploadTab&&(t.hasUploadUrl||t.hasUploadHandler)?[Mt(t)]:[]])}:{type:"panel",items:zt(t)}},Ut=function(t){return function(n){var e=function(t){return{prevImage:At(t.imageList,t.image.src),prevAlt:t.image.alt,open:!0}}(n);return{title:"Insert/Edit Image",size:"normal",body:jt(n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Nt(n.image),onSubmit:t.onSubmit(n),onChange:Ft(t,n,e),onClose:Vt(e)}}},Wt=function(t){return function(n){return function(e){var r=vt(Nt(n.image),e.getData());t.execCommand("mceUpdateImage",!1,Rt(r,n.hasAccessibilityOptions)),t.editorUpload.uploadImagesAuto(),e.close()}}},$t=function(t){return function(n){return function(t){return new M((function(n){var e=document.createElement("img"),r=function(t){e.parentNode&&e.parentNode.removeChild(e),n(t)};e.onload=function(){var t={width:B(e.width,e.clientWidth),height:B(e.height,e.clientHeight)};r(M.resolve(t))},e.onerror=function(){r(M.reject("Failed to get image dimensions for: "+t))};var o=e.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(e),e.src=t}))}(t.documentBaseURI.toAbsolute(n)).then((function(t){return{width:String(t.width),height:String(t.height)}}))}},qt=function(t){return function(n,e,r){return t.editorUpload.blobCache.create({blob:n,blobUri:e,name:n.name?n.name.replace(/\.[^\.]+$/,""):null,filename:n.name,base64:r.split(",")[1]})}},Gt=function(t){return function(n){t.editorUpload.blobCache.add(n)}},Kt=function(t){return function(n){t.windowManager.alert(n)}},Xt=function(t){return function(n){return ft(t,n)}},Yt=function(t){return function(n){return t.dom.parseStyle(n)}},Jt=function(t){return function(n,e){return t.dom.serializeStyle(n,e)}},Qt=function(t){return function(n){return bt(t).upload([n],!1).then((function(t){return 0===t.length?M.reject("Failed to upload image"):!1===t[0].status?M.reject(t[0].error.message):t[0]}))}},Zt=function(t){var n={onSubmit:Wt(t),imageSize:$t(t),addToBlobCache:Gt(t),createBlobCache:qt(t),alertErr:Kt(t),normalizeCss:Xt(t),parseStyle:Yt(t),serializeStyle:Jt(t),uploadImage:Qt(t)};return{open:function(){Tt(t).then(Ut(n)).then(t.windowManager.open)}}},tn=function(t){t.addCommand("mceImage",Zt(t).open),t.addCommand("mceUpdateImage",(function(n,e){t.undoManager.transact((function(){return function(t,n){var e=dt(t);if(e){var o=at((function(n){return ft(t,n)}),e),i=r(r({},o),n);i.src?gt(t,i):function(t,n){if(n){var e=t.dom.is(n.parentNode,"figure.image")?n.parentNode:n;t.dom.remove(e),t.focus(),t.nodeChanged(),t.dom.isEmpty(t.getBody())&&(t.setContent(""),t.selection.setCursorLocation())}}(t,e)}else n.src&&pt(t,r(r({},{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),n))}(t,e)}))}))},nn=function(t){var n=t.attr("class");return n&&/\bimage\b/.test(n)},en=function(t){return function(n){for(var e=n.length,r=function(n){n.attr("contenteditable",t?"true":null)};e--;){var o=n[e];nn(o)&&(o.attr("contenteditable",t?"false":null),yt.each(o.getAll("figcaption"),r))}}};e.add("image",(function(t){!function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("figure",en(!0)),t.serializer.addNodeFilter("figure",en(!1))}))}(t),function(t){t.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Zt(t).open,onSetup:function(n){return t.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",n.setActive).unbind}}),t.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Zt(t).open}),t.ui.registry.addContextMenu("image",{update:function(t){return et(t)||"IMG"===t.nodeName&&!H(t)?["image"]:[]}})}(t),tn(t)}))}()},function(t,n,e){e(33)},function(t,n){!function(){"use strict";var t,n,e,r,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(t,n){var e=function(t,n){return t.fire("insertCustomChar",{chr:n})}(t,n).chr;t.execCommand("mceInsertContent",!1,e)},a=function(){},u=function(t){return function(){return t}},c=u(!1),s=u(!0),l=function(){return f},f=(t=function(t){return t.isNone()},{fold:function(t,n){return t()},is:c,isSome:c,isNone:s,getOr:e=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:e,orThunk:n,map:l,each:a,bind:l,exists:c,forall:s,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:u("none()")}),d=function(t){var n=u(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:s,isNone:c,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return d(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(c,(function(n){return e(t,n)}))}};return o},m={some:d,none:l,from:function(t){return null==t?f:d(t)}},p=(r="array",function(t){return e=typeof(n=t),(null===n?"null":"object"===e&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":e)===r;var n,e}),g=Array.prototype.push,h=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},v=function(t,n){return function(t,n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r))return m.some(i);if(e(i,r))break}return m.none()}(t,n,c)},b=function(t,n){return function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!p(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);g.apply(n,t[e])}return n}(h(t,n))},y=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=y.isArray,w=function(t){return x(t)?[].concat((n=t,y.grep(n,(function(t){return x(t)&&2===t.length})))):"function"==typeof t?t():[];var n},C=function(t){var n=function(t,n){var e=function(t){return t.getParam("charmap")}(t);e&&(n=[{name:"User Defined",characters:w(e)}]);var r=function(t){return t.getParam("charmap_append")}(t);if(r){var o=y.grep(n,(function(t){return"User Defined"===t.name}));return o.length?(o[0].characters=[].concat(o[0].characters).concat(w(r)),n):[].concat(n).concat({name:"User Defined",characters:w(r)})}return n}(t,[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]);return n.length>1?[{name:"All",characters:b(n,(function(t){return t.characters}))}].concat(n):n},_=function(t){var n=t;return{get:function(){return n},set:function(t){n=t}}},k=String.fromCodePoint,S=function(t,n){return-1!==t.indexOf(n)},A=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(k)return k.apply(void 0,t);for(var e=[],r=0,o="",i=0,a=t.length;i!==a;++i){var u=+t[i];if(!(u<1114111&&u>>>0===u))throw RangeError("Invalid code point: "+u);u<=65535?r=e.push(u):(u-=65536,r=e.push(55296+(u>>10),u%1024+56320)),r>=16383&&(o+=String.fromCharCode.apply(null,e),e.length=0)}return o+String.fromCharCode.apply(null,e)},O=function(t,n){var e=[],r=n.toLowerCase();return function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}}(t.characters,(function(t){(function(t,n,e){return!!S(A(t).toLowerCase(),e)||(S(n.toLowerCase(),e)||S(n.toLowerCase().replace(/\s+/g,""),e))})(t[0],t[1],r)&&e.push(t)})),h(e,(function(t){return{text:t[1],value:A(t[0]),icon:A(t[0])}}))},T=function(t,n){var e,r,o,a=1===n.length?_("User Defined"):_("All"),u=(e=function(t){var e=t.getData().pattern;!function(t,e){v(n,(function(t){return t.name===a.get()})).each((function(n){var r=O(n,e);t.setData({results:r})}))}(t,e)},r=40,o=null,{cancel:function(){null!==o&&(clearTimeout(o),o=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null!==o&&clearTimeout(o),o=setTimeout((function(){e.apply(null,t),o=null}),r)}}),c={title:"Special Character",size:"normal",body:1===n.length?{type:"panel",items:[{label:"Search",type:"input",name:"pattern"},{type:"collection",name:"results"}]}:{type:"tabpanel",tabs:h(n,(function(t){return{title:t.name,name:t.name,items:[{label:"Search",type:"input",name:"pattern"},{type:"collection",name:"results"}]}}))},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{pattern:"",results:O(n[0],"")},onAction:function(n,e){"results"===e.name&&(i(t,e.value),n.close())},onTabChange:function(t,n){a.set(n.newTabName),u.throttle(t)},onChange:function(t,n){"pattern"===n.name&&u.throttle(t)}};t.windowManager.open(c).focus("pattern")},E=tinymce.util.Tools.resolve("tinymce.util.Promise");o.add("charmap",(function(t){var n=C(t);return function(t,n){t.addCommand("mceShowCharmap",(function(){T(t,n)}))}(t,n),function(t){t.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return t.execCommand("mceShowCharmap")}}),t.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return t.execCommand("mceShowCharmap")}})}(t),function(t,n){t.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(t,e){return new E((function(e,r){e(O(n,t))}))},onAction:function(n,e,r){t.selection.setRng(e),t.insertContent(r),n.hide()}})}(t,n[0]),function(t){return{getCharMap:function(){return C(t)},insertChar:function(n){i(t,n)}}}(t)}))}()},function(t,n,e){e(35)},function(t,n){!function(){"use strict";var t,n,e,r,o,i,a,u=function(t){var n=t;return{get:function(){return n},set:function(t){n=t}}},c=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(){return(s=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},l=function(){},f=function(t){return function(){return t}},d=f(!1),m=f(!0),p=f("[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"),g=function(){return h},h=(t=function(t){return t.isNone()},{fold:function(t,n){return t()},is:d,isSome:d,isNone:m,getOr:e=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:e,orThunk:n,map:g,each:l,bind:g,exists:d,forall:m,filter:g,equals:t,equals_:t,toArray:function(){return[]},toString:f("none()")}),v=function(t){var n=f(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:m,isNone:d,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return v(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:h},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(d,(function(n){return e(t,n)}))}};return o},b={some:v,none:g,from:function(t){return null==t?h:v(t)}},y=p,x=tinymce.util.Tools.resolve("tinymce.util.Tools"),w=function(t){return function(n){return r=typeof(e=n),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===t;var e,r}},C=function(t){return function(n){return typeof n===t}},_=w("string"),k=w("array"),S=C("boolean"),A=C("number"),O=Array.prototype.slice,T=Array.prototype.push,E=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},D=function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}},z=function(t,n){for(var e=t.length-1;e>=0;e--){n(t[e],e)}},M=function(t,n){return function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!k(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);T.apply(n,t[e])}return n}(E(t,n))},N=Object.hasOwnProperty,R=function(t,n){return N.call(t,n)},B=("undefined"!=typeof window?window:Function("return this;")(),r=3,function(t){return function(t){return t.dom.nodeType}(t)===r}),P=function(t,n,e){!function(t,n,e){if(!(_(e)||S(e)||A(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")}(t.dom,n,e)},I=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},L={fromHtml:function(t,n){var e=(n||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||e.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return I(e.childNodes[0])},fromTag:function(t,n){var e=(n||document).createElement(t);return I(e)},fromText:function(t,n){var e=(n||document).createTextNode(t);return I(e)},fromDom:I,fromPoint:function(t,n,e){return b.from(t.dom.elementFromPoint(n,e)).map(I)}},H=function(t,n){return{element:t,offset:n}},F=function(t,n){var e=function(t){return E(t.dom.childNodes,L.fromDom)}(t);return e.length>0&&n<e.length?H(e[n],0):H(t,n)},V=function(t,n){(function(t){return b.from(t.dom.parentNode).map(L.fromDom)})(t).each((function(e){e.dom.insertBefore(n.dom,t.dom)}))},j=function(t,n){V(t,n),function(t,n){t.dom.appendChild(n.dom)}(n,t)},U=(o=B,i="text",{get:function(t){if(!o(t))throw new Error("Can only get "+i+" value of a "+i+" node");return a(t).getOr("")},getOption:a=function(t){return o(t)?b.from(t.dom.nodeValue):b.none()},set:function(t,n){if(!o(t))throw new Error("Can only set raw "+i+" value of a "+i+" node");t.dom.nodeValue=n}}),W=function(t){return U.get(t)},$=function(t,n){return function(t,n){var e,r=void 0===n?document:n.dom;return 1!==(e=r).nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount?[]:E(r.querySelectorAll(t),L.fromDom)}(n,t)},q=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),G=function(t,n){return t.isBlock(n)||R(t.schema.getShortEndedElements(),n.nodeName)},K=function(t,n){return"false"===t.getContentEditable(n)},X=function(t,n){return!t.isBlock(n)&&R(t.schema.getWhiteSpaceElements(),n.nodeName)},Y=function(t,n){return F(L.fromDom(t),n)},J=function(t,n,e,r,o,i){void 0===i&&(i=!0);for(var a=i?n(!1):e;a;){var u=K(t,a);if(u||X(t,a)){if(u?r.cef(a):r.boundary(a))break;a=n(!0)}else{if(G(t,a)){if(r.boundary(a))break}else 3===a.nodeType&&r.text(a);if(a===o)break;a=n(!1)}}},Q=function(t,n,e,r,o){if(!function(t,n){return G(t,n)||K(t,n)||X(t,n)||function(t,n){return"true"===t.getContentEditable(n)&&"false"===t.getContentEditableParent(n.parentNode)}(t,n)}(t,e)){var i=t.getParent(r,t.isBlock),a=new q(e,i),u=o?a.next.bind(a):a.prev.bind(a);J(t,u,e,{boundary:m,cef:m,text:function(t){o?n.fOffset+=t.length:n.sOffset+=t.length,n.elements.push(L.fromDom(t))}})}},Z=function(t,n,e,r,o,i){void 0===i&&(i=!0);var a=new q(e,n),u=[],c={sOffset:0,fOffset:0,elements:[]};Q(t,c,e,n,!1);var s=function(){return c.elements.length>0&&(u.push(c),c={sOffset:0,fOffset:0,elements:[]}),!1};return J(t,a.next.bind(a),e,{boundary:s,cef:function(t){return s(),o&&u.push.apply(u,o.cef(t)),!1},text:function(t){c.elements.push(L.fromDom(t)),o&&o.text(t,c)}},r,i),r&&Q(t,c,r,n,!0),s(),u},tt=function(t,n){var e=Y(n.startContainer,n.startOffset),r=e.element.dom,o=Y(n.endContainer,n.endOffset),i=o.element.dom;return Z(t,n.commonAncestorContainer,r,i,{text:function(t,n){t===i?n.fOffset+=t.length-o.offset:t===r&&(n.sOffset+=e.offset)},cef:function(n){var e,r,o,i=M($(L.fromDom(n),"*[contenteditable=true]"),(function(n){var e=n.dom;return Z(t,e,e)}));return e=i,r=function(t,n){return function(t,n){return function(t,n,e){return 0!=(t.compareDocumentPosition(n)&e)}(t,n,Node.DOCUMENT_POSITION_PRECEDING)}(t.elements[0].dom,n.elements[0].dom)?1:-1},(o=O.call(e,0)).sort(r),o}},!1)},nt=function(t,n){return n.collapsed?[]:tt(t,n)},et=function(t,n){var e=t.createRng();return e.selectNode(n),nt(t,e)},rt=function(t,n){return function(t,n){if(0===t.length)return[];for(var e=n(t[0]),r=[],o=[],i=0,a=t.length;i<a;i++){var u=t[i],c=n(u);c!==e&&(r.push(o),o=[]),e=c,o.push(u)}return 0!==o.length&&r.push(o),r}(function(t,n,e){return D(t,(function(t){e=n(e,t)})),e}(t,(function(t,e){var r=W(e),o=t.last,i=o+r.length,a=M(n,(function(t,n){return t.start<i&&t.finish>o?[{element:e,start:Math.max(o,t.start)-o,finish:Math.min(i,t.finish)-o,matchId:n}]:[]}));return{results:t.results.concat(a),last:i}}),{results:[],last:0}).results,(function(t){return t.matchId}))},ot=function(t,n){return M(n,(function(n){var e=n.elements,r=E(e,W).join(""),o=function(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length);var o=n.regex;o.lastIndex=e;for(var i,a=[];i=o.exec(t);){var u=i[n.matchIndex],c=i.index+i[0].indexOf(u),s=c+u.length;if(s>r)break;a.push({start:c,finish:s}),o.lastIndex=s}return a}(r,t,n.sOffset,r.length-n.fOffset);return rt(e,o)}))},it=function(t,n){z(t,(function(t,e){z(t,(function(t){var r=L.fromDom(n.cloneNode(!1));P(r,"data-mce-index",e);var o=t.element.dom;if(o.length===t.finish&&0===t.start)j(t.element,r);else{o.length!==t.finish&&o.splitText(t.finish);var i=o.splitText(t.start);j(L.fromDom(i),r)}}))}))},at=function(t,n,e,r){var o=e.getBookmark(),i=t.select("td[data-mce-selected],th[data-mce-selected]"),a=i.length>0?function(t,n){return M(n,(function(n){return et(t,n)}))}(t,i):nt(t,e.getRng()),u=ot(n,a);return it(u,r),e.moveToBookmark(o),u.length},ut=function(t){var n=t.getAttribute("data-mce-index");return"number"==typeof n?""+n:n},ct=function(t,n,e,r){var o=t.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i=t.getBody();return bt(t,n,!1),r?at(t.dom,e,t.selection,o):function(t,n,e,r){var o=et(t,e),i=ot(n,o);return it(i,r),i.length}(t.dom,e,i,o)},st=function(t){var n=t.parentNode;t.firstChild&&n.insertBefore(t.firstChild,t),t.parentNode.removeChild(t)},lt=function(t,n){var e=[],r=x.toArray(t.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=ut(r[o]);null!==i&&i.length&&(i===n.toString()&&e.push(r[o]))}return e},ft=function(t,n,e){var r=n.get(),o=r.index,i=t.dom;(e=!1!==e)?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(lt(t,r.index),"mce-match-marker-selected");var a=lt(t,o);return a.length?(i.addClass(lt(t,o),"mce-match-marker-selected"),t.selection.scrollIntoView(a[0]),o):-1},dt=function(t,n){var e=n.parentNode;t.remove(n),t.isEmpty(e)&&t.remove(e)},mt=function(t,n,e,r,o,i){var a=function(t,n){var e="("+t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return n?"(?:^|\\s|"+y()+")"+e+"(?=$|\\s|"+y()+")":e}(e,o),u={regex:new RegExp(a,r?"g":"gi"),matchIndex:1},c=ct(t,n,u,i);if(c){var s=ft(t,n,!0);n.set({index:s,count:c,text:e,matchCase:r,wholeWord:o,inSelection:i})}return c},pt=function(t,n){var e=ft(t,n,!0);n.set(s(s({},n.get()),{index:e}))},gt=function(t,n){var e=ft(t,n,!1);n.set(s(s({},n.get()),{index:e}))},ht=function(t){var n=ut(t);return null!==n&&n.length>0},vt=function(t,n,e,r,o){var i,a=n.get(),u=a.index,c=u;r=!1!==r;for(var l=t.getBody(),f=x.grep(x.toArray(l.getElementsByTagName("span")),ht),d=0;d<f.length;d++){var m=ut(f[d]),p=i=parseInt(m,10);if(o||p===a.index){for(e.length?(f[d].firstChild.nodeValue=e,st(f[d])):dt(t.dom,f[d]);f[++d];){if((p=parseInt(ut(f[d]),10))!==i){d--;break}dt(t.dom,f[d])}r&&c--}else i>u&&f[d].setAttribute("data-mce-index",String(i-1))}return n.set(s(s({},a),{count:o?0:a.count-1,index:c})),r?pt(t,n):gt(t,n),!o&&n.get().count>0},bt=function(t,n,e){var r,o,i,a=n.get(),u=x.toArray(t.getBody().getElementsByTagName("span"));for(r=0;r<u.length;r++){var c=ut(u[r]);null!==c&&c.length&&(c===a.index.toString()&&(o||(o=u[r].firstChild),i=u[r].firstChild),st(u[r]))}if(n.set(s(s({},a),{index:-1,count:0,text:""})),o&&i){var l=t.dom.createRng();return l.setStart(o,0),l.setEnd(i,i.data.length),!1!==e&&t.selection.setRng(l),l}},yt=tinymce.util.Tools.resolve("tinymce.Env"),xt=function(t,n){var e,r=(e=u(b.none()),{clear:function(){return e.set(b.none())},set:function(t){return e.set(b.some(t))},isSet:function(){return e.get().isSome()},on:function(t){return e.get().each(t)}});t.undoManager.add();var o=x.trim(t.selection.getContent({format:"text"})),i=function(t){(function(t,n){return n.get().count>1}(0,n)?t.enable:t.disable)("next"),(function(t,n){return n.get().count>1}(0,n)?t.enable:t.disable)("prev")},a=function(t,n){var e=n?t.disable:t.enable;D(["replace","replaceall","prev","next"],e)},c=function(t,n){yt.browser.isSafari()&&yt.deviceType.isTouch()&&("find"===n||"replace"===n||"replaceall"===n)&&t.focus(n)},l=function(e){bt(t,n,!1),a(e,!0),i(e)},f=function(e){var r=e.getData(),o=n.get();if(r.findtext.length){if(o.text===r.findtext&&o.matchCase===r.matchcase&&o.wholeWord===r.wholewords)pt(t,n);else{var u=mt(t,n,r.findtext,r.matchcase,r.wholewords,r.inselection);u<=0&&function(n){t.windowManager.alert("Could not find the specified string.",(function(){n.focus("findtext")}))}(e),a(e,0===u)}i(e)}else l(e)},d=n.get(),m={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:{findtext:o,replacetext:"",wholewords:d.wholeWord,matchcase:d.matchCase,inselection:d.inSelection},onChange:function(t,e){"findtext"===e.name&&n.get().count>0&&l(t)},onAction:function(e,r){var o=e.getData();switch(r.name){case"find":f(e);break;case"replace":vt(t,n,o.replacetext)?i(e):l(e);break;case"replaceall":vt(t,n,o.replacetext,!0,!0),l(e);break;case"prev":gt(t,n),i(e);break;case"next":pt(t,n),i(e);break;case"matchcase":case"wholewords":case"inselection":!function(t){var e=t.getData(),r=n.get();n.set(s(s({},r),{matchCase:e.matchcase,wholeWord:e.wholewords,inSelection:e.inselection}))}(e),l(e)}c(e,r.name)},onSubmit:function(t){f(t),c(t,"find")},onClose:function(){t.focus(),bt(t,n),t.undoManager.add()}};r.set(t.windowManager.open(m,{inline:"toolbar"}))},wt=function(t,n){return function(){xt(t,n)}};c.add("searchreplace",(function(t){var n=u({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return function(t,n){t.addCommand("SearchReplace",(function(){xt(t,n)}))}(t,n),function(t,n){t.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:wt(t,n),icon:"search"}),t.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:wt(t,n),icon:"search"}),t.shortcuts.add("Meta+F","",wt(t,n))}(t,n),function(t,n){return{done:function(e){return bt(t,n,e)},find:function(e,r,o,i){return void 0===i&&(i=!1),mt(t,n,e,r,o,i)},next:function(){return pt(t,n)},prev:function(){return gt(t,n)},replace:function(e,r,o){return vt(t,n,e,r,o)}}}(t,n)}))}()},function(t,n,e){e(37)},function(t,n){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t,n,e){t.dom.toggleClass(t.getBody(),"mce-visualblocks"),e.set(!e.get()),function(t,n){t.fire("VisualBlocks",{state:n})}(t,e.get())},e=function(t,n){return function(e){e.setActive(n.get());var r=function(t){return e.setActive(t.state)};return t.on("VisualBlocks",r),function(){return t.off("VisualBlocks",r)}}};t.add("visualblocks",(function(t,r){var o,i=(o=!1,{get:function(){return o},set:function(t){o=t}});!function(t,e,r){t.addCommand("mceVisualBlocks",(function(){n(t,0,r)}))}(t,0,i),function(t,n){t.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:e(t,n)}),t.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:e(t,n)})}(t,i),function(t,e,r){t.on("PreviewFormats AfterPreviewFormats",(function(n){r.get()&&t.dom.toggleClass(t.getBody(),"mce-visualblocks","afterpreviewformats"===n.type)})),t.on("init",(function(){(function(t){return t.getParam("visualblocks_default_state",!1,"boolean")})(t)&&n(t,0,r)}))}(t,0,i)}))}()},function(t,n,e){e(39)},function(t,n){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){var n=function(t){return t.getContent({source_view:!0})}(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:n},onSubmit:function(n){!function(t,n){t.focus(),t.undoManager.transact((function(){t.setContent(n)})),t.selection.setCursorLocation(),t.nodeChanged()}(t,n.getData().code),n.close()}})};t.add("code",(function(t){return function(t){t.addCommand("mceCodeEditor",(function(){n(t)}))}(t),function(t){t.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return n(t)}}),t.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return n(t)}})}(t),{}}))}()},function(t,n,e){e(41)},function(t,n){!function(){"use strict";var t=function(t){var n=t;return{get:function(){return n},set:function(t){n=t}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){return{isFullscreen:function(){return null!==t.get()}}},r=function(){},o=function(t){return function(){return t}};function i(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.concat(e);return t.apply(null,o)}}var a=o(!1),u=o(!0),c=function(){return s},s=function(){var t=function(t){return t.isNone()},n=function(t){return t()},e=function(t){return t};return{fold:function(t,n){return t()},is:a,isSome:a,isNone:u,getOr:e,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:e,orThunk:n,map:c,each:r,bind:c,exists:a,forall:u,filter:c,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")}}(),l=function(t){var n=o(t),e=function(){return i},r=function(n){return n(t)},i={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:u,isNone:a,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return l(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?i:s},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(a,(function(n){return e(t,n)}))}};return i},f={some:l,none:c,from:function(t){return null==t?s:l(t)}},d=function(){return n=function(t){return t.unbind()},e=t(f.none()),r=function(){return e.get().each(n)},{clear:function(){r(),e.set(f.none())},isSet:function(){return e.get().isSome()},set:function(t){r(),e.set(f.some(t))}};var n,e,r},m=function(t){return function(n){return r=typeof(e=n),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===t;var e,r}},p=function(t){return function(n){return typeof n===t}},g=m("string"),h=m("array"),v=p("boolean"),b=function(t){return!function(t){return null==t}(t)},y=p("function"),x=p("number"),w=Array.prototype.push,C=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},_=function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}},k=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},S=function(t,n){return function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!h(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);w.apply(n,t[e])}return n}(C(t,n))},A=function(t){return function(t,n){return n>=0&&n<t.length?f.some(t[n]):f.none()}(t,0)},O=Object.keys,T=function(t){return void 0!==t.style&&y(t.style.getPropertyValue)},E=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},D={fromHtml:function(t,n){var e=(n||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||e.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return E(e.childNodes[0])},fromTag:function(t,n){var e=(n||document).createElement(t);return E(e)},fromText:function(t,n){var e=(n||document).createTextNode(t);return E(e)},fromDom:E,fromPoint:function(t,n,e){return f.from(t.dom.elementFromPoint(n,e)).map(E)}},z=("undefined"!=typeof window?window:Function("return this;")(),function(t){return function(n){return function(t){return t.dom.nodeType}(n)===t}}),M=z(1),N=z(3),R=z(9),B=z(11),P=function(t,n){var e=t.dom;if(1!==e.nodeType)return!1;var r=e;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},I=function(t){return D.fromDom(t.dom.ownerDocument)},L=function(t){return function(t){return f.from(t.dom.parentNode).map(D.fromDom)}(t).map(H).map((function(n){return k(n,(function(n){return e=n,!(t.dom===e.dom);var e}))})).getOr([])},H=function(t){return C(t.dom.childNodes,D.fromDom)},F=y(Element.prototype.attachShadow)&&y(Node.prototype.getRootNode),V=o(F),j=F?function(t){return D.fromDom(t.dom.getRootNode())}:function(t){return R(t)?t:I(t)},U=function(t){var n,e=j(t);return B(n=e)&&b(n.dom.host)?f.some(e):f.none()},W=function(t){return D.fromDom(t.dom.host)},$=function(t){return b(t.dom.shadowRoot)},q=function(t){var n=N(t)?t.dom.parentNode:t.dom;if(null==n||null===n.ownerDocument)return!1;var e,r,o=n.ownerDocument;return U(D.fromDom(n)).fold((function(){return o.body.contains(n)}),(e=q,r=W,function(t){return e(r(t))}))},G=function(t,n,e){!function(t,n,e){if(!(g(e)||v(e)||x(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")}(t.dom,n,e)},K=function(t,n){var e=t.dom.getAttribute(n);return null===e?void 0:e},X=function(t,n){t.dom.removeAttribute(n)},Y=function(t,n){var e=t.dom;!function(t,n){for(var e=O(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}}(n,(function(t,n){!function(t,n,e){if(!g(e))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",e,":: Element ",t),new Error("CSS value must be a string: "+e);T(t)&&t.style.setProperty(n,e)}(e,n,t)}))},J=function(t,n){return T(t)?t.style.getPropertyValue(n):""},Q=function(t){var n,e,r=D.fromDom(function(t){if(V()&&b(t.target)){var n=D.fromDom(t.target);if(M(n)&&$(n)&&t.composed&&t.composedPath){var e=t.composedPath();if(e)return A(e)}}return f.from(t.target)}(t).getOr(t.target)),o=function(){return t.stopPropagation()},i=function(){return t.preventDefault()},a=(n=i,e=o,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(e.apply(null,t))});return function(t,n,e,r,o,i,a){return{target:t,x:n,y:e,stop:r,prevent:o,kill:i,raw:a}}(r,t.clientX,t.clientY,o,i,a,t)},Z=function(t,n,e,r,o){var a=function(t,n){return function(e){t(e)&&n(Q(e))}}(e,r);return t.dom.addEventListener(n,a,o),{unbind:i(tt,t,n,a,o)}},tt=function(t,n,e,r){t.dom.removeEventListener(n,e,r)},nt=u,et=function(t,n,e){return function(t,n,e,r){return Z(t,n,e,r,!1)}(t,n,nt,e)},rt=function(t,n){return{left:t,top:n,translate:function(e,r){return rt(t+e,n+r)}}},ot=rt,it=function(t){var n=void 0===t?window:t;return f.from(n.visualViewport)},at=function(t,n,e,r){return{x:t,y:n,width:e,height:r,right:t+e,bottom:n+r}},ut=function(t){var n=void 0===t?window:t,e=n.document,r=function(t){var n=void 0!==t?t.dom:document,e=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return ot(e,r)}(D.fromDom(e));return it(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,o=t.clientHeight;return at(r.left,r.top,e,o)}),(function(t){return at(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},ct=function(t,n,e){return it(e).map((function(e){var r=function(t){return n(Q(t))};return e.addEventListener(t,r),{unbind:function(){return e.removeEventListener(t,r)}}})).getOrThunk((function(){return{unbind:r}}))},st=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lt=tinymce.util.Tools.resolve("tinymce.Env"),ft=tinymce.util.Tools.resolve("tinymce.util.Delay"),dt=function(t,n){t.fire("FullscreenStateChanged",{state:n})},mt=function(t){return t.getParam("fullscreen_native",!1,"boolean")},pt=function(t){var n=D.fromDom(t.getElement());return U(n).map(W).getOrThunk((function(){return function(t){var n=t.dom.body;if(null==n)throw new Error("Body is not available yet");return D.fromDom(n)}(I(n))}))},gt=function(t){return t.dom===(void 0!==(n=I(t).dom).fullscreenElement?n.fullscreenElement:void 0!==n.msFullscreenElement?n.msFullscreenElement:void 0!==n.webkitFullscreenElement?n.webkitFullscreenElement:null);var n},ht=function(t,n,e){return k(function(t,n){for(var e=y(n)?n:a,r=t.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=D.fromDom(i);if(o.push(u),!0===e(u))break;r=i}return o}(t,e),n)},vt=function(t){return function(t,n){var e,r=void 0===n?document:n.dom;return 1!==(e=r).nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount?[]:C(r.querySelectorAll(t),D.fromDom)}(t)},bt=function(t,n,e){return ht(t,(function(t){return P(t,n)}),e)},yt=function(t,n){return function(t,n){return k(L(t),n)}(t,(function(t){return P(t,n)}))},xt="data-ephox-mobile-fullscreen-style",wt="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ct=lt.os.isAndroid(),_t=function(t){var n=function(t,n){var e=t.dom,r=window.getComputedStyle(e).getPropertyValue(n);return""!==r||q(t)?r:J(e,n)}(t,"background-color");return void 0!==n&&""!==n?"background-color:"+n+"!important":"background-color:rgb(255,255,255)!important;"},kt=st.DOM,St=it().fold((function(){return{bind:r,unbind:r}}),(function(n){var e,r=(e=t(f.none()),{clear:function(){return e.set(f.none())},set:function(t){return e.set(f.some(t))},isSet:function(){return e.get().isSome()},on:function(t){return e.get().each(t)}}),o=d(),i=d(),a=ft.throttle((function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((function(){r.on((function(t){return Y(t,{top:n.offsetTop+"px",left:n.offsetLeft+"px",height:n.height+"px",width:n.width+"px"})}))}))}),50);return{bind:function(t){r.set(t),a(),o.set(ct("resize",a)),i.set(ct("scroll",a))},unbind:function(){r.on((function(){o.clear(),i.clear()})),r.clear()}}})),At=function(t,n){var e,r,o,i,a,u=document.body,c=document.documentElement,s=t.getContainer(),l=D.fromDom(s),d=pt(t),m=n.get(),p=D.fromDom(t.getBody()),g=lt.deviceType.isTouch(),h=s.style,v=t.iframeElement.style,b=function(t){t(u,"tox-fullscreen"),t(c,"tox-fullscreen"),t(s,"tox-fullscreen"),U(l).map((function(t){return W(t).dom})).each((function(n){t(n,"tox-fullscreen"),t(n,"tox-shadowhost")}))},y=function(){var e,r;g&&(e=t.dom,r=vt("["+xt+"]"),_(r,(function(t){var n=K(t,xt);"no-styles"!==n?Y(t,e.parseStyle(n)):X(t,"style"),X(t,xt)}))),b(kt.removeClass),St.unbind(),f.from(n.get()).each((function(t){return t.fullscreenChangeHandler.unbind()}))};if(m)m.fullscreenChangeHandler.unbind(),mt(t)&&gt(d)&&(r=I(d),(o=r.dom).exitFullscreen?o.exitFullscreen():o.msExitFullscreen?o.msExitFullscreen():o.webkitCancelFullScreen&&o.webkitCancelFullScreen()),v.width=m.iframeWidth,v.height=m.iframeHeight,h.width=m.containerWidth,h.height=m.containerHeight,h.top=m.containerTop,h.left=m.containerLeft,e=m.scrollPos,window.scrollTo(e.x,e.y),n.set(null),dt(t,!1),y(),t.off("remove",y);else{var x=et(I(d),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(function(e){mt(t)&&(gt(d)||null===n.get()||At(t,n))})),w={scrollPos:(a=ut(window),{x:a.x,y:a.y}),containerWidth:h.width,containerHeight:h.height,containerTop:h.top,containerLeft:h.left,iframeWidth:v.width,iframeHeight:v.height,fullscreenChangeHandler:x};g&&function(t,n,e){var r=function(n){return function(e){var r=K(e,"style"),o=void 0===r?"no-styles":r.trim();o!==n&&(G(e,xt,o),Y(e,t.parseStyle(n)))}},o=bt(n,"*"),i=S(o,(function(t){return yt(t,"*:not(.tox-silver-sink)")})),a=_t(e);_(i,r("display:none!important;")),_(o,r("position:absolute!important;"+wt+a)),r((!0===Ct?"":"position:absolute!important;")+wt+a)(n)}(t.dom,l,p),v.width=v.height="100%",h.width=h.height="",b(kt.addClass),St.bind(l),t.on("remove",y),n.set(w),mt(t)&&((i=d.dom).requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.webkitRequestFullScreen&&i.webkitRequestFullScreen()),dt(t,!0)}},Ot=function(t,n){return function(e){e.setActive(null!==n.get());var r=function(t){return e.setActive(t.state)};return t.on("FullscreenStateChanged",r),function(){return t.off("FullscreenStateChanged",r)}}};n.add("fullscreen",(function(n){var r=t(null);return n.inline||(function(t,n){t.addCommand("mceFullScreen",(function(){At(t,n)}))}(n,r),function(t,n){t.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:Ot(t,n)}),t.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:Ot(t,n)})}(n,r),n.addShortcut("Meta+Shift+F","","mceFullScreen")),e(r)}))}()},function(t,n,e){e(43)},function(t,n){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),e=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(t){var r=function(t){var r="",o=t.dom.encode,i=function(t){return t.getParam("content_style","","string")}(t);r+='<base href="'+o(t.documentBaseURI.getURI())+'">';var a=function(t){return t.getParam("content_css_cors",!1,"boolean")}(t)?' crossorigin="anonymous"':"";e.each(t.contentCSS,(function(n){r+='<link type="text/css" rel="stylesheet" href="'+o(t.documentBaseURI.toAbsolute(n))+'"'+a+">"})),i&&(r+='<style type="text/css">'+i+"</style>");var u=function(t){var n=t.getParam("body_id","tinymce","string");return-1===n.indexOf("=")?n:function(t){var n=t.getParam("body_id","","hash");return n[t.id]||n}(t)}(t),c=function(t){var n=t.getParam("body_class","","string");return-1===n.indexOf("=")?n:function(t){return t.getParam("body_class","","hash")[t.id]||""}(t)}(t),s='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(n.mac?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",l=t.getBody().dir,f=l?' dir="'+o(l)+'"':"";return"<!DOCTYPE html><html><head>"+r+'</head><body id="'+o(u)+'" class="mce-content-body '+o(c)+'"'+f+">"+t.getContent()+s+"</body></html>"}(t);t.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:r}}).focus("close")};t.add("preview",(function(t){!function(t){t.addCommand("mcePreview",(function(){r(t)}))}(t),function(t){t.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:function(){return t.execCommand("mcePreview")}}),t.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:function(){return t.execCommand("mcePreview")}})}(t)}))}()},function(t,n,e){e(45)},function(t,n){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),e=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(t){return!t},o=function(t){return t.getAttribute("id")||t.getAttribute("name")||""},i=function(t){return function(t){return t&&"a"===t.nodeName.toLowerCase()}(t)&&!t.getAttribute("href")&&""!==o(t)},a=function(t){var r=t.dom;n(r).walk(t.selection.getRng(),(function(t){e.each(t,(function(t){var n;i(n=t)&&!n.firstChild&&r.remove(t,!1)}))}))},u=function(t){return t.dom.getParent(t.selection.getStart(),"a:not([href])")},c=function(t,n){var e=u(t);e?function(t,n,e){e.removeAttribute("name"),e.id=n,t.addVisual(),t.undoManager.add()}(t,n,e):function(t,n){t.undoManager.transact((function(){(function(t){return t.getParam("allow_html_in_named_anchor",!1,"boolean")})(t)||t.selection.collapse(!0),t.selection.isCollapsed()?t.insertContent(t.dom.createHTML("a",{id:n})):(a(t),t.formatter.remove("namedAnchor",null,null,!0),t.formatter.apply("namedAnchor",{value:n}),t.addVisual())}))}(t,n),t.focus()},s=function(t){var n=function(t){var n=u(t);return n?o(n):""}(t);t.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:n},onSubmit:function(n){(function(t,n){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(n)?(c(t,n),!0):(t.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)})(t,n.getData().id)&&n.close()}})},l=function(t){return function(t){return t&&r(t.attr("href"))&&!r(t.attr("id")||t.attr("name"))}(t)&&!t.firstChild},f=function(t){return function(n){for(var e=0;e<n.length;e++){var r=n[e];l(r)&&r.attr("contenteditable",t)}}};t.add("anchor",(function(t){!function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("a",f("false")),t.serializer.addNodeFilter("a",f(null))}))}(t),function(t){t.addCommand("mceAnchor",(function(){s(t)}))}(t),function(t){t.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return t.execCommand("mceAnchor")},onSetup:function(n){return t.selection.selectorChangedWithUnbind("a:not([href])",n.setActive).unbind}}),t.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return t.execCommand("mceAnchor")}})}(t),t.on("PreInit",(function(){!function(t){t.formatter.register("namedAnchor",{inline:"a",selector:"a:not([href])",remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(t,n,e){return i(t)}})}(t)}))}))}()},function(t,n,e){e(47)},function(t,n){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){return t.getParam("insertdatetime_timeformat",t.translate("%H:%M:%S"))},e=function(t){return t.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),i="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),u=function(t,n){if((t=""+t).length<n)for(var e=0;e<n-t.length;e++)t="0"+t;return t},c=function(t,n,e){return e=e||new Date,n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+e.getFullYear())).replace("%y",""+e.getYear())).replace("%m",u(e.getMonth()+1,2))).replace("%d",u(e.getDate(),2))).replace("%H",""+u(e.getHours(),2))).replace("%M",""+u(e.getMinutes(),2))).replace("%S",""+u(e.getSeconds(),2))).replace("%I",""+((e.getHours()+11)%12+1))).replace("%p",e.getHours()<12?"AM":"PM")).replace("%B",""+t.translate(a[e.getMonth()]))).replace("%b",""+t.translate(i[e.getMonth()]))).replace("%A",""+t.translate(o[e.getDay()]))).replace("%a",""+t.translate(r[e.getDay()]))).replace("%%","%")},s=function(t,n){if(function(t){return t.getParam("insertdatetime_element",!1)}(t)){var e=c(t,n),r=void 0;r=/%[HMSIp]/.test(n)?c(t,"%Y-%m-%dT%H:%M"):c(t,"%Y-%m-%d");var o=t.dom.getParent(t.selection.getStart(),"time");o?function(t,n,e,r){var o=t.dom.create("time",{datetime:e},r);n.parentNode.insertBefore(o,n),t.dom.remove(n),t.selection.select(o,!0),t.selection.collapse(!1)}(t,o,r,e):t.insertContent('<time datetime="'+r+'">'+e+"</time>")}else t.insertContent(c(t,n))},l=tinymce.util.Tools.resolve("tinymce.util.Tools"),f=function(t){var r,o,i=e(t),a=(r=function(t){var r=e(t);return r.length>0?r[0]:n(t)}(t),o=r,{get:function(){return o},set:function(t){o=t}});t.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(t){return t===a.get()},fetch:function(n){n(l.map(i,(function(n){return{type:"choiceitem",text:c(t,n),value:n}})))},onAction:function(n){s(t,a.get())},onItemAction:function(n,e){a.set(e),s(t,e)}});var u=function(n){return function(){a.set(n),s(t,n)}};t.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return l.map(i,(function(n){return{type:"menuitem",text:c(t,n),onAction:u(n)}}))}})};t.add("insertdatetime",(function(t){!function(t){t.addCommand("mceInsertDate",(function(){s(t,function(t){return t.getParam("insertdatetime_dateformat",t.translate("%Y-%m-%d"))}(t))})),t.addCommand("mceInsertTime",(function(){s(t,n(t))}))}(t),f(t)}))}()},function(t,n,e){e(49)},function(t,n){!function(){"use strict";var t,n,e,r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(){return(o=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},i=function(){},a=function(t){return function(){return t}},u=a(!1),c=a(!0),s=function(){return l},l=(t=function(t){return t.isNone()},{fold:function(t,n){return t()},is:u,isSome:u,isNone:c,getOr:e=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:e,orThunk:n,map:s,each:i,bind:s,exists:u,forall:c,filter:s,equals:t,equals_:t,toArray:function(){return[]},toString:a("none()")}),f=function(t){var n=a(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:c,isNone:u,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return f(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:l},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(u,(function(n){return e(t,n)}))}};return o},d={some:f,none:s,from:function(t){return null==t?l:f(t)}},m=function(t){return function(n){return r=typeof(e=n),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===t;var e,r}},p=m("string"),g=m("object"),h=m("array"),v=function(t){return!function(t){return null==t}(t)},b=Array.prototype.push,y=function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}},x=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!h(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);b.apply(n,t[e])}return n},w=function(t){var n=t;return{get:function(){return n},set:function(t){n=t}}},C=Object.keys,_=Object.hasOwnProperty,k=function(t,n){return S(t,n)?d.from(t[n]):d.none()},S=function(t,n){return _.call(t,n)},A=function(t){return t.getParam("media_scripts")},O=function(t){return t.getParam("media_live_embeds",!0)},T=tinymce.util.Tools.resolve("tinymce.util.Tools"),E=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),D=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),z=function(t,n){if(t)for(var e=0;e<t.length;e++)if(-1!==n.indexOf(t[e].filter))return t[e]},M=E.DOM,N=function(t){return t.replace(/px$/,"")},R=function(t,n){var e=w(!1),r={};return D({validate:!1,allow_conditional_comments:!0,start:function(n,o){if(e.get());else if(S(o.map,"data-ephox-embed-iri"))e.set(!0),r=function(t){var n=t.map.style,e=n?M.parseStyle(n):{};return{type:"ephox-embed-iri",source:t.map["data-ephox-embed-iri"],altsource:"",poster:"",width:k(e,"max-width").map(N).getOr(""),height:k(e,"max-height").map(N).getOr("")}}(o);else{if(r.source||"param"!==n||(r.source=o.map.movie),"iframe"!==n&&"object"!==n&&"embed"!==n&&"video"!==n&&"audio"!==n||(r.type||(r.type=n),r=T.extend(o.map,r)),"script"===n){var i=z(t,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===n&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==n||r.poster||(r.poster=o.map.src)}}}).parse(n),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},B=function(t){var n={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[t.toLowerCase().split(".").pop()];return n||""},P=tinymce.util.Tools.resolve("tinymce.html.Schema"),I=tinymce.util.Tools.resolve("tinymce.html.Writer"),L=E.DOM,H=function(t){return/^[0-9.]+$/.test(t)?t+"px":t},F=function(t,n){!function(t,n){for(var e=C(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}}(n,(function(n,e){var r=""+n;if(t.map[e])for(var o=t.length;o--;){var i=t[o];i.name===e&&(r?(t.map[e]=r,i.value=r):(delete t.map[e],t.splice(o,1)))}else r&&(t.push({name:e,value:r}),t.map[e]=r)}))},V=["source","altsource"],j=function(t,n,e){var r,o=I(),i=w(!1),a=0;return D({validate:!1,allow_conditional_comments:!0,comment:function(t){o.comment(t)},cdata:function(t){o.cdata(t)},text:function(t,n){o.text(t,n)},start:function(t,u,c){if(i.get());else if(S(u.map,"data-ephox-embed-iri"))i.set(!0),function(t,n){var e=n.map.style,r=e?L.parseStyle(e):{};r["max-width"]=H(t.width),r["max-height"]=H(t.height),F(n,{style:L.serializeStyle(r)})}(n,u);else{switch(t){case"video":case"object":case"embed":case"img":case"iframe":void 0!==n.height&&void 0!==n.width&&F(u,{width:n.width,height:n.height})}if(e)switch(t){case"video":F(u,{poster:n.poster,src:""}),n.altsource&&F(u,{src:""});break;case"iframe":F(u,{src:n.source});break;case"source":if(a<2&&(F(u,{src:n[V[a]],type:n[V[a]+"mime"]}),!n[V[a]]))return;a++;break;case"img":if(!n.poster)return;r=!0}}o.start(t,u,c)},end:function(t){if(!i.get()){if("video"===t&&e)for(var u=0;u<2;u++)if(n[V[u]]){var c=[];c.map={},a<=u&&(F(c,{src:n[V[u]],type:n[V[u]+"mime"]}),o.start("source",c,!0))}if(n.poster&&"object"===t&&e&&!r){var s=[];s.map={},F(s,{src:n.poster,width:n.width,height:n.height}),o.start("img",s,!0)}}o.end(t)}},P({})).parse(t),o.getContent()},U=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],W=function(t,n){for(var e=function(t){var n=t.match(/^(https?:\/\/|www\.)(.+)$/i);return n&&n.length>1?"www."===n[1]?"https://":n[1]:"https://"}(n),r=t.regex.exec(n),o=e+t.url,i=function(t){o=o.replace("$"+t,(function(){return r[t]?r[t]:""}))},a=0;a<r.length;a++)i(a);return o.replace(/\?$/,"")},$=function(t,n){var e=T.extend({},n);if(!e.source&&(T.extend(e,R(A(t),e.embed)),!e.source))return"";e.altsource||(e.altsource=""),e.poster||(e.poster=""),e.source=t.convertURL(e.source,"source"),e.altsource=t.convertURL(e.altsource,"source"),e.sourcemime=B(e.source),e.altsourcemime=B(e.altsource),e.poster=t.convertURL(e.poster,"poster");var r,o,i=(r=e.source,(o=U.filter((function(t){return t.regex.test(r)}))).length>0?T.extend({},o[0],{url:W(o[0],r)}):null);if(i&&(e.source=i.url,e.type=i.type,e.allowfullscreen=i.allowFullscreen,e.width=e.width||String(i.w),e.height=e.height||String(i.h)),e.embed)return j(e.embed,e,!0);var a=z(A(t),e.source);a&&(e.type="script",e.width=String(a.width),e.height=String(a.height));var u=function(t){return t.getParam("audio_template_callback")}(t),c=function(t){return t.getParam("video_template_callback")}(t);return e.width=e.width||"300",e.height=e.height||"150",T.each(e,(function(n,r){e[r]=t.dom.encode(""+n)})),"iframe"===e.type?function(t){var n=t.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+t.source+'" width="'+t.width+'" height="'+t.height+'"'+n+"></iframe>"}(e):"application/x-shockwave-flash"===e.sourcemime?function(t){var n='<object data="'+t.source+'" width="'+t.width+'" height="'+t.height+'" type="application/x-shockwave-flash">';return t.poster&&(n+='<img src="'+t.poster+'" width="'+t.width+'" height="'+t.height+'" />'),n+="</object>"}(e):-1!==e.sourcemime.indexOf("audio")?function(t,n){return n?n(t):'<audio controls="controls" src="'+t.source+'">'+(t.altsource?'\n<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</audio>"}(e,u):"script"===e.type?function(t){return'<script src="'+t.source+'"><\/script>'}(e):function(t,n){return n?n(t):'<video width="'+t.width+'" height="'+t.height+'"'+(t.poster?' poster="'+t.poster+'"':"")+' controls="controls">\n<source src="'+t.source+'"'+(t.sourcemime?' type="'+t.sourcemime+'"':"")+" />\n"+(t.altsource?'<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</video>"}(e,c)},q=tinymce.util.Tools.resolve("tinymce.util.Promise"),G={},K=function(t){return function(n){return $(t,n)}},X=function(t,n){var e=function(t){return t.getParam("media_url_resolver")}(t);return e?function(t,n,e){return new q((function(r,o){var i=function(e){return e.html&&(G[t.source]=e),r({url:t.source,html:e.html?e.html:n(t)})};G[t.source]?i(G[t.source]):e({url:t.source},i,o)}))}(n,K(t),e):function(t,n){return new q((function(e){e({html:n(t),url:t.source})}))}(n,K(t))},Y=function(t,n){return k(n,t).bind((function(t){return k(t,"meta")}))},J=function(t,n,e){return function(r){var o,i=function(){return k(t,r)},a=function(){return k(n,r)},u=function(t){return k(t,"value").bind((function(t){return t.length>0?d.some(t):d.none()}))};return(o={})[r]=(r===e?i().bind((function(t){return g(t)?u(t).orThunk(a):a().orThunk((function(){return d.from(t)}))})):a().orThunk((function(){return i().bind((function(t){return g(t)?u(t):d.from(t)}))}))).getOr(""),o}},Q=function(t,n){var e={};return k(t,"dimensions").each((function(t){y(["width","height"],(function(r){k(n,r).orThunk((function(){return k(t,r)})).each((function(t){return e[r]=t}))}))})),e},Z=function(t,n){var e=n?Y(n,t).getOr({}):{},r=J(t,e,n);return o(o(o(o(o({},r("source")),r("altsource")),r("poster")),r("embed")),Q(t,e))},tt=function(t){var n=o(o({},t),{source:{value:k(t,"source").getOr("")},altsource:{value:k(t,"altsource").getOr("")},poster:{value:k(t,"poster").getOr("")}});return y(["width","height"],(function(e){k(t,e).each((function(t){var r=n.dimensions||{};r[e]=t,n.dimensions=r}))})),n},nt=function(t){return function(n){var e=n&&n.msg?"Media embed handler error: "+n.msg:"Media embed handler threw unknown error.";t.notificationManager.open({type:"error",text:e})}},et=function(t,n){return R(A(t),n)},rt=function(t,n){return function(e){if(p(e.url)&&e.url.trim().length>0){var r=e.html,i=et(n,r),a=o(o({},i),{source:e.url,embed:r});t.setData(tt(a))}}},ot=function(t,n){var e=t.dom.select("*[data-mce-object]");t.insertContent(n),function(t,n){for(var e=t.dom.select("*[data-mce-object]"),r=0;r<n.length;r++)for(var o=e.length-1;o>=0;o--)n[r]===e[o]&&e.splice(o,1);t.selection.select(e[0])}(t,e),t.nodeChanged()},it=function(t,n,e){var r;n.embed=j(n.embed,n),n.embed&&(t.source===n.source||(r=n.source,G.hasOwnProperty(r)))?ot(e,n.embed):X(e,n).then((function(t){ot(e,t.html)})).catch(nt(e))},at=function(t){var n=function(t){var n=t.selection.getNode(),e=function(t){return t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri")}(n)?t.serializer.serialize(n,{selection:!0}):"";return o({embed:e},R(A(t),e))}(t),e=w(n),r=tt(n),i=function(t){return t.getParam("media_dimensions",!0)}(t)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:x([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],i])},u={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},c=[];(function(t){return t.getParam("media_alt_source",!0)})(t)&&c.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),function(t){return t.getParam("media_poster",!0)}(t)&&c.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var s={title:"Advanced",name:"advanced",items:c},l=[a,u];c.length>0&&l.push(s);var f={type:"tabpanel",tabs:l},d=t.windowManager.open({title:"Insert/Edit Media",size:"normal",body:f,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var r=Z(n.getData());it(e.get(),r,t),n.close()},onChange:function(n,r){switch(r.name){case"source":!function(n,e){var r=Z(e.getData(),"source");n.source!==r.source&&(rt(d,t)({url:r.source,html:""}),X(t,r).then(rt(d,t)).catch(nt(t)))}(e.get(),n);break;case"embed":!function(n){var e=Z(n.getData()),r=et(t,e.embed);n.setData(tt(r))}(n);break;case"dimensions":case"altsource":case"poster":!function(n,e){var r=Z(n.getData(),e),i=$(t,r);n.setData(tt(o(o({},r),{embed:i})))}(n,r.name)}e.set(Z(n.getData()))},initialData:r})},ut=tinymce.util.Tools.resolve("tinymce.html.Node"),ct=tinymce.util.Tools.resolve("tinymce.Env"),st=tinymce.util.Tools.resolve("tinymce.html.DomParser"),lt=function(t,n){if(!1===function(t){return t.getParam("media_filter_html",!0)}(t))return n;var e,r=I();return D({validate:!1,allow_conditional_comments:!1,comment:function(t){e||r.comment(t)},cdata:function(t){e||r.cdata(t)},text:function(t,n){e||r.text(t,n)},start:function(n,o,i){if(e=!0,"script"!==n&&"noscript"!==n&&"svg"!==n){for(var a=o.length-1;a>=0;a--){var u=o[a].name;0===u.indexOf("on")&&(delete o.map[u],o.splice(a,1)),"style"===u&&(o[a].value=t.dom.serializeStyle(t.dom.parseStyle(o[a].value),n))}r.start(n,o,i),e=!1}},end:function(t){e||r.end(t)}},P({})).parse(n),r.getContent()},ft=function(t){var n=t.name;return"iframe"===n||"video"===n||"audio"===n},dt=function(t,n,e,r){void 0===r&&(r=null);var o=t.attr(e);return v(o)?o:S(n,e)?null:r},mt=function(t,n,e){var r="img"===n.name||"video"===t.name,o=r?"300":null,i="audio"===t.name?"30":"150",a=r?i:null;n.attr({width:dt(t,e,"width",o),height:dt(t,e,"height",a)})},pt=function(t,n){var e=n.name,r=new ut("img",1);return r.shortEnded=!0,ht(t,n,r),mt(n,r,{}),r.attr({style:n.attr("style"),src:ct.transparentSrc,"data-mce-object":e,class:"mce-object mce-object-"+e}),r},gt=function(t,n){var e=n.name,r=new ut("span",1);r.attr({contentEditable:"false",style:n.attr("style"),"data-mce-object":e,class:"mce-preview-object mce-object-"+e}),ht(t,n,r);var o=t.dom.parseStyle(n.attr("style")),i=new ut(e,1);if(mt(n,i,o),i.attr({src:n.attr("src"),style:n.attr("style"),class:n.attr("class")}),"iframe"===e)i.attr({allowfullscreen:n.attr("allowfullscreen"),frameborder:"0"});else{y(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(function(t){i.attr(t,n.attr(t))}));var a=r.attr("data-mce-html");v(a)&&function(t,n,e,r){for(var o=st({forced_root_block:!1,validate:!1},t.schema).parse(r,{context:n});o.firstChild;)e.append(o.firstChild)}(t,e,i,a)}var u=new ut("span",1);return u.attr("class","mce-shim"),r.append(i),r.append(u),r},ht=function(t,n,e){for(var r=n.attributes,o=r.length;o--;){var i=r[o].name,a=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(a=t.convertURL(a,i)),e.attr("data-mce-p-"+i,a))}var u=n.firstChild&&n.firstChild.value;u&&(e.attr("data-mce-html",escape(lt(t,u))),e.firstChild=null)},vt=function(t){var n=t.attr("class");return n&&/\btiny-pageembed\b/.test(n)},bt=function(t){for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||vt(t))return!0;return!1},yt=function(t){t.on("preInit",(function(){var n=t.schema.getSpecialElements();T.each("video audio iframe object".split(" "),(function(t){n[t]=new RegExp("</"+t+"[^>]*>","gi")}));var e=t.schema.getBoolAttrs();T.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(t){e[t]={}})),t.parser.addNodeFilter("iframe,video,audio,object,embed,script",function(t){return function(n){for(var e,r,o=n.length;o--;)(e=n[o]).parent&&(e.parent.attr("data-mce-object")||("script"!==e.name||(r=z(A(t),e.attr("src"))))&&(r&&(r.width&&e.attr("width",r.width.toString()),r.height&&e.attr("height",r.height.toString())),ft(e)&&O(t)&&ct.ceFalse?bt(e)||e.replace(gt(t,e)):bt(e)||e.replace(pt(t,e))))}}(t)),t.serializer.addAttributeFilter("data-mce-object",(function(n,e){for(var r,o,i,a,u,c,s,l,f=n.length;f--;)if((r=n[f]).parent){for(s=r.attr(e),o=new ut(s,1),"audio"!==s&&"script"!==s&&((l=r.attr("class"))&&-1!==l.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),i=(a=r.attributes).length;i--;){var d=a[i].name;0===d.indexOf("data-mce-p-")&&o.attr(d.substr(11),a[i].value)}"script"===s&&o.attr("type","text/javascript"),(u=r.attr("data-mce-html"))&&((c=new ut("#text",3)).raw=!0,c.value=lt(t,unescape(u)),o.append(c)),r.replace(o)}}))})),t.on("SetContent",(function(){t.$("span.mce-preview-object").each((function(n,e){var r=t.$(e);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},xt=function(t,n){return function(e){return t.selection.selectorChangedWithUnbind(n.join(","),e.setActive).unbind}};r.add("media",(function(t){return function(t){t.addCommand("mceMedia",(function(){at(t)}))}(t),function(t){t.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){t.execCommand("mceMedia")},onSetup:xt(t,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),t.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){t.execCommand("mceMedia")}})}(t),function(t){t.on("ResolveName",(function(t){var n;1===t.target.nodeType&&(n=t.target.getAttribute("data-mce-object"))&&(t.name=n)}))}(t),yt(t),function(t){t.on("click keyup touchend",(function(){var n=t.selection.getNode();n&&t.dom.hasClass(n,"mce-preview-object")&&t.dom.getAttrib(n,"data-mce-selected")&&n.setAttribute("data-mce-selected","2")})),t.on("ObjectSelected",(function(t){"script"===t.target.getAttribute("data-mce-object")&&t.preventDefault()})),t.on("ObjectResized",(function(t){var n,e=t.target;e.getAttribute("data-mce-object")&&(n=e.getAttribute("data-mce-html"))&&(n=unescape(n),e.setAttribute("data-mce-html",escape(j(n,{width:String(t.width),height:String(t.height)}))))}))}(t),function(t){return{showDialog:function(){at(t)}}}(t)}))}()},function(t,n,e){e(51)},function(t,n){!function(){"use strict";var t,n,e,r,o,i,a=function(t){var n=t;return{get:function(){return n},set:function(t){n=t}}},u=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=function(){},s=function(t){return function(){return t}},l=s(!1),f=s(!0),d=function(){return m},m=(t=function(t){return t.isNone()},{fold:function(t,n){return t()},is:l,isSome:l,isNone:f,getOr:e=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:e,orThunk:n,map:d,each:c,bind:d,exists:l,forall:f,filter:d,equals:t,equals_:t,toArray:function(){return[]},toString:s("none()")}),p=function(t){var n=s(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:f,isNone:l,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return p(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:m},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(l,(function(n){return e(t,n)}))}};return o},g={some:p,none:d,from:function(t){return null==t?m:p(t)}},h=function(t){return!function(t){return null==t}(t)},v=(r="function",function(t){return typeof t===r}),b=Array.prototype.slice,y=function(t,n){for(var e=0,r=t.length;e<r;e++){if(n(t[e],e))return!0}return!1},x=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},w=function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}},C=v(Array.from)?Array.from:function(t){return b.call(t)},_=function(){var t=a(g.none());return{clear:function(){return t.set(g.none())},set:function(n){return t.set(g.some(n))},isSet:function(){return t.get().isSome()},on:function(n){return t.get().each(n)}}},k=function(t,n,e){return""===n||t.length>=n.length&&t.substr(e,e+n.length)===n},S=tinymce.util.Tools.resolve("tinymce.Env"),A=tinymce.util.Tools.resolve("tinymce.util.Delay"),O=tinymce.util.Tools.resolve("tinymce.util.Promise"),T=tinymce.util.Tools.resolve("tinymce.util.VK"),E=function(t,n){return t.fire("PastePlainTextToggle",{state:n})},D=tinymce.util.Tools.resolve("tinymce.util.Tools"),z=function(t){return t.getParam("paste_data_images",!1)},M=function(t){return t.getParam("paste_merge_formats",!0)},N=function(t){return t.getParam("paste_retain_style_properties")},R=function(t){return t.getParam("validate")},B=function(t){return t.getParam("allow_html_data_urls",!1,"boolean")},P=function(t){return t.getParam("paste_data_images",!1,"boolean")},I=function(t){return D.explode(t.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))},L=function(t){return-1!==t.indexOf("\x3c!-- x-tinymce/html --\x3e")},H=tinymce.util.Tools.resolve("tinymce.html.Entities"),F=function(t,n,e){var r=t.split(/\n\n/),o=function(t,n){var e,r=[],o="<"+t;if("object"==typeof n){for(e in n)n.hasOwnProperty(e)&&r.push(e+'="'+H.encodeAllRaw(n[e])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"}(n,e),i="</"+n+">",a=D.map(r,(function(t){return t.split(/\n/).join("<br />")}));return 1===a.length?a[0]:D.map(a,(function(t){return o+t+i})).join("")},V=tinymce.util.Tools.resolve("tinymce.html.DomParser"),j=tinymce.util.Tools.resolve("tinymce.html.Serializer"),U=tinymce.util.Tools.resolve("tinymce.html.Node"),W=tinymce.util.Tools.resolve("tinymce.html.Schema"),$=function(t,n){return D.each(n,(function(n){t=n.constructor===RegExp?t.replace(n,""):t.replace(n[0],n[1])})),t},q=function(t){return t=$(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(t,n,e){return n||e?" ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},G=function(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)},K=function(t){var n;return t=t.replace(/^[\u00a0 ]+/,""),D.each([/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],(function(e){if(e.test(t))return n=!0,!1})),n},X=function(t,n,e,r){var o,i={},a=t.dom.parseStyle(r);return D.each(a,(function(a,u){switch(u){case"mso-list":(o=/\w+ \w+([0-9]+)/i.exec(r))&&(e._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&e.firstChild&&(e._listIgnore=!0,e.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[u]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void e.remove()}0!==u.indexOf("mso-comment")?0!==u.indexOf("mso-")&&("all"===N(t)||n&&n[u])&&(i[u]=a):e.remove()})),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],e.wrap(new U("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],e.wrap(new U("i",1))),(i=t.dom.serializeStyle(i,e.name))||null},Y=function(t,n){var e,r=N(t);r&&(e=D.makeMap(r.split(/[, ]/))),n=$(n,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi," "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,n){return n.length>0?n.replace(/./," ").slice(Math.floor(n.length/2)).split("").join(" "):""}]]);var o=function(t){return t.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")}(t),i=W({valid_elements:o,valid_children:"-li[p]"});D.each(i.elements,(function(t){t.attributes.class||(t.attributes.class={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))}));var a=V({},i);a.addAttributeFilter("style",(function(n){for(var r,o=n.length;o--;)(r=n[o]).attr("style",X(t,e,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),a.addAttributeFilter("class",(function(t){for(var n,e,r=t.length;r--;)e=(n=t[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(e)&&n.remove(),n.attr("class",null)})),a.addNodeFilter("del",(function(t){for(var n=t.length;n--;)t[n].remove()})),a.addNodeFilter("a",(function(t){for(var n,e,r,o=t.length;o--;)if(e=(n=t[o]).attr("href"),r=n.attr("name"),e&&-1!==e.indexOf("#_msocom_"))n.remove();else if(e&&0===e.indexOf("file://")&&(e=e.split("#")[1])&&(e="#"+e),e||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){n.unwrap();continue}n.attr({href:e,name:r})}else n.unwrap()}));var u=a.parse(n);return function(t){return t.getParam("paste_convert_word_fake_lists",!0)}(t)&&function(t){for(var n,e,r=1,o=function(t){var n="";if(3===t.type)return t.value;if(t=t.firstChild)do{n+=o(t)}while(t=t.next);return n},i=function(t,n){if(3===t.type&&n.test(t.value))return t.value=t.value.replace(n,""),!1;if(t=t.firstChild)do{if(!i(t,n))return!1}while(t=t.next);return!0},a=function(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)do{a(t)}while(t=t.next)},u=function(t,o,u){var c=t._listLevel||r;c!==r&&(c<r?n&&(n=n.parent.parent):(e=n,n=null)),n&&n.name===o?n.append(t):(e=e||n,n=new U(o,1),u>1&&n.attr("start",""+u),t.wrap(n)),t.name="li",c>r&&e&&e.lastChild.append(n),r=c,a(t),i(t,/^\u00a0+/),i(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(t,/^\u00a0+/)},c=[],s=t.firstChild;null!=s;)if(c.push(s),null!==(s=s.walk()))for(;void 0!==s&&s.parent!==t;)s=s.walk();for(var l=0;l<c.length;l++)if("p"===(t=c[l]).name&&t.firstChild){var f=o(t);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(f)){u(t,"ul");continue}if(K(f)){var d=/([0-9]+)\./.exec(f),m=1;d&&(m=parseInt(d[1],10)),u(t,"ol",m);continue}if(t._listLevel){u(t,"ul",1);continue}n=null}else e=n,n=null}(u),n=j({validate:R(t)},i).serialize(u)},J=function(t,n){return{content:t,cancelled:n}},Q=function(t,n,e,r){var o=function(t,n,e,r){return t.fire("PastePreProcess",{content:n,internal:e,wordContent:r})}(t,n,e,r),i=function(t,n){var e=V({},t.schema);e.addNodeFilter("meta",(function(t){D.each(t,(function(t){t.remove()}))}));var r=e.parse(n,{forced_root_block:!1,isRootContent:!0});return j({validate:R(t)},t.schema).serialize(r)}(t,o.content);return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?function(t,n,e,r){var o=t.dom.create("div",{style:"display:none"},n),i=function(t,n,e,r){return t.fire("PastePostProcess",{node:n,internal:e,wordContent:r})}(t,o,e,r);return J(i.node.innerHTML,i.isDefaultPrevented())}(t,i,e,r):J(i,o.isDefaultPrevented())},Z=function(t,n,e){var r=G(n),o=r?function(t,n){return function(t){return t.getParam("paste_enable_default_filters",!0)}(t)?Y(t,n):n}(t,n):n;return Q(t,o,e,r)},tt=function(t,n){return t.insertContent(n,{merge:M(t),paste:!0}),!0},nt=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},et=function(t,n){return nt(n)&&y(I(t),(function(t){return e=n.toLowerCase(),r="."+t.toLowerCase(),k(e,r,e.length-r.length);var e,r}))},rt=function(t,n,e){return!(!1!==t.selection.isCollapsed()||!nt(n))&&function(t,n,e){return t.undoManager.extra((function(){e(t,n)}),(function(){t.execCommand("mceInsertLink",!1,n)})),!0}(t,n,e)},ot=function(t,n,e){return!!et(t,n)&&function(t,n,e){return t.undoManager.extra((function(){e(t,n)}),(function(){t.insertContent('<img src="'+n+'">')})),!0}(t,n,e)},it=function(t,n,e){e||!1===function(t){return t.getParam("smart_paste",!0)}(t)?tt(t,n):function(t,n){D.each([rt,ot,tt],(function(e){return!0!==e(t,n,tt)}))}(t,n)},at=function(t){return"\n"===t||"\r"===t},ut=function(t,n){var e,r,o=(e=" ",(r=function(t){return t.getParam("paste_tab_spaces",4,"number")}(t))<=0?"":new Array(r+1).join(e)),i=n.replace(/\t/g,o);return function(t,n,e){return w(t,(function(t){e=n(e,t)})),e}(i,(function(t,n){return function(t){return-1!==" \f\t\v".indexOf(t)}(n)||" "===n?t.pcIsSpace||""===t.str||t.str.length===i.length-1||function(t,n){return n<t.length&&n>=0&&at(t[n])}(i,t.str.length+1)?{pcIsSpace:!1,str:t.str+" "}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:at(n),str:t.str+n}}),{pcIsSpace:!1,str:""}).str},ct=function(t,n,e,r){var o=Z(t,n,e);!1===o.cancelled&&it(t,o.content,r)},st=function(t,n,e){var r=e||L(n);ct(t,function(t){return t.replace("\x3c!-- x-tinymce/html --\x3e","")}(n),r,!1)},lt=function(t,n){var e=t.dom.encode(n).replace(/\r\n/g,"\n"),r=function(t,n,e){return n?F(t,!0===n?"p":n,e):function(t){return t.replace(/\r?\n/g,"<br>")}(t)}(ut(t,e),function(t){return t.getParam("forced_root_block")}(t),function(t){return t.getParam("forced_root_block_attrs")}(t));ct(t,r,!1,!0)},ft=function(t){var n={};if(t){if(t.getData){var e=t.getData("Text");e&&e.length>0&&-1===e.indexOf("data:text/mce-internal,")&&(n["text/plain"]=e)}if(t.types)for(var r=0;r<t.types.length;r++){var o=t.types[r];try{n[o]=t.getData(o)}catch(t){n[o]=""}}}return n},dt=function(t,n){return n in t&&t[n].length>0},mt=function(t){return dt(t,"text/html")||dt(t,"text/plain")},pt=(o="mceclip",i=0,function(){return o+i++}),gt=function(t,n){var e,r,o=(e=n.uri,(r=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e))?{type:r[1],data:decodeURIComponent(r[2])}:{type:null,data:null}),i=o.data,a=o.type,u=pt(),c=n.blob,s=new Image;if(s.src=n.uri,function(t,n){var e=function(t){return t.getParam("images_dataimg_filter")}(t);return!e||e(n)}(t,s)){var l=t.editorUpload.blobCache,f=void 0,d=l.getByData(i,a);if(d)f=d;else{var m=function(t){return t.getParam("images_reuse_filename")}(t)&&h(c.name),p=m?function(t,n){var e=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return h(e)?t.dom.encode(e[1]):null}(t,c.name):u,g=m?c.name:void 0;f=l.create(u,c,i,p,g),l.add(f)}st(t,'<img src="'+f.blobUri()+'">',!1)}else st(t,'<img src="'+n.uri+'">',!1)},ht=function(t){return O.all(x(t,(function(t){return new O((function(n){var e=function(t){return h(t.getAsFile)}(t)?t.getAsFile():t,r=new window.FileReader;r.onload=function(){n({blob:e,uri:r.result})},r.readAsDataURL(e)}))})))},vt=function(t){var n=I(t);return function(t){return function(t,n){return k(t,n,0)}(t.type,"image/")&&y(n,(function(n){return e=n.toLowerCase(),r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},(D.hasOwn(r,e)?"image/"+r[e]:"image/"+e)===t.type;var e,r}))}},bt=function(t,n,e){var r="paste"===n.type?n.clipboardData:n.dataTransfer;if(P(t)&&r){var o=function(t,n){var e=n.items?x(C(n.items),(function(t){return t.getAsFile()})):[],r=n.files?C(n.files):[];return function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e}(e.length>0?e:r,vt(t))}(t,r);if(o.length>0)return n.preventDefault(),ht(o).then((function(n){e&&t.selection.setRng(e),w(n,(function(n){gt(t,n)}))})),!0}return!1},yt=function(t){return T.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},xt=function(t,n,e){var r,o=_(),i=_();t.on("keyup",i.clear),t.on("keydown",(function(e){var a=function(t){yt(t)&&!t.isDefaultPrevented()&&n.remove()};if(yt(e)&&!e.isDefaultPrevented()){if((r=e.shiftKey&&86===e.keyCode)&&S.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),o.set(e),i.set(!0),S.ie&&r)return e.preventDefault(),void function(t,n){t.fire("paste",{ieFake:n})}(t,!0);n.remove(),n.create(),t.once("keyup",a),t.once("paste",(function(){t.off("keyup",a)}))}}));var a=function(t,e,r,o,i){var a;dt(e,"text/html")?a=e["text/html"]:(a=n.getHtml(),i=i||L(a),n.isDefaultContent(a)&&(o=!0)),a=q(a),n.remove();var u=!1===i&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a),c=et(t,a);(!a.length||u&&!c)&&(o=!0),(o||c)&&(a=dt(e,"text/plain")&&u?e["text/plain"]:function(t){var n=W(),e=V({},n),r="",o=n.getShortEndedElements(),i=D.makeMap("script noscript style textarea video audio iframe object"," "),a=n.getBlockElements(),u=function(t){var n=t.name,e=t;if("br"!==n){if("wbr"!==n)if(o[n]&&(r+=" "),i[n])r+=" ";else{if(3===t.type&&(r+=t.value),!t.shortEnded&&(t=t.firstChild))do{u(t)}while(t=t.next);a[n]&&e.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"};return t=$(t,[/<!\[[^\]]+\]>/g]),u(e.parse(t)),r}(a)),n.isDefaultContent(a)?r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?lt(t,a):st(t,a,i)};t.on("paste",(function(u){var c=o.isSet()||i.isSet();c&&o.clear();var s=function(t,n){return ft(n.clipboardData||t.getDoc().dataTransfer)}(t,u),l="text"===e.get()||r,f=dt(s,"x-tinymce/html");r=!1,u.isDefaultPrevented()||function(t){var n=t.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length}(u)?n.remove():mt(s)||!bt(t,u,n.getLastRng()||t.selection.getRng())?(c||u.preventDefault(),!S.ie||c&&!u.ieFake||dt(s,"text/html")||(n.create(),t.dom.bind(n.getEl(),"paste",(function(t){t.stopPropagation()})),t.getDoc().execCommand("Paste",!1,null),s["text/html"]=n.getHtml()),dt(s,"text/html")?(u.preventDefault(),f||(f=L(s["text/html"])),a(t,s,c,l,f)):A.setEditorTimeout(t,(function(){a(t,s,c,l,f)}),0)):n.remove()}))},wt=function(t){return S.ie&&t.inline?document.body:t.getBody()},Ct=function(t,n,e){(function(t){return wt(t)!==t.getBody()})(t)&&t.dom.bind(n,"paste keyup",(function(n){St(t,e)||t.fire("paste")}))},_t=function(t){return t.dom.get("mcepastebin")},kt=function(t,n){return n===t},St=function(t,n){var e,r=_t(t);return(e=r)&&"mcepastebin"===e.id&&kt(n,r.innerHTML)},At=function(t){var n=a(null);return{create:function(){return function(t,n,e){var r=t.dom,o=t.getBody();n.set(t.selection.getRng());var i=t.dom.add(wt(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},e);(S.ie||S.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),Ct(t,i,e),i.focus(),t.selection.select(i,!0)}(t,n,"%MCEPASTEBIN%")},remove:function(){return function(t,n){if(_t(t)){for(var e=void 0,r=n.get();e=t.dom.get("mcepastebin");)t.dom.remove(e),t.dom.unbind(e);r&&t.selection.setRng(r)}n.set(null)}(t,n)},getEl:function(){return _t(t)},getHtml:function(){return function(t){var n=function(n,e){n.appendChild(e),t.dom.remove(e,!0)},e=D.grep(wt(t).childNodes,(function(t){return"mcepastebin"===t.id})),r=e.shift();D.each(e,(function(t){n(r,t)}));for(var o=t.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var a=t.dom.create("div");r.insertBefore(a,o[i]),n(a,o[i])}return r?r.innerHTML:""}(t)},getLastRng:function(){return function(t){return t.get()}(n)},isDefault:function(){return St(t,"%MCEPASTEBIN%")},isDefaultContent:function(t){return kt("%MCEPASTEBIN%",t)}}},Ot=function(t,n){var e=At(t);return t.on("PreInit",(function(){return function(t,n,e){var r;xt(t,n,e),t.parser.addNodeFilter("img",(function(n,e,o){var i=function(t){t.attr("data-mce-object")||r===S.transparentSrc||t.remove()},a=function(t){return 0===t.indexOf("webkit-fake-url")},u=function(t){return 0===t.indexOf("data:")};if(!P(t)&&function(t){return t.data&&!0===t.data.paste}(o))for(var c=n.length;c--;)(r=n[c].attr("src"))&&(a(r)||!B(t)&&u(r))&&i(n[c])}))}(t,e,n)})),{pasteFormat:n,pasteHtml:function(n,e){return st(t,n,e)},pasteText:function(n){return lt(t,n)},pasteImageData:function(n,e){return bt(t,n,e)},getDataTransferItems:ft,hasHtmlOrText:mt,hasContentType:dt}},Tt=function(t,n){t.addCommand("mceTogglePlainTextPaste",(function(){!function(t,n){"text"===n.pasteFormat.get()?(n.pasteFormat.set("html"),E(t,!1)):(n.pasteFormat.set("text"),E(t,!0)),t.focus()}(t,n)})),t.addCommand("mceInsertClipboardContent",(function(t,e){e.content&&n.pasteHtml(e.content,e.internal),e.text&&n.pasteText(e.text)}))},Et=function(t,n,e){if(!function(t){return!1===S.iOS&&"function"==typeof(null==t?void 0:t.setData)}(t))return!1;try{return t.clearData(),t.setData("text/html",n),t.setData("text/plain",e),t.setData("x-tinymce/html",n),!0}catch(t){return!1}},Dt=function(t,n,e,r){Et(t.clipboardData,n.html,n.text)?(t.preventDefault(),r()):e(n.html,r)},zt=function(t){return function(n,e){var r=function(t){return"\x3c!-- x-tinymce/html --\x3e"+t}(n),o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=t.dom.create("div",{contenteditable:"true"},r);t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),t.dom.add(t.getBody(),o);var a=t.selection.getRng();i.focus();var u=t.dom.createRng();u.selectNodeContents(i),t.selection.setRng(u),A.setTimeout((function(){t.selection.setRng(a),o.parentNode.removeChild(o),e()}),0)}},Mt=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},Nt=function(t){return!t.selection.isCollapsed()||function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}(t)},Rt=function(t){t.on("cut",function(t){return function(n){Nt(t)&&Dt(n,Mt(t),zt(t),(function(){if(S.browser.isChrome()||S.browser.isFirefox()){var n=t.selection.getRng();A.setEditorTimeout(t,(function(){t.selection.setRng(n),t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}(t)),t.on("copy",function(t){return function(n){Nt(t)&&Dt(n,Mt(t),zt(t),c)}}(t))},Bt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Pt=function(t,n){return Bt.getCaretRangeFromPoint(n.clientX,n.clientY,t.getDoc())},It=function(t,n){t.focus(),t.selection.setRng(n)},Lt=function(t,n){t.on("PastePreProcess",(function(e){e.content=n(t,e.content,e.internal,e.wordContent)}))},Ht=function(t,n){if(!G(n))return n;var e=[];D.each(t.schema.getBlockElements(),(function(t,n){e.push(n)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+e.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return n=$(n,[[r,"$1"]]),n=$(n,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])},Ft=function(t,n,e,r){if(r||e)return n;var o,i=function(t){return t.getParam("paste_webkit_styles")}(t);if(!1===function(t){return t.getParam("paste_remove_styles_if_webkit",!0)}(t)||"all"===i)return n;if(i&&(o=i.split(/[, ]/)),o){var a=t.dom,u=t.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,n,e,r){var i=a.parseStyle(a.decode(e)),c={};if("none"===o)return n+r;for(var s=0;s<o.length;s++){var l=i[o[s]],f=a.getStyle(u,o[s],!0);/color/.test(o[s])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(c[o[s]]=l)}return(c=a.serializeStyle(c,"span"))?n+' style="'+c+'"'+r:n+r}))}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,n,e,r){return n+' style="'+e+'"'+r}))},Vt=function(t,n){t.$("a",n).find("font,u").each((function(n,e){t.dom.remove(e,!0)}))},jt=function(t,n){return function(e){e.setActive("text"===n.pasteFormat.get());var r=function(t){return e.setActive(t.state)};return t.on("PastePlainTextToggle",r),function(){return t.off("PastePlainTextToggle",r)}}};u.add("paste",(function(t){if(!1===function(t){return!!t.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)}(t)){var n=a(!1),e=a(function(t){return t.getParam("paste_as_text",!1)}(t)?"text":"html"),r=Ot(t,e),o=function(t){S.webkit&&Lt(t,Ft),S.ie&&(Lt(t,Ht),function(t,n){t.on("PastePostProcess",(function(e){n(t,e.node)}))}(t,Vt))}(t);return function(t,n){t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:jt(t,n)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:jt(t,n)})}(t,r),Tt(t,r),function(t){var n=t.plugins.paste,e=function(t){return t.getParam("paste_preprocess")}(t);e&&t.on("PastePreProcess",(function(t){e.call(n,n,t)}));var r=function(t){return t.getParam("paste_postprocess")}(t);r&&t.on("PastePostProcess",(function(t){r.call(n,n,t)}))}(t),Rt(t),function(t,n,e){(function(t){return t.getParam("paste_block_drop",!1)})(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),z(t)||t.on("drop",(function(t){var n=t.dataTransfer;n&&n.files&&n.files.length>0&&t.preventDefault()})),t.on("drop",(function(r){var o=Pt(t,r);if(!r.isDefaultPrevented()&&!e.get()){var i,a=n.getDataTransferItems(r.dataTransfer),u=n.hasContentType(a,"x-tinymce/html");if((n.hasHtmlOrText(a)&&(!(i=a["text/plain"])||0!==i.indexOf("file://"))||!n.pasteImageData(r,o))&&o&&function(t){return t.getParam("paste_filter_drop",!0)}(t)){var c=a["mce-internal"]||a["text/html"]||a["text/plain"];c&&(r.preventDefault(),A.setEditorTimeout(t,(function(){t.undoManager.transact((function(){a["mce-internal"]&&t.execCommand("Delete"),It(t,o),c=q(c),a["text/html"]?n.pasteHtml(c,u):n.pasteText(c)}))})))}}})),t.on("dragstart",(function(t){e.set(!0)})),t.on("dragover dragend",(function(n){z(t)&&!1===e.get()&&(n.preventDefault(),It(t,Pt(t,n))),"dragend"===n.type&&e.set(!1)}))}(t,r,n),function(t,n){return{clipboard:t,quirks:n}}(r,o)}}))}()},function(t,n,e){e(53)},function(t,n){!function(){"use strict";var t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){return t},r=function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},o="[-'\\.‘’․﹒＇．]",i="[:··״‧︓﹕：]",a="[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",u="[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",c="\\r",s="\\n",l="[\v\f\u2028\u2029]",f="[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",d="[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",m="[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",p="[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",g="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",h=0,v=1,b=2,y=3,x=4,w=5,C=6,_=7,k=8,S=9,A=10,O=11,T=12,E=13,D=[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp(o),new RegExp(i),new RegExp(a),new RegExp(u),new RegExp(c),new RegExp(s),new RegExp(l),new RegExp(f),new RegExp(d),new RegExp(m),new RegExp(p),new RegExp("@")],z=new RegExp("^"+g+"$"),M=D,N=E,R=function(t){for(var n=N,e=M.length,r=0;r<e;++r){var o=M[r];if(o&&o.test(t)){n=r;break}}return n},B=function(t){var n,e;return function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r}(t,(n=R,e={},function(t){if(e[t])return e[t];var r=n(t);return e[t]=r,r}))},P=function(t,n){var e=t[n],r=t[n+1];if(n<0||n>t.length-1&&0!==n)return!1;if(e===h&&r===h)return!1;var o=t[n+2];if(e===h&&(r===b||r===v||r===T)&&o===h)return!1;var i=t[n-1];return(e!==b&&e!==v&&r!==T||r!==h||i!==h)&&((e!==x&&e!==h||r!==x&&r!==h)&&((e!==y&&e!==v||r!==x||i!==x)&&((e!==x||r!==y&&r!==v||o!==x)&&(e!==k&&e!==S&&i!==k&&i!==S&&r!==k&&r!==S&&((e!==w||r!==C)&&(e===_||e===w||e===C||(r===_||r===w||r===C||(e!==A||r!==A)&&((r!==O||e!==h&&e!==x&&e!==A&&e!==O)&&((e!==O||r!==h&&r!==x&&r!==A)&&e!==T)))))))))},I=/^\s+$/,L=z,H=function(t){return"http"===t||"https"===t},F=function(t,n){var e=function(t,n){var e;for(e=n;e<t.length&&!I.test(t[e]);e++);return e}(t,n+1);return"://"===t.slice(n+1,e).join("").substr(0,3)?e:n},V=function(t,n,e){e=r(r({},{includeWhitespace:!1,includePunctuation:!1}),e);for(var o=[],i=[],a=0;a<t.length;a++){var u=n(t[a]);"\ufeff"!==u&&(o.push(t[a]),i.push(u))}return function(t,n,e,r){for(var o=[],i=[],a=0;a<e.length;++a)if(i.push(t[a]),P(e,a)){var u=n[a];if((r.includeWhitespace||!I.test(u))&&(r.includePunctuation||!L.test(u))){var c=a-i.length+1,s=a+1,l=n.slice(c,s).join("");if(H(l)){var f=F(n,a),d=t.slice(s,f);Array.prototype.push.apply(i,d),a=f}o.push(i)}i=[]}return o}(o,i,B(i),e)},j=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),U=function(t,n){for(var e=n.getBlockElements(),r=n.getShortEndedElements(),o=function(t){return e[t.nodeName]||r[t.nodeName]},i=[],a="",u=new j(t,t);t=u.next();)3===t.nodeType?a+=t.data.replace(/\uFEFF/g,""):o(t)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},W=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},$=function(t,n){var r=U(t,n).join("\n");return V(r.split(""),e).length},q=function(t,n){var e=U(t,n).join("");return W(e)},G=function(t,n){var e=U(t,n).join("").replace(/\s/g,"");return W(e)},K=function(t,n){return function(){return n(t.getBody(),t.schema)}},X=function(t,n){return function(){return n(t.selection.getRng().cloneContents(),t.schema)}},Y=function(t){return K(t,$)},J=tinymce.util.Tools.resolve("tinymce.util.Delay"),Q=function(t,n){!function(t,n){t.fire("wordCountUpdate",{wordCount:{words:n.body.getWordCount(),characters:n.body.getCharacterCount(),charactersWithoutSpaces:n.body.getCharacterCountWithoutSpaces()}})}(t,n)},Z=function(t,n){t.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(n.body.getWordCount()),String(n.selection.getWordCount())],["Characters (no spaces)",String(n.body.getCharacterCountWithoutSpaces()),String(n.selection.getCharacterCountWithoutSpaces())],["Characters",String(n.body.getCharacterCount()),String(n.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})};void 0===t&&(t=300),n.add("wordcount",(function(n){var e=function(t){return{body:{getWordCount:Y(t),getCharacterCount:K(t,q),getCharacterCountWithoutSpaces:K(t,G)},selection:{getWordCount:X(t,$),getCharacterCount:X(t,q),getCharacterCountWithoutSpaces:X(t,G)},getCount:Y(t)}}(n);return function(t,n){t.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return Z(t,n)}}),t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return Z(t,n)}})}(n,e),function(t,n,e){var r=J.debounce((function(){return Q(t,n)}),e);t.on("init",(function(){Q(t,n),J.setEditorTimeout(t,(function(){t.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))}(n,e,t),e}))}()},function(t,n,e){e(55)},function(t,n){!function(){"use strict";var t=function(){},n=function(t){return function(){return t}},e=function(t){return t};function r(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.concat(e);return t.apply(null,o)}}var o,i=function(t){return function(n){return!t(n)}},a=n(!1),u=n(!0),c=function(){return s},s=function(){var e=function(t){return t.isNone()},r=function(t){return t()},o=function(t){return t};return{fold:function(t,n){return t()},is:a,isSome:a,isNone:u,getOr:o,getOrThunk:r,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:o,orThunk:r,map:c,each:t,bind:c,exists:a,forall:u,filter:c,equals:e,equals_:e,toArray:function(){return[]},toString:n("none()")}}(),l=function(t){var e=n(t),r=function(){return i},o=function(n){return n(t)},i={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:u,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:r,orThunk:r,map:function(n){return l(n(t))},each:function(n){n(t)},bind:o,exists:o,forall:o,filter:function(n){return n(t)?i:s},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(a,(function(n){return e(t,n)}))}};return i},f={some:l,none:c,from:function(t){return null==t?s:l(t)}},d=function(t){return function(n){return r=typeof(e=n),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===t;var e,r}},m=function(t){return function(n){return typeof n===t}},p=d("string"),g=d("object"),h=d("array"),v=m("boolean"),b=(o=void 0,function(t){return o===t}),y=function(t){return!function(t){return null==t}(t)},x=m("function"),w=m("number"),C=Array.prototype.slice,_=Array.prototype.indexOf,k=Array.prototype.push,S=function(t,n){return function(t,n){return _.call(t,n)}(t,n)>-1},A=function(t,n){for(var e=0,r=t.length;e<r;e++){if(n(t[e],e))return!0}return!1},O=function(t,n){for(var e=[],r=0;r<t;r++)e.push(n(r));return e},T=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},E=function(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}},D=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},z=function(t,n,e){return function(t,n){for(var e=t.length-1;e>=0;e--){n(t[e],e)}}(t,(function(t){e=n(e,t)})),e},M=function(t,n,e){return E(t,(function(t){e=n(e,t)})),e},N=function(t,n){return function(t,n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r))return f.some(i);if(e(i,r))break}return f.none()}(t,n,a)},R=function(t,n){for(var e=0,r=t.length;e<r;e++){if(n(t[e],e))return f.some(e)}return f.none()},B=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!h(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);k.apply(n,t[e])}return n},P=function(t,n){return B(T(t,n))},I=function(t,n){for(var e=0,r=t.length;e<r;++e){if(!0!==n(t[e],e))return!1}return!0},L=function(t,n){for(var e={},r=0,o=t.length;r<o;r++){var i=t[r];e[String(i)]=n(i,r)}return e},H=function(t){return[t]},F=function(t,n){return n>=0&&n<t.length?f.some(t[n]):f.none()},V=function(t){return F(t,0)},j=function(t){return F(t,t.length-1)},U=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return f.none()},W=function(){return(W=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function $(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var q=function(t){var n,e=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e||(e=!0,n=t.apply(null,r)),n}},G=function(){return K(0,0)},K=function(t,n){return{major:t,minor:n}},X={nu:K,detect:function(t,n){var e=String(n).toLowerCase();return 0===t.length?G():function(t,n){var e=function(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(r.test(n))return r}}(t,n);if(!e)return{major:0,minor:0};var r=function(t){return Number(n.replace(e,"$"+t))};return K(r(1),r(2))}(t,e)},unknown:G},Y=function(t,n){var e=String(n).toLowerCase();return N(t,(function(t){return t.search(e)}))},J=function(t,n){return Y(t,n).map((function(t){var e=X.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},Q=function(t,n){return Y(t,n).map((function(t){var e=X.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},Z=function(t,n,e){return""===n||t.length>=n.length&&t.substr(e,e+n.length)===n},tt=function(t,n){return-1!==t.indexOf(n)},nt=function(t,n){return Z(t,n,0)},et=function(t,n){return Z(t,n,t.length-n.length)},rt=function(t){return function(n){return n.replace(t,"")}}(/^\s+|\s+$/g),ot=function(t){return t.length>0},it=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,at=function(t){return function(n){return tt(n,t)}},ut=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return tt(t,"edge/")&&tt(t,"chrome")&&tt(t,"safari")&&tt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,it],search:function(t){return tt(t,"chrome")&&!tt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return tt(t,"msie")||tt(t,"trident")}},{name:"Opera",versionRegexes:[it,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:at("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:at("firefox")},{name:"Safari",versionRegexes:[it,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(tt(t,"safari")||tt(t,"mobile/"))&&tt(t,"applewebkit")}}],ct=[{name:"Windows",search:at("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return tt(t,"iphone")||tt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:at("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:at("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:at("linux"),versionRegexes:[]},{name:"Solaris",search:at("sunos"),versionRegexes:[]},{name:"FreeBSD",search:at("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:at("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],st={browsers:n(ut),oses:n(ct)},lt=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},ft={unknown:function(){return lt({current:void 0,version:X.unknown()})},nu:lt,edge:n("Edge"),chrome:n("Chrome"),ie:n("IE"),opera:n("Opera"),firefox:n("Firefox"),safari:n("Safari")},dt=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},mt={unknown:function(){return dt({current:void 0,version:X.unknown()})},nu:dt,windows:n("Windows"),ios:n("iOS"),android:n("Android"),linux:n("Linux"),osx:n("OSX"),solaris:n("Solaris"),freebsd:n("FreeBSD"),chromeos:n("ChromeOS")},pt=function(t,e){var r=st.browsers(),o=st.oses(),i=J(r,t).fold(ft.unknown,ft.nu),a=Q(o,t).fold(mt.unknown,mt.nu),u=function(t,e,r,o){var i=t.isiOS()&&!0===/ipad/i.test(r),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),c=u||o("(pointer:coarse)"),s=i||!a&&u&&o("(min-device-width:768px)"),l=a||u&&!s,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),d=!l&&!s&&!f;return{isiPad:n(i),isiPhone:n(a),isTablet:n(s),isPhone:n(l),isTouch:n(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:n(f),isDesktop:n(d)}}(a,i,t,e);return{browser:i,os:a,deviceType:u}},gt=function(t){return window.matchMedia(t).matches},ht=q((function(){return pt(navigator.userAgent,gt)})),vt=function(){return ht()},bt=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},yt={fromHtml:function(t,n){var e=(n||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||e.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return bt(e.childNodes[0])},fromTag:function(t,n){var e=(n||document).createElement(t);return bt(e)},fromText:function(t,n){var e=(n||document).createTextNode(t);return bt(e)},fromDom:bt,fromPoint:function(t,n,e){return f.from(t.dom.elementFromPoint(n,e)).map(bt)}},xt=function(t,n){var e=t.dom;if(1!==e.nodeType)return!1;var r=e;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},wt=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},Ct=function(t,n){return t.dom===n.dom},_t=function(t,n){return e=t.dom,r=n.dom,function(t,n,e){return 0!=(t.compareDocumentPosition(n)&e)}(e,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var e,r},kt=function(t,n){return vt().browser.isIE()?_t(t,n):function(t,n){var e=t.dom,r=n.dom;return e!==r&&e.contains(r)}(t,n)},St=xt,At=Object.keys,Ot=Object.hasOwnProperty,Tt=function(t,n){for(var e=At(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}},Et=function(t,n){return Dt(t,(function(t,e){return{k:e,v:n(t,e)}}))},Dt=function(t,n){var e={};return Tt(t,(function(t,r){var o=n(t,r);e[o.k]=o.v})),e},zt=function(n,e){var r={};return function(t,n,e,r){Tt(t,(function(t,o){(n(t,o)?e:r)(t,o)}))}(n,e,function(t){return function(n,e){t[e]=n}}(r),t),r},Mt=function(t,n){var e=[];return Tt(t,(function(t,r){e.push(n(t,r))})),e},Nt=function(t){return At(t).length},Rt=function(t,n){return Bt(t,n)?f.from(t[n]):f.none()},Bt=function(t,n){return Ot.call(t,n)},Pt=function(t,n){return Bt(t,n)&&void 0!==t[n]&&null!==t[n]},It=["tfoot","thead","tbody","colgroup"],Lt=function(t,n,e){return{element:t,rowspan:n,colspan:e}},Ht=function(t,n,e){return{element:t,cells:n,section:e}},Ft=function(t,n,e){return{element:t,isNew:n,isLocked:e}},Vt=function(t,n){return{cells:t,section:n}},jt=("undefined"!=typeof window?window:Function("return this;")(),function(t){return t.dom.nodeName.toLowerCase()}),Ut=function(t){return t.dom.nodeType},Wt=function(t){return function(n){return Ut(n)===t}},$t=function(t){return 8===Ut(t)||"#comment"===jt(t)},qt=Wt(1),Gt=Wt(3),Kt=Wt(9),Xt=Wt(11),Yt=function(t){return function(n){return qt(n)&&jt(n)===t}},Jt=function(t){return yt.fromDom(t.dom.ownerDocument)},Qt=function(t){return Kt(t)?t:Jt(t)},Zt=function(t){return f.from(t.dom.parentNode).map(yt.fromDom)},tn=function(t,n){for(var e=x(n)?n:a,r=t.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=yt.fromDom(i);if(o.push(u),!0===e(u))break;r=i}return o},nn=function(t){return f.from(t.dom.previousSibling).map(yt.fromDom)},en=function(t){return f.from(t.dom.nextSibling).map(yt.fromDom)},rn=function(t){return T(t.dom.childNodes,yt.fromDom)},on=function(t,n){var e=t.dom.childNodes;return f.from(e[n]).map(yt.fromDom)},an=x(Element.prototype.attachShadow)&&x(Node.prototype.getRootNode),un=n(an),cn=an?function(t){return yt.fromDom(t.dom.getRootNode())}:Qt,sn=function(t){var n,e=cn(t);return Xt(n=e)&&y(n.dom.host)?f.some(e):f.none()},ln=function(t){return yt.fromDom(t.dom.host)},fn=function(t){return y(t.dom.shadowRoot)},dn=function(t){var n=Gt(t)?t.dom.parentNode:t.dom;if(null==n||null===n.ownerDocument)return!1;var e,r,o=n.ownerDocument;return sn(yt.fromDom(n)).fold((function(){return o.body.contains(n)}),(e=dn,r=ln,function(t){return e(r(t))}))},mn=function(t){var n=t.dom.body;if(null==n)throw new Error("Body is not available yet");return yt.fromDom(n)},pn=function(t,n){var e=[];return E(rn(t),(function(t){n(t)&&(e=e.concat([t])),e=e.concat(pn(t,n))})),e},gn=function(t,n,e){return function(t,n,e){return D(tn(t,e),n)}(t,(function(t){return xt(t,n)}),e)},hn=function(t,n){return function(t,n){return D(rn(t),n)}(t,(function(t){return xt(t,n)}))},vn=function(t,n){return function(t,n){var e=void 0===n?document:n.dom;return wt(e)?[]:T(e.querySelectorAll(t),yt.fromDom)}(n,t)};function bn(t,n,e,r,o){return t(e,r)?f.some(e):x(o)&&o(e)?f.none():n(e,r,o)}var yn=function(t,n,e){for(var r=t.dom,o=x(e)?e:a;r.parentNode;){r=r.parentNode;var i=yt.fromDom(r);if(n(i))return f.some(i);if(o(i))break}return f.none()},xn=function(t,n,e){return yn(t,(function(t){return xt(t,n)}),e)},wn=function(t,n){return function(t,n){return N(t.dom.childNodes,(function(t){return n(yt.fromDom(t))})).map(yt.fromDom)}(t,(function(t){return xt(t,n)}))},Cn=function(t,n){return function(t,n){var e=void 0===n?document:n.dom;return wt(e)?f.none():f.from(e.querySelector(t)).map(yt.fromDom)}(n,t)},_n=function(t,n,e){return bn((function(t,n){return xt(t,n)}),xn,t,n,e)},kn=function(t,n,e){if(!(p(e)||v(e)||w(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")},Sn=function(t,n,e){kn(t.dom,n,e)},An=function(t,n){var e=t.dom;Tt(n,(function(t,n){kn(e,n,t)}))},On=function(t,n){var e=t.dom.getAttribute(n);return null===e?void 0:e},Tn=function(t,n){return f.from(On(t,n))},En=function(t,n){t.dom.removeAttribute(n)},Dn=function(t){return M(t.dom.attributes,(function(t,n){return t[n.name]=n.value,t}),{})},zn=function(t){return void 0!==t.style&&x(t.style.getPropertyValue)},Mn=function(t,n,e){if(!p(e))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",e,":: Element ",t),new Error("CSS value must be a string: "+e);zn(t)&&t.style.setProperty(n,e)},Nn=function(t,n,e){var r=t.dom;Mn(r,n,e)},Rn=function(t,n){var e=t.dom;Tt(n,(function(t,n){Mn(e,n,t)}))},Bn=function(t,n){var e=t.dom,r=window.getComputedStyle(e).getPropertyValue(n);return""!==r||dn(t)?r:Pn(e,n)},Pn=function(t,n){return zn(t)?t.style.getPropertyValue(n):""},In=function(t,n){var e=t.dom,r=Pn(e,n);return f.from(r).filter((function(t){return t.length>0}))},Ln=function(t,n){!function(t,n){zn(t)&&t.style.removeProperty(n)}(t.dom,n),Tn(t,"style").map(rt).is("")&&En(t,"style")},Hn=function(t,n,e){return void 0===e&&(e=0),Tn(t,n).map((function(t){return parseInt(t,10)})).getOr(e)},Fn=function(t,n){return Hn(t,n,1)},Vn=function(t){return Fn(t,"colspan")>1},jn=function(t){return Fn(t,"rowspan")>1},Un=function(t,n){return parseInt(Bn(t,n),10)},Wn=n(10),$n=n(10),qn=function(t,n){return Gn(t,n,u)},Gn=function(t,n,e){return P(rn(t),(function(t){return xt(t,n)?e(t)?[t]:[]:Gn(t,n,e)}))},Kn=function(t,n){return function(t,n,e){if(void 0===e&&(e=a),e(n))return f.none();if(S(t,jt(n)))return f.some(n);return xn(n,t.join(","),(function(t){return xt(t,"table")||e(t)}))}(["td","th"],t,n)},Xn=function(t){return qn(t,"th,td")},Yn=function(t){return xt(t,"colgroup")?hn(t,"col"):P(Zn(t),(function(t){return hn(t,"col")}))},Jn=function(t,n){return _n(t,"table",n)},Qn=function(t){return qn(t,"tr")},Zn=function(t){return Jn(t).fold(n([]),(function(t){return hn(t,"colgroup")}))},te=function(t,n){return T(t,(function(t){if("colgroup"===jt(t)){var e=T(Yn(t),(function(t){var n=Hn(t,"span",1);return Lt(t,1,n)}));return Ht(t,e,"colgroup")}e=T(Xn(t),(function(t){var n=Hn(t,"rowspan",1),e=Hn(t,"colspan",1);return Lt(t,n,e)}));return Ht(t,e,n(t))}))},ne=function(t){return Zt(t).map((function(t){var n=jt(t);return function(t){return S(It,t)}(n)?n:"tbody"})).getOr("tbody")},ee=function(t){var n=Qn(t),e=$(Zn(t),n);return te(e,ne)},re=function(t,n,e){var r=t.cells,o=r.slice(0,n),i=r.slice(n),a=o.concat(e).concat(i);return ae(t,a)},oe=function(t,n,e){return re(t,n,[e])},ie=function(t,n,e){t.cells[n]=e},ae=function(t,n){return Vt(n,t.section)},ue=function(t,n){var e=t.cells,r=T(e,n);return Vt(r,t.section)},ce=function(t,n){return t.cells[n]},se=function(t,n){return ce(t,n).element},le=function(t){return t.cells.length},fe=function(t){var n=function(t,n){for(var e=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(n(a,o)?e:r).push(a)}return{pass:e,fail:r}}(t,(function(t){return"colgroup"===t.section}));return{rows:n.fail,cols:n.pass}},de="data-snooker-locked-cols",me=function(t){return Tn(t,de).bind((function(t){return f.from(t.match(/\d+/g))})).map((function(t){return L(t,u)}))},pe=function(t){var n=M(fe(t).rows,(function(t,n){return E(n.cells,(function(n,e){n.isLocked&&(t[e]=!0)})),t}),{});return function(t,n){var e=C.call(t,0);return e.sort(n),e}(Mt(n,(function(t,n){return parseInt(n,10)})))},ge=function(t,n){return t+","+n},he=function(t,n){var e=P(t.all,(function(t){return t.cells}));return D(e,n)},ve=function(t){var n={},e=[],r={},o=V(t).map((function(t){return t.element})).bind(Jn).bind(me).getOr({}),i=0,a=0,u=0;return E(t,(function(t){if("colgroup"===t.section)r=function(t){var n={},e=0;return E(t.cells,(function(t){var r=t.colspan;O(r,(function(o){var i=e+o;n[i]=function(t,n,e){return{element:t,colspan:n,column:e}}(t.element,r,i)})),e+=r})),n}(t);else{var c=[];E(t.cells,(function(t){for(var e=0;void 0!==n[ge(u,e)];)e++;for(var r=Pt(o,e.toString()),i=function(t,n,e,r,o,i){return{element:t,rowspan:n,colspan:e,row:r,column:o,isLocked:i}}(t.element,t.rowspan,t.colspan,u,e,r),s=0;s<t.colspan;s++)for(var l=0;l<t.rowspan;l++){var f=e+s,d=ge(u+l,f);n[d]=i,a=Math.max(a,f+1)}c.push(i)})),i++,e.push(Ht(t.element,c,t.section)),u++}})),{grid:function(t,n){return{rows:t,columns:n}}(i,a),access:n,all:e,columns:r}},be={fromTable:function(t){var n=ee(t);return ve(n)},generate:ve,getAt:function(t,n,e){var r=t.access[ge(n,e)];return void 0!==r?f.some(r):f.none()},findItem:function(t,n,e){var r=he(t,(function(t){return e(n,t.element)}));return r.length>0?f.some(r[0]):f.none()},filterItems:he,justCells:function(t){return P(t.all,(function(t){return t.cells}))},justColumns:function(t){return n=t.columns,Mt(n,(function(t){return t}));var n},hasColumns:function(t){return At(t.columns).length>0},getColumnAt:function(t,n){return f.from(t.columns[n])}},ye=function(t,n){var e=n.column,r=n.column+n.colspan-1,o=n.row,i=n.row+n.rowspan-1;return e<=t.finishCol&&r>=t.startCol&&o<=t.finishRow&&i>=t.startRow},xe=function(t,n){return n.column>=t.startCol&&n.column+n.colspan-1<=t.finishCol&&n.row>=t.startRow&&n.row+n.rowspan-1<=t.finishRow},we=function(t,n,e){var r=be.findItem(t,n,Ct),o=be.findItem(t,e,Ct);return r.bind((function(t){return o.map((function(n){return e=t,r=n,o=Math.min(e.row,r.row),i=Math.min(e.column,r.column),a=Math.max(e.row+e.rowspan-1,r.row+r.rowspan-1),u=Math.max(e.column+e.colspan-1,r.column+r.colspan-1),{startRow:o,startCol:i,finishRow:a,finishCol:u};var e,r,o,i,a,u}))}))},Ce=function(t,n,e){return we(t,n,e).bind((function(n){return function(t,n){for(var e=!0,o=r(xe,n),i=n.startRow;i<=n.finishRow;i++)for(var a=n.startCol;a<=n.finishCol;a++)e=e&&be.getAt(t,i,a).exists(o);return e?f.some(n):f.none()}(t,n)}))},_e=function(t,n,e){return we(t,n,e).map((function(n){var e=be.filterItems(t,r(ye,n));return T(e,(function(t){return t.element}))}))},ke=function(t,n){return be.findItem(t,n,(function(t,n){return kt(n,t)})).map((function(t){return t.element}))},Se=function(t,n,e){return Jn(t).bind((function(r){return function(t,n,e,r){return be.findItem(t,n,Ct).bind((function(n){var o=e>0?n.row+n.rowspan-1:n.row,i=r>0?n.column+n.colspan-1:n.column;return be.getAt(t,o+e,i+r).map((function(t){return t.element}))}))}(Te(r),t,n,e)}))},Ae=function(t,n,e){var r=Te(t);return _e(r,n,e)},Oe=function(t,n,e,r,o){var i=Te(t),a=Ct(t,e)?f.some(n):ke(i,n),u=Ct(t,o)?f.some(r):ke(i,r);return a.bind((function(t){return u.bind((function(n){return _e(i,t,n)}))}))},Te=be.fromTable,Ee=function(t,n){Zt(t).each((function(e){e.dom.insertBefore(n.dom,t.dom)}))},De=function(t,n){en(t).fold((function(){Zt(t).each((function(t){Me(t,n)}))}),(function(t){Ee(t,n)}))},ze=function(t,n){(function(t){return on(t,0)})(t).fold((function(){Me(t,n)}),(function(e){t.dom.insertBefore(n.dom,e.dom)}))},Me=function(t,n){t.dom.appendChild(n.dom)},Ne=function(t,n){Ee(t,n),Me(n,t)},Re=function(t,n){E(n,(function(e,r){var o=0===r?t:n[r-1];De(o,e)}))},Be=function(t,n){E(n,(function(n){Me(t,n)}))},Pe=function(t){t.dom.textContent="",E(rn(t),(function(t){Ie(t)}))},Ie=function(t){var n=t.dom;null!==n.parentNode&&n.parentNode.removeChild(n)},Le=function(t){var n,e=rn(t);e.length>0&&(n=t,E(e,(function(t){Ee(n,t)}))),Ie(t)},He=function(t,n){var e=function(n){return t(n)?f.from(n.dom.nodeValue):f.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+n+" value of a "+n+" node");return e(r).getOr("")},getOption:e,set:function(e,r){if(!t(e))throw new Error("Can only set raw "+n+" value of a "+n+" node");e.dom.nodeValue=r}}}(Gt,"text"),Fe=function(t){return He.get(t)},Ve=function(t){return He.getOption(t)},je=function(t,n){return He.set(t,n)},Ue=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function We(){return{up:n({selector:xn,closest:_n,predicate:yn,all:tn}),down:n({selector:vn,predicate:pn}),styles:n({get:Bn,getRaw:In,set:Nn,remove:Ln}),attrs:n({get:On,set:Sn,remove:En,copyTo:function(t,n){var e=Dn(t);An(n,e)}}),insert:n({before:Ee,after:De,afterAll:Re,append:Me,appendAll:Be,prepend:ze,wrap:Ne}),remove:n({unwrap:Le,remove:Ie}),create:n({nu:yt.fromTag,clone:function(t){return yt.fromDom(t.dom.cloneNode(!1))},text:yt.fromText}),query:n({comparePosition:function(t,n){return t.dom.compareDocumentPosition(n.dom)},prevSibling:nn,nextSibling:en}),property:n({children:rn,name:jt,parent:Zt,document:function(t){return Qt(t).dom},isText:Gt,isComment:$t,isElement:qt,isSpecial:function(t){var n=jt(t);return S(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],n)},getText:Fe,setText:je,isBoundary:function(t){return!!qt(t)&&("body"===jt(t)||S(Ue,jt(t)))},isEmptyTag:function(t){return!!qt(t)&&S(["br","img","hr","input"],jt(t))},isNonEditable:function(t){return qt(t)&&"false"===On(t,"contenteditable")}}),eq:Ct,is:St}}var $e,qe,Ge=function(t,n,e,r){var o=n(t,e);return z(r,(function(e,r){var o=n(t,r);return Ke(t,e,o)}),o)},Ke=function(t,n,e){return n.bind((function(n){return e.filter(r(t.eq,n))}))},Xe=function(t,n,e){return e.length>0?function(t,n,e,r){return r(t,n,e[0],e.slice(1))}(t,n,e,Ge):f.none()},Ye=function(t,n,e,o){void 0===o&&(o=a);var i=[n].concat(t.up().all(n)),u=[e].concat(t.up().all(e)),c=function(t){return R(t,o).fold((function(){return t}),(function(n){return t.slice(0,n+1)}))},s=c(i),l=c(u),f=N(s,(function(n){return A(l,function(t,n){return r(t.eq,n)}(t,n))}));return{firstpath:s,secondpath:l,shared:f}},Je=We(),Qe=function(t,n){return Xe(Je,(function(n,e){return t(e)}),n)},Ze=function(t){return xn(t,"table")},tr=function(t,n,e){var r=function(t){return function(n){return void 0!==e&&e(n)||Ct(n,t)}};return Ct(t,n)?f.some({boxes:f.some([t]),start:t,finish:n}):Ze(t).bind((function(o){return Ze(n).bind((function(i){if(Ct(o,i))return f.some({boxes:Ae(o,t,n),start:t,finish:n});if(kt(o,i)){var a=(u=gn(n,"td,th",r(o))).length>0?u[u.length-1]:n;return f.some({boxes:Oe(o,t,o,n,i),start:t,finish:a})}if(kt(i,o)){var u,c=(u=gn(t,"td,th",r(i))).length>0?u[u.length-1]:t;return f.some({boxes:Oe(i,t,o,n,i),start:t,finish:c})}return function(t,n,e){return Ye(Je,t,n,e)}(t,n).shared.bind((function(a){return _n(a,"table",e).bind((function(e){var a=gn(n,"td,th",r(e)),u=a.length>0?a[a.length-1]:n,c=gn(t,"td,th",r(e)),s=c.length>0?c[c.length-1]:t;return f.some({boxes:Oe(e,t,o,n,i),start:s,finish:u})}))}))}))}))},nr=function(t,n){var e=vn(t,n);return e.length>0?f.some(e):f.none()},er=function(t,n,e){return Cn(t,n).bind((function(n){return Cn(t,e).bind((function(t){return Qe(Ze,[n,t]).map((function(e){return{first:n,last:t,table:e}}))}))}))},rr=function(t,n,e,r,o){return function(t,n){return N(t,(function(t){return xt(t,n)}))}(t,o).bind((function(t){return Se(t,n,e).bind((function(t){return function(t,n){return xn(t,"table").bind((function(e){return Cn(e,n).bind((function(n){return tr(n,t).bind((function(t){return t.boxes.map((function(n){return{boxes:n,start:t.start,finish:t.finish}}))}))}))}))}(t,r)}))}))},or=function(t,n){return nr(t,n)},ir=function(t,n,e){return er(t,n,e).bind((function(n){var e=function(n){return Ct(t,n)},r=xn(n.first,"thead,tfoot,tbody,table",e),o=xn(n.last,"thead,tfoot,tbody,table",e);return r.bind((function(t){return o.bind((function(e){return Ct(t,e)?function(t,n,e){var r=Te(t);return Ce(r,n,e)}(n.table,n.first,n.last):f.none()}))}))}))},ar=function(t){if(!h(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],e={};return E(t,(function(r,o){var i=At(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==e[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!h(u))throw new Error("case arguments must be an array");n.push(a),e[a]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+i);var c=function(t){var r=At(t);if(n.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+r.join(","));if(!I(n,(function(t){return S(r,t)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,e)};return{fold:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var i=n[o];return i.apply(null,e)},match:c,log:function(t){console.log(t,{constructors:n,constructor:a,params:e})}}}})),e},ur=ar([{none:[]},{multiple:["elements"]},{single:["element"]}]),cr=function(t,n,e,r){return t.fold(n,e,r)},sr=ur.none,lr=ur.multiple,fr=ur.single,dr=tinymce.util.Tools.resolve("tinymce.PluginManager"),mr=function(t,n){return yt.fromDom(t.dom.cloneNode(n))},pr=function(t){return mr(t,!1)},gr=function(t){return mr(t,!0)},hr=function(t,n){var e=function(t,n){var e=yt.fromTag(n),r=Dn(t);return An(e,r),e}(t,n),r=rn(gr(t));return Be(e,r),e},vr=function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n},br=function(t,n){return t?f.some(n):f.none()},yr=function(t,n){var e=function(e){var r=n(e);if(r<=0||null===r){var o=Bn(e,t);return parseFloat(o)||0}return r},r=function(t,n){return M(n,(function(n,e){var r=Bn(t,e),o=void 0===r?0:parseInt(r,10);return isNaN(o)?n:n+o}),0)};return{set:function(n,e){if(!w(e)&&!e.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+e);var r=n.dom;zn(r)&&(r.style[t]=e+"px")},get:e,getOuter:e,aggregate:r,max:function(t,n,e){var o=r(t,e);return n>o?n-o:0}}},xr=yr("width",(function(t){return t.dom.offsetWidth})),wr=function(t){return xr.get(t)},Cr=function(t){return xr.getOuter(t)},_r=function(t,n){void 0===n&&(n=u);var r=t.grid,o=O(r.columns,e),i=O(r.rows,e);return T(o,(function(e){return kr((function(){return P(i,(function(n){return be.getAt(t,n,e).filter((function(t){return t.column===e})).toArray()}))}),(function(t){return 1===t.colspan&&n(t.element)}),(function(){return be.getAt(t,0,e)}))}))},kr=function(t,n,e){var r=t();return N(r,n).orThunk((function(){return f.from(r[0]).orThunk(e)})).map((function(t){return t.element}))},Sr=function(t){var r=t.grid,o=O(r.rows,e),i=O(r.columns,e);return T(o,(function(e){return kr((function(){return P(i,(function(r){return be.getAt(t,e,r).filter((function(t){return t.row===e})).fold(n([]),(function(t){return[t]}))}))}),(function(t){return 1===t.rowspan}),(function(){return be.getAt(t,e,0)}))}))},Ar=function(t,n){if(n<0||n>=t.length-1)return f.none();var e=t[n].fold((function(){var e=function(t){var n=C.call(t,0);return n.reverse(),n}(t.slice(0,n));return U(e,(function(t,n){return t.map((function(t){return{value:t,delta:n+1}}))}))}),(function(t){return f.some({value:t,delta:0})})),r=t[n+1].fold((function(){var e=t.slice(n+1);return U(e,(function(t,n){return t.map((function(t){return{value:t,delta:n+1}}))}))}),(function(t){return f.some({value:t,delta:1})}));return e.bind((function(t){return r.map((function(n){var e=n.delta+t.delta;return Math.abs(n.value-t.value)/e}))}))},Or=function(t,n){return function(e){return"rtl"===Tr(e)?n:t}},Tr=function(t){return"rtl"===Bn(t,"direction")?"rtl":"ltr"},Er=yr("height",(function(t){var n=t.dom;return dn(t)?n.getBoundingClientRect().height:n.offsetHeight})),Dr=function(t){return Er.get(t)},zr=function(t){return Er.getOuter(t)},Mr=function(t,n){return{left:t,top:n,translate:function(e,r){return Mr(t+e,n+r)}}},Nr=Mr,Rr=function(t,n){return void 0!==t?t:void 0!==n?n:0},Br=function(t){var n=t.dom.ownerDocument,e=n.body,r=n.defaultView,o=n.documentElement;if(e===t.dom)return Nr(e.offsetLeft,e.offsetTop);var i=Rr(null==r?void 0:r.pageYOffset,o.scrollTop),a=Rr(null==r?void 0:r.pageXOffset,o.scrollLeft),u=Rr(o.clientTop,e.clientTop),c=Rr(o.clientLeft,e.clientLeft);return Pr(t).translate(a-c,i-u)},Pr=function(t){var n=t.dom,e=n.ownerDocument.body;return e===n?Nr(e.offsetLeft,e.offsetTop):dn(t)?function(t){var n=t.getBoundingClientRect();return Nr(n.left,n.top)}(n):Nr(0,0)},Ir=function(t,n){return{row:t,y:n}},Lr=function(t,n){return{col:t,x:n}},Hr=function(t){return Br(t).left+Cr(t)},Fr=function(t){return Br(t).left},Vr=function(t,n){return Lr(t,Fr(n))},jr=function(t,n){return Lr(t,Hr(n))},Ur=function(t){return Br(t).top},Wr=function(t,n){return Ir(t,Ur(n))},$r=function(t,n){return Ir(t,Ur(n)+zr(n))},qr=function(t,n,e){if(0===e.length)return[];var r=T(e.slice(1),(function(n,e){return n.map((function(n){return t(e,n)}))})),o=e[e.length-1].map((function(t){return n(e.length-1,t)}));return r.concat([o])},Gr={delta:e,positions:function(t){return qr(Wr,$r,t)},edge:Ur},Kr={delta:e,edge:Fr,positions:function(t){return qr(Vr,jr,t)}},Xr={delta:function(t){return-t},edge:Hr,positions:function(t){return qr(jr,Vr,t)}},Yr=Or(Kr,Xr),Jr={delta:function(t,n){return Yr(n).delta(t,n)},positions:function(t,n){return Yr(n).positions(t,n)},edge:function(t){return Yr(t).edge(t)}},Qr={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Zr=($e=function(t){return"(?:"+t+")?"},qe=["Infinity","[0-9]+\\."+$e("[0-9]+")+$e("[eE][+-]?[0-9]+"),"\\.[0-9]+"+$e("[eE][+-]?[0-9]+"),"[0-9]+"+$e("[eE][+-]?[0-9]+")].join("|"),new RegExp("^([+-]?(?:"+qe+"))(.*)$")),to=function(t,n){return f.from(Zr.exec(t)).bind((function(t){var e=Number(t[1]),r=t[2];return function(t,n){return A(n,(function(n){return A(Qr[n],(function(n){return t===n}))}))}(r,n)?f.some({value:e,unit:r}):f.none()}))},no=function(){var t=vt().browser;return t.isIE()||t.isEdge()},eo=function(t,n,e){return function(t,n){var e=parseFloat(t);return isNaN(e)?n:e}(Bn(t,n),e)},ro=function(t){return no()?function(t){var n=t.dom.getBoundingClientRect().height;return"border-box"===Bn(t,"box-sizing")?n:n-eo(t,"padding-top",0)-eo(t,"padding-bottom",0)-(eo(t,"border-top-width",0)+eo(t,"border-bottom-width",0))}(t):eo(t,"height",Dr(t))},oo=function(t){return no()?function(t){var n=t.dom.getBoundingClientRect().width;return"border-box"===Bn(t,"box-sizing")?n:n-eo(t,"padding-left",0)-eo(t,"padding-right",0)-(eo(t,"border-left-width",0)+eo(t,"border-right-width",0))}(t):eo(t,"width",wr(t))},io=/(\d+(\.\d+)?)%/,ao=/(\d+(\.\d+)?)px|em/,uo=function(t,n){var e,r=(e=t,f.from(e.dom.offsetParent).map(yt.fromDom)).getOr(mn(Jt(t)));return n(t)/n(r)*100},co=function(t,n){Nn(t,"width",n+"px")},so=function(t,n){Nn(t,"width",n+"%")},lo=function(t,n){Nn(t,"height",n+"px")},fo=function(t,n,e,r){var o=parseInt(t,10);return et(t,"%")&&"table"!==jt(n)?function(t,n,e,r){var o=Jn(t).map((function(t){var r=e(t);return Math.floor(n/100*r)})).getOr(n);return r(t,o),o}(n,o,e,r):o},mo=function(t){var n=function(t){return In(t,"height").getOrThunk((function(){return ro(t)+"px"}))}(t);return n?fo(n,t,Dr,lo):Dr(t)},po=function(t){return In(t,"width").fold((function(){return f.from(On(t,"width"))}),(function(t){return f.some(t)}))},go=function(t,n){return t/n.pixelWidth()*100},ho=function(t,n){return po(t).fold((function(){var e=wr(t);return go(e,n)}),(function(e){return function(t,n,e){var r=io.exec(n);if(null!==r)return parseFloat(r[1]);var o=oo(t);return go(o,e)}(t,e,n)}))},vo=function(t,n){return po(t).fold((function(){return oo(t)}),(function(e){return function(t,n,e){var r=ao.exec(n);if(null!==r)return parseInt(r[1],10);var o=io.exec(n);return null!==o?function(t,n){return t/100*n.pixelWidth()}(parseFloat(o[1]),e):oo(t)}(t,e,n)}))},bo=function(t){return function(t,n,e){return e(t)/Fn(t,n)}(t,"rowspan",mo)},yo=function(t,n,e){Nn(t,"width",n+e)},xo=function(t){return uo(t,wr)+"%"},wo=n(io),Co=n(ao),_o=Yt("col"),ko=function(t,n,e){return In(t,n).fold((function(){return e(t)+"px"}),(function(t){return t}))},So=function(t,n){return ko(t,"width",(function(t){return _o(t)?wr(t):vo(t,n)}))},Ao=function(t){return ko(t,"height",bo)},Oo=function(t,n){return In(t,n).isSome()},To=function(t,n,e,r,o,i){return t.filter(r).fold((function(){return i(Ar(e,n))}),(function(t){return o(t)}))},Eo=function(t,n,r,o,a){var u=_r(t,(function(t){return Oo(t,"width")})),c=be.hasColumns(t)?function(t){return T(be.justColumns(t),(function(t){return f.from(t.element)}))}(t):u,s=[f.some(Jr.edge(n))].concat(T(Jr.positions(u,n),(function(t){return t.map((function(t){return t.x}))}))),l=i(Vn);return T(c,(function(t,n){return To(t,n,s,l,(function(t){if(function(t){return!_o(t)||Oo(t,"width")}(t))return r(t,a);var i,c,d=(i=u[n],c=e,null!=i?c(i):f.none());return To(d,n,s,l,(function(t){return o(f.some(wr(t)))}),o)}),o)}))},Do=function(t){return t.map((function(t){return t+"px"})).getOr("")},zo=function(t,n,e){return Eo(t,n,vo,(function(t){return t.getOrThunk(e.minCellWidth)}),e)},Mo=function(t,n,e,r,o){var a=Sr(t),u=[f.some(e.edge(n))].concat(T(e.positions(a,n),(function(t){return t.map((function(t){return t.y}))})));return T(a,(function(t,n){return To(t,n,u,i(jn),r,o)}))},No=function(t){var n=t;return{get:function(){return n},set:function(t){n=t}}},Ro=function(e){var r=function(){return wr(e)},o=n(0);return{width:r,pixelWidth:r,getWidths:function(t,n){return zo(t,e,n)},getCellDelta:o,singleColumnWidth:n([0]),minCellWidth:o,setElementWidth:t,adjustTableWidth:t,isRelative:!0,label:"none"}},Bo=function(t,n){var e=No(parseFloat(t)),r=No(wr(n));return{width:e.get,pixelWidth:r.get,getWidths:function(t,e){return function(t,n,e){return Eo(t,n,ho,(function(t){return t.fold((function(){return e.minCellWidth()}),(function(t){return t/e.pixelWidth()*100}))}),e)}(t,n,e)},getCellDelta:function(t){return t/r.get()*100},singleColumnWidth:function(t,n){return[100-t]},minCellWidth:function(){return Wn()/r.get()*100},setElementWidth:so,adjustTableWidth:function(t){var o=e.get(),i=o+t/100*o;so(n,i),e.set(i),r.set(wr(n))},isRelative:!0,label:"percent"}},Po=function(t,n){var r=No(t),o=r.get;return{width:o,pixelWidth:o,getWidths:function(t,e){return zo(t,n,e)},getCellDelta:e,singleColumnWidth:function(t,n){return[Math.max(Wn(),t+n)-t]},minCellWidth:Wn,setElementWidth:co,adjustTableWidth:function(t){var e=o()+t;co(n,e),r.set(e)},isRelative:!1,label:"pixel"}},Io=function(t){return po(t).fold((function(){return Ro(t)}),(function(n){return function(t,n){var e=wo().exec(n);if(null!==e)return Bo(e[1],t);var r=Co().exec(n);if(null!==r){var o=parseInt(r[1],10);return Po(o,t)}var i=wr(t);return Po(i,t)}(t,n)}))},Lo=Po,Ho=Bo,Fo=function(t,n,e){var r=t[e].element,o=yt.fromTag("td");Me(o,yt.fromTag("br")),(n?Me:ze)(r,o)},Vo=function(t,n){var e=function(t){return xt(t.element,n)},r=gr(t),o=ee(r),i=Io(t),a=be.generate(o),u=function(t,n){var e=t.grid.columns,r=t.grid.rows,o=e,i=0,a=0,u=[],c=[];return Tt(t.access,(function(t){if(u.push(t),n(t)){c.push(t);var e=t.row,s=e+t.rowspan-1,l=t.column,f=l+t.colspan-1;e<r?r=e:s>i&&(i=s),l<o?o=l:f>a&&(a=f)}})),function(t,n,e,r,o,i){return{minRow:t,minCol:n,maxRow:e,maxCol:r,allCells:o,selectedCells:i}}(r,o,i,a,u,c)}(a,e),c="th:not("+n+"),td:not("+n+")",s=Gn(r,"th,td",(function(t){return xt(t,c)}));return E(s,Ie),function(t,n,e,r){for(var o=n.grid.columns,i=n.grid.rows,a=0;a<i;a++)for(var u=!1,c=0;c<o;c++){if(!(a<e.minRow||a>e.maxRow||c<e.minCol||c>e.maxCol))be.getAt(n,a,c).filter(r).isNone()?Fo(t,u,a):u=!0}}(o,a,u,e),function(t,n,e,r){Tt(e.columns,(function(t){(t.column<n.minCol||t.column>n.maxCol)&&Ie(t.element)}));var o=D(qn(t,"tr"),(function(t){return 0===t.dom.childElementCount}));E(o,Ie),n.minCol!==n.maxCol&&n.minRow!==n.maxRow||E(qn(t,"th,td"),(function(t){En(t,"rowspan"),En(t,"colspan")})),En(t,de),En(t,"data-snooker-col-series"),Io(t).adjustTableWidth(r)}(r,u,a,function(t,n,e,r){if(0===r.minCol&&n.grid.columns===r.maxCol+1)return 0;var o=zo(n,t,e),i=M(o,(function(t,n){return t+n}),0),a=M(o.slice(r.minCol,r.maxCol+1),(function(t,n){return t+n}),0)/i*e.pixelWidth()-e.pixelWidth();return e.getCellDelta(a)}(t,be.fromTable(t),i,u)),r},jo=function(t){return"img"===jt(t)?1:Ve(t).fold((function(){return rn(t).length}),(function(t){return t.length}))},Uo=["img","br"],Wo=function(t){return Ve(t).filter((function(t){return 0!==t.trim().length||t.indexOf(" ")>-1})).isSome()||S(Uo,jt(t))},$o=function(t){return n=Wo,(e=function(t){for(var r=0;r<t.childNodes.length;r++){var o=yt.fromDom(t.childNodes[r]);if(n(o))return f.some(o);var i=e(t.childNodes[r]);if(i.isSome())return i}return f.none()})(t.dom);var n,e},qo=function(t){return Go(t,Wo)},Go=function(t,n){var e=function(t){for(var r=rn(t),o=r.length-1;o>=0;o--){var i=r[o];if(n(i))return f.some(i);var a=e(i);if(a.isSome())return a}return f.none()};return e(t)},Ko={scope:["row","col"]},Xo=function(){var t=yt.fromTag("td");return Me(t,yt.fromTag("br")),t},Yo=function(){return yt.fromTag("col")},Jo=function(){return yt.fromTag("colgroup")},Qo=function(t,n,e){var r=hr(t,n);return Tt(e,(function(t,n){null===t?En(r,n):Sn(r,n,t)})),r},Zo=function(t){return t},ti=function(t){return function(){return yt.fromTag("tr",t.dom)}},ni=function(t,n,e){var r=function(t,n){var e,r,o,i;e=t.element,r=n,o=e.dom,i=r.dom,zn(o)&&zn(i)&&(i.style.cssText=o.style.cssText),Ln(n,"height"),1!==t.colspan&&Ln(n,"width")};return{col:function(n){var e=Jt(n.element),o=yt.fromTag(jt(n.element),e.dom);return r(n,o),t(n.element,o),o},colgroup:Jo,row:ti(n),cell:function(n){var o=Jt(n.element),i=yt.fromTag(jt(n.element),o.dom),a=e.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),u=a.length>0?function(t,n,e){return $o(t).map((function(r){var o=e.join(","),i=gn(r,o,(function(n){return Ct(n,t)}));return z(i,(function(t,n){var e=pr(n);return En(e,"contenteditable"),Me(t,e),e}),n)})).getOr(n)}(n.element,i,a):i;return Me(u,yt.fromTag("br")),r(n,i),function(t,n){Tt(Ko,(function(e,r){return Tn(t,r).filter((function(t){return S(e,t)})).each((function(t){return Sn(n,r,t)}))}))}(n.element,i),t(n.element,i),i},replace:Qo,gap:Xo}},ei=function(t){return{col:Yo,colgroup:Jo,row:ti(t),cell:Xo,replace:Zo,gap:Xo}},ri=function(t){return T(t,yt.fromDom)},oi=function(t){return t.nodeName.toLowerCase()},ii=function(t){return yt.fromDom(t.getBody())},ai=function(t){return t.getBoundingClientRect().width},ui=function(t){return t.getBoundingClientRect().height},ci=function(t){return function(n){return Ct(n,ii(t))}},si=function(t){return/^\d+(\.\d+)?$/.test(t)?t+"px":t},li=function(t){En(t,"data-mce-style");var n=function(t){return En(t,"data-mce-style")};E(Xn(t),n),E(Yn(t),n)},fi=function(t,n){var e=t.dom.getStyle(n,"width")||t.dom.getAttrib(n,"width");return f.from(e).filter(ot)},di=function(t){return/^(\d+(\.\d+)?)%$/.test(t)},mi=function(t){return yt.fromDom(t.selection.getStart())},pi=function(t){return cr(t.get(),n([]),e,H)},gi=function(t){var n=function(t,n){return Tn(t,n).exists((function(t){return parseInt(t,10)>1}))},e=pi(t);return e.length>0&&I(e,(function(t){return n(t,"rowspan")||n(t,"colspan")}))?f.some(e):f.none()},hi=function(t,n,e){return cr(n.get(),f.none,(function(n){return n.length<=1?f.none():ir(t,e.firstSelectedSelector,e.lastSelectedSelector).map((function(t){return{bounds:t,cells:n}}))}),f.none)},vi={selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:"data-mce-first-selected",firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:"data-mce-last-selected",lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},bi=function(t){return{element:t,mergable:f.none(),unmergable:f.none(),selection:[t]}},yi=function(t,n,e){return{element:e,mergable:hi(n,t,vi),unmergable:gi(t),selection:pi(t)}},xi=function(n,e,r,o){n.on("BeforeGetContent",(function(r){!0===r.selection&&cr(e.get(),t,(function(t){r.preventDefault(),function(t){return Jn(t[0]).map((function(t){var n=Vo(t,"[data-mce-selected]");return li(n),[n]}))}(t).each((function(t){r.content="text"===r.format?function(t){return T(t,(function(t){return t.dom.innerText})).join("")}(t):function(t,n){return T(n,(function(n){return t.selection.serializer.serialize(n.dom,{})})).join("")}(n,t)}))}),t)})),n.on("BeforeSetContent",(function(t){!0===t.selection&&!0===t.paste&&f.from(n.dom.getParent(n.selection.getStart(),"th,td")).each((function(e){var i=yt.fromDom(e);Jn(i).each((function(e){var a,u,c,s,l=D((a=t.content,(c=(u||document).createElement("div")).innerHTML=a,rn(yt.fromDom(c))),(function(t){return"meta"!==jt(t)}));if(1===l.length&&(s=l[0],"table"===jt(s))){t.preventDefault();var f=yt.fromDom(n.getDoc()),d=ei(f),m=function(t,n,e){return{element:t,clipboard:n,generators:e}}(i,l[0],d);r.pasteCells(e,m).each((function(t){n.selection.setRng(t.rng),n.focus(),o.clear(e)}))}}))}))}))},wi=ar([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ci=W({},wi),_i=function(t,e,r,o,i){var a=t.slice(0),u=function(t,n){return 0===t.length?Ci.none():1===t.length?Ci.only(0):0===n?Ci.left(0,1):n===t.length-1?Ci.right(n-1,n):n>0&&n<t.length-1?Ci.middle(n-1,n,n+1):Ci.none()}(t,e),c=n(T(a,n(0)));return u.fold(c,(function(t){return o.singleColumnWidth(a[t],r)}),(function(t,n){return i.calcLeftEdgeDeltas(a,t,n,r,o.minCellWidth(),o.isRelative)}),(function(t,n,e){return i.calcMiddleDeltas(a,t,n,e,r,o.minCellWidth(),o.isRelative)}),(function(t,n){return i.calcRightEdgeDeltas(a,t,n,r,o.minCellWidth(),o.isRelative)}))},ki=function(t,n,e){for(var r=0,o=t;o<n;o++)r+=void 0!==e[o]?e[o]:0;return r},Si=function(t,n){var e=be.justCells(t);return T(e,(function(t){var e=ki(t.row,t.row+t.rowspan,n);return{element:t.element,height:e,rowspan:t.rowspan}}))},Ai=function(t,n){return be.hasColumns(t)?function(t,n){var e=be.justColumns(t);return T(e,(function(t,e){return{element:t.element,width:n[e],colspan:t.colspan}}))}(t,n):function(t,n){var e=be.justCells(t);return T(e,(function(t){var e=ki(t.column,t.column+t.colspan,n);return{element:t.element,width:e,colspan:t.colspan}}))}(t,n)},Oi=function(t,n,e){var r=Ai(t,n);E(r,(function(t){e.setElementWidth(t.element,t.width)}))},Ti=function(t,n,e,r,o){var i=be.fromTable(t),a=o.getCellDelta(n),u=o.getWidths(i,o),c=e===i.grid.columns-1,s=r.clampTableDelta(u,e,a,o.minCellWidth(),c),l=_i(u,e,s,o,r),f=T(l,(function(t,n){return t+u[n]}));Oi(i,f,o),r.resizeTable(o.adjustTableWidth,s,c)},Ei=function(t,n,e,r){var o=be.fromTable(t),i=function(t,n,e){return Mo(t,n,e,bo,(function(t){return t.getOrThunk($n)}))}(o,t,r),a=T(i,(function(t,r){return e===r?Math.max(n+t,$n()):t})),u=Si(o,a),c=function(t,n){return T(t.all,(function(t,e){return{element:t.element,height:n[e]}}))}(o,a);E(c,(function(t){lo(t.element,t.height)})),E(u,(function(t){lo(t.element,t.height)}));var s=z(a,(function(t,n){return t+n}),0);lo(t,s)},Di=function(t){return T(t,n(0))},zi=function(t,n,e,r,o){return o(t.slice(0,n)).concat(r).concat(o(t.slice(e)))},Mi=function(t){return function(n,e,r,o){if(t(r)){var i=Math.max(o,n[e]-Math.abs(r)),a=Math.abs(i-n[e]);return r>=0?a:-a}return r}},Ni=Mi((function(t){return t<0})),Ri=Mi(u),Bi=function(){var t=function(t,n,e,r){var o=(100+e)/100,i=Math.max(r,(t[n]+e)/o);return T(t,(function(t,e){return(e===n?i:t/o)-t}))},n=function(n,e,r,o,i,a){return a?t(n,e,o,i):function(t,n,e,r,o){var i=Ni(t,n,r,o);return zi(t,n,e+1,[i,0],Di)}(n,e,r,o,i)};return{resizeTable:function(t,n){return t(n)},clampTableDelta:Ni,calcLeftEdgeDeltas:n,calcMiddleDeltas:function(t,e,r,o,i,a,u){return n(t,r,o,i,a,u)},calcRightEdgeDeltas:function(n,e,r,o,i,a){if(a)return t(n,r,o,i);var u=Ni(n,r,o,i);return Di(n.slice(0,r)).concat([u])},calcRedestributedWidths:function(t,n,e,r){if(r){var o=(n+e)/n,i=T(t,(function(t){return t/o}));return{delta:100*o-100,newSizes:i}}return{delta:e,newSizes:t}}}},Pi=function(){var t=function(t,n,e,r,o){var i=Ri(t,r>=0?e:n,r,o);return zi(t,n,e+1,[i,-i],Di)};return{resizeTable:function(t,n,e){e&&t(n)},clampTableDelta:function(t,n,e,r,o){if(o){if(e>=0)return e;var i=M(t,(function(t,n){return t+n-r}),0);return Math.max(-i,e)}return Ni(t,n,e,r)},calcLeftEdgeDeltas:t,calcMiddleDeltas:function(n,e,r,o,i,a){return t(n,r,o,i,a)},calcRightEdgeDeltas:function(t,e,r,o,i,a){if(a)return Di(t);var u=o/t.length;return T(t,n(u))},calcRedestributedWidths:function(t,n,e,r){return{delta:0,newSizes:t}}}},Ii=function(t,e){var r=f.from(t.dom.documentElement).map(yt.fromDom).getOr(t);return{parent:n(r),view:n(t),origin:n(Nr(0,0)),isResizable:e}},Li=function(t,e,r){return{parent:n(e),view:n(t),origin:n(Nr(0,0)),isResizable:r}},Hi=ar([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Fi=function(t,n,e){var r=e.substring(0,e.length-t.length),o=parseFloat(r);return r===o.toString()?n(o):Hi.invalid(e)},Vi=W(W({},Hi),{from:function(t){return et(t,"%")?Fi("%",Hi.percent,t):et(t,"px")?Fi("px",Hi.pixels,t):Hi.invalid(t)}}),ji=function(t,n,e){return t.fold((function(){return n}),(function(t){return function(t,n,e){var r=e/n;return T(t,(function(t){return Vi.from(t).fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*e+"px"}))}))}(n,e,t)}),(function(t){return function(t,n){return T(t,(function(t){return Vi.from(t).fold((function(){return t}),(function(t){return t/n*100+"%"}),(function(t){return t+"%"}))}))}(n,e)}))},Ui=function(t,e,r){var o=Vi.from(r),i=I(t,(function(t){return"0px"===t}))?function(t,e){var r=t.fold((function(){return n("")}),(function(t){return n(t/e+"px")}),(function(){return n(100/e+"%")}));return O(e,r)}(o,t.length):ji(o,t,e);return qi(i)},Wi=function(t,r){return 0===t.length?r:z(t,(function(t,r){return Vi.from(r).fold(n(0),e,e)+t}),0)},$i=function(t,e){return Vi.from(t).fold(n(t),(function(t){return t+e+"px"}),(function(t){return t+e+"%"}))},qi=function(t){if(0===t.length)return t;var n=z(t,(function(t,n){var e=Vi.from(n).fold((function(){return{value:n,remainder:0}}),(function(t){return function(t,n){var e=Math.floor(t);return{value:e+n,remainder:t-e}}(t,"px")}),(function(t){return{value:t+"%",remainder:0}}));return{output:[e.value].concat(t.output),remainder:t.remainder+e.remainder}}),{output:[],remainder:0}),e=n.output;return e.slice(0,e.length-1).concat([$i(e[e.length-1],Math.round(n.remainder))])},Gi=Vi.from,Ki=function(t){return Gi(t).fold(n("px"),n("px"),n("%"))},Xi=function(t,n,e,r){var o=be.fromTable(t),i=o.all,a=be.justCells(o),u=be.justColumns(o);n.each((function(n){var e=Ki(n),i=wr(t),c=function(t,n,e){return Eo(t,n,So,Do,e)}(o,t,r),s=Ui(c,i,n);be.hasColumns(o)?function(t,n,e){E(n,(function(n,r){var o=Wi([t[r]],Wn());Nn(n.element,"width",o+e)}))}(s,u,e):function(t,n,e){E(n,(function(n){var r=t.slice(n.column,n.colspan+n.column),o=Wi(r,Wn());Nn(n.element,"width",o+e)}))}(s,a,e),Nn(t,"width",n)})),e.each((function(n){var e=Ki(n),r=Dr(t),u=function(t,n,e){return Mo(t,n,e,Ao,Do)}(o,t,Gr);!function(t,n,e,r){E(e,(function(n){var e=t.slice(n.row,n.rowspan+n.row),o=Wi(e,$n());Nn(n.element,"height",o+r)})),E(n,(function(n,e){Nn(n.element,"height",t[e])}))}(Ui(u,r,n),i,a,e),Nn(t,"height",n)}))},Yi=function(t){return po(t).exists((function(t){return io.test(t)}))},Ji=function(t){return po(t).exists((function(t){return ao.test(t)}))},Qi=function(t){return po(t).isNone()},Zi=xo,ta=function(t){return be.fromTable(t).grid},na=function(t){var n=[];return{bind:function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");n.push(t)},unbind:function(t){n=D(n,(function(n){return n!==t}))},trigger:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o={};E(t,(function(t,n){o[t]=e[n]})),E(n,(function(t){t(o)}))}}},ea=function(t){return{registry:Et(t,(function(t){return{bind:t.bind,unbind:t.unbind}})),trigger:Et(t,(function(t){return t.trigger}))}},ra=function(t){return t.slice(0).sort()},oa=function(t,n,e){if(0===n.length)throw new Error("You must specify at least one required field.");var r;return function(t,n){if(!h(n))throw new Error("The "+t+" fields must be an array. Was: "+n+".");E(n,(function(n){if(!p(n))throw new Error("The value "+n+" in the "+t+" fields was not a string.")}))}("required",n),r=ra(n),N(r,(function(t,n){return n<r.length-1&&t===r[n+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+r.join(", ")+"].")})),function(r){var o=At(r);I(n,(function(t){return S(o,t)}))||function(t,n){throw new Error("All required keys ("+ra(t).join(", ")+") were not specified. Specified keys were: "+ra(n).join(", ")+".")}(n,o),t(n,o);var i=D(n,(function(t){return!e.validate(r[t],t)}));return i.length>0&&function(t,n){throw new Error("All values need to be of type: "+n+". Keys ("+ra(t).join(", ")+") were not.")}(i,e.label),r}},ia=function(t,n){var e=D(n,(function(n){return!S(t,n)}));e.length>0&&function(t){throw new Error("Unsupported keys for object: "+ra(t).join(", "))}(e)},aa=function(t){return function(t,n){return oa(t,n,{validate:x,label:"function"})}(ia,t)},ua=aa(["compare","extract","mutate","sink"]),ca=aa(["element","start","stop","destroy"]),sa=aa(["forceDrop","drop","move","delayDrop"]),la=function(){var t=f.none(),n=ea({move:na(["info"])});return{onEvent:function(e,r){r.extract(e).each((function(e){(function(n,e){var r=t.map((function(t){return n.compare(t,e)}));return t=f.some(e),r})(r,e).each((function(t){n.trigger.move(t)}))}))},reset:function(){t=f.none()},events:n.registry}},fa=function(){var n,e=(n=ea({move:na(["info"])}),{onEvent:t,reset:t,events:n.registry}),r=la(),o=e;return{on:function(){o.reset(),o=r},off:function(){o.reset(),o=e},isOn:function(){return o===r},onEvent:function(t,n){o.onEvent(t,n)},events:r.events}},da=function(t,n,e){var r,o,i,a=!1,u=ea({start:na([]),stop:na([])}),c=fa(),s=function(){d.stop(),c.isOn()&&(c.off(),u.trigger.stop())},l=(r=s,o=200,i=null,{cancel:function(){null!==i&&(clearTimeout(i),i=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null!==i&&clearTimeout(i),i=setTimeout((function(){r.apply(null,t),i=null}),o)}});c.events.move.bind((function(e){n.mutate(t,e.info)}));var f=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];a&&t.apply(null,n)}},d=n.sink(sa({forceDrop:s,drop:f(s),move:f((function(t){l.cancel(),c.onEvent(t,n)})),delayDrop:f(l.throttle)}),e);return{element:d.element,go:function(t){d.start(t),c.on(),u.trigger.start()},on:function(){a=!0},off:function(){a=!1},destroy:function(){d.destroy()},events:u.registry}},ma=function(t){var n,e,r=yt.fromDom(function(t){if(un()&&y(t.target)){var n=yt.fromDom(t.target);if(qt(n)&&fn(n)&&t.composed&&t.composedPath){var e=t.composedPath();if(e)return V(e)}}return f.from(t.target)}(t).getOr(t.target)),o=function(){return t.stopPropagation()},i=function(){return t.preventDefault()},a=(n=i,e=o,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(e.apply(null,t))});return function(t,n,e,r,o,i,a){return{target:t,x:n,y:e,stop:r,prevent:o,kill:i,raw:a}}(r,t.clientX,t.clientY,o,i,a,t)},pa=function(t,n,e,o,i){var a=function(t,n){return function(e){t(e)&&n(ma(e))}}(e,o);return t.dom.addEventListener(n,a,i),{unbind:r(ga,t,n,a,i)}},ga=function(t,n,e,r){t.dom.removeEventListener(n,e,r)},ha=u,va=function(t,n,e){return function(t,n,e,r){return pa(t,n,e,r,!1)}(t,n,ha,e)},ba=ma,ya=function(t,n){var e=On(t,n);return void 0===e||""===e?[]:e.split(" ")},xa=function(t){return void 0!==t.dom.classList},wa=function(t,n){return function(t,n,e){var r=ya(t,n).concat([e]);return Sn(t,n,r.join(" ")),!0}(t,"class",n)},Ca=function(t,n){xa(t)?t.dom.classList.add(n):wa(t,n)},_a=function(t,n){return xa(t)&&t.dom.classList.contains(n)},ka=function(t){var n=t.replace(/\./g,"-");return{resolve:function(t){return n+"-"+t}}},Sa=ka("ephox-dragster"),Aa=Sa.resolve,Oa=ua({compare:function(t,n){return Nr(n.left-t.left,n.top-t.top)},extract:function(t){return f.some(Nr(t.x,t.y))},sink:function(t,n){var e=function(t){var n=W({layerClass:Aa("blocker")},t),e=yt.fromTag("div");Sn(e,"role","presentation"),Rn(e,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ca(e,Aa("blocker")),Ca(e,n.layerClass);return{element:function(){return e},destroy:function(){Ie(e)}}}(n),r=va(e.element(),"mousedown",t.forceDrop),o=va(e.element(),"mouseup",t.drop),i=va(e.element(),"mousemove",t.move),a=va(e.element(),"mouseout",t.delayDrop);return ca({element:e.element,start:function(t){Me(t,e.element())},stop:function(){Ie(e.element())},destroy:function(){e.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()}})},mutate:function(t,n){t.mutate(n.left,n.top)}}),Ta=function(t){return"true"===On(t,"contenteditable")},Ea=ka("ephox-snooker"),Da=Ea.resolve,za=function(){var t=ea({drag:na(["xDelta","yDelta","target"])}),n=f.none(),e=function(){var t=ea({drag:na(["xDelta","yDelta"])});return{mutate:function(n,e){t.trigger.drag(n,e)},events:t.registry}}();e.events.drag.bind((function(e){n.each((function(n){t.trigger.drag(e.xDelta,e.yDelta,n)}))}));return{assign:function(t){n=f.some(t)},get:function(){return n},mutate:e.mutate,events:t.registry}},Ma=Da("resizer-bar"),Na=Da("resizer-rows"),Ra=Da("resizer-cols"),Ba=function(t){var n=vn(t.parent(),"."+Ma);E(n,Ie)},Pa=function(t,n,e){var r=t.origin();E(n,(function(n){n.each((function(n){var o=e(r,n);Ca(o,Ma),Me(t.parent(),o)}))}))},Ia=function(t,n,e,r){Pa(t,n,(function(t,n){var o,i,a,u,c,s,l=(o=n.col,i=n.x-t.left,a=e.top-t.top,u=7,c=r,s=yt.fromTag("div"),Rn(s,{position:"absolute",left:i-u/2+"px",top:a+"px",height:c+"px",width:u+"px"}),An(s,{"data-column":o,role:"presentation"}),s);return Ca(l,Ra),l}))},La=function(t,n,e,r){Pa(t,n,(function(t,n){var o=function(t,n,e,r,o){var i=yt.fromTag("div");return Rn(i,{position:"absolute",left:n+"px",top:e-o/2+"px",height:o+"px",width:r+"px"}),An(i,{"data-row":t,role:"presentation"}),i}(n.row,e.left-t.left,n.y-t.top,r,7);return Ca(o,Na),o}))},Ha=function(t,n,e,r,o){var i=Br(e),a=n.isResizable,u=r.length>0?Gr.positions(r,e):[],c=u.length>0?function(t,n){return P(t.all,(function(t,e){return n(t.element)?[e]:[]}))}(t,a):[],s=D(u,(function(t,n){return A(c,(function(t){return n===t}))}));La(n,s,i,Cr(e));var l=o.length>0?Jr.positions(o,e):[],f=l.length>0?function(t,n){var e=[];return O(t.grid.columns,(function(r){be.getColumnAt(t,r).map((function(t){return t.element})).forall(n)&&e.push(r)})),D(e,(function(e){var r=be.filterItems(t,(function(t){return t.column===e}));return I(r,(function(t){return n(t.element)}))}))}(t,a):[],d=D(l,(function(t,n){return A(f,(function(t){return n===t}))}));Ia(n,d,i,zr(e))},Fa=function(t,n){if(Ba(t),t.isResizable(n)){var e=be.fromTable(n),r=Sr(e),o=_r(e);Ha(e,t,n,r,o)}},Va=function(t,n){var e=vn(t.parent(),"."+Ma);E(e,n)},ja=function(t){Va(t,(function(t){Nn(t,"display","none")}))},Ua=function(t){Va(t,(function(t){Nn(t,"display","block")}))},Wa=Da("resizer-bar-dragging"),$a=function(t){var n=za(),e=function(t,n){void 0===n&&(n={});var e=void 0!==n.mode?n.mode:Oa;return da(t,e,n)}(n,{}),o=f.none(),i=function(t,n){return f.from(On(t,n))};n.events.drag.bind((function(t){i(t.target,"data-row").each((function(n){var e=Un(t.target,"top");Nn(t.target,"top",e+t.yDelta+"px")})),i(t.target,"data-column").each((function(n){var e=Un(t.target,"left");Nn(t.target,"left",e+t.xDelta+"px")}))}));var a=function(t,n){return Un(t,n)-Hn(t,"data-initial-"+n,0)};e.events.stop.bind((function(){n.get().each((function(n){o.each((function(e){i(n,"data-row").each((function(t){var r=a(n,"top");En(n,"data-initial-top"),m.trigger.adjustHeight(e,r,parseInt(t,10))})),i(n,"data-column").each((function(t){var r=a(n,"left");En(n,"data-initial-left"),m.trigger.adjustWidth(e,r,parseInt(t,10))})),Fa(t,e)}))}))}));var u=function(r,o){m.trigger.startAdjust(),n.assign(r),Sn(r,"data-initial-"+o,Un(r,o)),Ca(r,Wa),Nn(r,"opacity","0.2"),e.go(t.parent())},c=va(t.parent(),"mousedown",(function(t){var n;n=t.target,_a(n,Na)&&u(t.target,"top"),function(t){return _a(t,Ra)}(t.target)&&u(t.target,"left")})),s=function(n){return Ct(n,t.view())},l=function(t){return _n(t,"table",s).filter((function(t){return function(t,n){return _n(t,"[contenteditable]",n)}(t,s).exists(Ta)}))},d=va(t.view(),"mouseover",(function(n){l(n.target).fold((function(){dn(n.target)&&Ba(t)}),(function(n){o=f.some(n),Fa(t,n)}))})),m=ea({adjustHeight:na(["table","delta","row"]),adjustWidth:na(["table","delta","column"]),startAdjust:na([])});return{destroy:function(){c.unbind(),d.unbind(),e.destroy(),Ba(t)},refresh:function(n){Fa(t,n)},on:e.on,off:e.off,hideBars:r(ja,t),showBars:r(Ua,t),events:m.registry}},qa=function(t,n,e){var r=Gr,o=Jr,i=$a(t),a=ea({beforeResize:na(["table","type"]),afterResize:na(["table","type"]),startDrag:na([])});return i.events.adjustHeight.bind((function(t){var n=t.table;a.trigger.beforeResize(n,"row");var e=r.delta(t.delta,n);Ei(n,e,t.row,r),a.trigger.afterResize(n,"row")})),i.events.startAdjust.bind((function(t){a.trigger.startDrag()})),i.events.adjustWidth.bind((function(t){var r=t.table;a.trigger.beforeResize(r,"col");var i=o.delta(t.delta,r),u=e(r);Ti(r,i,t.column,n,u),a.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:a.registry}},Ga=function(t,n){return t.fire("newrow",{node:n})},Ka=function(t,n){return t.fire("newcell",{node:n})},Xa=function(t,n,e){t.fire("TableModified",W(W({},e),{table:n}))},Ya={structure:!1,style:!0},Ja={structure:!0,style:!1},Qa={"border-collapse":"collapse",width:"100%"},Za={border:"1"},tu=function(t){return t.getParam("table_sizing_mode","auto")},nu=function(t){return t.getParam("table_responsive_width")},eu=function(t){return t.getParam("table_default_attributes",Za,"object")},ru=function(t){return t.getParam("table_default_styles",function(t){if(su(t)){var n=t.getBody().offsetWidth;return W(W({},Qa),{width:n+"px"})}return lu(t)?zt(Qa,(function(t,n){return"width"!==n})):Qa}(t),"object")},ou=function(t){return t.getParam("table_cell_advtab",!0,"boolean")},iu=function(t){return t.getParam("table_row_advtab",!0,"boolean")},au=function(t){return t.getParam("table_advtab",!0,"boolean")},uu=function(t){return t.getParam("table_style_by_css",!1,"boolean")},cu=function(t){return"relative"===tu(t)||!0===nu(t)},su=function(t){return"fixed"===tu(t)||!1===nu(t)},lu=function(t){return"responsive"===tu(t)},fu=function(t){return t.getParam("table_use_colgroups",!1,"boolean")},du=function(t){var n=t.getParam("table_header_type","section","string");return S(["section","cells","sectionCells","auto"],n)?n:"section"},mu=function(t){var n=t.getParam("table_column_resizing","preservetable","string");return N(["preservetable","resizetable"],(function(t){return t===n})).getOr("preservetable")},pu=function(t){return"preservetable"===mu(t)},gu=function(t){return"resizetable"===mu(t)},hu=function(t){var n=t.getParam("table_clone_elements");return p(n)?f.some(n.split(/[ ,]/)):Array.isArray(n)?f.some(n):f.none()},vu=function(t,n){if(cu(t)){var e=fi(t,n.dom).filter(di).getOrThunk((function(){return Zi(n)}));return Ho(e,n)}return su(t)?Lo(wr(n),n):Io(n)},bu=function(t){En(t,"width")},yu=function(t,n){var e=function(t){return wr(t)+"px"}(t);Xi(t,f.some(e),f.none(),n),bu(t)},xu=function(t,n){!function(t,n){var e=xo(t);Xi(t,f.some(e),f.none(),n),bu(t)}(n,vu(t,n))},wu=function(t,n){var e=vu(t,n);yu(n,e)},Cu=function(t){Ln(t,"width");var n=Yn(t),e=n.length>0?n:Xn(t);E(e,(function(t){Ln(t,"width"),bu(t)})),bu(t)},_u=function(){var t=yt.fromTag("div");return Rn(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Me(mn(yt.fromDom(document)),t),t},ku=function(t){return"false"!==On(t,"data-mce-resize")},Su=function(t){var n,e,r=f.none(),o=f.none(),i=f.none(),a=function(t){return"TABLE"===t.nodeName},u=function(){return o},c=function(n){return vu(t,n)},s=function(){return pu(t)?Pi():Bi()},l=function(r,o,i){var a=et(o,"e");if(""===e&&xu(t,r),i!==n&&""!==e){Nn(r,"width",e);var u=s(),l=c(r),f=pu(t)||a?function(t){return ta(t).columns}(r)-1:0;Ti(r,i-n,f,u,l)}else if(di(e)){var d=parseFloat(e.replace("%",""));Nn(r,"width",i*d/n+"%")}(function(t){return/^(\d+(\.\d+)?)px$/.test(t)})(e)&&function(t){var n=be.fromTable(t);be.hasColumns(n)||E(Xn(t),(function(t){var n=Bn(t,"width");Nn(t,"width",n),En(t,"width")}))}(r)};return t.on("init",(function(){var n=function(t,n){return t.inline?Li(ii(t),_u(),n):Ii(yt.fromDom(t.getDoc()),n)}(t,ku);if(i=f.some(n),function(t){var n=t.getParam("object_resizing",!0);return p(n)?"table"===n:n}(t)&&function(t){return t.getParam("table_resize_bars",!0,"boolean")}(t)){var e=s(),a=qa(n,e,c);a.on(),a.events.startDrag.bind((function(n){r=f.some(t.selection.getRng())})),a.events.beforeResize.bind((function(n){var e=n.table.dom;!function(t,n,e,r,o){t.fire("ObjectResizeStart",{target:n,width:e,height:r,origin:o})}(t,e,ai(e),ui(e),"bar-"+n.type)})),a.events.afterResize.bind((function(n){var e=n.table,o=e.dom;li(e),r.each((function(n){t.selection.setRng(n),t.focus()})),function(t,n,e,r,o){t.fire("ObjectResized",{target:n,width:e,height:r,origin:o})}(t,o,ai(o),ui(o),"bar-"+n.type),t.undoManager.add()})),o=f.some(a)}})),t.on("ObjectResizeStart",(function(r){var o=r.target;if(a(o)){var i=yt.fromDom(o);E(t.dom.select(".mce-clonedresizable"),(function(n){t.dom.addClass(n,"mce-"+mu(t)+"-columns")})),!Ji(i)&&su(t)?wu(t,i):!Yi(i)&&cu(t)&&xu(t,i),Qi(i)&&nt(r.origin,"bar-")&&xu(t,i),n=r.width,e=lu(t)?"":fi(t,o).getOr("")}})),t.on("ObjectResized",(function(n){var e=n.target;if(a(e)){var r=yt.fromDom(e),o=n.origin;nt(o,"corner-")&&l(r,o,n.width),li(r),Xa(t,r.dom,Ya)}})),t.on("SwitchMode",(function(){u().each((function(n){t.mode.isReadOnly()?n.hideBars():n.showBars()}))})),{lazyResize:u,lazyWire:function(){return i.getOr(Ii(yt.fromDom(t.getBody()),ku))},destroy:function(){o.each((function(t){t.destroy()})),i.each((function(n){!function(t,n){t.inline&&Ie(n.parent())}(t,n)}))}}},Au=function(t,n){return{element:t,offset:n}},Ou=function(t,n,e){return t.property().isText(n)&&0===t.property().getText(n).trim().length||t.property().isComment(n)?e(n).bind((function(n){return Ou(t,n,e).orThunk((function(){return f.some(n)}))})):f.none()},Tu=function(t,n){return t.property().isText(n)?t.property().getText(n).length:t.property().children(n).length},Eu=function(t,n){var e=Ou(t,n,t.query().prevSibling).getOr(n);if(t.property().isText(e))return Au(e,Tu(t,e));var r=t.property().children(e);return r.length>0?Eu(t,r[r.length-1]):Au(e,Tu(t,e))},Du=Eu,zu=We(),Mu=function(t,n){1===Fn(t,"colspan")&&function(t){return po(t).bind((function(t){return to(t,["fixed","relative","empty"])}))}(t).each((function(e){var r=e.value/2;yo(t,r,e.unit),yo(n,r,e.unit)}))},Nu=function(t,n,e,r){e===r?En(t,n):Sn(t,n,e)},Ru=function(t,n,e){j(hn(t,n)).fold((function(){return ze(t,e)}),(function(t){return De(t,e)}))},Bu=function(t,n){var e=[],r=[],o=function(t){return T(t,(function(t){t.isNew&&e.push(t.element);var n=t.element;return Pe(n),E(t.cells,(function(t){t.isNew&&r.push(t.element),Nu(t.element,"colspan",t.colspan,1),Nu(t.element,"rowspan",t.rowspan,1),Me(n,t.element)})),n}))},i=function(t){return P(t,(function(t){return T(t.cells,(function(t){return Nu(t.element,"span",t.colspan,1),t.element}))}))},a=function(n,e){var r=function(t,n){var e=wn(t,n).getOrThunk((function(){var e=yt.fromTag(n,Jt(t).dom);return"thead"===n?Ru(t,"caption,colgroup",e):"colgroup"===n?Ru(t,"caption",e):Me(t,e),e}));return Pe(e),e}(t,e),a=("colgroup"===e?i:o)(n);Be(r,a)},u=function(n,e){n.length>0?a(n,e):function(n){wn(t,n).each(Ie)}(e)},c=[],s=[],l=[],f=[];return E(n,(function(t){switch(t.section){case"thead":c.push(t);break;case"tbody":s.push(t);break;case"tfoot":l.push(t);break;case"colgroup":f.push(t)}})),u(f,"colgroup"),u(c,"thead"),u(s,"tbody"),u(l,"tfoot"),{newRows:e,newCells:r}},Pu=function(t,n){if(0===t.length)return 0;var e=t[0];return R(t,(function(t){return!n(e.element,t.element)})).fold((function(){return t.length}),(function(t){return t}))},Iu=function(t,n,e,r){var o=function(t,n){return t[n]}(t,n).cells.slice(e),i=Pu(o,r),a=function(t,n){return T(t,(function(t){return ce(t,n)}))}(t,e).slice(n);return{colspan:i,rowspan:Pu(a,r)}},Lu=function(t,n){var e=T(t,(function(t){return T(t.cells,a)}));return T(t,(function(r,o){return function(t,n){return{details:t,section:n}}(P(r.cells,(function(r,i){if(!1===e[o][i]){var a=Iu(t,o,i,n);return function(t,n,r,o){for(var i=t;i<t+r;i++)for(var a=n;a<n+o;a++)e[i][a]=!0}(o,i,a.rowspan,a.colspan),[(u=r.element,c=a.rowspan,s=a.colspan,l=r.isNew,{element:u,rowspan:c,colspan:s,isNew:l})]}return[];var u,c,s,l})),r.section)}))},Hu=function(t,n,e){var r=[];if(be.hasColumns(t)){var o=T(be.justColumns(t),(function(t){return Ft(t.element,e,!1)}));r.push(Vt(o,"colgroup"))}for(var i=0;i<t.grid.rows;i++){for(var a=[],u=0;u<t.grid.columns;u++){var c=be.getAt(t,i,u).map((function(t){return Ft(t.element,e,t.isLocked)})).getOrThunk((function(){return Ft(n.gap(),!0,!1)}));a.push(c)}var s=Vt(a,t.all[i].section);r.push(s)}return r},Fu=function(t,n){return T(t,(function(t){var e=function(t){return U(t,(function(t){return Zt(t.element).map((function(t){var n=Zt(t).isNone();return Ft(t,n,!1)}))})).getOrThunk((function(){return Ft(n.row(),!0,!1)}))}(t.details);return function(t,n,e,r){return{element:t,cells:n,section:e,isNew:r}}(e.element,t.details,t.section,e.isNew)}))},Vu=function(t,n){var e=Lu(t,Ct);return Fu(e,n)},ju=function(t,n){return U(t.all,(function(t){return N(t.cells,(function(t){return Ct(n,t.element)}))}))},Uu=function(t,n,e){var r=T(n.selection,(function(n){return Kn(n).bind((function(n){return ju(t,n)})).filter(e)})),o=vr(r);return br(o.length>0,o)},Wu=function(t,n,e,r,o){return function(i,a,u,c,s,l){var d=be.fromTable(a);return n(d,u).map((function(n){var e=function(t,n){return Hu(t,n,!1)}(d,c),r=t(e,n,Ct,o(c)),i=pe(r.grid);return{info:n,grid:Vu(r.grid,c),cursor:r.cursor,lockedColumns:i}})).bind((function(t){var n=Bu(a,t.grid),o=f.from(s).getOrThunk((function(){return Io(a)})),u=f.from(l).getOrThunk(Pi);return e(a,t.grid,t.info,o,u),r(a),Fa(i,a),En(a,de),t.lockedColumns.length>0&&Sn(a,de,t.lockedColumns.join(",")),f.some({cursor:t.cursor,newRows:n.newRows,newCells:n.newCells})}))}},$u=function(t,n){return Kn(n.element).bind((function(n){return ju(t,n)}))},qu=function(t,n){return Uu(t,n,u).map((function(t){return{cells:t,generators:n.generators,clipboard:n.clipboard}}))},Gu=function(t,n){return Uu(t,n,u)},Ku=function(t,n){return $u(t,n).filter((function(t){return!t.isLocked}))},Xu=function(t,n){return Uu(t,n,(function(t){return!t.isLocked}))},Yu=function(t,n){return I(n,(function(n){return function(t,n){return ju(t,n).exists((function(t){return!t.isLocked}))}(t,n)}))},Ju=function(t,n){return function(t,n){return n.mergable}(0,n).filter((function(n){return Yu(t,n.cells)}))},Qu=function(t,n){return function(t,n){return n.unmergable}(0,n).filter((function(n){return Yu(t,n)}))},Zu=function(t,n,e,r){for(var o=fe(t).rows,i=!0,a=0;a<o.length;a++)for(var u=0;u<le(o[0]);u++){var c=o[a],s=ce(c,u),l=e(s.element,n);!0===l&&!1===i?ie(c,u,Ft(r(),!0,s.isLocked)):!0===l&&(i=!1)}return t},tc=function(t,n,e,r){var o=fe(t).rows;if(n>0&&n<o.length){var i=function(t,n){return M(t,(function(t,e){return A(t,(function(t){return n(t.element,e.element)}))?t:t.concat([e])}),[])}(o[n-1].cells,e);E(i,(function(t){for(var i=f.none(),a=n;a<o.length;a++)for(var u=function(n){var u=o[a],c=ce(u,n);e(c.element,t.element)&&(i.isNone()&&(i=f.some(r())),i.each((function(t){ie(u,n,Ft(t,!0,c.isLocked))})))},c=0;c<le(o[0]);c++)u(c)}))}return t},nc=function(t){return{is:function(n){return t===n},isValue:u,isError:a,getOr:n(t),getOrThunk:n(t),getOrDie:n(t),or:function(n){return nc(t)},orThunk:function(n){return nc(t)},fold:function(n,e){return e(t)},map:function(n){return nc(n(t))},mapError:function(n){return nc(t)},each:function(n){n(t)},bind:function(n){return n(t)},exists:function(n){return n(t)},forall:function(n){return n(t)},toOptional:function(){return f.some(t)}}},ec=function(n){return{is:a,isValue:a,isError:u,getOr:e,getOrThunk:function(t){return t()},getOrDie:function(){return(t=String(n),function(){throw new Error(t)})();var t},or:function(t){return t},orThunk:function(t){return t()},fold:function(t,e){return t(n)},map:function(t){return ec(n)},mapError:function(t){return ec(t(n))},each:t,bind:function(t){return ec(n)},exists:a,forall:u,toOptional:f.none}},rc={value:nc,error:ec,fromOption:function(t,n){return t.fold((function(){return ec(n)}),nc)}},oc=function(t,n){return{rowDelta:0,colDelta:le(t[0])-le(n[0])}},ic=function(t,n){return{rowDelta:t.length-n.length,colDelta:0}},ac=function(t,n,e,r){var o="colgroup"===n.section?e.col:e.cell;return O(t,(function(t){return Ft(o(),!0,r(t))}))},uc=function(t,n,e,r){return t.concat(O(n,(function(){var n=t[t.length-1],o=ac(n.cells.length,n,e,(function(t){return Bt(r,t.toString())}));return ae(n,o)})))},cc=function(t,n,e,r){return T(t,(function(t){var o=ac(n,t,e,a);return re(t,r,o)}))},sc=function(t,n,r){var o=n.colDelta<0?cc:e,i=n.rowDelta<0?uc:e,a=pe(t),c=le(t[0]),s=A(a,(function(t){return t===c-1})),l=o(t,Math.abs(n.colDelta),r,s?c-1:c),f=pe(l);return i(l,Math.abs(n.rowDelta),r,L(f,u))},lc=function(t,n,e,o){var i=r(o,ce(t[n],e).element),a=t[n];return t.length>1&&le(a)>1&&(e>0&&i(se(a,e-1))||e<a.cells.length-1&&i(se(a,e+1))||n>0&&i(se(t[n-1],e))||n<t.length-1&&i(se(t[n+1],e)))},fc=function(t,n,e){return D(e,(function(e){return e>=t.column&&e<=le(n[0])+t.column}))},dc=function(t,n,e,r,o){var i=pe(n),a=function(t,n,e){var r=le(n[0]),o=O(r-t.column,(function(n){return n+t.column})),i=N(o,(function(t){return I(e,(function(n){return n!==t}))})).getOr(r-1);return W(W({},t),{column:i})}(t,n,i),c=fc(a,e,i);return function(t,n,e){if(t.row>=n.length||t.column>le(n[0]))return rc.error("invalid start address out of table bounds, row: "+t.row+", column: "+t.column);var r=n.slice(t.row),o=r[0].cells.slice(t.column),i=le(e[0]),a=e.length;return rc.value({rowDelta:r.length-a,colDelta:o.length-i})}(a,n,e).map((function(t){var i=W(W({},t),{colDelta:t.colDelta-c.length}),s=sc(n,i,r),l=pe(s),f=fc(a,e,l);return function(t,n,e,r,o,i){for(var a=t.row,c=t.column,s=a+e.length,l=c+le(e[0])+i.length,f=L(i,u),d=a;d<s;d++)for(var m=0,p=c;p<l;p++)if(f[p])m++;else{lc(n,d,p,o)&&Zu(n,se(n[d],p),o,r.cell);var g=p-c-m,h=ce(e[d-a],g),v=h.element,b=r.replace(v);ie(n[d],p,Ft(b,!0,h.isLocked))}return n}(a,s,e,r,o,f)}))},mc=function(t,n,e,r,o){!function(t,n,e,r){n>0&&n<t[0].cells.length&&E(t,(function(t){var o=t.cells[n-1],i=t.cells[n];e(i.element,o.element)&&ie(t,n,Ft(r(),!0,i.isLocked))}))}(n,t,o,r.cell);var i=ic(e,n),a=sc(e,i,r),u=ic(n,a),c=sc(n,u,r);return T(c,(function(n,e){return re(n,t,a[e].cells)}))},pc=function(t,n,e,r,o){tc(n,t,o,r.cell);var i=pe(n),a=oc(n,e),c=W(W({},a),{colDelta:a.colDelta-i.length}),s=sc(n,c,r),l=fe(s),f=l.cols,d=l.rows,m=pe(s),p=oc(e,n),g=W(W({},p),{colDelta:p.colDelta+m.length}),h=function(t,n,e){return T(t,(function(t){return M(e,(function(e,r){var o=ac(1,t,n,u)[0];return oe(e,r,o)}),t)}))}(e,r,m),v=sc(h,g,r);return f.concat(d.slice(0,t)).concat(v).concat(d.slice(t,d.length))},gc=function(t,n,e,r,o){var i=fe(t),a=i.rows,u=i.cols,c=a.slice(0,n),s=a.slice(n),l=ue(a[e],(function(t,e){return n>0&&n<a.length&&r(se(a[n-1],e),se(a[n],e))?ce(a[n],e):Ft(o(t.element,r),!0,t.isLocked)}));return u.concat(c).concat([l]).concat(s)},hc=function(t,n,e,r,o){return T(t,(function(t){var i=n>0&&n<le(t)&&r(se(t,n-1),se(t,n)),a=function(t,n,e,r,o,i,a){if("colgroup"!==e&&r)return ce(t,n);var u=ce(t,o);return Ft(a(u.element,i),!0,!1)}(t,n,t.section,i,e,r,o);return oe(t,n,a)}))},vc=function(t,n,e,r){return T(t,(function(t){return ue(t,(function(t){return function(t){return A(n,(function(n){return e(t.element,n.element)}))}(t)?Ft(r(t.element,e),!0,t.isLocked):t}))}))},bc=function(t,n,e,r){return void 0!==se(t[n],e)&&n>0&&r(se(t[n-1],e),se(t[n],e))},yc=function(t,n,e){return n>0&&e(se(t,n-1),se(t,n))},xc=function(t,n,e,r){var o=fe(t).rows,i=P(o,(function(r,o){return bc(t,o,n,e)||yc(r,n,e)?[]:[ce(r,n)]}));return vc(t,i,e,r)},wc=function(t,n,e,r){var o=fe(t).rows,i=o[n],a=P(i.cells,(function(t,r){return bc(o,n,r,e)||yc(i,r,e)?[]:[t]}));return vc(t,a,e,r)},Cc=function(t){return M(t,(function(t,n){return A(t,(function(t){return t.column===n.column}))?t:t.concat([n])}),[]).sort((function(t,n){return t.column-n.column}))},_c=function(t){return{element:t,colspan:Hn(t,"colspan",1),rowspan:Hn(t,"rowspan",1)}},kc=function(t){return Tn(t,"scope").map((function(t){return t.substr(0,3)}))},Sc=function(t,n){void 0===n&&(n=_c);var e=No(f.none()),r=function(e){return function(n){switch(jt(n.element)){case"col":return t.col(n);default:return t.cell(n)}}(n(e))},o=function(t){var n=r(t);return e.get().isNone()&&e.set(f.some(n)),i=f.some({item:t,replacement:n}),n},i=f.none();return{getOrInit:function(t,n){return i.fold((function(){return o(t)}),(function(e){return n(t,e.item)?e.replacement:o(t)}))},cursor:e.get}},Ac=function(t,n){return function(e){var r=No(f.none()),o=[],i=function(i){var a={scope:t},u=e.replace(i,n,a);return o.push({item:i,sub:u}),r.get().isNone()&&r.set(f.some(u)),u};return{replaceOrInit:function(t,n){return"col"===jt(t)?t:function(t,n){return N(o,(function(e){return n(e.item,t)}))}(t,n).fold((function(){return i(t)}),(function(e){return n(t,e.item)?e.sub:i(t)}))},cursor:r.get}}},Oc=function(t){var e=No(f.none());return{unmerge:function(n){e.get().isNone()&&e.set(f.some(n));var r=kc(n);return r.each((function(t){return Sn(n,"scope",t)})),function(){var e=t.cell({element:n,colspan:1,rowspan:1});return Ln(e,"width"),Ln(n,"width"),r.each((function(t){return Sn(e,"scope",t)})),e}},merge:function(t){return Ln(t[0],"width"),function(){var n=vr(T(t,kc));if(0===n.length)return f.none();var e=n[0],r=["row","col"];return A(n,(function(t){return t!==e&&S(r,t)}))?f.none():f.from(e)}().fold((function(){return En(t[0],"scope")}),(function(n){return Sn(t[0],"scope",n+"group")})),n(t[0])},cursor:e.get}},Tc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ec=We(),Dc=function(t){return function(t,n){var e=t.property().name(n);return S(Tc,e)}(Ec,t)},zc=function(t){return function(t,n){var e=t.property().name(n);return S(["ol","ul"],e)}(Ec,t)},Mc=function(t){return function(t,n){return S(["br","img","hr","input"],t.property().name(n))}(Ec,t)},Nc=function(t){var n,e=function(t){return"br"===jt(t)},r=function(t){return qo(t).bind((function(n){var r=en(n).map((function(t){return!!Dc(t)||!!Mc(t)&&"img"!==jt(t)})).getOr(!1);return Zt(n).map((function(o){return!0===r||function(t){return"li"===jt(t)||yn(t,zc).isSome()}(o)||e(n)||Dc(o)&&!Ct(t,o)?[]:[yt.fromTag("br")]}))})).getOr([])},o=0===(n=P(t,(function(t){var n=rn(t);return function(t){return I(t,(function(t){return e(t)||Gt(t)&&0===Fe(t).trim().length}))}(n)?[]:n.concat(r(t))}))).length?[yt.fromTag("br")]:n;Pe(t[0]),Be(t[0],o)},Rc=function(t){0===Xn(t).length&&Ie(t)},Bc=function(t,n){return{grid:t,cursor:n}},Pc=function(t,n,e){var r=fe(t).rows;return Ic(r,n,e).orThunk((function(){return Ic(r,0,0)}))},Ic=function(t,n,e){return f.from(t[n]).bind((function(t){return f.from(t.cells[e]).bind((function(t){return f.from(t.element)}))}))},Lc=function(t,n,e){var r=fe(t).rows;return Bc(t,Ic(r,n,e))},Hc=function(t){return M(t,(function(t,n){return A(t,(function(t){return t.row===n.row}))?t:t.concat([n])}),[]).sort((function(t,n){return t.row-n.row}))},Fc=function(t,n,e){var r,o,i=(r=t,o=e.section,te(r,(function(){return o}))),a=be.generate(i);return Hu(a,n,!0)},Vc=function(t,n){var e=D(t,n);return 0===e.length?f.some("td"):e.length===t.length?f.some("th"):f.none()},jc=function(t,n,e,r){var o=be.generate(n),i=r.getWidths(o,r);Oi(o,i,r)},Uc=function(t,n,e,r,o){var i=be.generate(n),a=r.getWidths(i,r),u=r.pixelWidth(),c=o.calcRedestributedWidths(a,u,e.pixelDelta,r.isRelative),s=c.newSizes,l=c.delta;Oi(i,s,r),r.adjustTableWidth(l)},Wc=function(t,n){return A(n,(function(t){return 0===t.column&&t.isLocked}))},$c=function(t,n){return A(n,(function(n){return n.column+n.colspan>=t.grid.columns&&n.isLocked}))},qc=function(t,n){var e=_r(t),r=Cc(n);return M(r,(function(t,n){return t+e[n.column].map(Cr).getOr(0)}),0)},Gc=function(t){return function(n,e){return Gu(n,e).filter((function(e){return!(t?Wc:$c)(n,e)})).map((function(t){return{details:t,pixelDelta:qc(n,t)}}))}},Kc=function(t){return function(n,e){return qu(n,e).filter((function(e){return!(t?Wc:$c)(n,e.cells)}))}},Xc=Wu((function(t,n,e,r){var o=n[0].row,i=Hc(n),a=z(i,(function(t,n){return{grid:gc(t.grid,o,n.row+t.delta,e,r.getOrInit),delta:t.delta+1}}),{grid:t,delta:0}).grid;return Lc(a,o,n[0].column)}),Gu,t,t,Sc),Yc=Wu((function(t,n,e,r){var o=Hc(n),i=o[o.length-1],a=i.row+i.rowspan,u=z(o,(function(t,n){return gc(t,a,n.row,e,r.getOrInit)}),t);return Lc(u,a,n[0].column)}),Gu,t,t,Sc),Jc=Wu((function(t,n,e,r){var o=n.details,i=Cc(o),a=i[0].column,u=z(i,(function(t,n){return{grid:hc(t.grid,a,n.column+t.delta,e,r.getOrInit),delta:t.delta+1}}),{grid:t,delta:0}).grid;return Lc(u,o[0].row,a)}),Gc(!0),Uc,t,Sc),Qc=Wu((function(t,n,e,r){var o=n.details,i=o[o.length-1],a=i.column+i.colspan,u=Cc(o),c=z(u,(function(t,n){return hc(t,a,n.column,e,r.getOrInit)}),t);return Lc(c,o[0].row,a)}),Gc(!1),Uc,t,Sc),Zc=Wu((function(t,n,e,r){var o=Cc(n.details),i=function(t,n){return P(t,(function(t){var e=t.cells,r=z(n,(function(t,n){return n>=0&&n<t.length?t.slice(0,n).concat(t.slice(n+1)):t}),e);return r.length>0?[Vt(r,t.section)]:[]}))}(t,T(o,(function(t){return t.column}))),a=Pc(i,o[0].row,o[0].column);return Bc(i,a)}),(function(t,n){return Xu(t,n).map((function(n){return{details:n,pixelDelta:-qc(t,n)}}))}),Uc,Rc,Sc),ts=Wu((function(t,n,e,r){var o=Hc(n),i=function(t,n,e){var r=fe(t),o=r.rows;return r.cols.concat(o.slice(0,n)).concat(o.slice(e+1))}(t,o[0].row,o[o.length-1].row),a=Pc(i,n[0].row,n[0].column);return Bc(i,a)}),Gu,t,Rc,Sc),ns=(Wu((function(t,n,e,r){var o=xc(t,n.column,e,r.replaceOrInit);return Lc(o,n.row,n.column)}),Ku,t,t,Ac("row","th")),Wu((function(t,n,e,r){var o=Cc(n),i=M(o,(function(t,n){return xc(t,n.column,e,r.replaceOrInit)}),t);return Lc(i,n[0].row,n[0].column)}),Xu,t,t,Ac("row","th"))),es=(Wu((function(t,n,e,r){var o=xc(t,n.column,e,r.replaceOrInit);return Lc(o,n.row,n.column)}),Ku,t,t,Ac(null,"td")),Wu((function(t,n,e,r){var o=Cc(n),i=M(o,(function(t,n){return xc(t,n.column,e,r.replaceOrInit)}),t);return Lc(i,n[0].row,n[0].column)}),Xu,t,t,Ac(null,"td"))),rs=(Wu((function(t,n,e,r){var o=wc(t,n.row,e,r.replaceOrInit);return Lc(o,n.row,n.column)}),$u,t,t,Ac("col","th")),Wu((function(t,n,e,r){var o=Hc(n),i=M(o,(function(t,n){return wc(t,n.row,e,r.replaceOrInit)}),t);return Lc(i,n[0].row,n[0].column)}),Gu,t,t,Ac("col","th")),Wu((function(t,n,e,r){var o=wc(t,n.row,e,r.replaceOrInit);return Lc(o,n.row,n.column)}),$u,t,t,Ac(null,"td")),Wu((function(t,n,e,r){var o=Hc(n),i=M(o,(function(t,n){return wc(t,n.row,e,r.replaceOrInit)}),t);return Lc(i,n[0].row,n[0].column)}),Gu,t,t,Ac(null,"td")),Wu((function(t,n,e,r){var o=n.cells;Nc(o);var i=function(t,n,e,r){var o=fe(t).rows;if(0===o.length)return t;for(var i=n.startRow;i<=n.finishRow;i++)for(var a=n.startCol;a<=n.finishCol;a++){var u=o[i],c=ce(u,a).isLocked;ie(u,a,Ft(r(),!1,c))}return t}(t,n.bounds,0,r.merge(o));return Bc(i,f.from(o[0]))}),Ju,jc,t,Oc)),os=Wu((function(t,n,e,r){var o=z(n,(function(t,n){return Zu(t,n,e,r.unmerge(n))}),t);return Bc(o,f.from(n[0]))}),Qu,jc,t,Oc),is=Wu((function(t,n,e,r){var o=function(t,n){var e=be.fromTable(t);return Hu(e,n,!0)}(n.clipboard,n.generators),i=function(t,n){return{row:t,column:n}}(n.row,n.column);return dc(i,t,o,n.generators,e).fold((function(){return Bc(t,f.some(n.element))}),(function(t){var e=Pc(t,n.row,n.column);return Bc(t,e)}))}),(function(t,n){return Kn(n.element).bind((function(e){return ju(t,e).map((function(t){return W(W({},t),{generators:n.generators,clipboard:n.clipboard})}))}))}),jc,t,Sc),as=Wu((function(t,n,e,r){var o=fe(t).rows,i=n.cells[0].column,a=o[n.cells[0].row],u=Fc(n.clipboard,n.generators,a),c=mc(i,t,u,n.generators,e),s=Pc(c,n.cells[0].row,n.cells[0].column);return Bc(c,s)}),Kc(!0),t,t,Sc),us=Wu((function(t,n,e,r){var o=fe(t).rows,i=n.cells[n.cells.length-1].column+n.cells[n.cells.length-1].colspan,a=o[n.cells[0].row],u=Fc(n.clipboard,n.generators,a),c=mc(i,t,u,n.generators,e),s=Pc(c,n.cells[0].row,n.cells[0].column);return Bc(c,s)}),Kc(!1),t,t,Sc),cs=Wu((function(t,n,e,r){var o=fe(t).rows,i=n.cells[0].row,a=o[i],u=Fc(n.clipboard,n.generators,a),c=pc(i,t,u,n.generators,e),s=Pc(c,n.cells[0].row,n.cells[0].column);return Bc(c,s)}),qu,t,t,Sc),ss=Wu((function(t,n,e,r){var o=fe(t).rows,i=n.cells[n.cells.length-1].row+n.cells[n.cells.length-1].rowspan,a=o[n.cells[0].row],u=Fc(n.clipboard,n.generators,a),c=pc(i,t,u,n.generators,e),s=Pc(c,n.cells[0].row,n.cells[0].column);return Bc(c,s)}),qu,t,t,Sc),ls=function(t,n){var e=be.fromTable(t);return Gu(e,n).bind((function(t){var n=t[t.length-1],r=t[0].column,o=n.column+n.colspan,i=B(T(e.all,(function(t){return D(t.cells,(function(t){return t.column>=r&&t.column<o}))})));return Vc(i,(function(t){return"th"===jt(t.element)}))})).getOr("")},fs=function(t){return oi(t.parentNode)},ds=function(t,n){var e="thead"===fs(n),r=!A(n.cells,(function(t){return"th"!==oi(t)}));return e||r?f.some({thead:e,ths:r}):f.none()},ms=function(t,n){return"thead"===(e=ds(0,n).fold((function(){return fs(n)}),(function(t){return"thead"})))?"header":"tfoot"===e?"footer":"body";var e},ps=function(t,n,e){var r=t.getParent(n,"table"),o=n.parentNode,i=oi(o);if(e!==i){var a=t.select(e,r)[0];if(!a){a=t.create(e);var u=r.firstChild;"thead"===e?j(hn(yt.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(a,u)}),(function(n){return t.insertAfter(a,n.dom)})):r.appendChild(a)}"tbody"===e&&"thead"===i&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),o.hasChildNodes()||t.remove(o)}},gs=function(t,n,e,r){var o=t.dom,i=function(t,n,e){if(y(e)&&oi(n)!==e){var r=t.dom.rename(n,e);return Ka(t,r),r}return n}(t,n,e);return b(r)||o.setAttrib(i,"scope",r),i},hs=function(t,n,e,r){return E(n,(function(n){return gs(t,n,e,r)}))},vs=function(t,n,e){var r,o=t.dom;if("header"===e){var i=du(t),a="auto"===i?(r=Jn(yt.fromDom(n.cells[0])).map((function(t){return Qn(t)})).getOr([]),U(r,(function(t){return ds(0,t.dom)})).map((function(t){return t.thead&&t.ths?"sectionCells":t.thead?"section":"cells"})).getOr("section")):i;hs(t,n.cells,"section"===a?"td":"th","col"),ps(o,n,"cells"===a?"tbody":"thead")}else hs(t,n.cells,"td",null),ps(o,n,"footer"===e?"tfoot":"tbody")},bs=function(t){return function(n){var e=jt(n),r="col"===e||"colgroup"===e?function(t){return Jn(t).bind((function(t){return or(t,vi.firstSelectedSelector)})).fold((function(){return t}),(function(t){return t[0]}))}(n):n;return _n(r,t)}},ys=bs("th,td"),xs=bs("th,td,caption"),ws=function(t,n){return ys(t).map((function(t){return pi(n)})).getOr([])},Cs=function(t,n){var e,r,o,i=ys(t),a=i.bind((function(t){return Jn(t)})).map((function(t){return Qn(t)}));return(e=i,r=a,o=function(t,e){return D(e,(function(e){return A(ri(e.dom.cells),(function(e){return"1"===On(e,n)||Ct(e,t)}))}))},e.isSome()&&r.isSome()?f.some(o(e.getOrDie(),r.getOrDie())):f.none()).getOr([])},_s=function(n,e,r){var o=function(t){return"table"===jt(ii(t))},i=hu(n),a=gu(n)?t:Mu,c=function(t,e,r,o,a){return function(u,c){li(u);var s=o(),l=yt.fromDom(n.getDoc()),d=ni(r,l,i),m=vu(n,u),p=gu(n)?Bi():Pi();return e(u)?t(s,u,c,d,m,p).bind((function(t){return E(t.newRows,(function(t){Ga(n,t.dom)})),E(t.newCells,(function(t){Ka(n,t.dom)})),t.cursor.map((function(t){var e=Du(zu,t),r=n.dom.createRng();return r.setStart(e.element.dom,e.offset),r.setEnd(e.element.dom,e.offset),{rng:r,effect:a}}))})):f.none()}},s=c(ts,(function(t){return!1===o(n)||ta(t).rows>1}),t,e,Ja),l=c(Zc,(function(t){return!1===o(n)||ta(t).columns>1}),t,e,Ja),d=c(Xc,u,t,e,Ja),m=c(Yc,u,t,e,Ja),p=c(Jc,u,a,e,Ja),g=c(Qc,u,a,e,Ja),h=c(rs,u,t,e,Ja),v=c(os,u,t,e,Ja),b=c(as,u,t,e,Ja),y=c(us,u,t,e,Ja),x=c(cs,u,t,e,Ja),w=c(ss,u,t,e,Ja),C=c(is,u,t,e,Ja),_=function(t,n){return Rt(t,"type").filter((function(t){return S(n,t)}))};return{deleteRow:s,deleteColumn:l,insertRowsBefore:d,insertRowsAfter:m,insertColumnsBefore:p,insertColumnsAfter:g,mergeCells:h,unmergeCells:v,pasteColsBefore:b,pasteColsAfter:y,pasteRowsBefore:x,pasteRowsAfter:w,pasteCells:C,setTableCellType:function(t,n){return _(n,["td","th"]).each((function(n){var e=T(ws(mi(t),r),(function(t){return t.dom}));hs(t,e,n,null)}))},setTableRowType:function(t,n){return _(n,["header","body","footer"]).each((function(n){T(Cs(mi(t),vi.selected),(function(e){return vs(t,e.dom,n)}))}))},makeColumnsHeader:c(ns,u,t,e,Ja),unmakeColumnsHeader:c(es,u,t,e,Ja),getTableRowType:function(t){var n=Cs(mi(t),vi.selected);if(n.length>0){var e=T(n,(function(t){return ms(0,t.dom)})),r=S(e,"header"),o=S(e,"footer");if(r||o){var i=S(e,"body");return!r||i||o?r||i||!o?"":"footer":"header"}return"body"}},getTableCellType:function(t){return Vc(ws(mi(t),r),(function(t){return"th"===jt(t)})).getOr("")},getTableColType:ls}},ks={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Ss=function(t){var n=yt.fromTag("colgroup");return O(t,(function(){return Me(n,yt.fromTag("col"))})),n},As=function(t,n,e,r){return O(t,(function(t){return function(t,n,e,r){for(var o=yt.fromTag("tr"),i=0;i<t;i++){var a=r<n||i<e?yt.fromTag("th"):yt.fromTag("td");i<e&&Sn(a,"scope","row"),r<n&&Sn(a,"scope","col"),Me(a,yt.fromTag("br")),Me(o,a)}return o}(n,e,r,t)}))},Os=function(t,n){t.selection.select(n.dom,!0),t.selection.collapse(!0)},Ts=function(t,n,e,o,i){var a=ru(t),u={styles:a,attributes:eu(t),colGroups:fu(t)};return t.undoManager.ignore((function(){var r=function(t,n,e,r,o,i){void 0===i&&(i=ks);var a=yt.fromTag("table"),u="cells"!==o;Rn(a,i.styles),An(a,i.attributes),i.colGroups&&Me(a,Ss(n));var c=Math.min(t,e);if(u&&e>0){var s=yt.fromTag("thead");Me(a,s);var l=As(e,n,"sectionCells"===o?c:0,r);Be(s,l)}var f=yt.fromTag("tbody");Me(a,f);var d=As(u?t-c:t,n,u?0:e,r);return Be(f,d),a}(e,n,i,o,du(t),u);Sn(r,"data-mce-id","__mce");var a=function(t){var n=yt.fromTag("div"),e=yt.fromDom(t.dom.cloneNode(!0));return Me(n,e),function(t){return t.dom.innerHTML}(n)}(r);t.insertContent(a),t.addVisual()})),Cn(ii(t),'table[data-mce-id="__mce"]').map((function(n){return su(t)?wu(t,n):lu(t)?Cu(n):(cu(t)||function(t){return p(t)&&-1!==t.indexOf("%")}(a.width))&&xu(t,n),li(n),En(n,"data-mce-id"),function(t,n){E(vn(n,"tr"),(function(n){Ga(t,n.dom),E(vn(n,"th,td"),(function(n){Ka(t,n.dom)}))}))}(t,n),function(t,n){Cn(n,"td,th").each(r(Os,t))}(t,n),n.dom})).getOr(null)},Es=function(t,n,e,r,o){void 0===r&&(r={});var i=function(t){return w(t)&&t>0};if(i(n)&&i(e)){var a=r.headerRows||0,u=r.headerColumns||0;return Ts(t,e,n,u,a)}return console.error(o),null},Ds=function(t){return function(){return t().fold((function(){return[]}),(function(t){return T(t,(function(t){return t.dom}))}))}},zs=function(t){return function(n){var e=n.length>0?f.some(ri(n)):f.none();t(e)}},Ms=function(t){return function(n,e,r){void 0===r&&(r={});var o=Es(t,e,n,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");return t.undoManager.add(),o}},Ns=function(t,n,e){var r=Hn(t,n,1);1===e||r<=1?En(t,n):Sn(t,n,Math.min(e,r))},Rs=function(t,n){var e=be.fromTable(t);return Xu(e,n).map((function(t){var n=t[t.length-1],r=t[0].column,o=n.column+n.colspan;return $(function(t,n,e){if(be.hasColumns(t)){var r=D(be.justColumns(t),(function(t){return t.column>=n&&t.column<e})),o=T(r,(function(t){var r=gr(t.element);return Ns(r,"span",e-n),r})),i=yt.fromTag("colgroup");return Be(i,o),[i]}return[]}(e,r,o),function(t,n,e){return T(t.all,(function(t){var r=D(t.cells,(function(t){return t.column>=n&&t.column<e})),o=T(r,(function(t){var r=gr(t.element);return Ns(r,"colspan",e-n),r})),i=yt.fromTag("tr");return Be(i,o),i}))}(e,r,o))}))},Bs=function(t,n,e){var r=be.fromTable(t);return Gu(r,n).bind((function(t){var n=Hu(r,e,!1),o=fe(n).rows.slice(t[0].row,t[t.length-1].row+t[t.length-1].rowspan),i=P(o,(function(t){var n=D(t.cells,(function(t){return!t.isLocked}));return n.length>0?[W(W({},t),{cells:n})]:[]})),a=Vu(i,e);return br(a.length>0,a)})).map((function(t){return function(t){return T(t,(function(t){var n=pr(t.element);return E(t.cells,(function(t){var e=gr(t.element);Nu(e,"colspan",t.colspan,1),Nu(e,"rowspan",t.rowspan,1),Me(n,e)})),n}))}(t)}))},Ps=tinymce.util.Tools.resolve("tinymce.util.Tools"),Is=function(t,n,e){return function(n,r){for(var o=0;o<r.length;o++){var i=t.getStyle(r[o],e);if(void 0===n&&(n=i),n!==i)return""}return n}(void 0,t.select("td,th",n))},Ls=function(t,n,e){e&&t.formatter.apply("align"+e,{},n)},Hs=function(t,n){Ps.each("left center right".split(" "),(function(e){t.formatter.remove("align"+e,{},n)}))},Fs=function(t,n){return function(t,n){return n.concat(T(t,(function(t){var n=t.text||t.title;return function(t){return Pt(t,"menu")}(t)?{text:n,items:Fs(t.menu)}:{text:n,value:t.value}})))}(t,n||[])},Vs=function(t){return function(n){return nt(n,"rgb")?t.toHex(n):n}},js=function(t,n){var e=yt.fromDom(n);return{borderwidth:In(e,"border-width").getOr(""),borderstyle:In(e,"border-style").getOr(""),bordercolor:In(e,"border-color").map(Vs(t)).getOr(""),backgroundcolor:In(e,"background-color").map(Vs(t)).getOr("")}},Us=function(t){var n=t[0],e=t.slice(1);return E(e,(function(t){E(At(n),(function(e){Tt(t,(function(t,r){var o=n[e];""!==o&&e===r&&o!==t&&(n[e]="")}))}))})),n},Ws=function(t){var n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},$s=function(t,n,e,r){return N(t,(function(t){return e.formatter.matchNode(r,n+t)})).getOr("")},qs=r($s,["left","center","right"],"align"),Gs=r($s,["top","middle","bottom"],"valign"),Ks=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Xs=function(t){return Ks.concat(function(t){var n=Fs(function(t){return t.getParam("table_cell_class_list",[],"array")}(t));return n.length>0?f.some({name:"class",type:"listbox",label:"Class",items:n}):f.none()}(t).toArray())},Ys=function(t){return function(n,e){var r=n.dom;return{setAttrib:function(n,o){t&&!o||r.setAttrib(e,n,o)},setStyle:function(n,o){t&&!o||r.setStyle(e,n,o)},setFormat:function(r,o){t&&!o||(""===o?n.formatter.remove(r,{value:null},e,!0):n.formatter.apply(r,{value:o},e))}}}},Js={normal:Ys(!1),ifTruthy:Ys(!0)},Qs=function(t){return Jn(t[0]).map((function(n){var e=be.fromTable(n),r=be.justCells(e),o=D(r,(function(n){return A(t,(function(t){return Ct(n.element,t)}))}));return T(o,(function(t){return{element:t.element.dom,column:be.getColumnAt(e,t.column).map((function(t){return t.element.dom}))}}))}))},Zs=function(t,n,e,r){var o=1===n.length,i=zt(r,(function(t,n){return e[n]!==t}));if(Nt(i)>0&&n.length>=1){var a=Jn(n[0]);Qs(n).each((function(n){E(n,(function(n){var e=gs(t,n.element,r.celltype),i=o?Js.normal(t,e):Js.ifTruthy(t,e);!function(t,n,e){t.setAttrib("scope",e.scope),t.setAttrib("class",e.class),t.setStyle("height",si(e.height)),n.setStyle("width",si(e.width))}(i,n.column.map((function(n){return o?Js.normal(t,n):Js.ifTruthy(t,n)})).getOr(i),r),ou(t)&&function(t,n){t.setFormat("tablecellbackgroundcolor",n.backgroundcolor),t.setFormat("tablecellbordercolor",n.bordercolor),t.setFormat("tablecellborderstyle",n.borderstyle),t.setFormat("tablecellborderwidth",si(n.borderwidth))}(i,r),o&&(Hs(t,e),function(t,n){Ps.each("top middle bottom".split(" "),(function(e){t.formatter.remove("valign"+e,{},n)}))}(t,e)),r.halign&&Ls(t,e,r.halign),r.valign&&function(t,n,e){e&&t.formatter.apply("valign"+e,{},n)}(t,e,r.valign)}))}));var u=Nt(zt(i,(function(t,n){return"scope"!==n&&"celltype"!==n})))>0;a.each((function(n){return Xa(t,n.dom,{structure:Bt(i,"celltype"),style:u})}))}},tl=function(t,n,e,r){var o=r.getData();r.close(),t.undoManager.transact((function(){Zs(t,n,e,o),t.focus()}))},nl=function(t,n){var e=Qs(n).map((function(n){return T(n,(function(n){return function(t,n,e,r){var o=t.dom,i=r.getOr(n),a=function(t,n){return o.getStyle(t,n)||o.getAttrib(t,n)};return W({width:a(i,"width"),height:a(n,"height"),scope:o.getAttrib(n,"scope"),celltype:oi(n),class:o.getAttrib(n,"class",""),halign:qs(t,n),valign:Gs(t,n)},e?js(o,n):{})}(t,n.element,ou(t),n.column)}))}));return Us(e.getOrDie())},el=function(t,n){var e=ws(mi(t),n);if(0!==e.length){var o=nl(t,e),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:Xs(t)},Ws("cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:Xs(t)}]};t.windowManager.open({title:"Cell Properties",size:"normal",body:ou(t)?i:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:r(tl,t,e,o)})}},rl=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ol=function(t){return rl.concat(function(t){var n=Fs(function(t){return t.getParam("table_row_class_list",[],"array")}(t));return n.length>0?f.some({name:"class",type:"listbox",label:"Class",items:n}):f.none()}(t).toArray())},il=function(t,n,e,r){var o=1===n.length,i=zt(r,(function(t,n){return e[n]!==t}));if(Nt(i)>0){E(n,(function(n){r.type!==oi(n.parentNode)&&vs(t,n,r.type);var i=o?Js.normal(t,n):Js.ifTruthy(t,n);!function(t,n){t.setAttrib("class",n.class),t.setStyle("height",si(n.height))}(i,r),iu(t)&&function(t,n){t.setStyle("background-color",n.backgroundcolor),t.setStyle("border-color",n.bordercolor),t.setStyle("border-style",n.borderstyle)}(i,r),r.align!==e.align&&(Hs(t,n),Ls(t,n,r.align))}));var a=Bt(i,"type"),u=!a||Nt(i)>1;Jn(yt.fromDom(n[0])).each((function(n){return Xa(t,n.dom,{structure:a,style:u})}))}},al=function(t,n,e,r){var o=r.getData();r.close(),t.undoManager.transact((function(){il(t,n,e,o),t.focus()}))},ul=function(t){var n=Cs(mi(t),vi.selected);if(0!==n.length){var e=T(n,(function(n){return function(t,n,e){var r=t.dom;return W({height:r.getStyle(n,"height")||r.getAttrib(n,"height"),class:r.getAttrib(n,"class",""),type:ms(0,n),align:qs(t,n)},e?js(r,n):{})}(t,n.dom,iu(t))})),o=Us(e),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:ol(t)},Ws("row")]},a={type:"panel",items:[{type:"grid",columns:2,items:ol(t)}]};t.windowManager.open({title:"Row Properties",size:"normal",body:iu(t)?i:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:r(al,t,T(n,(function(t){return t.dom})),o)})}},cl=tinymce.util.Tools.resolve("tinymce.Env"),sl=function(t,n,e){var r=e?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=function(t){return t.getParam("table_appearance_options",!0,"boolean")}(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=n.length>0?[{type:"listbox",name:"class",label:"Class",items:n}]:[];return r.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(o).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(i)},ll=function(t,n,e,r){if("TD"===n.tagName||"TH"===n.tagName)p(e)?t.setStyle(n,e,r):t.setStyle(n,e);else if(n.children)for(var o=0;o<n.children.length;o++)ll(t,n.children[o],e,r)},fl=function(t,n,e,r){var o,i=t.dom,a=r.getData(),u=zt(a,(function(t,n){return e[n]!==t}));r.close(),""===a.class&&delete a.class,t.undoManager.transact((function(){if(!n){var e=parseInt(a.cols,10)||1,r=parseInt(a.rows,10)||1;n=Ts(t,e,r,0,0)}if(Nt(u)>0&&(!function(t,n,e){var r=t.dom,o={},i={};if(o.class=e.class,i.height=si(e.height),r.getAttrib(n,"width")&&!uu(t)?o.width=function(t){return t?t.replace(/px$/,""):""}(e.width):i.width=si(e.width),uu(t)?(i["border-width"]=si(e.border),i["border-spacing"]=si(e.cellspacing)):(o.border=e.border,o.cellpadding=e.cellpadding,o.cellspacing=e.cellspacing),uu(t)&&n.children)for(var a=0;a<n.children.length;a++)ll(r,n.children[a],{"border-width":si(e.border),padding:si(e.cellpadding)}),au(t)&&ll(r,n.children[a],{"border-color":e.bordercolor});au(t)&&(i["background-color"]=e.backgroundcolor,i["border-color"]=e.bordercolor,i["border-style"]=e.borderstyle),o.style=r.serializeStyle(W(W({},ru(t)),i)),r.setAttribs(n,W(W({},eu(t)),o))}(t,n,a),(o=i.select("caption",n)[0])&&!a.caption&&i.remove(o),!o&&a.caption&&((o=i.create("caption")).innerHTML=cl.ie?" ":'<br data-mce-bogus="1"/>',n.insertBefore(o,n.firstChild)),""===a.align?Hs(t,n):Ls(t,n,a.align)),t.focus(),t.addVisual(),Nt(u)>0){var c=Bt(u,"caption"),s=!c||Nt(u)>1;Xa(t,n,{structure:c,style:s})}}))},dl=function(t,n){var e,o=t.dom,i=function(t,n){var e,r,o,i,a=ru(t),u=eu(t),c=n?(e=t.dom,{borderstyle:Rt(a,"border-style").getOr(""),bordercolor:Vs(e)(Rt(a,"border-color").getOr("")),backgroundcolor:Vs(e)(Rt(a,"background-color").getOr(""))}):{};return W(W(W(W(W(W({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),a),u),c),(i=a["border-width"],uu(t)&&i?{border:i}:Rt(u,"border").fold((function(){return{}}),(function(t){return{border:t}})))),(r=Rt(a,"border-spacing").or(Rt(u,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}})),o=Rt(a,"border-padding").or(Rt(u,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}})),W(W({},r),o)))}(t,au(t));!1===n?(e=o.getParent(t.selection.getStart(),"table"))?i=function(t,n,e){var r=t.dom;return W({width:r.getStyle(n,"width")||r.getAttrib(n,"width"),height:r.getStyle(n,"height")||r.getAttrib(n,"height"),cellspacing:r.getStyle(n,"border-spacing")||r.getAttrib(n,"cellspacing"),cellpadding:r.getAttrib(n,"cellpadding")||Is(t.dom,n,"padding"),border:function(n,e){var r=In(yt.fromDom(e),"border-width");return uu(t)&&r.isSome()?r.getOr(""):n.getAttrib(e,"border")||Is(t.dom,e,"border-width")||Is(t.dom,e,"border")}(r,n),caption:!!r.select("caption",n)[0],class:r.getAttrib(n,"class",""),align:qs(t,n)},e?js(r,n):{})}(t,e,au(t)):au(t)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""):(i.cols="1",i.rows="1",au(t)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));var a=Fs(function(t){return t.getParam("table_class_list",[],"array")}(t));a.length>0&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:sl(t,a,n)},c=au(t)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},Ws("table")]}:{type:"panel",items:[u]};t.windowManager.open({title:"Table Properties",size:"normal",body:c,onSubmit:r(fl,t,e,i),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},ml=function(t){return xs(mi(t))},pl=function(t){return ys(mi(t))},gl=function(n,e,o,a,u){var c=ci(n),s=function(t){return Jn(t,c)},l=function(t){return function(e){n.selection.setRng(e.rng),n.focus(),o.clear(t),li(t),Xa(n,t.dom,e.effect)}},d=function(t){return pl(n).each((function(n){s(n).each((function(e){var r=yi(a,e,n);t(e,r).each(l(e))}))}))},m=function(){return pl(n).map((function(e){return s(e).bind((function(r){var o=yi(a,r,e),i=ni(t,yt.fromDom(n.getDoc()),f.none());return Bs(r,o,i)}))}))},h=function(){return pl(n).map((function(t){return s(t).bind((function(n){var e=yi(a,n,t);return Rs(n,e)}))}))},v=function(t,e){return e().each((function(e){var r=T(e,(function(t){return gr(t)}));pl(n).each((function(e){return s(e).each((function(e){var o=ei(yt.fromDom(n.getDoc())),i=function(t,n,e,r){return{selection:pi(t),clipboard:e,generators:r}}(a,0,r,o);t(e,i).each(l(e))}))}))}))};Tt({mceTableSplitCells:function(){return d(e.unmergeCells)},mceTableMergeCells:function(){return d(e.mergeCells)},mceTableInsertRowBefore:function(){return d(e.insertRowsBefore)},mceTableInsertRowAfter:function(){return d(e.insertRowsAfter)},mceTableInsertColBefore:function(){return d(e.insertColumnsBefore)},mceTableInsertColAfter:function(){return d(e.insertColumnsAfter)},mceTableDeleteCol:function(){return d(e.deleteColumn)},mceTableDeleteRow:function(){return d(e.deleteRow)},mceTableCutCol:function(t){return h().each((function(t){u.setColumns(t),d(e.deleteColumn)}))},mceTableCutRow:function(t){return m().each((function(t){u.setRows(t),d(e.deleteRow)}))},mceTableCopyCol:function(t){return h().each((function(t){return u.setColumns(t)}))},mceTableCopyRow:function(t){return m().each((function(t){return u.setRows(t)}))},mceTablePasteColBefore:function(t){return v(e.pasteColsBefore,u.getColumns)},mceTablePasteColAfter:function(t){return v(e.pasteColsAfter,u.getColumns)},mceTablePasteRowBefore:function(t){return v(e.pasteRowsBefore,u.getRows)},mceTablePasteRowAfter:function(t){return v(e.pasteRowsAfter,u.getRows)},mceTableDelete:function(){return ml(n).each((function(t){Jn(t,c).filter(i(c)).each((function(t){var e=yt.fromText("");if(De(t,e),Ie(t),n.dom.isEmpty(n.getBody()))n.setContent(""),n.selection.setCursorLocation();else{var r=n.dom.createRng();r.setStart(e.dom,0),r.setEnd(e.dom,0),n.selection.setRng(r),n.nodeChanged()}}))}))},mceTableSizingMode:function(t,e){return function(t){return ml(n).each((function(e){lu(n)||su(n)||cu(n)||Jn(e,c).each((function(e){"relative"!==t||Yi(e)?"fixed"!==t||Ji(e)?"responsive"!==t||Qi(e)||Cu(e):wu(n,e):xu(n,e),li(e),Xa(n,e.dom,Ja)}))}))}(e)}},(function(t,e){return n.addCommand(e,t)}));var b=function(t,n){n.each((function(n){Xa(t,n.dom,Ja)}))};Tt({mceTableCellType:function(t,r){var o=Jn(mi(n),c);e.setTableCellType(n,r),b(n,o)},mceTableRowType:function(t,r){var o=Jn(mi(n),c);e.setTableRowType(n,r),b(n,o)}},(function(t,e){return n.addCommand(e,t)})),n.addCommand("mceTableColType",(function(t,n){return Rt(n,"type").each((function(t){return d("th"===t?e.makeColumnsHeader:e.unmakeColumnsHeader)}))})),Tt({mceTableProps:r(dl,n,!1),mceTableRowProps:r(ul,n),mceTableCellProps:r(el,n,a)},(function(t,e){return n.addCommand(e,(function(){return t()}))})),n.addCommand("mceInsertTable",(function(t,e){g(e)&&At(e).length>0?Es(n,e.rows,e.columns,e.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):dl(n,!0)})),n.addCommand("mceTableApplyCellStyle",(function(t,e){var r=function(t){return"tablecell"+t.toLowerCase().replace("-","")};if(g(e)){var o=ws(mi(n),a);if(0!==o.length){var i=zt(e,(function(t,e){return n.formatter.has(r(e))&&p(t)}));(function(t){for(var n in t)if(Ot.call(t,n))return!1;return!0})(i)||(Tt(i,(function(t,e){E(o,(function(o){Js.normal(n,o.dom).setFormat(r(e),t)}))})),s(o[0]).each((function(t){return Xa(n,t.dom,Ya)})))}}}))},hl=function(t,n,e){var r=ci(t);Tt({mceTableRowType:function(){return n.getTableRowType(t)},mceTableCellType:function(){return n.getTableCellType(t)},mceTableColType:function(){return ys(mi(t)).bind((function(t){return function(t){return Jn(t,r)}(t).map((function(r){var o=yi(e,r,t);return n.getTableColType(r,o)}))})).getOr("")}},(function(n,e){return t.addQueryValueHandler(e,n)}))},vl={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},bl=ar([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),yl=W(W({},bl),{none:function(t){return void 0===t&&(t=void 0),bl.none(t)}}),xl=function(t,n){return Jn(t,n).bind((function(n){var e=Xn(n);return R(e,(function(n){return Ct(t,n)})).map((function(t){return{index:t,all:e}}))}))},wl=function(t,n,e,r){return{start:t,soffset:n,finish:e,foffset:r}},Cl=ar([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),_l={before:Cl.before,on:Cl.on,after:Cl.after,cata:function(t,n,e,r){return t.fold(n,e,r)},getStart:function(t){return t.fold(e,e,e)}},kl=ar([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Sl={domRange:kl.domRange,relative:kl.relative,exact:kl.exact,exactFromRange:function(t){return kl.exact(t.start,t.soffset,t.finish,t.foffset)},getWin:function(t){var n,e=function(t){return t.match({domRange:function(t){return yt.fromDom(t.startContainer)},relative:function(t,n){return _l.getStart(t)},exact:function(t,n,e,r){return t}})}(t);return n=e,yt.fromDom(Qt(n).dom.defaultView)},range:wl},Al=function(t,n){return t.selectNodeContents(n.dom)},Ol=function(t,n,e){var r,o=t.document.createRange();return r=o,n.fold((function(t){r.setStartBefore(t.dom)}),(function(t,n){r.setStart(t.dom,n)}),(function(t){r.setStartAfter(t.dom)})),function(t,n){n.fold((function(n){t.setEndBefore(n.dom)}),(function(n,e){t.setEnd(n.dom,e)}),(function(n){t.setEndAfter(n.dom)}))}(o,e),o},Tl=function(t,n,e,r,o){var i=t.document.createRange();return i.setStart(n.dom,e),i.setEnd(r.dom,o),i},El=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},Dl=ar([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zl=function(t,n,e){return n(yt.fromDom(e.startContainer),e.startOffset,yt.fromDom(e.endContainer),e.endOffset)},Ml=function(t,e){return function(t,n){var e=n.ltr();return e.collapsed?n.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return Dl.rtl(yt.fromDom(t.endContainer),t.endOffset,yt.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return zl(0,Dl.ltr,e)})):zl(0,Dl.ltr,e)}(0,function(t,e){return e.match({domRange:function(t){return{ltr:n(t),rtl:f.none}},relative:function(n,e){return{ltr:q((function(){return Ol(t,n,e)})),rtl:q((function(){return f.some(Ol(t,e,n))}))}},exact:function(n,e,r,o){return{ltr:q((function(){return Tl(t,n,e,r,o)})),rtl:q((function(){return f.some(Tl(t,r,o,n,e))}))}}})}(t,e))},Nl=function(t,n){return Ml(t,n).match({ltr:function(n,e,r,o){var i=t.document.createRange();return i.setStart(n.dom,e),i.setEnd(r.dom,o),i},rtl:function(n,e,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(n.dom,e),i}})},Rl=(Dl.ltr,Dl.rtl,function(t,n,e){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}),Bl=function(t,n,e,r,o){var i=function(e){var r=t.dom.createRange();return r.setStart(n.dom,e),r.collapse(!0),r},a=Fe(n).length,u=function(t,n,e,r,o){if(0===o)return 0;if(n===r)return o-1;for(var i=r,a=1;a<o;a++){var u=t(a),c=Math.abs(n-u.left);if(e<=u.bottom){if(e<u.top||c>i)return a-1;i=c}}return 0}((function(t){return i(t).getBoundingClientRect()}),e,r,o.right,a);return i(u)},Pl=function(t,n,e,r){return Gt(n)?function(t,n,e,r){var o=t.dom.createRange();o.selectNode(n.dom);var i=o.getClientRects();return U(i,(function(t){return Rl(t,e,r)?f.some(t):f.none()})).map((function(o){return Bl(t,n,e,r,o)}))}(t,n,e,r):function(t,n,e,r){var o=t.dom.createRange(),i=rn(n);return U(i,(function(n){return o.selectNode(n.dom),Rl(o.getBoundingClientRect(),e,r)?Pl(t,n,e,r):f.none()}))}(t,n,e,r)},Il=function(t,n){return n-t.left<t.right-n},Ll=function(t,n,e){var r=t.dom.createRange();return r.selectNode(n.dom),r.collapse(e),r},Hl=function(t,n,e){var r=t.dom.createRange();r.selectNode(n.dom);var o=r.getBoundingClientRect(),i=Il(o,e);return(!0===i?$o:qo)(n).map((function(n){return Ll(t,n,i)}))},Fl=function(t,n,e){var r=n.dom.getBoundingClientRect(),o=Il(r,e);return f.some(Ll(t,n,o))},Vl=function(t,n,e){return f.from(t.dom.caretPositionFromPoint(n,e)).bind((function(n){if(null===n.offsetNode)return f.none();var e=t.dom.createRange();return e.setStart(n.offsetNode,n.offset),e.collapse(),f.some(e)}))},jl=function(t,n,e){return f.from(t.dom.caretRangeFromPoint(n,e))},Ul=function(t,n,e,r){var o=t.dom.createRange();o.selectNode(n.dom);var i=o.getBoundingClientRect();return function(t,n,e,r){var o=t.dom.createRange();o.selectNode(n.dom);var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,e)),u=Math.max(i.top,Math.min(i.bottom,r));return Pl(t,n,a,u)}(t,n,Math.max(i.left,Math.min(i.right,e)),Math.max(i.top,Math.min(i.bottom,r)))},Wl=function(t,n,e){return yt.fromPoint(t,n,e).bind((function(r){var o=function(){return function(t,n,e){return(0===rn(n).length?Fl:Hl)(t,n,e)}(t,r,n)};return 0===rn(r).length?o():Ul(t,r,n,e).orThunk(o)}))},$l=document.caretPositionFromPoint?Vl:document.caretRangeFromPoint?jl:Wl,ql=function(t,n){var e=jt(t);return"input"===e?_l.after(t):S(["br","img"],e)?0===n?_l.before(t):_l.after(t):_l.on(t,n)},Gl=function(t,n){var e=t.fold(_l.before,ql,_l.after),r=n.fold(_l.before,ql,_l.after);return Sl.relative(e,r)},Kl=function(t,n,e,r){var o=ql(t,n),i=ql(e,r);return Sl.relative(o,i)},Xl=function(t,n,e,r){var o=function(t,n,e,r){var o=Jt(t).dom.createRange();return o.setStart(t.dom,n),o.setEnd(e.dom,r),o}(t,n,e,r),i=Ct(t,e)&&n===r;return o.collapsed&&!i},Yl=function(t){return f.from(t.getSelection())},Jl=function(t,n){Yl(t).each((function(t){t.removeAllRanges(),t.addRange(n)}))},Ql=function(t,n,e,r,o){var i=Tl(t,n,e,r,o);Jl(t,i)},Zl=function(t,n){return Ml(t,n).match({ltr:function(n,e,r,o){Ql(t,n,e,r,o)},rtl:function(n,e,r,o){Yl(t).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(n.dom,e,r.dom,o);else if(i.extend)try{!function(t,n,e,r,o,i){n.collapse(e.dom,r),n.extend(o.dom,i)}(0,i,n,e,r,o)}catch(i){Ql(t,r,o,n,e)}else Ql(t,r,o,n,e)}))}})},tf=function(t,n,e,r,o){var i=Kl(n,e,r,o);Zl(t,i)},nf=function(t,n,e){var r=Gl(n,e);Zl(t,r)},ef=function(t){var n=Sl.getWin(t).dom,e=function(t,e,r,o){return Tl(n,t,e,r,o)},r=function(t){return t.match({domRange:function(t){var n=yt.fromDom(t.startContainer),e=yt.fromDom(t.endContainer);return Kl(n,t.startOffset,e,t.endOffset)},relative:Gl,exact:Kl})}(t);return Ml(n,r).match({ltr:e,rtl:e})},rf=function(t){if(t.rangeCount>0){var n=t.getRangeAt(0),e=t.getRangeAt(t.rangeCount-1);return f.some(wl(yt.fromDom(n.startContainer),n.startOffset,yt.fromDom(e.endContainer),e.endOffset))}return f.none()},of=function(t){if(null===t.anchorNode||null===t.focusNode)return rf(t);var n=yt.fromDom(t.anchorNode),e=yt.fromDom(t.focusNode);return Xl(n,t.anchorOffset,e,t.focusOffset)?f.some(wl(n,t.anchorOffset,e,t.focusOffset)):rf(t)},af=function(t,n){var e=function(t,n){var e=t.document.createRange();return Al(e,n),e}(t,n);Jl(t,e)},uf=function(t){return function(t){return Yl(t).filter((function(t){return t.rangeCount>0})).bind(of)}(t).map((function(t){return Sl.exact(t.start,t.soffset,t.finish,t.foffset)}))},cf=function(t,n){return function(t){var n=t.getClientRects(),e=n.length>0?n[0]:t.getBoundingClientRect();return e.width>0||e.height>0?f.some(e).map(El):f.none()}(Nl(t,n))},sf=function(t,n,e){return function(t,n,e){var r=yt.fromDom(t.document);return $l(r,n,e).map((function(t){return wl(yt.fromDom(t.startContainer),t.startOffset,yt.fromDom(t.endContainer),t.endOffset)}))}(t,n,e)},lf=tinymce.util.Tools.resolve("tinymce.util.VK"),ff=function(t,n,e,r){return pf(t,n,function(t,n){return xl(t,n).fold((function(){return yl.none(t)}),(function(n){return n.index+1<n.all.length?yl.middle(t,n.all[n.index+1]):yl.last(t)}))}(e),r)},df=function(t,n,e,r){return pf(t,n,function(t,n){return xl(t,n).fold((function(){return yl.none()}),(function(n){return n.index-1>=0?yl.middle(t,n.all[n.index-1]):yl.first(t)}))}(e),r)},mf=function(t,n){var e=Sl.exact(n,0,n,0);return ef(e)},pf=function(t,n,e,r){return e.fold(f.none,f.none,(function(t,n){return $o(n).map((function(t){return mf(0,t)}))}),(function(e){return Jn(e,n).bind((function(n){var o=bi(e);return t.undoManager.transact((function(){r.insertRowsAfter(n,o)})),function(t,n){var e=vn(n,"tr");return j(e).bind((function(t){return Cn(t,"td,th").map((function(t){return mf(0,t)}))}))}(0,n)}))}))},gf=["table","li","dl"],hf=function(t,n){return{selection:t,kill:n}},vf=function(t,n,e,r){return{start:_l.on(t,n),finish:_l.on(e,r)}},bf=function(t,n){var e=Nl(t,n);return wl(yt.fromDom(e.startContainer),e.startOffset,yt.fromDom(e.endContainer),e.endOffset)},yf=vf,xf=function(t,n,e,r,o){return Ct(e,r)?f.none():tr(e,r,n).bind((function(n){var r=n.boxes.getOr([]);return r.length>0?(o(t,r,n.start,n.finish),f.some(hf(f.some(yf(e,0,e,jo(e))),!0))):f.none()}))},wf=function(t,n){return{item:t,mode:n}},Cf=function(t,n,e,r){return void 0===r&&(r=_f),t.property().parent(n).map((function(t){return wf(t,r)}))},_f=function(t,n,e,r){return void 0===r&&(r=kf),e.sibling(t,n).map((function(t){return wf(t,r)}))},kf=function(t,n,e,r){void 0===r&&(r=kf);var o=t.property().children(n);return e.first(o).map((function(t){return wf(t,r)}))},Sf=[{current:Cf,next:_f,fallback:f.none()},{current:_f,next:kf,fallback:f.some(Cf)},{current:kf,next:kf,fallback:f.some(_f)}],Af=function(t,n,e,r,o){return void 0===o&&(o=Sf),N(o,(function(t){return t.current===e})).bind((function(e){return e.current(t,n,r,e.next).orThunk((function(){return e.fallback.bind((function(e){return Af(t,n,e,r)}))}))}))},Of=function(){return{sibling:function(t,n){return t.query().prevSibling(n)},first:function(t){return t.length>0?f.some(t[t.length-1]):f.none()}}},Tf=function(){return{sibling:function(t,n){return t.query().nextSibling(n)},first:function(t){return t.length>0?f.some(t[0]):f.none()}}},Ef=function(t,n,e,r,o,i){return Af(t,n,r,o).bind((function(n){return i(n.item)?f.none():e(n.item)?f.some(n.item):Ef(t,n.item,e,n.mode,o,i)}))},Df=function(t){return function(n){return 0===t.property().children(n).length}},zf=function(t,n,e,r){return Ef(t,n,e,_f,Of(),r)},Mf=function(t,n,e,r){return Ef(t,n,e,_f,Tf(),r)},Nf=We(),Rf=function(t,n){return function(t,n,e){return zf(t,n,Df(t),e)}(Nf,t,n)},Bf=function(t,n){return function(t,n,e){return Mf(t,n,Df(t),e)}(Nf,t,n)},Pf=ar([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),If=function(t){return _n(t,"tr")},Lf=W(W({},Pf),{verify:function(t,n,e,r,o,i,a){return _n(r,"td,th",a).bind((function(e){return _n(n,"td,th",a).map((function(n){return Ct(e,n)?Ct(r,e)&&jo(e)===o?i(n):Pf.none("in same cell"):Qe(If,[e,n]).fold((function(){return function(t,n,e){var r=t.getRect(n),o=t.getRect(e);return o.right>r.left&&o.left<r.right}(t,n,e)?Pf.success():i(n)}),(function(t){return i(n)}))}))})).getOr(Pf.none("default"))},cata:function(t,n,e,r,o){return t.fold(n,e,r,o)}}),Hf=function(t,n){return R(t,r(Ct,n))},Ff=function(t){return"br"===jt(t)},Vf=function(t,n,e){return n(t,e).bind((function(t){return Gt(t)&&0===Fe(t).trim().length?Vf(t,n,e):f.some(t)}))},jf=function(t,n,e,r){return function(t,n){return on(t,n).filter(Ff).orThunk((function(){return on(t,n-1).filter(Ff)}))}(n,e).bind((function(n){return r.traverse(n).fold((function(){return Vf(n,r.gather,t).map(r.relative)}),(function(t){return function(t){return Zt(t).bind((function(n){var e=rn(n);return Hf(e,t).map((function(r){return function(t,n,e,r){return{parent:t,children:n,element:e,index:r}}(n,e,t,r)}))}))}(t).map((function(t){return _l.on(t.parent,t.index)}))}))}))},Uf=function(t,n,e,r){return(Ff(n)?function(t,n,e){return e.traverse(n).orThunk((function(){return Vf(n,e.gather,t)})).map(e.relative)}(t,n,r):jf(t,n,e,r)).map((function(t){return{start:t,finish:t}}))},Wf=function(t,n){return{left:t.left,top:t.top+n,right:t.right,bottom:t.bottom+n}},$f=function(t,n){return{left:t.left,top:t.top-n,right:t.right,bottom:t.bottom-n}},qf=function(t,n,e){return{left:t.left+n,top:t.top+e,right:t.right+n,bottom:t.bottom+e}},Gf=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}},Kf=function(t,n){return f.some(t.getRect(n))},Xf=function(t,n,e){return qt(n)?Kf(t,n).map(Gf):Gt(n)?function(t,n,e){return e>=0&&e<jo(n)?t.getRangedRect(n,e,n,e+1):e>0?t.getRangedRect(n,e-1,n,e):f.none()}(t,n,e).map(Gf):f.none()},Yf=function(t,n){return qt(n)?Kf(t,n).map(Gf):Gt(n)?t.getRangedRect(n,0,n,jo(n)).map(Gf):f.none()},Jf=ar([{none:[]},{retry:["caret"]}]),Qf=function(t,n,e){return(r=n,o=Dc,bn((function(t,n){return n(t)}),yn,r,o,i)).fold(a,(function(n){return Yf(t,n).exists((function(t){return function(t,n){return t.left<n.left||Math.abs(n.right-t.left)<1||t.left>n.right}(e,t)}))}));var r,o,i},Zf={point:function(t){return t.bottom},adjuster:function(t,n,e,r,o){var i=Wf(o,5);return Math.abs(e.bottom-r.bottom)<1||e.top>o.bottom?Jf.retry(i):e.top===o.bottom?Jf.retry(Wf(o,1)):Qf(t,n,o)?Jf.retry(qf(i,5,0)):Jf.none()},move:Wf,gather:Bf},td=function(t,n,e,r,o){return 0===o?f.some(r):function(t,n,e){return t.elementFromPoint(n,e).filter((function(t){return"table"===jt(t)})).isSome()}(t,r.left,n.point(r))?function(t,n,e,r,o){return td(t,n,e,n.move(r,5),o)}(t,n,e,r,o-1):t.situsFromPoint(r.left,n.point(r)).bind((function(i){return i.start.fold(f.none,(function(i){return Yf(t,i).bind((function(a){return n.adjuster(t,i,a,e,r).fold(f.none,(function(r){return td(t,n,e,r,o-1)}))})).orThunk((function(){return f.some(r)}))}),f.none)}))},nd=function(t,n,e){var r=t.move(e,5),o=td(n,t,e,r,100).getOr(r);return function(t,n,e){return t.point(n)>e.getInnerHeight()?f.some(t.point(n)-e.getInnerHeight()):t.point(n)<0?f.some(-t.point(n)):f.none()}(t,o,n).fold((function(){return n.situsFromPoint(o.left,t.point(o))}),(function(e){return n.scrollBy(0,e),n.situsFromPoint(o.left,t.point(o)-e)}))},ed={tryUp:r(nd,{point:function(t){return t.top},adjuster:function(t,n,e,r,o){var i=$f(o,5);return Math.abs(e.top-r.top)<1||e.bottom<o.top?Jf.retry(i):e.bottom===o.top?Jf.retry($f(o,1)):Qf(t,n,o)?Jf.retry(qf(i,5,0)):Jf.none()},move:$f,gather:Rf}),tryDown:r(nd,Zf),ieTryUp:function(t,n){return t.situsFromPoint(n.left,n.top-5)},ieTryDown:function(t,n){return t.situsFromPoint(n.left,n.bottom+5)},getJumpSize:n(5)},rd=function(t,n,e){return t.getSelection().bind((function(r){return Uf(n,r.finish,r.foffset,e).fold((function(){return f.some(Au(r.finish,r.foffset))}),(function(o){var i=t.fromSitus(o);return function(t){return Lf.cata(t,(function(t){return f.none()}),(function(){return f.none()}),(function(t){return f.some(Au(t,0))}),(function(t){return f.some(Au(t,jo(t)))}))}(Lf.verify(t,r.finish,r.foffset,i.finish,i.foffset,e.failure,n))}))}))},od=function(t,n,e,r,o,i){return 0===i?f.none():ud(t,n,e,r,o).bind((function(a){var u=t.fromSitus(a),c=Lf.verify(t,e,r,u.finish,u.foffset,o.failure,n);return Lf.cata(c,(function(){return f.none()}),(function(){return f.some(a)}),(function(a){return Ct(e,a)&&0===r?id(t,e,r,$f,o):od(t,n,a,0,o,i-1)}),(function(a){return Ct(e,a)&&r===jo(a)?id(t,e,r,Wf,o):od(t,n,a,jo(a),o,i-1)}))}))},id=function(t,n,e,r,o){return Xf(t,n,e).bind((function(n){return ad(t,o,r(n,ed.getJumpSize()))}))},ad=function(t,n,e){var r=vt().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?n.otherRetry(t,e):r.isIE()?n.ieRetry(t,e):f.none()},ud=function(t,n,e,r,o){return Xf(t,e,r).bind((function(n){return ad(t,o,n)}))},cd=function(t,n){return yn(t,(function(t){return Zt(t).exists((function(t){return Ct(t,n)}))}),e).isSome();var e},sd=function(t,n,e,r,o){return _n(r,"td,th",n).bind((function(r){return _n(r,"table",n).bind((function(i){return cd(o,i)?function(t,n,e){return rd(t,n,e).bind((function(r){return od(t,n,r.element,r.offset,e,20).map(t.fromSitus)}))}(t,n,e).bind((function(t){return _n(t.finish,"td,th",n).map((function(n){return{start:r,finish:n,range:t}}))})):f.none()}))}))},ld=function(t,n,e,r,o,i){return vt().browser.isIE()?f.none():i(r,n).orThunk((function(){return sd(t,n,e,r,o).map((function(t){var n=t.range;return hf(f.some(yf(n.start,n.soffset,n.finish,n.foffset)),!0)}))}))},fd=function(t,n){return _n(t,"tr",n).bind((function(t){return _n(t,"table",n).bind((function(e){var r=vn(e,"tr");return Ct(t,r[0])?function(t,n,e){return zf(Nf,t,n,e)}(e,(function(t){return qo(t).isSome()}),n).map((function(t){var n=jo(t);return hf(f.some(yf(t,n,t,n)),!0)})):f.none()}))}))},dd=function(t,n){return _n(t,"tr",n).bind((function(t){return _n(t,"table",n).bind((function(e){var r=vn(e,"tr");return Ct(t,r[r.length-1])?function(t,n,e){return Mf(Nf,t,n,e)}(e,(function(t){return $o(t).isSome()}),n).map((function(t){return hf(f.some(yf(t,0,t,0)),!0)})):f.none()}))}))},md=function(t,n,e,r,o,i,a){return sd(t,e,r,o,i).bind((function(t){return xf(n,e,t.start,t.finish,a)}))},pd=function(t,n){return _n(t,"td,th",n)},gd=function(t,n,e,r){var o,i=(o=No(f.none()),{clear:function(){return o.set(f.none())},set:function(t){return o.set(f.some(t))},isSet:function(){return o.get().isSome()},on:function(t){return o.get().each(t)}}),a=i.clear,u=function(o){i.on((function(i){r.clearBeforeUpdate(n),pd(o.target,e).each((function(o){tr(i,o,e).each((function(e){var a=e.boxes.getOr([]);(a.length>1||1===a.length&&!Ct(i,o))&&(r.selectRange(n,a,e.start,e.finish),t.selectContents(o))}))}))}))};return{clearstate:a,mousedown:function(t){r.clear(n),pd(t.target,e).each(i.set)},mouseover:function(t){u(t)},mouseup:function(t){u(t),a()}}},hd={traverse:en,gather:Bf,relative:_l.before,otherRetry:ed.tryDown,ieRetry:ed.ieTryDown,failure:Lf.failedDown},vd={traverse:nn,gather:Rf,relative:_l.before,otherRetry:ed.tryUp,ieRetry:ed.ieTryUp,failure:Lf.failedUp},bd=function(t){return function(n){return n===t}},yd=bd(38),xd=bd(40),wd=function(t){return t>=37&&t<=40},Cd={isBackward:bd(37),isForward:bd(39)},_d={isBackward:bd(39),isForward:bd(37)},kd=function(t){return{elementFromPoint:function(n,e){return yt.fromPoint(yt.fromDom(t.document),n,e)},getRect:function(t){return t.dom.getBoundingClientRect()},getRangedRect:function(n,e,r,o){var i=Sl.exact(n,e,r,o);return cf(t,i)},getSelection:function(){return uf(t).map((function(n){return bf(t,n)}))},fromSitus:function(n){var e=Sl.relative(n.start,n.finish);return bf(t,e)},situsFromPoint:function(n,e){return sf(t,n,e).map((function(t){return vf(t.start,t.soffset,t.finish,t.foffset)}))},clearSelection:function(){!function(t){Yl(t).each((function(t){return t.removeAllRanges()}))}(t)},collapseSelection:function(n){void 0===n&&(n=!1),uf(t).each((function(e){return e.fold((function(t){return t.collapse(n)}),(function(e,r){var o=n?e:r;nf(t,o,o)}),(function(e,r,o,i){var a=n?e:o,u=n?r:i;tf(t,a,u,a,u)}))}))},setSelection:function(n){tf(t,n.start,n.soffset,n.finish,n.foffset)},setRelativeSelection:function(n,e){nf(t,n,e)},selectContents:function(n){af(t,n)},getInnerHeight:function(){return t.innerHeight},getScrollY:function(){var n,e,r,o;return(n=yt.fromDom(t.document),e=void 0!==n?n.dom:document,r=e.body.scrollLeft||e.documentElement.scrollLeft,o=e.body.scrollTop||e.documentElement.scrollTop,Nr(r,o)).top},scrollBy:function(n,e){!function(t,n,e){var r=(void 0!==e?e.dom:document).defaultView;r&&r.scrollBy(t,n)}(n,e,yt.fromDom(t.document))}}},Sd=function(t,n){return{rows:t,cols:n}},Ad=function(t,n,e,o){var i=kd(t),a=function(){return o.clear(n),f.none()};return{keydown:function(t,u,c,s,l,d){var m=t.raw,p=m.which,g=!0===m.shiftKey;return nr(n,o.selectedSelector).fold((function(){return xd(p)&&g?r(md,i,n,e,hd,s,u,o.selectRange):yd(p)&&g?r(md,i,n,e,vd,s,u,o.selectRange):xd(p)?r(ld,i,e,hd,s,u,dd):yd(p)?r(ld,i,e,vd,s,u,fd):f.none}),(function(t){var e=function(e){return function(){return U(e,(function(e){return function(t,n,e,r,o){return rr(r,t,n,o.firstSelectedSelector,o.lastSelectedSelector).map((function(t){return o.clearBeforeUpdate(e),o.selectRange(e,t.boxes,t.start,t.finish),t.boxes}))}(e.rows,e.cols,n,t,o)})).fold((function(){return er(n,o.firstSelectedSelector,o.lastSelectedSelector).map((function(t){var e=xd(p)||d.isForward(p)?_l.after:_l.before;return i.setRelativeSelection(_l.on(t.first,0),e(t.table)),o.clear(n),hf(f.none(),!0)}))}),(function(t){return f.some(hf(f.none(),!0))}))}};return xd(p)&&g?e([Sd(1,0)]):yd(p)&&g?e([Sd(-1,0)]):d.isBackward(p)&&g?e([Sd(0,-1),Sd(-1,0)]):d.isForward(p)&&g?e([Sd(0,1),Sd(1,0)]):wd(p)&&!1===g?a:f.none}))()},keyup:function(t,r,i,a,u){return nr(n,o.selectedSelector).fold((function(){var c=t.raw,s=c.which;return!1===(!0===c.shiftKey)?f.none():wd(s)?function(t,n,e,r,o,i,a){return Ct(e,o)&&r===i?f.none():_n(e,"td,th",n).bind((function(e){return _n(o,"td,th",n).bind((function(r){return xf(t,n,e,r,a)}))}))}(n,e,r,i,a,u,o.selectRange):f.none()}),f.none)}}},Od=function(t,n,e){var r=function(n){En(n,t.selected),En(n,t.firstSelected),En(n,t.lastSelected)},o=function(n){Sn(n,t.selected,"1")},i=function(t){a(t),e()},a=function(n){var e=vn(n,t.selectedSelector);E(e,r)};return{clearBeforeUpdate:a,clear:i,selectRange:function(e,r,a,u){i(e),E(r,o),Sn(a,t.firstSelected,"1"),Sn(u,t.lastSelected,"1"),n(r,a,u)},selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},Td=function(t,n,e){var r=be.fromTable(t);return Gu(r,n).map((function(t){var n=Hu(r,e,!1);return{upOrLeftCells:function(t,n,e){var r=t.slice(0,n[n.length-1].row+1),o=Vu(r,e);return P(o,(function(t){var e=t.cells.slice(0,n[n.length-1].column+1);return T(e,(function(t){return t.element}))}))}(n,t,e),downOrRightCells:function(t,n,e){var r=t.slice(n[0].row+n[0].rowspan-1,t.length),o=Vu(r,e);return P(o,(function(t){var e=t.cells.slice(n[0].column+n[0].colspan-1,t.cells.length);return T(e,(function(t){return t.element}))}))}(n,t,e)}}))},Ed=function(t){return!1===_a(yt.fromDom(t.target),"ephox-snooker-resizer-bar")};function Dd(n,e,r){var o=Od(vi,(function(e,o,i){r.targets().each((function(r){Jn(o).each((function(a){var u=hu(n),c=ni(t,yt.fromDom(n.getDoc()),u),s=Td(a,r,c);!function(t,n,e,r,o){t.fire("TableSelectionChange",{cells:n,start:e,finish:r,otherCells:o})}(n,e,o,i,s)}))}))}),(function(){return function(t){t.fire("TableSelectionClear")}(n)}));return n.on("init",(function(r){var i=n.getWin(),a=ii(n),u=ci(n),c=function(t,n,e,r){var o=kd(t),i=gd(o,n,e,r);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}}(i,a,u,o),s=Ad(i,a,u,o),l=function(t,n,e,r){var o=kd(t);return function(t,i){r.clearBeforeUpdate(n),tr(t,i,e).each((function(t){var e=t.boxes.getOr([]);r.selectRange(n,e,t.start,t.finish),o.selectContents(i),o.collapseSelection()}))}}(i,a,u,o);n.on("TableSelectorChange",(function(t){return l(t.start,t.finish)}));var f,d,m=function(t,e){(function(t){return!0===t.raw.shiftKey})(t)&&(e.kill&&t.kill(),e.selection.each((function(t){var e=Sl.relative(t.start,t.finish),r=Nl(i,e);n.selection.setRng(r)})))},p=function(t){return 0===t.button},g=(f=No(yt.fromDom(a)),d=No(0),{touchEnd:function(t){var n=yt.fromDom(t.target);if("td"===jt(n)||"th"===jt(n)){var e=f.get(),r=d.get();Ct(e,n)&&t.timeStamp-r<300&&(t.preventDefault(),l(n,n))}f.set(n),d.set(t.timeStamp)}});n.on("dragstart",(function(t){c.clearstate()})),n.on("mousedown",(function(t){p(t)&&Ed(t)&&c.mousedown(ba(t))})),n.on("mouseover",(function(t){var n;(void 0===(n=t).buttons||cl.browser.isEdge()&&0===n.buttons||0!=(1&n.buttons))&&Ed(t)&&c.mouseover(ba(t))})),n.on("mouseup",(function(t){p(t)&&Ed(t)&&c.mouseup(ba(t))})),n.on("touchend",g.touchEnd),n.on("keyup",(function(t){var e=ba(t);if(e.raw.shiftKey&&wd(e.raw.which)){var r=n.selection.getRng(),o=yt.fromDom(r.startContainer),i=yt.fromDom(r.endContainer);s.keyup(e,o,r.startOffset,i,r.endOffset).each((function(t){m(e,t)}))}})),n.on("keydown",(function(t){var r=ba(t);e().each((function(t){return t.hideBars()}));var o=n.selection.getRng(),i=yt.fromDom(o.startContainer),a=yt.fromDom(o.endContainer),u=Or(Cd,_d)(yt.fromDom(n.selection.getStart()));s.keydown(r,i,o.startOffset,a,o.endOffset,u).each((function(t){m(r,t)})),e().each((function(t){return t.showBars()}))})),n.on("NodeChange",(function(){var e=n.selection,r=yt.fromDom(e.getStart()),i=yt.fromDom(e.getEnd());Qe(Jn,[r,i]).fold((function(){return o.clear(a)}),t)}))})),{clear:o.clear}}var zd=function(t){var n=function(t,n,e){return{get:function(){return or(t(),e).fold((function(){return n().map(fr).getOrThunk(sr)}),(function(t){return lr(t)}))}}}((function(){return ii(t)}),(function(){return xs(mi(t))}),vi.selectedSelector),e=function(t,n){var e=No(f.none()),r=No([]),o=f.none(),i=Yt("caption"),a=function(t){return o.forall((function(n){return!n[t]}))},u=function(){return xs(mi(t)).bind((function(t){return Jn(t).map((function(e){return i(t)?bi(t):yi(n,e,t)}))}))},c=function(t){return Jn(t.element).map((function(n){var e=be.fromTable(n),r=Gu(e,t).getOr([]),o=M(r,(function(t,n){return n.isLocked&&(t.onAny=!0,0===n.column?t.onFirst=!0:n.column+n.colspan>=e.grid.columns&&(t.onLast=!0)),t}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Ju(e,t).isSome(),unmergeable:Qu(e,t).isSome(),locked:o}}))},s=function(){e.set(q(u)()),o=e.get().bind(c),E(r.get(),(function(t){return t()}))},l=function(t,n){var o=function(){return e.get().fold((function(){t.setDisabled(!0)}),(function(e){t.setDisabled(n(e))}))};return o(),r.set(r.get().concat([o])),function(){r.set(D(r.get(),(function(t){return t!==o})))}},d=function(t){return o.exists((function(n){return n.locked[t]}))};return t.on("NodeChange ExecCommand TableSelectorChange",s),{onSetupTable:function(t){return l(t,(function(t){return!1}))},onSetupCellOrRow:function(t){return l(t,(function(t){return i(t.element)}))},onSetupColumn:function(t){return function(n){return l(n,(function(n){return i(n.element)||d(t)}))}},onSetupPasteable:function(t){return function(n){return l(n,(function(n){return i(n.element)||t().isNone()}))}},onSetupPasteableColumn:function(t,n){return function(e){return l(e,(function(e){return i(e.element)||t().isNone()||d(n)}))}},onSetupMergeable:function(t){return l(t,(function(t){return a("mergeable")}))},onSetupUnmergeable:function(t){return l(t,(function(t){return a("unmergeable")}))},resetTargets:s,targets:function(){return e.get()}}}(t,n),r=Su(t),o=Dd(t,r.lazyResize,e),i=_s(t,r.lazyWire,n),a=function(){var t=No(f.none()),n=No(f.none()),e=function(t){t.set(f.none())};return{getRows:t.get,setRows:function(r){t.set(r),e(n)},clearRows:function(){return e(t)},getColumns:n.get,setColumns:function(r){n.set(r),e(t)},clearColumns:function(){return e(n)}}}();return gl(t,i,o,n,a),hl(t,i,n),xi(t,n,i,o),function(t,n,e){var r=function(n){return function(){return t.execCommand(n)}},o=function(n){t.execCommand("mceInsertTable",!1,{rows:n.numRows,columns:n.numColumns})},i={text:"Table properties",onSetup:n.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:n.onSetupTable,onAction:r("mceTableDelete")};t.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(e.getRows)}),t.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(e.getRows)});t.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:n.onSetupColumn("onFirst")}),t.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:n.onSetupColumn("onLast")}),t.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:n.onSetupColumn("onAny")}),t.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),t.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),t.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(e.getColumns,"onFirst")}),t.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(e.getColumns,"onLast")});t.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:n.onSetupMergeable}),t.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:n.onSetupUnmergeable});!1===function(t){return t.getParam("table_grid",!0,"boolean")}(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}}),t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),t.ui.registry.addMenuItem("tableprops",i),t.ui.registry.addMenuItem("deletetable",a),t.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}}),t.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}}),t.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}}),t.ui.registry.addContextMenu("table",{update:function(){return n.resetTargets(),n.targets().fold((function(){return""}),(function(t){return"caption"===jt(t.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}(t,e,a),function(t,n,e){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}});var r=function(n){return function(){return t.execCommand(n)}};t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:n.onSetupTable}),t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:n.onSetupTable}),t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:n.onSetupCellOrRow}),t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:n.onSetupMergeable}),t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:n.onSetupUnmergeable}),t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:n.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:n.onSetupCellOrRow}),t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:n.onSetupCellOrRow}),t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:n.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:n.onSetupColumn("onFirst")}),t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:n.onSetupColumn("onLast")}),t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:n.onSetupColumn("onAny")}),t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(e.getRows)}),t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(e.getRows)}),t.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),t.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),t.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(e.getColumns,"onFirst")}),t.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(e.getColumns,"onLast")}),t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})}(t,e,a),function(t){var n=function(t){return t.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")}(t);n.length>0&&t.ui.registry.addContextToolbar("table",{predicate:function(n){return t.dom.is(n,"table")&&t.getBody().contains(n)},items:n,scope:"node",position:"node"})}(t),t.on("PreInit",(function(){t.serializer.addTempAttr(vi.firstSelected),t.serializer.addTempAttr(vi.lastSelected),function(t){t.formatter.register(vl)}(t)})),function(t){return t.getParam("table_tab_navigation",!0,"boolean")}(t)&&t.on("keydown",(function(n){!function(t,n,e){if(t.keyCode===lf.TAB){var r=ii(n),o=function(t){var n=jt(t);return Ct(t,r)||S(gf,n)},i=n.selection.getRng();if(i.collapsed){var a=yt.fromDom(i.startContainer);Kn(a,o).each((function(r){t.preventDefault(),(t.shiftKey?df:ff)(n,o,r,e).each((function(t){n.selection.setRng(t)}))}))}}}(n,t,i)})),t.on("remove",(function(){r.destroy()})),function(t,n,e,r){return{insertTable:Ms(t),setClipboardRows:zs(n.setRows),getClipboardRows:Ds(n.getRows),setClipboardCols:zs(n.setColumns),getClipboardCols:Ds(n.getColumns),resizeHandler:e,selectionTargets:r}}(t,a,r,e)};dr.add("table",zd)}()},function(t,n,e){"use strict";e(7)},function(t,n,e){var r=e(58);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(3)(r,o);r.locals&&(t.exports=r.locals)},function(t,n,e){(t.exports=e(2)(!1)).push([t.i,".tox-tinymce-aux {\n  z-index: 9999999 !important;\n}\n.tox-notification--warning {\n  display: none;\n}\n",""])},function(t,n,e){"use strict";(function(t,e){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function o(t){return null==t}function i(t){return null!=t}function a(t){return!0===t}function u(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function c(t){return null!==t&&"object"==typeof t}var s=Object.prototype.toString;function l(t){return"[object Object]"===s.call(t)}function f(t){return"[object RegExp]"===s.call(t)}function d(t){var n=parseFloat(String(t));return n>=0&&Math.floor(n)===n&&isFinite(t)}function m(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===s?JSON.stringify(t,null,2):String(t)}function g(t){var n=parseFloat(t);return isNaN(n)?t:n}function h(t,n){for(var e=Object.create(null),r=t.split(","),o=0;o<r.length;o++)e[r[o]]=!0;return n?function(t){return e[t.toLowerCase()]}:function(t){return e[t]}}h("slot,component",!0);var v=h("key,ref,slot,slot-scope,is");function b(t,n){if(t.length){var e=t.indexOf(n);if(e>-1)return t.splice(e,1)}}var y=Object.prototype.hasOwnProperty;function x(t,n){return y.call(t,n)}function w(t){var n=Object.create(null);return function(e){return n[e]||(n[e]=t(e))}}var C=/-(\w)/g,_=w((function(t){return t.replace(C,(function(t,n){return n?n.toUpperCase():""}))})),k=w((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),S=/\B([A-Z])/g,A=w((function(t){return t.replace(S,"-$1").toLowerCase()}));var O=Function.prototype.bind?function(t,n){return t.bind(n)}:function(t,n){function e(e){var r=arguments.length;return r?r>1?t.apply(n,arguments):t.call(n,e):t.call(n)}return e._length=t.length,e};function T(t,n){n=n||0;for(var e=t.length-n,r=new Array(e);e--;)r[e]=t[e+n];return r}function E(t,n){for(var e in n)t[e]=n[e];return t}function D(t){for(var n={},e=0;e<t.length;e++)t[e]&&E(n,t[e]);return n}function z(t,n,e){}var M=function(t,n,e){return!1},N=function(t){return t};function R(t,n){if(t===n)return!0;var e=c(t),r=c(n);if(!e||!r)return!e&&!r&&String(t)===String(n);try{var o=Array.isArray(t),i=Array.isArray(n);if(o&&i)return t.length===n.length&&t.every((function(t,e){return R(t,n[e])}));if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();if(o||i)return!1;var a=Object.keys(t),u=Object.keys(n);return a.length===u.length&&a.every((function(e){return R(t[e],n[e])}))}catch(t){return!1}}function B(t,n){for(var e=0;e<t.length;e++)if(R(t[e],n))return e;return-1}function P(t){var n=!1;return function(){n||(n=!0,t.apply(this,arguments))}}var I=["component","directive","filter"],L=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:z,parsePlatformTagName:N,mustUseProp:M,async:!0,_lifecycleHooks:L},F=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(t,n,e,r){Object.defineProperty(t,n,{value:e,enumerable:!!r,writable:!0,configurable:!0})}var j=new RegExp("[^"+F.source+".$_\\d]");var U,W="__proto__"in{},$="undefined"!=typeof window,q="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,G=q&&WXEnvironment.platform.toLowerCase(),K=$&&window.navigator.userAgent.toLowerCase(),X=K&&/msie|trident/.test(K),Y=K&&K.indexOf("msie 9.0")>0,J=K&&K.indexOf("edge/")>0,Q=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===G),Z=(K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K),K&&K.match(/firefox\/(\d+)/)),tt={}.watch,nt=!1;if($)try{var et={};Object.defineProperty(et,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,et)}catch(t){}var rt=function(){return void 0===U&&(U=!$&&!q&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),U},ot=$&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function it(t){return"function"==typeof t&&/native code/.test(t.toString())}var at,ut="undefined"!=typeof Symbol&&it(Symbol)&&"undefined"!=typeof Reflect&&it(Reflect.ownKeys);at="undefined"!=typeof Set&&it(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=z,st=0,lt=function(){this.id=st++,this.subs=[]};lt.prototype.addSub=function(t){this.subs.push(t)},lt.prototype.removeSub=function(t){b(this.subs,t)},lt.prototype.depend=function(){lt.target&&lt.target.addDep(this)},lt.prototype.notify=function(){var t=this.subs.slice();for(var n=0,e=t.length;n<e;n++)t[n].update()},lt.target=null;var ft=[];function dt(t){ft.push(t),lt.target=t}function mt(){ft.pop(),lt.target=ft[ft.length-1]}var pt=function(t,n,e,r,o,i,a,u){this.tag=t,this.data=n,this.children=e,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=u,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},gt={child:{configurable:!0}};gt.child.get=function(){return this.componentInstance},Object.defineProperties(pt.prototype,gt);var ht=function(t){void 0===t&&(t="");var n=new pt;return n.text=t,n.isComment=!0,n};function vt(t){return new pt(void 0,void 0,void 0,String(t))}function bt(t){var n=new pt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return n.ns=t.ns,n.isStatic=t.isStatic,n.key=t.key,n.isComment=t.isComment,n.fnContext=t.fnContext,n.fnOptions=t.fnOptions,n.fnScopeId=t.fnScopeId,n.asyncMeta=t.asyncMeta,n.isCloned=!0,n}var yt=Array.prototype,xt=Object.create(yt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var n=yt[t];V(xt,t,(function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var o,i=n.apply(this,e),a=this.__ob__;switch(t){case"push":case"unshift":o=e;break;case"splice":o=e.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i}))}));var wt=Object.getOwnPropertyNames(xt),Ct=!0;function _t(t){Ct=t}var kt=function(t){this.value=t,this.dep=new lt,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t)?(W?function(t,n){t.__proto__=n}(t,xt):function(t,n,e){for(var r=0,o=e.length;r<o;r++){var i=e[r];V(t,i,n[i])}}(t,xt,wt),this.observeArray(t)):this.walk(t)};function St(t,n){var e;if(c(t)&&!(t instanceof pt))return x(t,"__ob__")&&t.__ob__ instanceof kt?e=t.__ob__:Ct&&!rt()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(e=new kt(t)),n&&e&&e.vmCount++,e}function At(t,n,e,r,o){var i=new lt,a=Object.getOwnPropertyDescriptor(t,n);if(!a||!1!==a.configurable){var u=a&&a.get,c=a&&a.set;u&&!c||2!==arguments.length||(e=t[n]);var s=!o&&St(e);Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var n=u?u.call(t):e;return lt.target&&(i.depend(),s&&(s.dep.depend(),Array.isArray(n)&&Et(n))),n},set:function(n){var r=u?u.call(t):e;n===r||n!=n&&r!=r||u&&!c||(c?c.call(t,n):e=n,s=!o&&St(n),i.notify())}})}}function Ot(t,n,e){if(Array.isArray(t)&&d(n))return t.length=Math.max(t.length,n),t.splice(n,1,e),e;if(n in t&&!(n in Object.prototype))return t[n]=e,e;var r=t.__ob__;return t._isVue||r&&r.vmCount?e:r?(At(r.value,n,e),r.dep.notify(),e):(t[n]=e,e)}function Tt(t,n){if(Array.isArray(t)&&d(n))t.splice(n,1);else{var e=t.__ob__;t._isVue||e&&e.vmCount||x(t,n)&&(delete t[n],e&&e.dep.notify())}}function Et(t){for(var n=void 0,e=0,r=t.length;e<r;e++)(n=t[e])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&Et(n)}kt.prototype.walk=function(t){for(var n=Object.keys(t),e=0;e<n.length;e++)At(t,n[e])},kt.prototype.observeArray=function(t){for(var n=0,e=t.length;n<e;n++)St(t[n])};var Dt=H.optionMergeStrategies;function zt(t,n){if(!n)return t;for(var e,r,o,i=ut?Reflect.ownKeys(n):Object.keys(n),a=0;a<i.length;a++)"__ob__"!==(e=i[a])&&(r=t[e],o=n[e],x(t,e)?r!==o&&l(r)&&l(o)&&zt(r,o):Ot(t,e,o));return t}function Mt(t,n,e){return e?function(){var r="function"==typeof n?n.call(e,e):n,o="function"==typeof t?t.call(e,e):t;return r?zt(r,o):o}:n?t?function(){return zt("function"==typeof n?n.call(this,this):n,"function"==typeof t?t.call(this,this):t)}:n:t}function Nt(t,n){var e=n?t?t.concat(n):Array.isArray(n)?n:[n]:t;return e?function(t){for(var n=[],e=0;e<t.length;e++)-1===n.indexOf(t[e])&&n.push(t[e]);return n}(e):e}function Rt(t,n,e,r){var o=Object.create(t||null);return n?E(o,n):o}Dt.data=function(t,n,e){return e?Mt(t,n,e):n&&"function"!=typeof n?t:Mt(t,n)},L.forEach((function(t){Dt[t]=Nt})),I.forEach((function(t){Dt[t+"s"]=Rt})),Dt.watch=function(t,n,e,r){if(t===tt&&(t=void 0),n===tt&&(n=void 0),!n)return Object.create(t||null);if(!t)return n;var o={};for(var i in E(o,t),n){var a=o[i],u=n[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(u):Array.isArray(u)?u:[u]}return o},Dt.props=Dt.methods=Dt.inject=Dt.computed=function(t,n,e,r){if(!t)return n;var o=Object.create(null);return E(o,t),n&&E(o,n),o},Dt.provide=Mt;var Bt=function(t,n){return void 0===n?t:n};function Pt(t,n,e){if("function"==typeof n&&(n=n.options),function(t,n){var e=t.props;if(e){var r,o,i={};if(Array.isArray(e))for(r=e.length;r--;)"string"==typeof(o=e[r])&&(i[_(o)]={type:null});else if(l(e))for(var a in e)o=e[a],i[_(a)]=l(o)?o:{type:o};else 0;t.props=i}}(n),function(t,n){var e=t.inject;if(e){var r=t.inject={};if(Array.isArray(e))for(var o=0;o<e.length;o++)r[e[o]]={from:e[o]};else if(l(e))for(var i in e){var a=e[i];r[i]=l(a)?E({from:i},a):{from:a}}else 0}}(n),function(t){var n=t.directives;if(n)for(var e in n){var r=n[e];"function"==typeof r&&(n[e]={bind:r,update:r})}}(n),!n._base&&(n.extends&&(t=Pt(t,n.extends,e)),n.mixins))for(var r=0,o=n.mixins.length;r<o;r++)t=Pt(t,n.mixins[r],e);var i,a={};for(i in t)u(i);for(i in n)x(t,i)||u(i);function u(r){var o=Dt[r]||Bt;a[r]=o(t[r],n[r],e,r)}return a}function It(t,n,e,r){if("string"==typeof e){var o=t[n];if(x(o,e))return o[e];var i=_(e);if(x(o,i))return o[i];var a=k(i);return x(o,a)?o[a]:o[e]||o[i]||o[a]}}function Lt(t,n,e,r){var o=n[t],i=!x(e,t),a=e[t],u=Vt(Boolean,o.type);if(u>-1)if(i&&!x(o,"default"))a=!1;else if(""===a||a===A(t)){var c=Vt(String,o.type);(c<0||u<c)&&(a=!0)}if(void 0===a){a=function(t,n,e){if(!x(n,"default"))return;var r=n.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[e]&&void 0!==t._props[e])return t._props[e];return"function"==typeof r&&"Function"!==Ht(n.type)?r.call(t):r}(r,o,t);var s=Ct;_t(!0),St(a),_t(s)}return a}function Ht(t){var n=t&&t.toString().match(/^\s*function (\w+)/);return n?n[1]:""}function Ft(t,n){return Ht(t)===Ht(n)}function Vt(t,n){if(!Array.isArray(n))return Ft(n,t)?0:-1;for(var e=0,r=n.length;e<r;e++)if(Ft(n[e],t))return e;return-1}function jt(t,n,e){dt();try{if(n)for(var r=n;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,t,n,e))return}catch(t){Wt(t,r,"errorCaptured hook")}}Wt(t,n,e)}finally{mt()}}function Ut(t,n,e,r,o){var i;try{(i=e?t.apply(n,e):t.call(n))&&!i._isVue&&m(i)&&!i._handled&&(i.catch((function(t){return jt(t,r,o+" (Promise/async)")})),i._handled=!0)}catch(t){jt(t,r,o)}return i}function Wt(t,n,e){if(H.errorHandler)try{return H.errorHandler.call(null,t,n,e)}catch(n){n!==t&&$t(n,null,"config.errorHandler")}$t(t,n,e)}function $t(t,n,e){if(!$&&!q||"undefined"==typeof console)throw t;console.error(t)}var qt,Gt=!1,Kt=[],Xt=!1;function Yt(){Xt=!1;var t=Kt.slice(0);Kt.length=0;for(var n=0;n<t.length;n++)t[n]()}if("undefined"!=typeof Promise&&it(Promise)){var Jt=Promise.resolve();qt=function(){Jt.then(Yt),Q&&setTimeout(z)},Gt=!0}else if(X||"undefined"==typeof MutationObserver||!it(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())qt=void 0!==e&&it(e)?function(){e(Yt)}:function(){setTimeout(Yt,0)};else{var Qt=1,Zt=new MutationObserver(Yt),tn=document.createTextNode(String(Qt));Zt.observe(tn,{characterData:!0}),qt=function(){Qt=(Qt+1)%2,tn.data=String(Qt)},Gt=!0}function nn(t,n){var e;if(Kt.push((function(){if(t)try{t.call(n)}catch(t){jt(t,n,"nextTick")}else e&&e(n)})),Xt||(Xt=!0,qt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){e=t}))}var en=new at;function rn(t){!function t(n,e){var r,o,i=Array.isArray(n);if(!i&&!c(n)||Object.isFrozen(n)||n instanceof pt)return;if(n.__ob__){var a=n.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(i)for(r=n.length;r--;)t(n[r],e);else for(o=Object.keys(n),r=o.length;r--;)t(n[o[r]],e)}(t,en),en.clear()}var on=w((function(t){var n="&"===t.charAt(0),e="~"===(t=n?t.slice(1):t).charAt(0),r="!"===(t=e?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:e,capture:r,passive:n}}));function an(t,n){function e(){var t=arguments,r=e.fns;if(!Array.isArray(r))return Ut(r,null,arguments,n,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)Ut(o[i],null,t,n,"v-on handler")}return e.fns=t,e}function un(t,n,e,r,i,u){var c,s,l,f;for(c in t)s=t[c],l=n[c],f=on(c),o(s)||(o(l)?(o(s.fns)&&(s=t[c]=an(s,u)),a(f.once)&&(s=t[c]=i(f.name,s,f.capture)),e(f.name,s,f.capture,f.passive,f.params)):s!==l&&(l.fns=s,t[c]=l));for(c in n)o(t[c])&&r((f=on(c)).name,n[c],f.capture)}function cn(t,n,e){var r;t instanceof pt&&(t=t.data.hook||(t.data.hook={}));var u=t[n];function c(){e.apply(this,arguments),b(r.fns,c)}o(u)?r=an([c]):i(u.fns)&&a(u.merged)?(r=u).fns.push(c):r=an([u,c]),r.merged=!0,t[n]=r}function sn(t,n,e,r,o){if(i(n)){if(x(n,e))return t[e]=n[e],o||delete n[e],!0;if(x(n,r))return t[e]=n[r],o||delete n[r],!0}return!1}function ln(t){return u(t)?[vt(t)]:Array.isArray(t)?function t(n,e){var r,c,s,l,f=[];for(r=0;r<n.length;r++)o(c=n[r])||"boolean"==typeof c||(s=f.length-1,l=f[s],Array.isArray(c)?c.length>0&&(fn((c=t(c,(e||"")+"_"+r))[0])&&fn(l)&&(f[s]=vt(l.text+c[0].text),c.shift()),f.push.apply(f,c)):u(c)?fn(l)?f[s]=vt(l.text+c):""!==c&&f.push(vt(c)):fn(c)&&fn(l)?f[s]=vt(l.text+c.text):(a(n._isVList)&&i(c.tag)&&o(c.key)&&i(e)&&(c.key="__vlist"+e+"_"+r+"__"),f.push(c)));return f}(t):void 0}function fn(t){return i(t)&&i(t.text)&&!1===t.isComment}function dn(t,n){if(t){for(var e=Object.create(null),r=ut?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var a=t[i].from,u=n;u;){if(u._provided&&x(u._provided,a)){e[i]=u._provided[a];break}u=u.$parent}if(!u)if("default"in t[i]){var c=t[i].default;e[i]="function"==typeof c?c.call(n):c}else 0}}return e}}function mn(t,n){if(!t||!t.length)return{};for(var e={},r=0,o=t.length;r<o;r++){var i=t[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==n&&i.fnContext!==n||!a||null==a.slot)(e.default||(e.default=[])).push(i);else{var u=a.slot,c=e[u]||(e[u]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var s in e)e[s].every(pn)&&delete e[s];return e}function pn(t){return t.isComment&&!t.asyncFactory||" "===t.text}function gn(t,n,e){var o,i=Object.keys(n).length>0,a=t?!!t.$stable:!i,u=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&e&&e!==r&&u===e.$key&&!i&&!e.$hasNormal)return e;for(var c in o={},t)t[c]&&"$"!==c[0]&&(o[c]=hn(n,c,t[c]))}else o={};for(var s in n)s in o||(o[s]=vn(n,s));return t&&Object.isExtensible(t)&&(t._normalized=o),V(o,"$stable",a),V(o,"$key",u),V(o,"$hasNormal",i),o}function hn(t,n,e){var r=function(){var t=arguments.length?e.apply(null,arguments):e({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ln(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return e.proxy&&Object.defineProperty(t,n,{get:r,enumerable:!0,configurable:!0}),r}function vn(t,n){return function(){return t[n]}}function bn(t,n){var e,r,o,a,u;if(Array.isArray(t)||"string"==typeof t)for(e=new Array(t.length),r=0,o=t.length;r<o;r++)e[r]=n(t[r],r);else if("number"==typeof t)for(e=new Array(t),r=0;r<t;r++)e[r]=n(r+1,r);else if(c(t))if(ut&&t[Symbol.iterator]){e=[];for(var s=t[Symbol.iterator](),l=s.next();!l.done;)e.push(n(l.value,e.length)),l=s.next()}else for(a=Object.keys(t),e=new Array(a.length),r=0,o=a.length;r<o;r++)u=a[r],e[r]=n(t[u],u,r);return i(e)||(e=[]),e._isVList=!0,e}function yn(t,n,e,r){var o,i=this.$scopedSlots[t];i?(e=e||{},r&&(e=E(E({},r),e)),o=i(e)||n):o=this.$slots[t]||n;var a=e&&e.slot;return a?this.$createElement("template",{slot:a},o):o}function xn(t){return It(this.$options,"filters",t)||N}function wn(t,n){return Array.isArray(t)?-1===t.indexOf(n):t!==n}function Cn(t,n,e,r,o){var i=H.keyCodes[n]||e;return o&&r&&!H.keyCodes[n]?wn(o,r):i?wn(i,t):r?A(r)!==n:void 0}function _n(t,n,e,r,o){if(e)if(c(e)){var i;Array.isArray(e)&&(e=D(e));var a=function(a){if("class"===a||"style"===a||v(a))i=t;else{var u=t.attrs&&t.attrs.type;i=r||H.mustUseProp(n,u,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=_(a),s=A(a);c in i||s in i||(i[a]=e[a],o&&((t.on||(t.on={}))["update:"+a]=function(t){e[a]=t}))};for(var u in e)a(u)}else;return t}function kn(t,n){var e=this._staticTrees||(this._staticTrees=[]),r=e[t];return r&&!n||An(r=e[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Sn(t,n,e){return An(t,"__once__"+n+(e?"_"+e:""),!0),t}function An(t,n,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&On(t[r],n+"_"+r,e);else On(t,n,e)}function On(t,n,e){t.isStatic=!0,t.key=n,t.isOnce=e}function Tn(t,n){if(n)if(l(n)){var e=t.on=t.on?E({},t.on):{};for(var r in n){var o=e[r],i=n[r];e[r]=o?[].concat(o,i):i}}else;return t}function En(t,n,e,r){n=n||{$stable:!e};for(var o=0;o<t.length;o++){var i=t[o];Array.isArray(i)?En(i,n,e):i&&(i.proxy&&(i.fn.proxy=!0),n[i.key]=i.fn)}return r&&(n.$key=r),n}function Dn(t,n){for(var e=0;e<n.length;e+=2){var r=n[e];"string"==typeof r&&r&&(t[n[e]]=n[e+1])}return t}function zn(t,n){return"string"==typeof t?n+t:t}function Mn(t){t._o=Sn,t._n=g,t._s=p,t._l=bn,t._t=yn,t._q=R,t._i=B,t._m=kn,t._f=xn,t._k=Cn,t._b=_n,t._v=vt,t._e=ht,t._u=En,t._g=Tn,t._d=Dn,t._p=zn}function Nn(t,n,e,o,i){var u,c=this,s=i.options;x(o,"_uid")?(u=Object.create(o))._original=o:(u=o,o=o._original);var l=a(s._compiled),f=!l;this.data=t,this.props=n,this.children=e,this.parent=o,this.listeners=t.on||r,this.injections=dn(s.inject,o),this.slots=function(){return c.$slots||gn(t.scopedSlots,c.$slots=mn(e,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return gn(t.scopedSlots,this.slots())}}),l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=gn(t.scopedSlots,this.$slots)),s._scopeId?this._c=function(t,n,e,r){var i=Fn(u,t,n,e,r,f);return i&&!Array.isArray(i)&&(i.fnScopeId=s._scopeId,i.fnContext=o),i}:this._c=function(t,n,e,r){return Fn(u,t,n,e,r,f)}}function Rn(t,n,e,r,o){var i=bt(t);return i.fnContext=e,i.fnOptions=r,n.slot&&((i.data||(i.data={})).slot=n.slot),i}function Bn(t,n){for(var e in n)t[_(e)]=n[e]}Mn(Nn.prototype);var Pn={init:function(t,n){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var e=t;Pn.prepatch(e,e)}else{(t.componentInstance=function(t,n){var e={_isComponent:!0,_parentVnode:t,parent:n},r=t.data.inlineTemplate;i(r)&&(e.render=r.render,e.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(e)}(t,Yn)).$mount(n?t.elm:void 0,n)}},prepatch:function(t,n){var e=n.componentOptions;!function(t,n,e,o,i){0;var a=o.data.scopedSlots,u=t.$scopedSlots,c=!!(a&&!a.$stable||u!==r&&!u.$stable||a&&t.$scopedSlots.$key!==a.$key),s=!!(i||t.$options._renderChildren||c);t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o);if(t.$options._renderChildren=i,t.$attrs=o.data.attrs||r,t.$listeners=e||r,n&&t.$options.props){_t(!1);for(var l=t._props,f=t.$options._propKeys||[],d=0;d<f.length;d++){var m=f[d],p=t.$options.props;l[m]=Lt(m,p,n,t)}_t(!0),t.$options.propsData=n}e=e||r;var g=t.$options._parentListeners;t.$options._parentListeners=e,Xn(t,e,g),s&&(t.$slots=mn(i,o.context),t.$forceUpdate());0}(n.componentInstance=t.componentInstance,e.propsData,e.listeners,n,e.children)},insert:function(t){var n,e=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,te(r,"mounted")),t.data.keepAlive&&(e._isMounted?((n=r)._inactive=!1,ee.push(n)):Zn(r,!0))},destroy:function(t){var n=t.componentInstance;n._isDestroyed||(t.data.keepAlive?function t(n,e){if(e&&(n._directInactive=!0,Qn(n)))return;if(!n._inactive){n._inactive=!0;for(var r=0;r<n.$children.length;r++)t(n.$children[r]);te(n,"deactivated")}}(n,!0):n.$destroy())}},In=Object.keys(Pn);function Ln(t,n,e,u,s){if(!o(t)){var l=e.$options._base;if(c(t)&&(t=l.extend(t)),"function"==typeof t){var f;if(o(t.cid)&&void 0===(t=function(t,n){if(a(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var e=jn;e&&i(t.owners)&&-1===t.owners.indexOf(e)&&t.owners.push(e);if(a(t.loading)&&i(t.loadingComp))return t.loadingComp;if(e&&!i(t.owners)){var r=t.owners=[e],u=!0,s=null,l=null;e.$on("hook:destroyed",(function(){return b(r,e)}));var f=function(t){for(var n=0,e=r.length;n<e;n++)r[n].$forceUpdate();t&&(r.length=0,null!==s&&(clearTimeout(s),s=null),null!==l&&(clearTimeout(l),l=null))},d=P((function(e){t.resolved=Un(e,n),u?r.length=0:f(!0)})),p=P((function(n){i(t.errorComp)&&(t.error=!0,f(!0))})),g=t(d,p);return c(g)&&(m(g)?o(t.resolved)&&g.then(d,p):m(g.component)&&(g.component.then(d,p),i(g.error)&&(t.errorComp=Un(g.error,n)),i(g.loading)&&(t.loadingComp=Un(g.loading,n),0===g.delay?t.loading=!0:s=setTimeout((function(){s=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,f(!1))}),g.delay||200)),i(g.timeout)&&(l=setTimeout((function(){l=null,o(t.resolved)&&p(null)}),g.timeout)))),u=!1,t.loading?t.loadingComp:t.resolved}}(f=t,l)))return function(t,n,e,r,o){var i=ht();return i.asyncFactory=t,i.asyncMeta={data:n,context:e,children:r,tag:o},i}(f,n,e,u,s);n=n||{},Ce(t),i(n.model)&&function(t,n){var e=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(n.attrs||(n.attrs={}))[e]=n.model.value;var o=n.on||(n.on={}),a=o[r],u=n.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(u):a!==u)&&(o[r]=[u].concat(a)):o[r]=u}(t.options,n);var d=function(t,n,e){var r=n.options.props;if(!o(r)){var a={},u=t.attrs,c=t.props;if(i(u)||i(c))for(var s in r){var l=A(s);sn(a,c,s,l,!0)||sn(a,u,s,l,!1)}return a}}(n,t);if(a(t.options.functional))return function(t,n,e,o,a){var u=t.options,c={},s=u.props;if(i(s))for(var l in s)c[l]=Lt(l,s,n||r);else i(e.attrs)&&Bn(c,e.attrs),i(e.props)&&Bn(c,e.props);var f=new Nn(e,c,a,o,t),d=u.render.call(null,f._c,f);if(d instanceof pt)return Rn(d,e,f.parent,u,f);if(Array.isArray(d)){for(var m=ln(d)||[],p=new Array(m.length),g=0;g<m.length;g++)p[g]=Rn(m[g],e,f.parent,u,f);return p}}(t,d,n,e,u);var p=n.on;if(n.on=n.nativeOn,a(t.options.abstract)){var g=n.slot;n={},g&&(n.slot=g)}!function(t){for(var n=t.hook||(t.hook={}),e=0;e<In.length;e++){var r=In[e],o=n[r],i=Pn[r];o===i||o&&o._merged||(n[r]=o?Hn(i,o):i)}}(n);var h=t.options.name||s;return new pt("vue-component-"+t.cid+(h?"-"+h:""),n,void 0,void 0,void 0,e,{Ctor:t,propsData:d,listeners:p,tag:s,children:u},f)}}}function Hn(t,n){var e=function(e,r){t(e,r),n(e,r)};return e._merged=!0,e}function Fn(t,n,e,r,s,l){return(Array.isArray(e)||u(e))&&(s=r,r=e,e=void 0),a(l)&&(s=2),function(t,n,e,r,u){if(i(e)&&i(e.__ob__))return ht();i(e)&&i(e.is)&&(n=e.is);if(!n)return ht();0;Array.isArray(r)&&"function"==typeof r[0]&&((e=e||{}).scopedSlots={default:r[0]},r.length=0);2===u?r=ln(r):1===u&&(r=function(t){for(var n=0;n<t.length;n++)if(Array.isArray(t[n]))return Array.prototype.concat.apply([],t);return t}(r));var s,l;if("string"==typeof n){var f;l=t.$vnode&&t.$vnode.ns||H.getTagNamespace(n),s=H.isReservedTag(n)?new pt(H.parsePlatformTagName(n),e,r,void 0,void 0,t):e&&e.pre||!i(f=It(t.$options,"components",n))?new pt(n,e,r,void 0,void 0,t):Ln(f,e,t,r,n)}else s=Ln(n,e,t,r);return Array.isArray(s)?s:i(s)?(i(l)&&function t(n,e,r){n.ns=e,"foreignObject"===n.tag&&(e=void 0,r=!0);if(i(n.children))for(var u=0,c=n.children.length;u<c;u++){var s=n.children[u];i(s.tag)&&(o(s.ns)||a(r)&&"svg"!==s.tag)&&t(s,e,r)}}(s,l),i(e)&&function(t){c(t.style)&&rn(t.style);c(t.class)&&rn(t.class)}(e),s):ht()}(t,n,e,r,s)}var Vn,jn=null;function Un(t,n){return(t.__esModule||ut&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?n.extend(t):t}function Wn(t){return t.isComment&&t.asyncFactory}function $n(t){if(Array.isArray(t))for(var n=0;n<t.length;n++){var e=t[n];if(i(e)&&(i(e.componentOptions)||Wn(e)))return e}}function qn(t,n){Vn.$on(t,n)}function Gn(t,n){Vn.$off(t,n)}function Kn(t,n){var e=Vn;return function r(){var o=n.apply(null,arguments);null!==o&&e.$off(t,r)}}function Xn(t,n,e){Vn=t,un(n,e||{},qn,Gn,Kn,t),Vn=void 0}var Yn=null;function Jn(t){var n=Yn;return Yn=t,function(){Yn=n}}function Qn(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Zn(t,n){if(n){if(t._directInactive=!1,Qn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var e=0;e<t.$children.length;e++)Zn(t.$children[e]);te(t,"activated")}}function te(t,n){dt();var e=t.$options[n],r=n+" hook";if(e)for(var o=0,i=e.length;o<i;o++)Ut(e[o],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+n),mt()}var ne=[],ee=[],re={},oe=!1,ie=!1,ae=0;var ue=0,ce=Date.now;if($&&!X){var se=window.performance;se&&"function"==typeof se.now&&ce()>document.createEvent("Event").timeStamp&&(ce=function(){return se.now()})}function le(){var t,n;for(ue=ce(),ie=!0,ne.sort((function(t,n){return t.id-n.id})),ae=0;ae<ne.length;ae++)(t=ne[ae]).before&&t.before(),n=t.id,re[n]=null,t.run();var e=ee.slice(),r=ne.slice();ae=ne.length=ee.length=0,re={},oe=ie=!1,function(t){for(var n=0;n<t.length;n++)t[n]._inactive=!0,Zn(t[n],!0)}(e),function(t){var n=t.length;for(;n--;){var e=t[n],r=e.vm;r._watcher===e&&r._isMounted&&!r._isDestroyed&&te(r,"updated")}}(r),ot&&H.devtools&&ot.emit("flush")}var fe=0,de=function(t,n,e,r,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=e,this.id=++fe,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new at,this.newDepIds=new at,this.expression="","function"==typeof n?this.getter=n:(this.getter=function(t){if(!j.test(t)){var n=t.split(".");return function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}}(n),this.getter||(this.getter=z)),this.value=this.lazy?void 0:this.get()};de.prototype.get=function(){var t;dt(this);var n=this.vm;try{t=this.getter.call(n,n)}catch(t){if(!this.user)throw t;jt(t,n,'getter for watcher "'+this.expression+'"')}finally{this.deep&&rn(t),mt(),this.cleanupDeps()}return t},de.prototype.addDep=function(t){var n=t.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(t),this.depIds.has(n)||t.addSub(this))},de.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var n=this.deps[t];this.newDepIds.has(n.id)||n.removeSub(this)}var e=this.depIds;this.depIds=this.newDepIds,this.newDepIds=e,this.newDepIds.clear(),e=this.deps,this.deps=this.newDeps,this.newDeps=e,this.newDeps.length=0},de.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var n=t.id;if(null==re[n]){if(re[n]=!0,ie){for(var e=ne.length-1;e>ae&&ne[e].id>t.id;)e--;ne.splice(e+1,0,t)}else ne.push(t);oe||(oe=!0,nn(le))}}(this)},de.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var n=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,n)}catch(t){jt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,n)}}},de.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},de.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},de.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var me={enumerable:!0,configurable:!0,get:z,set:z};function pe(t,n,e){me.get=function(){return this[n][e]},me.set=function(t){this[n][e]=t},Object.defineProperty(t,e,me)}function ge(t){t._watchers=[];var n=t.$options;n.props&&function(t,n){var e=t.$options.propsData||{},r=t._props={},o=t.$options._propKeys=[];t.$parent&&_t(!1);var i=function(i){o.push(i);var a=Lt(i,n,e,t);At(r,i,a),i in t||pe(t,"_props",i)};for(var a in n)i(a);_t(!0)}(t,n.props),n.methods&&function(t,n){t.$options.props;for(var e in n)t[e]="function"!=typeof n[e]?z:O(n[e],t)}(t,n.methods),n.data?function(t){var n=t.$options.data;l(n=t._data="function"==typeof n?function(t,n){dt();try{return t.call(n,n)}catch(t){return jt(t,n,"data()"),{}}finally{mt()}}(n,t):n||{})||(n={});var e=Object.keys(n),r=t.$options.props,o=(t.$options.methods,e.length);for(;o--;){var i=e[o];0,r&&x(r,i)||(a=void 0,36!==(a=(i+"").charCodeAt(0))&&95!==a&&pe(t,"_data",i))}var a;St(n,!0)}(t):St(t._data={},!0),n.computed&&function(t,n){var e=t._computedWatchers=Object.create(null),r=rt();for(var o in n){var i=n[o],a="function"==typeof i?i:i.get;0,r||(e[o]=new de(t,a||z,z,he)),o in t||ve(t,o,i)}}(t,n.computed),n.watch&&n.watch!==tt&&function(t,n){for(var e in n){var r=n[e];if(Array.isArray(r))for(var o=0;o<r.length;o++)xe(t,e,r[o]);else xe(t,e,r)}}(t,n.watch)}var he={lazy:!0};function ve(t,n,e){var r=!rt();"function"==typeof e?(me.get=r?be(n):ye(e),me.set=z):(me.get=e.get?r&&!1!==e.cache?be(n):ye(e.get):z,me.set=e.set||z),Object.defineProperty(t,n,me)}function be(t){return function(){var n=this._computedWatchers&&this._computedWatchers[t];if(n)return n.dirty&&n.evaluate(),lt.target&&n.depend(),n.value}}function ye(t){return function(){return t.call(this,this)}}function xe(t,n,e,r){return l(e)&&(r=e,e=e.handler),"string"==typeof e&&(e=t[e]),t.$watch(n,e,r)}var we=0;function Ce(t){var n=t.options;if(t.super){var e=Ce(t.super);if(e!==t.superOptions){t.superOptions=e;var r=function(t){var n,e=t.options,r=t.sealedOptions;for(var o in e)e[o]!==r[o]&&(n||(n={}),n[o]=e[o]);return n}(t);r&&E(t.extendOptions,r),(n=t.options=Pt(e,t.extendOptions)).name&&(n.components[n.name]=t)}}return n}function _e(t){this._init(t)}function ke(t){t.cid=0;var n=1;t.extend=function(t){t=t||{};var e=this,r=e.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=t.name||e.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(e.prototype)).constructor=a,a.cid=n++,a.options=Pt(e.options,t),a.super=e,a.options.props&&function(t){var n=t.options.props;for(var e in n)pe(t.prototype,"_props",e)}(a),a.options.computed&&function(t){var n=t.options.computed;for(var e in n)ve(t.prototype,e,n[e])}(a),a.extend=e.extend,a.mixin=e.mixin,a.use=e.use,I.forEach((function(t){a[t]=e[t]})),i&&(a.options.components[i]=a),a.superOptions=e.options,a.extendOptions=t,a.sealedOptions=E({},a.options),o[r]=a,a}}function Se(t){return t&&(t.Ctor.options.name||t.tag)}function Ae(t,n){return Array.isArray(t)?t.indexOf(n)>-1:"string"==typeof t?t.split(",").indexOf(n)>-1:!!f(t)&&t.test(n)}function Oe(t,n){var e=t.cache,r=t.keys,o=t._vnode;for(var i in e){var a=e[i];if(a){var u=Se(a.componentOptions);u&&!n(u)&&Te(e,i,r,o)}}}function Te(t,n,e,r){var o=t[n];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[n]=null,b(e,n)}!function(t){t.prototype._init=function(t){var n=this;n._uid=we++,n._isVue=!0,t&&t._isComponent?function(t,n){var e=t.$options=Object.create(t.constructor.options),r=n._parentVnode;e.parent=n.parent,e._parentVnode=r;var o=r.componentOptions;e.propsData=o.propsData,e._parentListeners=o.listeners,e._renderChildren=o.children,e._componentTag=o.tag,n.render&&(e.render=n.render,e.staticRenderFns=n.staticRenderFns)}(n,t):n.$options=Pt(Ce(n.constructor),t||{},n),n._renderProxy=n,n._self=n,function(t){var n=t.$options,e=n.parent;if(e&&!n.abstract){for(;e.$options.abstract&&e.$parent;)e=e.$parent;e.$children.push(t)}t.$parent=e,t.$root=e?e.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(n),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var n=t.$options._parentListeners;n&&Xn(t,n)}(n),function(t){t._vnode=null,t._staticTrees=null;var n=t.$options,e=t.$vnode=n._parentVnode,o=e&&e.context;t.$slots=mn(n._renderChildren,o),t.$scopedSlots=r,t._c=function(n,e,r,o){return Fn(t,n,e,r,o,!1)},t.$createElement=function(n,e,r,o){return Fn(t,n,e,r,o,!0)};var i=e&&e.data;At(t,"$attrs",i&&i.attrs||r,null,!0),At(t,"$listeners",n._parentListeners||r,null,!0)}(n),te(n,"beforeCreate"),function(t){var n=dn(t.$options.inject,t);n&&(_t(!1),Object.keys(n).forEach((function(e){At(t,e,n[e])})),_t(!0))}(n),ge(n),function(t){var n=t.$options.provide;n&&(t._provided="function"==typeof n?n.call(t):n)}(n),te(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(_e),function(t){var n={get:function(){return this._data}},e={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",n),Object.defineProperty(t.prototype,"$props",e),t.prototype.$set=Ot,t.prototype.$delete=Tt,t.prototype.$watch=function(t,n,e){if(l(n))return xe(this,t,n,e);(e=e||{}).user=!0;var r=new de(this,t,n,e);if(e.immediate)try{n.call(this,r.value)}catch(t){jt(t,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(_e),function(t){var n=/^hook:/;t.prototype.$on=function(t,e){var r=this;if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)r.$on(t[o],e);else(r._events[t]||(r._events[t]=[])).push(e),n.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,n){var e=this;function r(){e.$off(t,r),n.apply(e,arguments)}return r.fn=n,e.$on(t,r),e},t.prototype.$off=function(t,n){var e=this;if(!arguments.length)return e._events=Object.create(null),e;if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)e.$off(t[r],n);return e}var i,a=e._events[t];if(!a)return e;if(!n)return e._events[t]=null,e;for(var u=a.length;u--;)if((i=a[u])===n||i.fn===n){a.splice(u,1);break}return e},t.prototype.$emit=function(t){var n=this,e=n._events[t];if(e){e=e.length>1?T(e):e;for(var r=T(arguments,1),o='event handler for "'+t+'"',i=0,a=e.length;i<a;i++)Ut(e[i],n,r,n,o)}return n}}(_e),function(t){t.prototype._update=function(t,n){var e=this,r=e.$el,o=e._vnode,i=Jn(e);e._vnode=t,e.$el=o?e.__patch__(o,t):e.__patch__(e.$el,t,n,!1),i(),r&&(r.__vue__=null),e.$el&&(e.$el.__vue__=e),e.$vnode&&e.$parent&&e.$vnode===e.$parent._vnode&&(e.$parent.$el=e.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){te(t,"beforeDestroy"),t._isBeingDestroyed=!0;var n=t.$parent;!n||n._isBeingDestroyed||t.$options.abstract||b(n.$children,t),t._watcher&&t._watcher.teardown();for(var e=t._watchers.length;e--;)t._watchers[e].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),te(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(_e),function(t){Mn(t.prototype),t.prototype.$nextTick=function(t){return nn(t,this)},t.prototype._render=function(){var t,n=this,e=n.$options,r=e.render,o=e._parentVnode;o&&(n.$scopedSlots=gn(o.data.scopedSlots,n.$slots,n.$scopedSlots)),n.$vnode=o;try{jn=n,t=r.call(n._renderProxy,n.$createElement)}catch(e){jt(e,n,"render"),t=n._vnode}finally{jn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof pt||(t=ht()),t.parent=o,t}}(_e);var Ee=[String,RegExp,Array],De={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Ee,exclude:Ee,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Te(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(n){Oe(t,(function(t){return Ae(n,t)}))})),this.$watch("exclude",(function(n){Oe(t,(function(t){return!Ae(n,t)}))}))},render:function(){var t=this.$slots.default,n=$n(t),e=n&&n.componentOptions;if(e){var r=Se(e),o=this.include,i=this.exclude;if(o&&(!r||!Ae(o,r))||i&&r&&Ae(i,r))return n;var a=this.cache,u=this.keys,c=null==n.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):n.key;a[c]?(n.componentInstance=a[c].componentInstance,b(u,c),u.push(c)):(a[c]=n,u.push(c),this.max&&u.length>parseInt(this.max)&&Te(a,u[0],u,this._vnode)),n.data.keepAlive=!0}return n||t&&t[0]}}};!function(t){var n={get:function(){return H}};Object.defineProperty(t,"config",n),t.util={warn:ct,extend:E,mergeOptions:Pt,defineReactive:At},t.set=Ot,t.delete=Tt,t.nextTick=nn,t.observable=function(t){return St(t),t},t.options=Object.create(null),I.forEach((function(n){t.options[n+"s"]=Object.create(null)})),t.options._base=t,E(t.options.components,De),function(t){t.use=function(t){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(t)>-1)return this;var e=T(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):"function"==typeof t&&t.apply(null,e),n.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Pt(this.options,t),this}}(t),ke(t),function(t){I.forEach((function(n){t[n]=function(t,e){return e?("component"===n&&l(e)&&(e.name=e.name||t,e=this.options._base.extend(e)),"directive"===n&&"function"==typeof e&&(e={bind:e,update:e}),this.options[n+"s"][t]=e,e):this.options[n+"s"][t]}}))}(t)}(_e),Object.defineProperty(_e.prototype,"$isServer",{get:rt}),Object.defineProperty(_e.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(_e,"FunctionalRenderContext",{value:Nn}),_e.version="2.6.12";var ze=h("style,class"),Me=h("input,textarea,option,select,progress"),Ne=h("contenteditable,draggable,spellcheck"),Re=h("events,caret,typing,plaintext-only"),Be=h("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Pe="http://www.w3.org/1999/xlink",Ie=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Le=function(t){return Ie(t)?t.slice(6,t.length):""},He=function(t){return null==t||!1===t};function Fe(t){for(var n=t.data,e=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(n=Ve(r.data,n));for(;i(e=e.parent);)e&&e.data&&(n=Ve(n,e.data));return function(t,n){if(i(t)||i(n))return je(t,Ue(n));return""}(n.staticClass,n.class)}function Ve(t,n){return{staticClass:je(t.staticClass,n.staticClass),class:i(t.class)?[t.class,n.class]:n.class}}function je(t,n){return t?n?t+" "+n:t:n||""}function Ue(t){return Array.isArray(t)?function(t){for(var n,e="",r=0,o=t.length;r<o;r++)i(n=Ue(t[r]))&&""!==n&&(e&&(e+=" "),e+=n);return e}(t):c(t)?function(t){var n="";for(var e in t)t[e]&&(n&&(n+=" "),n+=e);return n}(t):"string"==typeof t?t:""}var We={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},$e=h("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),qe=h("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ge=function(t){return $e(t)||qe(t)};var Ke=Object.create(null);var Xe=h("text,number,password,search,email,tel,url");var Ye=Object.freeze({createElement:function(t,n){var e=document.createElement(t);return"select"!==t||n.data&&n.data.attrs&&void 0!==n.data.attrs.multiple&&e.setAttribute("multiple","multiple"),e},createElementNS:function(t,n){return document.createElementNS(We[t],n)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,n,e){t.insertBefore(n,e)},removeChild:function(t,n){t.removeChild(n)},appendChild:function(t,n){t.appendChild(n)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,n){t.textContent=n},setStyleScope:function(t,n){t.setAttribute(n,"")}}),Je={create:function(t,n){Qe(n)},update:function(t,n){t.data.ref!==n.data.ref&&(Qe(t,!0),Qe(n))},destroy:function(t){Qe(t,!0)}};function Qe(t,n){var e=t.data.ref;if(i(e)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;n?Array.isArray(a[e])?b(a[e],o):a[e]===o&&(a[e]=void 0):t.data.refInFor?Array.isArray(a[e])?a[e].indexOf(o)<0&&a[e].push(o):a[e]=[o]:a[e]=o}}var Ze=new pt("",{},[]),tr=["create","activate","update","remove","destroy"];function nr(t,n){return t.key===n.key&&(t.tag===n.tag&&t.isComment===n.isComment&&i(t.data)===i(n.data)&&function(t,n){if("input"!==t.tag)return!0;var e,r=i(e=t.data)&&i(e=e.attrs)&&e.type,o=i(e=n.data)&&i(e=e.attrs)&&e.type;return r===o||Xe(r)&&Xe(o)}(t,n)||a(t.isAsyncPlaceholder)&&t.asyncFactory===n.asyncFactory&&o(n.asyncFactory.error))}function er(t,n,e){var r,o,a={};for(r=n;r<=e;++r)i(o=t[r].key)&&(a[o]=r);return a}var rr={create:or,update:or,destroy:function(t){or(t,Ze)}};function or(t,n){(t.data.directives||n.data.directives)&&function(t,n){var e,r,o,i=t===Ze,a=n===Ze,u=ar(t.data.directives,t.context),c=ar(n.data.directives,n.context),s=[],l=[];for(e in c)r=u[e],o=c[e],r?(o.oldValue=r.value,o.oldArg=r.arg,cr(o,"update",n,t),o.def&&o.def.componentUpdated&&l.push(o)):(cr(o,"bind",n,t),o.def&&o.def.inserted&&s.push(o));if(s.length){var f=function(){for(var e=0;e<s.length;e++)cr(s[e],"inserted",n,t)};i?cn(n,"insert",f):f()}l.length&&cn(n,"postpatch",(function(){for(var e=0;e<l.length;e++)cr(l[e],"componentUpdated",n,t)}));if(!i)for(e in u)c[e]||cr(u[e],"unbind",t,t,a)}(t,n)}var ir=Object.create(null);function ar(t,n){var e,r,o=Object.create(null);if(!t)return o;for(e=0;e<t.length;e++)(r=t[e]).modifiers||(r.modifiers=ir),o[ur(r)]=r,r.def=It(n.$options,"directives",r.name);return o}function ur(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function cr(t,n,e,r,o){var i=t.def&&t.def[n];if(i)try{i(e.elm,t,e,r,o)}catch(r){jt(r,e.context,"directive "+t.name+" "+n+" hook")}}var sr=[Je,rr];function lr(t,n){var e=n.componentOptions;if(!(i(e)&&!1===e.Ctor.options.inheritAttrs||o(t.data.attrs)&&o(n.data.attrs))){var r,a,u=n.elm,c=t.data.attrs||{},s=n.data.attrs||{};for(r in i(s.__ob__)&&(s=n.data.attrs=E({},s)),s)a=s[r],c[r]!==a&&fr(u,r,a);for(r in(X||J)&&s.value!==c.value&&fr(u,"value",s.value),c)o(s[r])&&(Ie(r)?u.removeAttributeNS(Pe,Le(r)):Ne(r)||u.removeAttribute(r))}}function fr(t,n,e){t.tagName.indexOf("-")>-1?dr(t,n,e):Be(n)?He(e)?t.removeAttribute(n):(e="allowfullscreen"===n&&"EMBED"===t.tagName?"true":n,t.setAttribute(n,e)):Ne(n)?t.setAttribute(n,function(t,n){return He(n)||"false"===n?"false":"contenteditable"===t&&Re(n)?n:"true"}(n,e)):Ie(n)?He(e)?t.removeAttributeNS(Pe,Le(n)):t.setAttributeNS(Pe,n,e):dr(t,n,e)}function dr(t,n,e){if(He(e))t.removeAttribute(n);else{if(X&&!Y&&"TEXTAREA"===t.tagName&&"placeholder"===n&&""!==e&&!t.__ieph){var r=function(n){n.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(n,e)}}var mr={create:lr,update:lr};function pr(t,n){var e=n.elm,r=n.data,a=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(a)||o(a.staticClass)&&o(a.class)))){var u=Fe(n),c=e._transitionClasses;i(c)&&(u=je(u,Ue(c))),u!==e._prevClass&&(e.setAttribute("class",u),e._prevClass=u)}}var gr,hr={create:pr,update:pr};function vr(t,n,e){var r=gr;return function o(){var i=n.apply(null,arguments);null!==i&&xr(t,o,e,r)}}var br=Gt&&!(Z&&Number(Z[1])<=53);function yr(t,n,e,r){if(br){var o=ue,i=n;n=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}gr.addEventListener(t,n,nt?{capture:e,passive:r}:e)}function xr(t,n,e,r){(r||gr).removeEventListener(t,n._wrapper||n,e)}function wr(t,n){if(!o(t.data.on)||!o(n.data.on)){var e=n.data.on||{},r=t.data.on||{};gr=n.elm,function(t){if(i(t.__r)){var n=X?"change":"input";t[n]=[].concat(t.__r,t[n]||[]),delete t.__r}i(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(e),un(e,r,yr,xr,vr,n.context),gr=void 0}}var Cr,_r={create:wr,update:wr};function kr(t,n){if(!o(t.data.domProps)||!o(n.data.domProps)){var e,r,a=n.elm,u=t.data.domProps||{},c=n.data.domProps||{};for(e in i(c.__ob__)&&(c=n.data.domProps=E({},c)),u)e in c||(a[e]="");for(e in c){if(r=c[e],"textContent"===e||"innerHTML"===e){if(n.children&&(n.children.length=0),r===u[e])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===e&&"PROGRESS"!==a.tagName){a._value=r;var s=o(r)?"":String(r);Sr(a,s)&&(a.value=s)}else if("innerHTML"===e&&qe(a.tagName)&&o(a.innerHTML)){(Cr=Cr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var l=Cr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(r!==u[e])try{a[e]=r}catch(t){}}}}function Sr(t,n){return!t.composing&&("OPTION"===t.tagName||function(t,n){var e=!0;try{e=document.activeElement!==t}catch(t){}return e&&t.value!==n}(t,n)||function(t,n){var e=t.value,r=t._vModifiers;if(i(r)){if(r.number)return g(e)!==g(n);if(r.trim)return e.trim()!==n.trim()}return e!==n}(t,n))}var Ar={create:kr,update:kr},Or=w((function(t){var n={},e=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(e);r.length>1&&(n[r[0].trim()]=r[1].trim())}})),n}));function Tr(t){var n=Er(t.style);return t.staticStyle?E(t.staticStyle,n):n}function Er(t){return Array.isArray(t)?D(t):"string"==typeof t?Or(t):t}var Dr,zr=/^--/,Mr=/\s*!important$/,Nr=function(t,n,e){if(zr.test(n))t.style.setProperty(n,e);else if(Mr.test(e))t.style.setProperty(A(n),e.replace(Mr,""),"important");else{var r=Br(n);if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)t.style[r]=e[o];else t.style[r]=e}},Rr=["Webkit","Moz","ms"],Br=w((function(t){if(Dr=Dr||document.createElement("div").style,"filter"!==(t=_(t))&&t in Dr)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<Rr.length;e++){var r=Rr[e]+n;if(r in Dr)return r}}));function Pr(t,n){var e=n.data,r=t.data;if(!(o(e.staticStyle)&&o(e.style)&&o(r.staticStyle)&&o(r.style))){var a,u,c=n.elm,s=r.staticStyle,l=r.normalizedStyle||r.style||{},f=s||l,d=Er(n.data.style)||{};n.data.normalizedStyle=i(d.__ob__)?E({},d):d;var m=function(t,n){var e,r={};if(n)for(var o=t;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(e=Tr(o.data))&&E(r,e);(e=Tr(t.data))&&E(r,e);for(var i=t;i=i.parent;)i.data&&(e=Tr(i.data))&&E(r,e);return r}(n,!0);for(u in f)o(m[u])&&Nr(c,u,"");for(u in m)(a=m[u])!==f[u]&&Nr(c,u,null==a?"":a)}}var Ir={create:Pr,update:Pr},Lr=/\s+/;function Hr(t,n){if(n&&(n=n.trim()))if(t.classList)n.indexOf(" ")>-1?n.split(Lr).forEach((function(n){return t.classList.add(n)})):t.classList.add(n);else{var e=" "+(t.getAttribute("class")||"")+" ";e.indexOf(" "+n+" ")<0&&t.setAttribute("class",(e+n).trim())}}function Fr(t,n){if(n&&(n=n.trim()))if(t.classList)n.indexOf(" ")>-1?n.split(Lr).forEach((function(n){return t.classList.remove(n)})):t.classList.remove(n),t.classList.length||t.removeAttribute("class");else{for(var e=" "+(t.getAttribute("class")||"")+" ",r=" "+n+" ";e.indexOf(r)>=0;)e=e.replace(r," ");(e=e.trim())?t.setAttribute("class",e):t.removeAttribute("class")}}function Vr(t){if(t){if("object"==typeof t){var n={};return!1!==t.css&&E(n,jr(t.name||"v")),E(n,t),n}return"string"==typeof t?jr(t):void 0}}var jr=w((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Ur=$&&!Y,Wr="transition",$r="transitionend",qr="animation",Gr="animationend";Ur&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Wr="WebkitTransition",$r="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(qr="WebkitAnimation",Gr="webkitAnimationEnd"));var Kr=$?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Xr(t){Kr((function(){Kr(t)}))}function Yr(t,n){var e=t._transitionClasses||(t._transitionClasses=[]);e.indexOf(n)<0&&(e.push(n),Hr(t,n))}function Jr(t,n){t._transitionClasses&&b(t._transitionClasses,n),Fr(t,n)}function Qr(t,n,e){var r=to(t,n),o=r.type,i=r.timeout,a=r.propCount;if(!o)return e();var u="transition"===o?$r:Gr,c=0,s=function(){t.removeEventListener(u,l),e()},l=function(n){n.target===t&&++c>=a&&s()};setTimeout((function(){c<a&&s()}),i+1),t.addEventListener(u,l)}var Zr=/\b(transform|all)(,|$)/;function to(t,n){var e,r=window.getComputedStyle(t),o=(r[Wr+"Delay"]||"").split(", "),i=(r[Wr+"Duration"]||"").split(", "),a=no(o,i),u=(r[qr+"Delay"]||"").split(", "),c=(r[qr+"Duration"]||"").split(", "),s=no(u,c),l=0,f=0;return"transition"===n?a>0&&(e="transition",l=a,f=i.length):"animation"===n?s>0&&(e="animation",l=s,f=c.length):f=(e=(l=Math.max(a,s))>0?a>s?"transition":"animation":null)?"transition"===e?i.length:c.length:0,{type:e,timeout:l,propCount:f,hasTransform:"transition"===e&&Zr.test(r[Wr+"Property"])}}function no(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max.apply(null,n.map((function(n,e){return eo(n)+eo(t[e])})))}function eo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ro(t,n){var e=t.elm;i(e._leaveCb)&&(e._leaveCb.cancelled=!0,e._leaveCb());var r=Vr(t.data.transition);if(!o(r)&&!i(e._enterCb)&&1===e.nodeType){for(var a=r.css,u=r.type,s=r.enterClass,l=r.enterToClass,f=r.enterActiveClass,d=r.appearClass,m=r.appearToClass,p=r.appearActiveClass,h=r.beforeEnter,v=r.enter,b=r.afterEnter,y=r.enterCancelled,x=r.beforeAppear,w=r.appear,C=r.afterAppear,_=r.appearCancelled,k=r.duration,S=Yn,A=Yn.$vnode;A&&A.parent;)S=A.context,A=A.parent;var O=!S._isMounted||!t.isRootInsert;if(!O||w||""===w){var T=O&&d?d:s,E=O&&p?p:f,D=O&&m?m:l,z=O&&x||h,M=O&&"function"==typeof w?w:v,N=O&&C||b,R=O&&_||y,B=g(c(k)?k.enter:k);0;var I=!1!==a&&!Y,L=ao(M),H=e._enterCb=P((function(){I&&(Jr(e,D),Jr(e,E)),H.cancelled?(I&&Jr(e,T),R&&R(e)):N&&N(e),e._enterCb=null}));t.data.show||cn(t,"insert",(function(){var n=e.parentNode,r=n&&n._pending&&n._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),M&&M(e,H)})),z&&z(e),I&&(Yr(e,T),Yr(e,E),Xr((function(){Jr(e,T),H.cancelled||(Yr(e,D),L||(io(B)?setTimeout(H,B):Qr(e,u,H)))}))),t.data.show&&(n&&n(),M&&M(e,H)),I||L||H()}}}function oo(t,n){var e=t.elm;i(e._enterCb)&&(e._enterCb.cancelled=!0,e._enterCb());var r=Vr(t.data.transition);if(o(r)||1!==e.nodeType)return n();if(!i(e._leaveCb)){var a=r.css,u=r.type,s=r.leaveClass,l=r.leaveToClass,f=r.leaveActiveClass,d=r.beforeLeave,m=r.leave,p=r.afterLeave,h=r.leaveCancelled,v=r.delayLeave,b=r.duration,y=!1!==a&&!Y,x=ao(m),w=g(c(b)?b.leave:b);0;var C=e._leaveCb=P((function(){e.parentNode&&e.parentNode._pending&&(e.parentNode._pending[t.key]=null),y&&(Jr(e,l),Jr(e,f)),C.cancelled?(y&&Jr(e,s),h&&h(e)):(n(),p&&p(e)),e._leaveCb=null}));v?v(_):_()}function _(){C.cancelled||(!t.data.show&&e.parentNode&&((e.parentNode._pending||(e.parentNode._pending={}))[t.key]=t),d&&d(e),y&&(Yr(e,s),Yr(e,f),Xr((function(){Jr(e,s),C.cancelled||(Yr(e,l),x||(io(w)?setTimeout(C,w):Qr(e,u,C)))}))),m&&m(e,C),y||x||C())}}function io(t){return"number"==typeof t&&!isNaN(t)}function ao(t){if(o(t))return!1;var n=t.fns;return i(n)?ao(Array.isArray(n)?n[0]:n):(t._length||t.length)>1}function uo(t,n){!0!==n.data.show&&ro(n)}var co=function(t){var n,e,r={},c=t.modules,s=t.nodeOps;for(n=0;n<tr.length;++n)for(r[tr[n]]=[],e=0;e<c.length;++e)i(c[e][tr[n]])&&r[tr[n]].push(c[e][tr[n]]);function l(t){var n=s.parentNode(t);i(n)&&s.removeChild(n,t)}function f(t,n,e,o,u,c,l){if(i(t.elm)&&i(c)&&(t=c[l]=bt(t)),t.isRootInsert=!u,!function(t,n,e,o){var u=t.data;if(i(u)){var c=i(t.componentInstance)&&u.keepAlive;if(i(u=u.hook)&&i(u=u.init)&&u(t,!1),i(t.componentInstance))return d(t,n),m(e,t.elm,o),a(c)&&function(t,n,e,o){var a,u=t;for(;u.componentInstance;)if(u=u.componentInstance._vnode,i(a=u.data)&&i(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](Ze,u);n.push(u);break}m(e,t.elm,o)}(t,n,e,o),!0}}(t,n,e,o)){var f=t.data,g=t.children,h=t.tag;i(h)?(t.elm=t.ns?s.createElementNS(t.ns,h):s.createElement(h,t),b(t),p(t,g,n),i(f)&&v(t,n),m(e,t.elm,o)):a(t.isComment)?(t.elm=s.createComment(t.text),m(e,t.elm,o)):(t.elm=s.createTextNode(t.text),m(e,t.elm,o))}}function d(t,n){i(t.data.pendingInsert)&&(n.push.apply(n,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,n),b(t)):(Qe(t),n.push(t))}function m(t,n,e){i(t)&&(i(e)?s.parentNode(e)===t&&s.insertBefore(t,n,e):s.appendChild(t,n))}function p(t,n,e){if(Array.isArray(n)){0;for(var r=0;r<n.length;++r)f(n[r],e,t.elm,null,!0,n,r)}else u(t.text)&&s.appendChild(t.elm,s.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function v(t,e){for(var o=0;o<r.create.length;++o)r.create[o](Ze,t);i(n=t.data.hook)&&(i(n.create)&&n.create(Ze,t),i(n.insert)&&e.push(t))}function b(t){var n;if(i(n=t.fnScopeId))s.setStyleScope(t.elm,n);else for(var e=t;e;)i(n=e.context)&&i(n=n.$options._scopeId)&&s.setStyleScope(t.elm,n),e=e.parent;i(n=Yn)&&n!==t.context&&n!==t.fnContext&&i(n=n.$options._scopeId)&&s.setStyleScope(t.elm,n)}function y(t,n,e,r,o,i){for(;r<=o;++r)f(e[r],i,t,n,!1,e,r)}function x(t){var n,e,o=t.data;if(i(o))for(i(n=o.hook)&&i(n=n.destroy)&&n(t),n=0;n<r.destroy.length;++n)r.destroy[n](t);if(i(n=t.children))for(e=0;e<t.children.length;++e)x(t.children[e])}function w(t,n,e){for(;n<=e;++n){var r=t[n];i(r)&&(i(r.tag)?(C(r),x(r)):l(r.elm))}}function C(t,n){if(i(n)||i(t.data)){var e,o=r.remove.length+1;for(i(n)?n.listeners+=o:n=function(t,n){function e(){0==--e.listeners&&l(t)}return e.listeners=n,e}(t.elm,o),i(e=t.componentInstance)&&i(e=e._vnode)&&i(e.data)&&C(e,n),e=0;e<r.remove.length;++e)r.remove[e](t,n);i(e=t.data.hook)&&i(e=e.remove)?e(t,n):n()}else l(t.elm)}function _(t,n,e,r){for(var o=e;o<r;o++){var a=n[o];if(i(a)&&nr(t,a))return o}}function k(t,n,e,u,c,l){if(t!==n){i(n.elm)&&i(u)&&(n=u[c]=bt(n));var d=n.elm=t.elm;if(a(t.isAsyncPlaceholder))i(n.asyncFactory.resolved)?O(t.elm,n,e):n.isAsyncPlaceholder=!0;else if(a(n.isStatic)&&a(t.isStatic)&&n.key===t.key&&(a(n.isCloned)||a(n.isOnce)))n.componentInstance=t.componentInstance;else{var m,p=n.data;i(p)&&i(m=p.hook)&&i(m=m.prepatch)&&m(t,n);var h=t.children,v=n.children;if(i(p)&&g(n)){for(m=0;m<r.update.length;++m)r.update[m](t,n);i(m=p.hook)&&i(m=m.update)&&m(t,n)}o(n.text)?i(h)&&i(v)?h!==v&&function(t,n,e,r,a){var u,c,l,d=0,m=0,p=n.length-1,g=n[0],h=n[p],v=e.length-1,b=e[0],x=e[v],C=!a;for(0;d<=p&&m<=v;)o(g)?g=n[++d]:o(h)?h=n[--p]:nr(g,b)?(k(g,b,r,e,m),g=n[++d],b=e[++m]):nr(h,x)?(k(h,x,r,e,v),h=n[--p],x=e[--v]):nr(g,x)?(k(g,x,r,e,v),C&&s.insertBefore(t,g.elm,s.nextSibling(h.elm)),g=n[++d],x=e[--v]):nr(h,b)?(k(h,b,r,e,m),C&&s.insertBefore(t,h.elm,g.elm),h=n[--p],b=e[++m]):(o(u)&&(u=er(n,d,p)),o(c=i(b.key)?u[b.key]:_(b,n,d,p))?f(b,r,t,g.elm,!1,e,m):nr(l=n[c],b)?(k(l,b,r,e,m),n[c]=void 0,C&&s.insertBefore(t,l.elm,g.elm)):f(b,r,t,g.elm,!1,e,m),b=e[++m]);d>p?y(t,o(e[v+1])?null:e[v+1].elm,e,m,v,r):m>v&&w(n,d,p)}(d,h,v,e,l):i(v)?(i(t.text)&&s.setTextContent(d,""),y(d,null,v,0,v.length-1,e)):i(h)?w(h,0,h.length-1):i(t.text)&&s.setTextContent(d,""):t.text!==n.text&&s.setTextContent(d,n.text),i(p)&&i(m=p.hook)&&i(m=m.postpatch)&&m(t,n)}}}function S(t,n,e){if(a(e)&&i(t.parent))t.parent.data.pendingInsert=n;else for(var r=0;r<n.length;++r)n[r].data.hook.insert(n[r])}var A=h("attrs,class,staticClass,staticStyle,key");function O(t,n,e,r){var o,u=n.tag,c=n.data,s=n.children;if(r=r||c&&c.pre,n.elm=t,a(n.isComment)&&i(n.asyncFactory))return n.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(o=c.hook)&&i(o=o.init)&&o(n,!0),i(o=n.componentInstance)))return d(n,e),!0;if(i(u)){if(i(s))if(t.hasChildNodes())if(i(o=c)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,m=0;m<s.length;m++){if(!f||!O(f,s[m],e,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else p(n,s,e);if(i(c)){var g=!1;for(var h in c)if(!A(h)){g=!0,v(n,e);break}!g&&c.class&&rn(c.class)}}else t.data!==n.text&&(t.data=n.text);return!0}return function(t,n,e,u){if(!o(n)){var c,l=!1,d=[];if(o(t))l=!0,f(n,d);else{var m=i(t.nodeType);if(!m&&nr(t,n))k(t,n,d,null,null,u);else{if(m){if(1===t.nodeType&&t.hasAttribute("data-server-rendered")&&(t.removeAttribute("data-server-rendered"),e=!0),a(e)&&O(t,n,d))return S(n,d,!0),t;c=t,t=new pt(s.tagName(c).toLowerCase(),{},[],void 0,c)}var p=t.elm,h=s.parentNode(p);if(f(n,d,p._leaveCb?null:h,s.nextSibling(p)),i(n.parent))for(var v=n.parent,b=g(n);v;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](v);if(v.elm=n.elm,b){for(var C=0;C<r.create.length;++C)r.create[C](Ze,v);var _=v.data.hook.insert;if(_.merged)for(var A=1;A<_.fns.length;A++)_.fns[A]()}else Qe(v);v=v.parent}i(h)?w([t],0,0):i(t.tag)&&x(t)}}return S(n,d,l),n.elm}i(t)&&x(t)}}({nodeOps:Ye,modules:[mr,hr,_r,Ar,Ir,$?{create:uo,activate:uo,remove:function(t,n){!0!==t.data.show?oo(t,n):n()}}:{}].concat(sr)});Y&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&vo(t,"input")}));var so={inserted:function(t,n,e,r){"select"===e.tag?(r.elm&&!r.elm._vOptions?cn(e,"postpatch",(function(){so.componentUpdated(t,n,e)})):lo(t,n,e.context),t._vOptions=[].map.call(t.options,po)):("textarea"===e.tag||Xe(t.type))&&(t._vModifiers=n.modifiers,n.modifiers.lazy||(t.addEventListener("compositionstart",go),t.addEventListener("compositionend",ho),t.addEventListener("change",ho),Y&&(t.vmodel=!0)))},componentUpdated:function(t,n,e){if("select"===e.tag){lo(t,n,e.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,po);if(o.some((function(t,n){return!R(t,r[n])})))(t.multiple?n.value.some((function(t){return mo(t,o)})):n.value!==n.oldValue&&mo(n.value,o))&&vo(t,"change")}}};function lo(t,n,e){fo(t,n,e),(X||J)&&setTimeout((function(){fo(t,n,e)}),0)}function fo(t,n,e){var r=n.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,a,u=0,c=t.options.length;u<c;u++)if(a=t.options[u],o)i=B(r,po(a))>-1,a.selected!==i&&(a.selected=i);else if(R(po(a),r))return void(t.selectedIndex!==u&&(t.selectedIndex=u));o||(t.selectedIndex=-1)}}function mo(t,n){return n.every((function(n){return!R(n,t)}))}function po(t){return"_value"in t?t._value:t.value}function go(t){t.target.composing=!0}function ho(t){t.target.composing&&(t.target.composing=!1,vo(t.target,"input"))}function vo(t,n){var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!0),t.dispatchEvent(e)}function bo(t){return!t.componentInstance||t.data&&t.data.transition?t:bo(t.componentInstance._vnode)}var yo={model:so,show:{bind:function(t,n,e){var r=n.value,o=(e=bo(e)).data&&e.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(e.data.show=!0,ro(e,(function(){t.style.display=i}))):t.style.display=r?i:"none"},update:function(t,n,e){var r=n.value;!r!=!n.oldValue&&((e=bo(e)).data&&e.data.transition?(e.data.show=!0,r?ro(e,(function(){t.style.display=t.__vOriginalDisplay})):oo(e,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,n,e,r,o){o||(t.style.display=t.__vOriginalDisplay)}}},xo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function wo(t){var n=t&&t.componentOptions;return n&&n.Ctor.options.abstract?wo($n(n.children)):t}function Co(t){var n={},e=t.$options;for(var r in e.propsData)n[r]=t[r];var o=e._parentListeners;for(var i in o)n[_(i)]=o[i];return n}function _o(t,n){if(/\d-keep-alive$/.test(n.tag))return t("keep-alive",{props:n.componentOptions.propsData})}var ko=function(t){return t.tag||Wn(t)},So=function(t){return"show"===t.name},Ao={name:"transition",props:xo,abstract:!0,render:function(t){var n=this,e=this.$slots.default;if(e&&(e=e.filter(ko)).length){0;var r=this.mode;0;var o=e[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return o;var i=wo(o);if(!i)return o;if(this._leaving)return _o(t,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:u(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var c=(i.data||(i.data={})).transition=Co(this),s=this._vnode,l=wo(s);if(i.data.directives&&i.data.directives.some(So)&&(i.data.show=!0),l&&l.data&&!function(t,n){return n.key===t.key&&n.tag===t.tag}(i,l)&&!Wn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=E({},c);if("out-in"===r)return this._leaving=!0,cn(f,"afterLeave",(function(){n._leaving=!1,n.$forceUpdate()})),_o(t,o);if("in-out"===r){if(Wn(i))return s;var d,m=function(){d()};cn(c,"afterEnter",m),cn(c,"enterCancelled",m),cn(f,"delayLeave",(function(t){d=t}))}}return o}}},Oo=E({tag:String,moveClass:String},xo);function To(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Eo(t){t.data.newPos=t.elm.getBoundingClientRect()}function Do(t){var n=t.data.pos,e=t.data.newPos,r=n.left-e.left,o=n.top-e.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}delete Oo.mode;var zo={Transition:Ao,TransitionGroup:{props:Oo,beforeMount:function(){var t=this,n=this._update;this._update=function(e,r){var o=Jn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),n.call(t,e,r)}},render:function(t){for(var n=this.tag||this.$vnode.data.tag||"span",e=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=Co(this),u=0;u<o.length;u++){var c=o[u];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),e[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){for(var s=[],l=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),e[d.key]?s.push(d):l.push(d)}this.kept=t(n,null,s),this.removed=l}return t(n,null,i)},updated:function(){var t=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,n)&&(t.forEach(To),t.forEach(Eo),t.forEach(Do),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var e=t.elm,r=e.style;Yr(e,n),r.transform=r.WebkitTransform=r.transitionDuration="",e.addEventListener($r,e._moveCb=function t(r){r&&r.target!==e||r&&!/transform$/.test(r.propertyName)||(e.removeEventListener($r,t),e._moveCb=null,Jr(e,n))})}})))},methods:{hasMove:function(t,n){if(!Ur)return!1;if(this._hasMove)return this._hasMove;var e=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Fr(e,t)})),Hr(e,n),e.style.display="none",this.$el.appendChild(e);var r=to(e);return this.$el.removeChild(e),this._hasMove=r.hasTransform}}}};_e.config.mustUseProp=function(t,n,e){return"value"===e&&Me(t)&&"button"!==n||"selected"===e&&"option"===t||"checked"===e&&"input"===t||"muted"===e&&"video"===t},_e.config.isReservedTag=Ge,_e.config.isReservedAttr=ze,_e.config.getTagNamespace=function(t){return qe(t)?"svg":"math"===t?"math":void 0},_e.config.isUnknownElement=function(t){if(!$)return!0;if(Ge(t))return!1;if(t=t.toLowerCase(),null!=Ke[t])return Ke[t];var n=document.createElement(t);return t.indexOf("-")>-1?Ke[t]=n.constructor===window.HTMLUnknownElement||n.constructor===window.HTMLElement:Ke[t]=/HTMLUnknownElement/.test(n.toString())},E(_e.options.directives,yo),E(_e.options.components,zo),_e.prototype.__patch__=$?co:z,_e.prototype.$mount=function(t,n){return function(t,n,e){var r;return t.$el=n,t.$options.render||(t.$options.render=ht),te(t,"beforeMount"),r=function(){t._update(t._render(),e)},new de(t,r,z,{before:function(){t._isMounted&&!t._isDestroyed&&te(t,"beforeUpdate")}},!0),e=!1,null==t.$vnode&&(t._isMounted=!0,te(t,"mounted")),t}(this,t=t&&$?function(t){if("string"==typeof t){var n=document.querySelector(t);return n||document.createElement("div")}return t}(t):void 0,n)},$&&setTimeout((function(){H.devtools&&ot&&ot.emit("init",_e)}),0),n.a=_e}).call(this,e(1),e(8).setImmediate)},,function(t,n,e){"use strict";e.r(n);var r=e(59),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h3",[t._v("编辑器")]),t._v(" "),e("RichTextEditor",{model:{value:t.html,callback:function(n){t.html=n},expression:"html"}}),t._v(" "),e("hr"),t._v(" "),e("h4",[t._v("编辑器结果展示")]),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.html)}}),t._v(" "),e("hr"),t._v(" "),e("hr"),t._v(" "),e("h3",[t._v("编辑器2")]),t._v(" "),e("RichTextEditor",{model:{value:t.html2,callback:function(n){t.html2=n},expression:"html2"}}),t._v(" "),e("hr"),t._v(" "),e("h4",[t._v("编辑器结果展示2")]),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.html2)}})],1)};o._withStripped=!0;var i={name:"App",components:{RichTextEditor:e(6).a},data:()=>({html:'<div><a href="https://www.zhoulujun.cn/">zhoulujun.cn</a></div>',html2:'<div><a href="https://www.zhoulujun.cn/">zhoulujun.cn</a></div>'}),methods:{}},a=e(5),u=Object(a.a)(i,o,[],!1,null,null,null);u.options.__file="src/App.vue";var c=u.exports;window.app=new r.a({el:"#app",render:t=>t(c)})}]).default}));